/*
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    */
var __extends,wijmo;(function(n){'use strict';function at(){return lt}function v(n,t){return n==null?null:f(t)?h(n.implementsInterface)&&n.implementsInterface(t)?n:null:n instanceof t?n:null}function yt(n){return f(n)||e(n)||l(n)||u(n)}function f(n){return typeof n=='string'}function pt(n){return n==null?!0:n.replace(/\s/g,'').length<1}function e(n){return typeof n=='number'}function b(n){return e(n)&&n==Math.round(n)}function l(n){return typeof n=='boolean'}function h(n){return typeof n=='function'}function wt(n){return typeof n=='undefined'}function u(n){return n instanceof Date&&!isNaN(n.getTime())}function o(n){return n instanceof Array}function y(n){return n!=null&&typeof n=='object'&&!u(n)&&!o(n)}function bt(n){if(n instanceof c)return n;if(n.touches&&n.touches.length>0&&(n=n.touches[0]),e(n.clientX)&&e(n.clientY))return new c(n.clientX+pageXOffset,n.clientY+pageYOffset);throw'Mouse or touch event expected.';}function kt(n){return e(n)?r.Number:l(n)?r.Boolean:u(n)?r.Date:f(n)?r.String:o(n)?r.Array:r.Object}function k(t,i,u){var o,e;if(t!=null){if(f(t))switch(i){case r.Number:return o=n.Globalize.parseFloat(t,u),isNaN(o)?t:o;case r.Date:return e=n.Globalize.parseDate(t,u),e||u||!t||(e=new Date(t)),e&&isFinite(e.getTime())?e:t;case r.Boolean:switch(t.toLowerCase()){case'true':return!0;case'false':return!1}return t}if(i==r.String)return n.Globalize.format(t,u)}return t}function dt(n,t,i){var u,r;return i?(r=n.toString(),u=r.indexOf('.'),u>-1&&(r=r.substr(0,u+1+t),n=parseFloat(r))):(r=n.toFixed(t),n=parseFloat(r)),n}function gt(t,i,r){return t=p(t),t.replace(/\{(.*?)(:(.*?))?\}/g,function(t,u,f,e){var o=t;return u&&u[0]!='{'&&i&&(o=i[u],e&&(o=n.Globalize.format(o,e)),r&&(o=r(i,u,e,o))),o==null?'':o})}function ni(n,t,i){return n!=null&&(i!=null&&n>i&&(n=i),t!=null&&n<t&&(n=t)),n}function d(i,r){var u,f;if(r)for(u in r)u[0]!='_'&&(t(u in i,'Unknown property "'+u+'".'),f=r[u],i._copy&&i._copy(u,f)||(i[u]instanceof n.Event&&h(f)?i[u].addHandler(f):y(f)&&i[u]&&u!='itemsSource'?d(i[u],f):i[u]=f))}function t(n,t){if(!n)throw'** Assertion failed in Wijmo: '+t;}function ti(n,t){console.error('** WARNING: "'+n+'" has been deprecated; please use "'+t+'" instead.')}function p(n,i){return i===void 0&&(i=!0),t(i&&n==null||f(n),'String expected.'),n}function i(n,i,r){if(i===void 0&&(i=!1),r===void 0&&(r=!1),t(i&&n==null||e(n),'Number expected.'),r&&n&&n<0)throw'Positive number expected.';return n}function ii(n,i,r){if(i===void 0&&(i=!1),r===void 0&&(r=!1),t(i&&n==null||b(n),'Integer expected.'),r&&n&&n<0)throw'Positive integer expected.';return n}function g(n,i){return i===void 0&&(i=!1),t(i&&n==null||l(n),'Boolean expected.'),n}function ri(n,i){if(i===void 0&&(i=!1),f(n)){var e=k(n,r.Date,'r');u(e)&&(n=e)}return t(i&&n==null||u(n),'Date expected.'),n}function s(n,i){return i===void 0&&(i=!0),t(i&&n==null||h(n),'Function expected.'),n}function ui(n,i){return i===void 0&&(i=!0),t(i&&n==null||o(n),'Array expected.'),n}function nt(n,i,r){return r===void 0&&(r=!1),n=v(n,i),t(r||n!=null,i+' expected.'),n}function fi(n,i,r){if(r===void 0&&(r=!1),n==null&&r)return null;var u=i[n];return t(u!=null,'Invalid enum value.'),e(u)?u:n}function ei(i,r){if(r===void 0&&(r=!0),i==null&&r)return null;var u=v(i,'ICollectionView');return u!=null?u:(o(i)||t(!1,'Array or ICollectionView expected.'),new n.collections.CollectionView(i))}function oi(n){return n&&n.items&&n.items.length}function si(n){return n&&n.length?n[0].toUpperCase()+n.substr(1).replace(/([a-z])([A-Z])/g,'$1 $2'):''}function hi(n){return f(n)&&(n=n.replace(/[&<>"'\/]/g,function(n){return tt[n]})),n}function a(n,t){if(n&&n.getAttribute){var i=new RegExp('(\\s|^)'+t+'(\\s|$)');return n&&i.test(n.getAttribute('class'))}return!1}function it(n,t){if(n&&t&&n.setAttribute&&a(n,t)){var r=new RegExp('((\\s|^)'+t+'(\\s|$))','g'),i=n.getAttribute('class');i=i.replace(r,' ').replace(/ +/g,' ').trim();n.setAttribute('class',i)}}function rt(n,t){if(n&&t&&n.setAttribute&&!a(n,t)){var i=n.getAttribute('class');n.setAttribute('class',i?i+' '+t:t)}}function ut(n,t,i){i==null&&(i=!a(n,t));i?rt(n,t):it(n,t)}function ci(n,t,r){if(r===void 0&&(r=t),n=nt(n,HTMLInputElement),et(document.body,n)&&!n.disabled&&n.style.display!='none')try{n.focus();n.setSelectionRange(i(t),i(r))}catch(u){}}function ft(){var n=document.activeElement,t;return n&&(t=n.shadowRoot,t&&t.activeElement&&(n=t.activeElement)),n}function li(n,t){for(var f,i,e='input,select,textarea,button,a,div,span',o=n.querySelectorAll(e),r=[],u=0;u<o.length;u++)i=o[u],i.clientHeight>0&&i.tabIndex>-1&&!i.disabled&&!ot(i,'[disabled],.wj-state-disabled')&&!i.querySelector(e)&&r.push(i);f=0;t&&(u=r.indexOf(ft()),u>-1&&(f=(u+t+r.length)%r.length));f<r.length&&(i=r[f],i.focus(),i instanceof HTMLInputElement&&i.select())}function ai(n){return n instanceof Element?n:f(n)?document.querySelector(n):n&&n.jquery?n[0]:null}function vi(n,t){var i=document.createElement('div'),r;return i.innerHTML=n,r=i.removeChild(i.firstChild),t instanceof HTMLElement?t.appendChild(r):r}function yi(n,t){if(t==null){n.hasChildNodes()&&(n.textContent='');return}var i=n.firstChild;n.childNodes.length==1&&i.nodeType==3?i.nodeValue!=t&&(i.nodeValue=t):(i||t)&&(n.textContent=t)}function et(n,t){for(var i=t;i&&n;){if(i===n)return!0;i=i.parentNode||i.host}return!1}function ot(n,t){var i=n?n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector:null;if(i)for(;n;n=n.parentNode)if(n instanceof Element&&i.call(n,t))return n;return null}function pi(n,t){var r,i,u;for(ut(n,'wj-state-disabled',!t),t?n.removeAttribute('disabled'):n.setAttribute('disabled','true'),r=n.querySelectorAll('input'),i=0;i<r.length;i++)u=r[i],t?u.removeAttribute('disabled'):u.setAttribute('disabled','true')}function wi(n){var t=n.getBoundingClientRect();return new w(t.left+pageXOffset,t.top+pageYOffset,t.width,t.height)}function st(n,t){var u,i,r;if(o(n)){n.forEach(function(n){st(n,t)});return}u=n.style;for(i in t)r=t[i],typeof r=='number'&&i.match(/width|height|left|top|right|bottom|size|padding|margin'/i)&&(r+='px'),u[i]!=r&&(u[i]=r.toString())}function bi(n,t,r){t===void 0&&(t=400);r===void 0&&(r=35);s(n);i(t,!1,!0);i(r,!1,!0);var f=Date.now(),u=setInterval(function(){var i=Math.min(1,(Date.now()-f)/t);i=Math.sin(i*Math.PI/2);i*=i;requestAnimationFrame(function(){n(i)});i>=1&&clearInterval(u)},r);return u}function ki(n,t){var u,e,a,i,o,c;t||(t={});var l=t.method?p(t.method).toUpperCase():'GET',v=t.async!=null?g(t.async):!0,r=t.data;if(r!=null&&l=='GET'){u=[];for(e in r)u.push(e+'='+r[e]);u.length&&(a=n.indexOf('?')<0?'?':'&',n+=a+u.join('&'));r=null}if(i=new XMLHttpRequest,i.URL_DEBUG=n,o=!1,r==null||f(r)||(o=y(r),r=JSON.stringify(r)),i.onload=function(){i.readyState==4&&(i.status<300?t.success&&s(t.success)(i):t.error&&s(t.error)(i),t.complete&&s(t.complete)(i))},i.onerror=function(){if(t.error)s(t.error)(i);else throw'HttpRequest Error: '+i.status+' '+i.statusText;},i.open(l,n,v,t.user,t.password),t.user&&t.password&&i.setRequestHeader('Authorization','Basic '+btoa(t.user+':'+t.password)),o&&i.setRequestHeader('Content-Type','application/json'),t.requestHeaders)for(c in t.requestHeaders)i.setRequestHeader(c,t.requestHeaders[c]);return h(t.beforeSend)&&t.beforeSend(i),i.send(r),i}var lt='5.20163.240',vt,r,tt,c,ht,w,ct;n.getVersion=at,function(n){n[n.Back=8]="Back";n[n.Tab=9]="Tab";n[n.Enter=13]="Enter";n[n.Escape=27]="Escape";n[n.Space=32]="Space";n[n.PageUp=33]="PageUp";n[n.PageDown=34]="PageDown";n[n.End=35]="End";n[n.Home=36]="Home";n[n.Left=37]="Left";n[n.Up=38]="Up";n[n.Right=39]="Right";n[n.Down=40]="Down";n[n.Delete=46]="Delete";n[n.F1=112]="F1";n[n.F2=113]="F2";n[n.F3=114]="F3";n[n.F4=115]="F4";n[n.F5=116]="F5";n[n.F6=117]="F6";n[n.F7=118]="F7";n[n.F8=119]="F8";n[n.F9=120]="F9";n[n.F10=121]="F10";n[n.F11=122]="F11";n[n.F12=123]="F12"}(n.Key||(n.Key={}));vt=n.Key,function(n){n[n.Object=0]="Object";n[n.String=1]="String";n[n.Number=2]="Number";n[n.Boolean=3]="Boolean";n[n.Date=4]="Date";n[n.Array=5]="Array"}(n.DataType||(n.DataType={}));r=n.DataType;n.tryCast=v;n.isPrimitive=yt;n.isString=f;n.isNullOrWhiteSpace=pt;n.isNumber=e;n.isInt=b;n.isBoolean=l;n.isFunction=h;n.isUndefined=wt;n.isDate=u;n.isArray=o;n.isObject=y;n.mouseToPage=bt;n.getType=kt;n.changeType=k;n.toFixed=dt;n.format=gt;n.clamp=ni;n.copy=d;n.assert=t;n._deprecated=ti;n.asString=p;n.asNumber=i;n.asInt=ii;n.asBoolean=g;n.asDate=ri;n.asFunction=s;n.asArray=ui;n.asType=nt;n.asEnum=fi;n.asCollectionView=ei;n.hasItems=oi;n.toHeaderCase=si;n.escapeHtml=hi;tt={'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;','/':'&#x2F;'};n.hasClass=a;n.removeClass=it;n.addClass=rt;n.toggleClass=ut;n.setSelectionRange=ci;n.getActiveElement=ft;n.moveFocus=li;n.getElement=ai;n.createElement=vi;n.setText=yi;n.contains=et;n.closest=ot;n.enable=pi;n.getElementRect=wi;n.setCss=st;n.animate=bi;c=function(){function n(n,t){n===void 0&&(n=0);t===void 0&&(t=0);this.x=i(n);this.y=i(t)}return n.prototype.equals=function(t){return t instanceof n&&this.x==t.x&&this.y==t.y},n.prototype.clone=function(){return new n(this.x,this.y)},n}();n.Point=c;ht=function(){function n(n,t){n===void 0&&(n=0);t===void 0&&(t=0);this.width=i(n);this.height=i(t)}return n.prototype.equals=function(t){return t instanceof n&&this.width==t.width&&this.height==t.height},n.prototype.clone=function(){return new n(this.width,this.height)},n}();n.Size=ht;w=function(){function n(n,t,r,u){this.left=i(n);this.top=i(t);this.width=i(r);this.height=i(u)}return Object.defineProperty(n.prototype,"right",{get:function(){return this.left+this.width},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bottom",{get:function(){return this.top+this.height},enumerable:!0,configurable:!0}),n.prototype.equals=function(t){return t instanceof n&&this.left==t.left&&this.top==t.top&&this.width==t.width&&this.height==t.height},n.prototype.clone=function(){return new n(this.left,this.top,this.width,this.height)},n.fromBoundingRect=function(i){if(i.left!=null)return new n(i.left,i.top,i.width,i.height);if(i.x!=null)return new n(i.x,i.y,i.width,i.height);t(!1,'Invalid source rectangle.')},n.union=function(t,i){var r=Math.min(t.left,i.left),u=Math.min(t.top,i.top),f=Math.max(t.right,i.right),e=Math.max(t.bottom,i.bottom);return new n(r,u,f-r,e-u)},n.intersection=function(t,i){var r=Math.max(t.left,i.left),u=Math.max(t.top,i.top),f=Math.min(t.right,i.right),e=Math.min(t.bottom,i.bottom);return new n(r,u,f-r,e-u)},n.prototype.contains=function(i){if(i instanceof c)return i.x>=this.left&&i.x<=this.right&&i.y>=this.top&&i.y<=this.bottom;if(i instanceof n){var r=i;return r.left>=this.left&&r.right<=this.right&&r.top>=this.top&&r.bottom<=this.bottom}t(!1,'Point or Rect expected.')},n.prototype.inflate=function(t,i){return new n(this.left-t,this.top-i,this.width+2*t,this.height+2*i)},n}();n.Rect=w;ct=function(){function t(){}return t.addDays=function(n,t){return new Date(n.getFullYear(),n.getMonth(),n.getDate()+t)},t.addMonths=function(n,t){return new Date(n.getFullYear(),n.getMonth()+t,n.getDate())},t.addYears=function(n,t){return new Date(n.getFullYear()+t,n.getMonth(),n.getDate())},t.addHours=function(n,t){return new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours()+t)},t.addMinutes=function(n,t){return new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes()+t)},t.addSeconds=function(n,t){return new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds()+t)},t.sameDate=function(n,t){return u(n)&&u(t)&&n.getFullYear()==t.getFullYear()&&n.getMonth()==t.getMonth()&&n.getDate()==t.getDate()},t.sameTime=function(n,t){return u(n)&&u(t)&&n.getHours()==t.getHours()&&n.getMinutes()==t.getMinutes()&&n.getSeconds()==t.getSeconds()},t.equals=function(n,t){return u(n)&&u(t)&&n.getTime()==t.getTime()},t.fromDateTime=function(n,t){return!n&&!t?null:(n||(n=t),t||(t=n),new Date(n.getFullYear(),n.getMonth(),n.getDate(),t.getHours(),t.getMinutes(),t.getSeconds()))},t.toFiscal=function(i,r){var u=n.culture.Globalize.calendar;return o(u.fiscalYearOffsets)?t.addMonths(i,-u.fiscalYearOffsets[r?0:1]):i},t.fromFiscal=function(i,r){var u=n.culture.Globalize.calendar;return o(u.fiscalYearOffsets)?t.addMonths(i,+u.fiscalYearOffsets[r?0:1]):i},t.newDate=function(){var n=new Date;return new Date(n.getFullYear(),n.getMonth(),n.getDate())},t.clone=function(n){return t.fromDateTime(n,n)},t}();n.DateTime=ct;n.httpRequest=ki})(wijmo||(wijmo={})),function(n){'use strict';n.culture={Globalize:{numberFormat:{'.':'.',',':',',percent:{pattern:['-n %','n %']},currency:{decimals:2,symbol:'$',pattern:['($n)','$n']}},calendar:{'/':'/',':':':',firstDay:0,days:['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],daysAbbr:['Sun','Mon','Tue','Wed','Thu','Fri','Sat'],months:['January','February','March','April','May','June','July','August','September','October','November','December'],monthsAbbr:['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'],am:['AM','A'],pm:['PM','P'],eras:['A.D.','B.C.'],patterns:{d:'M/d/yyyy',D:'dddd, MMMM dd, yyyy',f:'dddd, MMMM dd, yyyy h:mm tt',F:'dddd, MMMM dd, yyyy h:mm:ss tt',t:'h:mm tt',T:'h:mm:ss tt',M:'MMMM d',m:'MMMM d',Y:'MMMM, yyyy',y:'MMMM, yyyy',g:'M/d/yyyy h:mm tt',G:'M/d/yyyy h:mm:ss tt',s:'yyyy"-"MM"-"dd"T"HH":"mm":"ss',o:'yyyy"-"MM"-"dd"T"HH":"mm":"ss"."fffffffK',O:'yyyy"-"MM"-"dd"T"HH":"mm":"ss"."fffffffK',U:'dddd, MMMM dd, yyyy h:mm:ss tt'},fiscalYearOffsets:[-3,-3]}}};var t=function(){function t(){}return t.format=function(i,r,u,f){return n.isString(i)?i:n.isNumber(i)?(r=r||(i==Math.round(i)?'n0':'n2'),t.formatNumber(i,r,u,f)):n.isDate(i)?(r=r||'d',t.formatDate(i,r)):i!=null?i.toString():''},t.formatNumber=function(i,r,u,f){var l,p,a;n.asNumber(i);n.asString(r);var e,s=r?r.match(/([a-z])(\d*)(,*)(.*)/i):null,h=n.culture.Globalize.numberFormat,o=s?s[1].toLowerCase():'n',c=s&&s[2]?parseInt(s[2]):o=='c'?h.currency.decimals:i==Math.round(i)?0:2,w=s&&s[3]?3*s[3].length:0,b=s&&s[4]?s[4]:h.currency.symbol,v=h['.'],y=h[','];if(w&&(i/=Math.pow(10,w)),o=='d'||o=='x'){for(e=Math.round(Math.abs(i)).toString(o=='d'?10:16);e.length<c;)e='0'+e;return i<0&&(e='-'+e),r&&r[0]=='X'&&(e=e.toUpperCase()),e}return o=='p'&&(i=t._mul100(i)),f&&(i=n.toFixed(i,c,!0)),e=o=='c'||o=='p'?Math.abs(i).toFixed(c):i.toFixed(c),(u||o=='g')&&e.indexOf('.')>-1&&(e=e.replace(/(\.[0-9]*?)0+$/g,'$1'),e=e.replace(/\.$/,'')),v!='.'&&(e=e.replace('.',v)),y&&(o=='n'||o=='c'||o=='p')&&(l=e.indexOf(v),p=/\B(?=(\d\d\d)+(?!\d))/g,e=l>-1?e.substr(0,l).replace(p,y)+e.substr(l):e.replace(p,y)),o=='c'&&(a=h.currency.pattern[i<0?0:1],e=a.replace('n',e).replace('$',b)),o=='p'&&(a=h.percent.pattern[i<0?0:1],e=a.replace('n',e)),e},t.formatDate=function(i,r){var f,e,u;i=n.asDate(i);switch(r){case'r':case'R':return i.toUTCString();case'u':return i.toISOString().replace(/\.\d{3}/,'')}for(r=t._expandFormat(r),f=t._parseDateFormat(r),e='',u=0;u<f.length;u++)e+=t._formatDatePart(i,r,f[u]);return e},t.parseInt=function(n,i){return Math.round(t.parseFloat(n,i))},t.parseFloat=function(t,i){var r=t.indexOf('-')>-1||t.indexOf('(')>-1&&t.indexOf(')')>-1?-1:1,u=t.indexOf('%')>-1?.01:1,f=i?i.match(/,+/):null,e=f?f[0].length*3:0;if(i&&(i[0]=='x'||i[0]=='X'))return t=t.replace(/[^0-9a-f]+.*$/gi,''),parseInt(t,16)*r*u*Math.pow(10,e);var o=n.culture.Globalize.numberFormat['.'],s=new RegExp('[^\\d\\'+o+']','g'),h=t.replace(s,'').replace(o,'.');return parseFloat(h)*r*u*Math.pow(10,e)},t.parseDate=function(i,r){var ut,h,e,p,ht,nt,ct;if(i=n.asString(i),!i)return null;if(r=='u')return new Date(i);if(r=='R'||r=='r')return ut=/(([0-9]+)\-([0-9]+)\-([0-9]+))?\s?(([0-9]+):([0-9]+)(:([0-9]+))?)?/,h=i.match(ut),h[1]||h[5]?(e=h[1]?new Date(parseInt(h[2]),parseInt(h[3])-1,parseInt(h[4])):new Date,h[5]&&(e.setHours(parseInt(h[6])),e.setMinutes(parseInt(h[7])),e.setSeconds(h[8]?parseInt(h[9]):0))):e=new Date(i),isNaN(e.getTime())?null:e;r=t._expandFormat(r?r:'d');var s=n.culture.Globalize.calendar,ft=t._CJK,lt=new RegExp('(\\'+s['/']+')|(\\'+s[':']+")|(\\d+)|(["+ft+"\\.]{2,})|(["+ft+']+)','gi'),c=i.match(lt),w=t._parseDateFormat(r),y=0,l=-1,a=0,d=1,o=0,b=0,k=0,et=0,tt=-1,ot,it,st,g,rt;if(!c||!c.length||!w||!w.length)return null;for(p=0;p<w.length&&c;p++){var v=p-y,u=v>-1&&v<c.length?c[v]:'',f=w[p].length;switch(w[p]){case'EEEE':case'EEE':case'EE':case'E':case'eeee':case'eee':case'ee':case'e':rt=w[p];case'yyyy':case'yyy':case'yy':case'y':f>1&&u.length>f&&(c[v]=u.substr(f),u=u.substr(0,f),y++);l=parseInt(u);break;case'MMMM':case'MMM':for(g=!0,ht=u.toLowerCase(),a=-1,nt=0;nt<12;nt++)if(s.months[nt].toLowerCase().indexOf(ht)==0){a=nt;break}if(a>-1)break;case'MM':case'M':g=!0;f>1&&u.length>f&&(c[v]=u.substr(f),u=u.substr(0,f),y++);a=parseInt(u)-1;break;case'dddd':case'ddd':ot=!0;break;case'dd':case'd':f>1&&u.length>f&&(c[v]=u.substr(f),u=u.substr(0,f),y++);d=parseInt(u);it=!0;break;case'hh':case'h':f>1&&u.length>f&&(c[v]=u.substr(f),u=u.substr(0,f),y++);o=parseInt(u);o=o==12?0:o;break;case'HH':f>1&&u.length>f&&(c[v]=u.substr(f),u=u.substr(0,f),y++);o=parseInt(u);break;case'H':o=parseInt(u);break;case'mm':case'm':f>1&&u.length>f&&(c[v]=u.substr(f),u=u.substr(0,f),y++);b=parseInt(u);break;case'ss':case's':f>1&&u.length>f&&(c[v]=u.substr(f),u=u.substr(0,f),y++);k=parseInt(u);break;case'fffffff':case'FFFFFFF':case'ffffff':case'FFFFFF':case'fffff':case'FFFFF':case'ffff':case'FFFF':case'fff':case'FFF':case'ff':case'FF':case'f':case'F':et=parseInt(u)/Math.pow(10,f-3);break;case'tt':case't':u=u.toUpperCase();(s.pm[0]&&u==s.pm[0]&&o<12||s.pm[1]&&u==s.pm[1]&&o<12)&&(o+=12);break;case'q':case'Q':case'u':case'U':st=!0;break;case'ggg':case'gg':case'g':tt=s.eras.length>1?t._getEra(u,s):-1;break;case s['/']:case s[':']:if(u&&u!=w[p])return null;break;case'K':break;default:t._unquote(w[p])!=u&&y++}}if(g&&it&&(isNaN(o)&&(o=0),isNaN(b)&&(b=0),isNaN(k)&&(k=0)),a<0||a>11||isNaN(a)||d<0||d>31||isNaN(d)||o<0||o>24||isNaN(o)||b<0||b>60||isNaN(b)||k<0||k>60||isNaN(k))return null;if(rt){if(!g)return null;e=new Date(l,a);e=n.DateTime.fromFiscal(e,rt[0]=='E');l=e.getFullYear();a=e.getMonth()}return ot&&!it?null:st&&!g?null:(l<0&&(l=(new Date).getFullYear()),tt>-1?l=l+s.eras[tt].start.getFullYear()-1:l<100&&(ct=n.isNumber(s.twoDigitYearMax)?s.twoDigitYearMax:2029,l+=l+2e3<ct?2e3:1900),e=new Date(l,a,d,o,b+0,k,et),isNaN(e.getTime())?null:e)},t.getFirstDayOfWeek=function(){var t=n.culture.Globalize.calendar.firstDay;return t?t:0},t.getNumberDecimalSeparator=function(){var t=n.culture.Globalize.numberFormat['.'];return t?t:'.'},t._unquote=function(n){return n.length>1&&n[0]==n[n.length-1]&&(n[0]=='\''||n[0]=='\"')?n.substr(1,n.length-2):n},t._parseDateFormat=function(n){var u,e,i,r,f;if(n in t._dateFomatParts)return t._dateFomatParts[n];for(u=[],e='',i=0;i>-1&&i<n.length;i++){if(f=n[i],(f=='\''||f=='"')&&(r=n.indexOf(f,i+1),r>-1)){u.push(n.substring(i,r+1));i=r;continue}for(r=i+1;r<n.length;r++)if(n[r]!=f)break;u.push(n.substring(i,r));i=r-1}return t._dateFomatParts[n]=u,u},t._formatDatePart=function(i,r,u){var f=n.culture.Globalize.calendar,o=0,h=0,l=0,c,e=u.length,s;switch(u){case'yyyy':case'yyy':case'yy':case'y':case'EEEE':case'EEE':case'EE':case'E':case'eeee':case'eee':case'ee':case'e':return c=u[0]=='E'?n.DateTime.toFiscal(i,!0):u[0]=='e'?n.DateTime.toFiscal(i,!1):i,h=c.getFullYear(),f.eras.length>1&&r.indexOf('g')>-1&&(o=t._getEra(i,f),o>-1&&(h=h-f.eras[o].start.getFullYear()+1)),t._zeroPad(h,4).substr(4-u.length);case'MMMM':return f.months[i.getMonth()];case'MMM':return f.monthsAbbr[i.getMonth()];case'MM':case'M':return t._zeroPad(i.getMonth()+1,e);case'dddd':return f.days[i.getDay()];case'ddd':return f.daysAbbr[i.getDay()];case'dd':return t._zeroPad(i.getDate(),2);case'd':return i.getDate().toString();case'hh':case'h':return t._zeroPad(t._h12(i),e);case'HH':case'H':return t._zeroPad(i.getHours(),e);case'mm':case'm':return t._zeroPad(i.getMinutes(),e);case'ss':case's':return t._zeroPad(i.getSeconds(),e);case'fffffff':case'FFFFFFF':case'ffffff':case'FFFFFF':case'fffff':case'FFFFF':case'ffff':case'FFFF':case'fff':case'FFF':case'ff':case'FF':case'f':case'F':return l=i.getMilliseconds()*Math.pow(10,e-3),u[0]=='f'?t._zeroPad(l,e):l.toFixed(0);case'tt':return i.getHours()<12?f.am[0]:f.pm[0];case't':return i.getHours()<12?f.am[1]:f.pm[1];case'q':case'Q':return(Math.floor(i.getMonth()/3)+1).toString();case'u':case'U':return c=n.DateTime.toFiscal(i,u=='U'),(Math.floor(c.getMonth()/3)+1).toString();case'ggg':case'gg':case'g':return f.eras.length>1&&(o=t._getEra(i,f),o>-1)?u=='ggg'?f.eras[o].name:u=='gg'?f.eras[o].name[0]:f.eras[o].symbol:f.eras[0];case':':case'/':return f[u];case'K':return s=i.toString().match(/(\+|\-)(\d{2})(\d{2})/),s?s[1]+s[2]+s[3]:''}return e>1&&u[0]==u[e-1]&&(u[0]=='\"'||u[0]=='\'')?u.substr(1,e-2):u},t._getEra=function(t,i){var r;if(n.isDate(t)){for(r=0;r<i.eras.length;r++)if(t>=i.eras[r].start)return r}else if(n.isString(t))for(r=0;r<i.eras.length;r++)if(i.eras[r].name&&(i.eras[r].name.indexOf(t)==0||i.eras[r].symbol.indexOf(t)==0))return r;return-1},t._expandFormat=function(t){var i=n.culture.Globalize.calendar.patterns[t];return i?i:t},t._zeroPad=function(n,t){var i=n.toFixed(0),r=t-i.length+1;return r>0?Array(r).join('0')+i:i},t._h12=function(t){var r=n.culture.Globalize.calendar,i=t.getHours();return r.am&&r.am[0]&&(i=i%12,i==0&&(i=12)),i},t._mul100=function(n){var t=n.toString(),i=t.indexOf('.');return i<0?t+='00':(i+=2,t=t.replace('.','')+'00',t=t.substr(0,i)+'.'+t.substr(i)),parseFloat(t)},t._CJK='a-z'+'u00c0-u017fu3000-u30ffu4e00-u9faf'.replace(/u/g,'\\u')+'u1100-u11ffu3130-u318fua960-ua97fuac00-ud7afud7b0-ud7ff'.replace(/u/g,'\\u'),t._dateFomatParts={},t}();n.Globalize=t}(wijmo||(wijmo={})),function(n){'use strict';var t=function(){function n(n){this.path=n}return Object.defineProperty(n.prototype,"path",{get:function(){return this._path},set:function(n){var t,i,r;for(this._path=n,this._parts=n?n.split('.'):[],t=0;t<this._parts.length;t++)i=this._parts[t],r=i.indexOf('['),r>-1&&(this._parts[t]=i.substr(0,r),this._parts.splice(++t,0,parseInt(i.substr(r+1))));this._key=this._parts.length==1?this._parts[0]:null},enumerable:!0,configurable:!0}),n.prototype.getValue=function(n){if(n){if(this._key)return n[this._key];if(this._path in n)return n[this._path];for(var t=0;t<this._parts.length&&n;t++)n=n[this._parts[t]]}return n},n.prototype.setValue=function(n,t){if(n){if(this._path in n){n[this._path]=t;return}for(var i=0;i<this._parts.length-1;i++)if(n=n[this._parts[i]],n==null)return;n[this._parts[this._parts.length-1]]=t}},n}();n.Binding=t}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){'use strict';var f=function(){function n(n,t){this.handler=n;this.self=t}return n}(),e=function(){function i(){this._handlers=[]}return i.prototype.addHandler=function(t,i){n.asFunction(t);this._handlers.push(new f(t,i))},i.prototype.removeHandler=function(t,i){var r,u;for(n.asFunction(t),r=0;r<this._handlers.length;r++)if(u=this._handlers[r],(u.handler==t||t==null)&&(u.self==i||i==null)&&(this._handlers.splice(r,1),t&&i))break},i.prototype.removeAllHandlers=function(){this._handlers.length=0},i.prototype.raise=function(n,i){var r,u;for(i===void 0&&(i=t.empty),r=0;r<this._handlers.length;r++)u=this._handlers[r],u.handler.call(u.self,n,i)},Object.defineProperty(i.prototype,"hasHandlers",{get:function(){return this._handlers.length>0},enumerable:!0,configurable:!0}),i}(),t,i,r,u;n.Event=e;t=function(){function n(){}return n.empty=new n,n}();n.EventArgs=t;i=function(n){function t(){n.apply(this,arguments);this.cancel=!1}return __extends(t,n),t}(t);n.CancelEventArgs=i;r=function(n){function t(t,i,r){n.call(this);this._name=t;this._oldVal=i;this._newVal=r}return __extends(t,n),Object.defineProperty(t.prototype,"propertyName",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"oldValue",{get:function(){return this._oldVal},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"newValue",{get:function(){return this._newVal},enumerable:!0,configurable:!0}),t}(t);n.PropertyChangedEventArgs=r;u=function(n){function t(t,i){n.call(this);this._xhr=t;this._msg=i}return __extends(t,n),Object.defineProperty(t.prototype,"request",{get:function(){return this._xhr},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return this._msg},set:function(n){this._msg=n},enumerable:!0,configurable:!0}),t}(i);n.RequestErrorEventArgs=u}(wijmo||(wijmo={})),function(n){'use strict';var t=function(){function t(i,r,u){var h=this,f,c,o;if(r===void 0&&(r=null),u===void 0&&(u=!1),this._focus=!1,this._updating=0,this._fullUpdate=!1,this.gotFocus=new n.Event,this.lostFocus=new n.Event,n.assert(t.getControl(i)==null,'Element is already hosting a control.'),f=n.getElement(i),n.assert(f!=null,'Cannot find the host element.'),this._orgOuter=f.outerHTML,this._orgInner=f.innerHTML,this._orgTag=f.tagName,(f.tagName=='INPUT'||f.tagName=='SELECT')&&(f=this._replaceWithDiv(f)),this._e=f,f[t._DATA_KEY]=this,u==!0&&(this._szCtl=new n.Size(f.offsetWidth,f.offsetHeight),c=this._handleResize.bind(this),this.addEventListener(window,'resize',c)),this.addEventListener(f,'focus',function(){setTimeout(function(){h._updateFocusState()})},!0),this.addEventListener(f,'blur',function(){setTimeout(function(){h._updateFocusState()},20)},!0),o=this._handleDisabled.bind(this),this.addEventListener(f,'mousedown',o,!0),this.addEventListener(f,'mouseup',o,!0),this.addEventListener(f,'click',o,!0),this.addEventListener(f,'dblclick',o,!0),this.addEventListener(f,'keydown',o,!0),this.addEventListener(f,'wheel',o,!0),t._touching==null&&(t._touching=!1,'ontouchstart'in window||'onpointerdown'in window)){var e=document.body,l=this._handleTouchStart,s=this._handleTouchEnd;'ontouchstart'in window?(e.addEventListener('touchstart',l),e.addEventListener('touchend',s),e.addEventListener('touchcancel',s),e.addEventListener('touchleave',s)):'onpointerdown'in window&&(e.addEventListener('pointerdown',l),e.addEventListener('pointerup',s),e.addEventListener('pointerout',s),e.addEventListener('pointercancel',s),e.addEventListener('pointerleave',s))}}return t.prototype.getTemplate=function(){for(var t,n=Object.getPrototypeOf(this);n;n=Object.getPrototypeOf(n))if(t=n.constructor.controlTemplate,t)return t;return null},t.prototype.applyTemplate=function(t,i,r,u){var f=this._e,l,o,w,p,s,v,c,h;t&&n.addClass(f,t);l=null;i&&(l=n.createElement(i,f));var b=f.querySelectorAll('input'),e=b.length==1?b[0]:null,a=f.attributes;if(e&&a)for(o=0;o<a.length;o++)a[o].name.match(/name|autofocus|autocomplete|minlength|maxlength|pattern/i)&&e.setAttribute(a[o].name,a[o].value);if(e&&f.id){var k=document.querySelector('label[for="'+f.id+'"]'),d=f.id+'_input',y=d;if(k instanceof HTMLLabelElement){for(o=0;document.getElementById(y)!=null;o++)y=d+o;e.id=y;k.htmlFor=y}}if(e&&(w=document.createEvent('HTMLEvents'),p=e.value,w.initEvent('change',!0,!1),this.addEventListener(e,'input',function(){p=e.value},!0),this.gotFocus.addHandler(function(){p=e.value}),this.lostFocus.addHandler(function(){p!=e.value&&e.dispatchEvent(w)})),f.getAttribute('tabindex')||(f.tabIndex=e!=null?-1:0),this._updateState(),r)for(s in r){if(v=r[s],this[s]=l.querySelector('[wj-part="'+v+'"]'),this[s]==null&&l.getAttribute('wj-part')==v&&(this[s]=l),this[s]==null)throw'Missing template part: "'+v+'"';v==u&&(c='name',h=f.attributes[c],h&&h.value&&this[s].setAttribute(c,h.value),c='accesskey',h=f.attributes[c],h&&h.value&&(this[s].setAttribute(c,h.value),f.removeAttribute(c)))}return l},t.prototype.dispose=function(){for(var e,u,i,r,o=this._e.querySelectorAll('.wj-control'),f=0;f<o.length;f++)e=t.getControl(o[f]),e&&e.dispose();this._toInv&&clearTimeout(this._toInv);this.removeEventListener();for(i in this)i.length>2&&i.indexOf('on')==0&&(r=this[i[2].toLowerCase()+i.substr(3)],r instanceof n.Event&&r.removeAllHandlers());if(u=this.collectionView,u instanceof n.collections.CollectionView)for(i in u)r=u[i],r instanceof n.Event&&r.removeHandler(null,this);this._e.parentNode&&(this._e.outerHTML=this._orgOuter);this._e[t._DATA_KEY]=null;this._e=this._orgOuter=this._orgInner=this._orgTag=null},t.getControl=function(i){var r=n.getElement(i);return r?n.asType(r[t._DATA_KEY],t,!0):null},Object.defineProperty(t.prototype,"hostElement",{get:function(){return this._e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rightToLeft",{get:function(){return this._rtlDir==null&&(this._rtlDir=this._e?getComputedStyle(this._e).direction=='rtl':!1),this._rtlDir},enumerable:!0,configurable:!0}),t.prototype.focus=function(){this._e&&this._e.focus()},t.prototype.containsFocus=function(){var f,i,r,e,u;if(!this._e)return!1;for(f=this._e.querySelectorAll('.wj-control'),i=0;i<f.length;i++)if(r=t.getControl(f[i]),r&&r!=this&&r.containsFocus())return!0;return(e=n.getActiveElement(),u=t.getControl(n.closest(e,'.wj-control.wj-popup')),u&&u.owner&&n.contains(this._e,u.owner))?!0:n.contains(this._e,e)},t.prototype.invalidate=function(n){var i=this;n===void 0&&(n=!0);this._rtlDir=null;this._fullUpdate=this._fullUpdate||n;this._toInv&&(clearTimeout(this._toInv),this._toInv=null);this.isUpdating||(this._toInv=setTimeout(function(){i.refresh(i._fullUpdate)},t._REFRESH_INTERVAL))},t.prototype.refresh=function(n){n===void 0&&(n=!0);!this.isUpdating&&this._toInv&&(clearTimeout(this._toInv),this._toInv=null,this._rtlDir=null,this._fullUpdate=!1)},t.invalidateAll=function(n){var i,r;if(n||(n=document.body),n.children)for(i=0;i<n.children.length;i++)t.invalidateAll(n.children[i]);r=t.getControl(n);r&&r.invalidate()},t.refreshAll=function(n){var i,r;if(n||(n=document.body),n.children)for(i=0;i<n.children.length;i++)t.refreshAll(n.children[i]);r=t.getControl(n);r&&r.refresh()},t.disposeAll=function(n){var r=t.getControl(n),i;if(r)r.dispose();else if(n.children)for(i=0;i<n.children.length;i++)t.disposeAll(n.children[i])},t.prototype.beginUpdate=function(){this._updating++},t.prototype.endUpdate=function(){this._updating--;this._updating<=0&&this.invalidate()},Object.defineProperty(t.prototype,"isUpdating",{get:function(){return this._updating>0},enumerable:!0,configurable:!0}),t.prototype.deferUpdate=function(n){try{this.beginUpdate();n()}finally{this.endUpdate()}},Object.defineProperty(t.prototype,"isTouching",{get:function(){return t._touching},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDisabled",{get:function(){return this._e&&this._e.getAttribute('disabled')!=null},set:function(t){t=n.asBoolean(t,!0);t!=this.isDisabled&&n.enable(this._e,!t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return n._deprecated('disabled','isDisabled'),this.isDisabled},set:function(t){n._deprecated('disabled','isDisabled');this.isDisabled=t},enumerable:!0,configurable:!0}),t.prototype.initialize=function(t){t&&(this.beginUpdate(),n.copy(this,t),this.endUpdate())},t.prototype.addEventListener=function(n,t,i,r){r===void 0&&(r=!1);n&&(n.addEventListener(t,i,r),this._listeners==null&&(this._listeners=[]),this._listeners.push({target:n,type:t,fn:i,capture:r}))},t.prototype.removeEventListener=function(n,t,i,r){var e=0,f,u;if(this._listeners)for(f=0;f<this._listeners.length;f++)u=this._listeners[f],(n==null||n==u.target)&&(t==null||t==u.type)&&(i==null||i==u.fn)&&(r==null||r==u.capture)&&(u.target.removeEventListener(u.type,u.fn,u.capture),this._listeners.splice(f,1),f--,e++);return e},t.prototype.onGotFocus=function(n){this.gotFocus.raise(this,n)},t.prototype.onLostFocus=function(n){this.lostFocus.raise(this,n)},t.prototype._handleResize=function(){if(this._e.parentElement){var t=new n.Size(this._e.offsetWidth,this._e.offsetHeight);t.equals(this._szCtl)||(this._szCtl=t,this.invalidate())}},t.prototype._updateFocusState=function(){var n=this;setTimeout(function(){for(var i,u,r=n._e;r;r=r.parentElement)i=t.getControl(r),i&&(u=i.containsFocus(),u!=i._focus&&(i._focus=u,u?i.onGotFocus():i.onLostFocus(),i._updateState()))})},t.prototype._updateState=function(){var t=this.hostElement,i,r;t&&(n.toggleClass(t,'wj-state-focused',this.containsFocus()),i=t.querySelector('input'),i instanceof HTMLInputElement&&(n.toggleClass(t,'wj-state-empty',i.value.length==0),n.toggleClass(t,'wj-state-readonly',i.readOnly),r=i.validationMessage,n.toggleClass(t,'wj-state-invalid',r&&r.length>0)))},t.prototype._handleTouchStart=function(n){(n.pointerType==null||n.pointerType=='touch')&&(t._touching=!0)},t.prototype._handleTouchEnd=function(n){(n.pointerType==null||n.pointerType=='touch')&&setTimeout(function(){t._touching=!1},400)},t.prototype._handleDisabled=function(n){this.isDisabled&&(n.preventDefault(),n.stopPropagation(),n.stopImmediatePropagation())},t.prototype._replaceWithDiv=function(n){var r=document.createElement('div'),i,t,u;for(n.parentElement.replaceChild(r,n),r.innerHTML=n.innerHTML,i=n.attributes,t=0;t<i.length;t++)u=i[t].name,i[t].name.match(/id|style|class/i)&&r.setAttribute(u,i[t].value);return r},t._DATA_KEY='wj-Control',t._REFRESH_INTERVAL=10,t}();n.Control=t}(wijmo||(wijmo={})),function(n){'use strict';function i(i,r,u){var v=0,f=0,l=0,s=0,h=null,c=null,y=u?new n.Binding(u):null,a,e,o;if(i=n.asEnum(i,t),i==t.CntAll)return r.length;for(a=0;a<r.length;a++)e=r[a],y&&(e=y.getValue(e)),e!=null&&(v++,(h==null||e<h)&&(h=e),(c==null||e>c)&&(c=e),n.isNumber(e)&&!isNaN(e)?(f++,l+=e,s+=e*e):n.isBoolean(e)&&(f++,e==!0&&(l++,s++)));o=f==0?0:l/f;switch(i){case t.Avg:return o;case t.Cnt:return v;case t.Max:return c;case t.Min:return h;case t.Rng:return c-h;case t.Sum:return l;case t.VarPop:return f<=1?0:s/f-o*o;case t.StdPop:return f<=1?0:Math.sqrt(s/f-o*o);case t.Var:return f<=1?0:(s/f-o*o)*f/(f-1);case t.Std:return f<=1?0:Math.sqrt((s/f-o*o)*f/(f-1))}throw'Invalid aggregate type.';}(function(n){n[n.None=0]="None";n[n.Sum=1]="Sum";n[n.Cnt=2]="Cnt";n[n.Avg=3]="Avg";n[n.Max=4]="Max";n[n.Min=5]="Min";n[n.Rng=6]="Rng";n[n.Std=7]="Std";n[n.Var=8]="Var";n[n.StdPop=9]="StdPop";n[n.VarPop=10]="VarPop";n[n.CntAll=11]="CntAll"})(n.Aggregate||(n.Aggregate={}));var t=n.Aggregate;n.getAggregate=i}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var i,u,f,e,r,o;(function(n){n[n.Add=0]="Add";n[n.Remove=1]="Remove";n[n.Change=2]="Change";n[n.Reset=3]="Reset"})(t.NotifyCollectionChangedAction||(t.NotifyCollectionChangedAction={}));i=t.NotifyCollectionChangedAction;u=function(n){function t(t,r,u){t===void 0&&(t=i.Reset);r===void 0&&(r=null);u===void 0&&(u=-1);n.call(this);this.action=t;this.item=r;this.index=u}return __extends(t,n),t.reset=new t(i.Reset),t}(n.EventArgs);t.NotifyCollectionChangedEventArgs=u;f=function(){function t(t,i){this._bnd=new n.Binding(t);this._asc=i}return Object.defineProperty(t.prototype,"property",{get:function(){return this._bnd.path},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ascending",{get:function(){return this._asc},enumerable:!0,configurable:!0}),t}();t.SortDescription=f;e=function(n){function t(t){n.call(this);this.newPageIndex=t}return __extends(t,n),t}(n.CancelEventArgs);t.PageChangingEventArgs=e;r=function(){function n(){}return n.prototype.groupNameFromItem=function(){return''},n.prototype.namesMatch=function(n,t){return n===t},n}();t.GroupDescription=r;o=function(t){function i(i,r){t.call(this);this._bnd=new n.Binding(i);this._converter=r}return __extends(i,t),Object.defineProperty(i.prototype,"propertyName",{get:function(){return this._bnd.path},enumerable:!0,configurable:!0}),i.prototype.groupNameFromItem=function(n){return this._converter?this._converter(n,this.propertyName):this._bnd.getValue(n)},i.prototype.namesMatch=function(n,t){return n===t},i}(r);t.PropertyGroupDescription=o})(t=n.collections||(n.collections={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var i=function(){function n(){this.length=0;Array.apply(this,arguments)}return n.prototype.pop=function(){return null},n.prototype.push=function(){for(var t=[],n=0;n<arguments.length;n++)t[+n]=arguments[n];return 0},n.prototype.splice=function(){return null},n.prototype.slice=function(){return null},n.prototype.indexOf=function(){return-1},n.prototype.sort=function(){return null},n.prototype.forEach=function(){return null},n.prototype.filter=function(){return null},n}(),r;t.ArrayBase=i;i.prototype=Array.prototype;r=function(i){function r(t){if(i.call(this),this._updating=0,this.collectionChanged=new n.Event,t){t=n.asArray(t);this._updating++;for(var r=0;r<t.length;r++)this.push(t[r]);this._updating--}}return __extends(r,i),r.prototype.push=function(){for(var f,r,n=[],u=0;u<arguments.length;u++)n[+u]=arguments[u];for(f=this.length,r=0;n&&r<n.length;r++)f=i.prototype.push.call(this,n[r]),this._updating||this._raiseCollectionChanged(t.NotifyCollectionChangedAction.Add,n[r],f-1);return f},r.prototype.pop=function(){var n=i.prototype.pop.call(this);return this._raiseCollectionChanged(t.NotifyCollectionChangedAction.Remove,n,this.length),n},r.prototype.splice=function(n,r,u){var f;return r&&u?(f=i.prototype.splice.call(this,n,r,u),r==1?this._raiseCollectionChanged(t.NotifyCollectionChangedAction.Change,u,n):this._raiseCollectionChanged(),f):u?(f=i.prototype.splice.call(this,n,0,u),this._raiseCollectionChanged(t.NotifyCollectionChangedAction.Add,u,n),f):(f=i.prototype.splice.call(this,n,r),r==1?this._raiseCollectionChanged(t.NotifyCollectionChangedAction.Remove,f[0],n):this._raiseCollectionChanged(),f)},r.prototype.slice=function(n,t){return i.prototype.slice.call(this,n,t)},r.prototype.indexOf=function(n,t){return i.prototype.indexOf.call(this,n,t)},r.prototype.sort=function(n){var t=i.prototype.sort.call(this,n);return this._raiseCollectionChanged(),t},r.prototype.insert=function(n,t){this.splice(n,0,t)},r.prototype.remove=function(n){var t=this.indexOf(n);return t>-1?(this.removeAt(t),!0):!1},r.prototype.removeAt=function(n){this.splice(n,1)},r.prototype.setAt=function(n,t){n>this.length&&(this.length=n);this.splice(n,1,t)},r.prototype.clear=function(){this.length!==0&&(this.splice(0,this.length),this._raiseCollectionChanged())},r.prototype.beginUpdate=function(){this._updating++},r.prototype.endUpdate=function(){this._updating>0&&(this._updating--,this._updating==0&&this._raiseCollectionChanged())},Object.defineProperty(r.prototype,"isUpdating",{get:function(){return this._updating>0},enumerable:!0,configurable:!0}),r.prototype.deferUpdate=function(n){try{this.beginUpdate();n()}finally{this.endUpdate()}},r.prototype.implementsInterface=function(n){return n=='INotifyCollectionChanged'},r.prototype.onCollectionChanged=function(n){n===void 0&&(n=t.NotifyCollectionChangedEventArgs.reset);this.isUpdating||this.collectionChanged.raise(this,n)},r.prototype._raiseCollectionChanged=function(n,i,r){if(n===void 0&&(n=t.NotifyCollectionChangedAction.Reset),!this.isUpdating){var u=new t.NotifyCollectionChangedEventArgs(n,i,r);this.onCollectionChanged(u)}},r}(i);t.ObservableArray=r})(t=n.collections||(n.collections={}))}(wijmo||(wijmo={})),function(n){var t;(function(t){'use strict';var r=function(){function r(i,r){var u=this;this._idx=-1;this._srtDsc=new t.ObservableArray;this._grpDesc=new t.ObservableArray;this._newItem=null;this._edtItem=null;this._pgSz=0;this._pgIdx=0;this._updating=0;this._stableSort=!1;this._canFilter=!0;this._canGroup=!0;this._canSort=!0;this._canAddNew=!0;this._canCancelEdit=!0;this._canRemove=!0;this._canChangePage=!0;this._trackChanges=!1;this._chgAdded=new t.ObservableArray;this._chgRemoved=new t.ObservableArray;this._chgEdited=new t.ObservableArray;this.collectionChanged=new n.Event;this.sourceCollectionChanging=new n.Event;this.sourceCollectionChanged=new n.Event;this.currentChanged=new n.Event;this.currentChanging=new n.Event;this.pageChanged=new n.Event;this.pageChanging=new n.Event;this._srtDsc.collectionChanged.addHandler(function(){for(var r=u._srtDsc,i=0;i<r.length;i++)n.assert(r[i]instanceof t.SortDescription,'sortDescriptions array must contain SortDescription objects.');u.canSort&&u.refresh()});this._grpDesc.collectionChanged.addHandler(function(){for(var r=u._grpDesc,i=0;i<r.length;i++)n.assert(r[i]instanceof t.GroupDescription,'groupDescriptions array must contain GroupDescription objects.');u.canGroup&&u.refresh()});this.sourceCollection=i?i:new t.ObservableArray;r&&(this.beginUpdate(),n.copy(this,r),this.endUpdate())}return r.prototype._copy=function(i,r){var e,f,u;if(i=='sortDescriptions'){for(this.sortDescriptions.clear(),e=n.asArray(r),f=0;f<e.length;f++)u=e[f],n.isString(u)&&(u=new t.SortDescription(u,!0)),this.sortDescriptions.push(u);return!0}if(i=='groupDescriptions'){for(this.groupDescriptions.clear(),e=n.asArray(r),f=0;f<e.length;f++)u=e[f],n.isString(u)&&(u=new t.PropertyGroupDescription(u)),this.groupDescriptions.push(u);return!0}return!1},Object.defineProperty(r.prototype,"newItemCreator",{get:function(){return this._itemCreator},set:function(t){this._itemCreator=n.asFunction(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"sortConverter",{get:function(){return this._srtCvt},set:function(t){t!=this._srtCvt&&(this._srtCvt=n.asFunction(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"sortComparer",{get:function(){return this._srtCmp},set:function(t){t!=this._srtCmp&&(this._srtCmp=n.asFunction(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"useStableSort",{get:function(){return this._stableSort},set:function(t){this._stableSort=n.asBoolean(t)},enumerable:!0,configurable:!0}),r.prototype.getAggregate=function(t,i,r){var u=r?this._pgView:this._view;return n.getAggregate(t,u,i)},Object.defineProperty(r.prototype,"trackChanges",{get:function(){return this._trackChanges},set:function(t){this._trackChanges=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"itemsAdded",{get:function(){return this._chgAdded},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"itemsRemoved",{get:function(){return this._chgRemoved},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"itemsEdited",{get:function(){return this._chgEdited},enumerable:!0,configurable:!0}),r.prototype.clearChanges=function(){this._chgAdded.clear();this._chgRemoved.clear();this._chgEdited.clear()},r.prototype.implementsInterface=function(n){switch(n){case'ICollectionView':case'IEditableCollectionView':case'IPagedCollectionView':case'INotifyCollectionChanged':return!0}return!1},Object.defineProperty(r.prototype,"getError",{get:function(){return this._getError},set:function(t){this._getError=n.asFunction(t)},enumerable:!0,configurable:!0}),r.prototype.onCollectionChanged=function(n){n===void 0&&(n=t.NotifyCollectionChangedEventArgs.reset);this._committing||this._canceling||n.action!=t.NotifyCollectionChangedAction.Change||n.item==this.currentEditItem||this._trackItemChanged(n.item);this.collectionChanged.raise(this,n)},r.prototype._raiseCollectionChanged=function(n,i,r){n===void 0&&(n=t.NotifyCollectionChangedAction.Reset);var u=new t.NotifyCollectionChangedEventArgs(n,i,r);this.onCollectionChanged(u)},r.prototype.onSourceCollectionChanging=function(n){return this.sourceCollectionChanging.raise(this,n),!n.cancel},r.prototype.onSourceCollectionChanged=function(n){this.sourceCollectionChanged.raise(this,n)},Object.defineProperty(r.prototype,"canFilter",{get:function(){return this._canFilter},set:function(t){this._canFilter=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"canGroup",{get:function(){return this._canGroup},set:function(t){this._canGroup=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"canSort",{get:function(){return this._canSort},set:function(t){this._canSort=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"currentItem",{get:function(){return this._pgView&&this._idx>-1&&this._idx<this._pgView.length?this._pgView[this._idx]:null},set:function(n){this.moveCurrentTo(n)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"currentPosition",{get:function(){return this._idx},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"filter",{get:function(){return this._filter},set:function(t){this._filter!=t&&(this._filter=n.asFunction(t),this.canFilter&&this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"groupDescriptions",{get:function(){return this._grpDesc},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"groups",{get:function(){return this._groups},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isEmpty",{get:function(){return!this._pgView||!this._pgView.length},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"sortDescriptions",{get:function(){return this._srtDsc},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"sourceCollection",{get:function(){return this._src},set:function(t){if(t!=this._src){if(!this.onSourceCollectionChanging(new n.CancelEventArgs))return;var i=this.currentPosition;this.commitEdit();this.commitNew();this._ncc!=null&&this._ncc.collectionChanged.removeHandler(this._sourceChanged);this._src=n.asArray(t,!1);this._ncc=n.tryCast(this._src,'INotifyCollectionChanged');this._ncc&&this._ncc.collectionChanged.addHandler(this._sourceChanged,this);this.clearChanges();this.refresh();this.moveCurrentToFirst();this.onSourceCollectionChanged();this.currentPosition<0&&i>-1&&this.onCurrentChanged()}},enumerable:!0,configurable:!0}),r.prototype._sourceChanged=function(){this._updating<=0&&this.refresh()},r.prototype.contains=function(n){return this._pgView.indexOf(n)>-1},r.prototype.moveCurrentTo=function(n){return this.moveCurrentToPosition(this._pgView.indexOf(n))},r.prototype.moveCurrentToFirst=function(){return this.moveCurrentToPosition(0)},r.prototype.moveCurrentToLast=function(){return this.moveCurrentToPosition(this._pgView.length-1)},r.prototype.moveCurrentToPrevious=function(){return this._idx>0?this.moveCurrentToPosition(this._idx-1):!1},r.prototype.moveCurrentToNext=function(){return this.moveCurrentToPosition(this._idx+1)},r.prototype.moveCurrentToPosition=function(t){if(t>=-1&&t<this._pgView.length){var i=new n.CancelEventArgs;this._idx!=t&&this.onCurrentChanging(i)&&(this._edtItem&&this._pgView[t]!=this._edtItem&&this.commitEdit(),this._newItem&&this._pgView[t]!=this._newItem&&this.commitNew(),this._idx=t,this.onCurrentChanged())}return this._idx==t},r.prototype.refresh=function(){this._updating>0||this._newItem||this._edtItem||(this._performRefresh(),this.onCollectionChanged())},r.prototype._performRefresh=function(){var i=this.currentItem,t;this._view=this._src?this._filter&&this.canFilter?this._performFilter(this._src):this._srtDsc.length>0&&this.canSort?this._src.slice(0):this._src:[];this.canSort&&this._srtDsc.length>0&&this._performSort(this._view);this._groups=this.canGroup?this._createGroups(this._view):null;this._fullGroups=this._groups;this._groups&&(this._view=this._mergeGroupItems(this._groups));this._pgIdx=n.clamp(this._pgIdx,0,this.pageCount-1);this._pgView=this._getPageView();this._groups&&this.pageCount>1&&(this._groups=this._createGroups(this._pgView),this._mergeGroupItems(this._groups));t=this._pgView.indexOf(i);t<0&&(t=Math.min(this._idx,this._pgView.length-1));this._idx=t;this._digest=this._getGroupsDigest(this.groups);this.currentItem!==i&&this.onCurrentChanged()},r.prototype._performSort=function(n){var i,r,t;if(this._stableSort)for(i=n.map(function(n,t){return{item:n,index:t}}),r=this._compareItems(),i.sort(function(n,t){var i=r(n.item,t.item);return i==0?n.index-t.index:i}),t=0;t<n.length;t++)n[t]=i[t].item;else n.sort(this._compareItems())},r.prototype._compareItems=function(){var i=this._srtDsc,t=this._srtCvt,r=this._srtCmp,u=!0,n=0;return function(f,e){for(var l,a,c=0;c<i.length;c++){var h=i[c],o=h._bnd.getValue(f),s=h._bnd.getValue(e);if(t&&(o=t(h,f,o,u),s=t(h,e,s,!1),u=!1),r&&(n=r(o,s),n!=null))return h.ascending?+n:-n;if(o!==o&&(o=null),s!==s&&(s=null),typeof o=='string'&&typeof s=='string'&&(l=o.toLowerCase(),a=s.toLowerCase(),l!=a&&(o=l,s=a)),o!=null&&s==null)return-1;if(o==null&&s!=null)return 1;if(n=o<s?-1:o>s?1:0,n!=0)return h.ascending?+n:-n}return 0}},r.prototype._performFilter=function(n){return this.canFilter&&this._filter?n.filter(this._filter,this):n},r.prototype.onCurrentChanged=function(t){t===void 0&&(t=n.EventArgs.empty);this.currentChanged.raise(this,t)},r.prototype.onCurrentChanging=function(n){return this.currentChanging.raise(this,n),!n.cancel},Object.defineProperty(r.prototype,"items",{get:function(){return this._pgView},enumerable:!0,configurable:!0}),r.prototype.beginUpdate=function(){this._updating++},r.prototype.endUpdate=function(){this._updating--;this._updating<=0&&this.refresh()},Object.defineProperty(r.prototype,"isUpdating",{get:function(){return this._updating>0},enumerable:!0,configurable:!0}),r.prototype.deferUpdate=function(n){try{this.beginUpdate();n()}finally{this.endUpdate()}},Object.defineProperty(r.prototype,"canAddNew",{get:function(){return this._canAddNew},set:function(t){this._canAddNew=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"canCancelEdit",{get:function(){return this._canCancelEdit},set:function(t){this._canCancelEdit=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"canRemove",{get:function(){return this._canRemove},set:function(t){this._canRemove=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"currentAddItem",{get:function(){return this._newItem},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"currentEditItem",{get:function(){return this._edtItem},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isAddingNew",{get:function(){return this._newItem!=null},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isEditingItem",{get:function(){return this._edtItem!=null},enumerable:!0,configurable:!0}),r.prototype.editItem=function(n){n!=this._edtItem&&this.moveCurrentTo(n)&&(this.commitEdit(),this._edtItem=n,this._edtClone={},this._extend(this._edtClone,this._edtItem))},r.prototype.commitEdit=function(){var n=this._edtItem,r,i,u;n!=null&&(this._committing=!0,r=this._sameContent(n,this._edtClone),this._edtItem=null,this._edtClone=null,i=this._pgView.indexOf(n),u=this._digest,this._performRefresh(),r||this._trackItemChanged(n),this._pgView.indexOf(n)==i&&u==this._digest?this._raiseCollectionChanged(t.NotifyCollectionChangedAction.Change,n,i):this._raiseCollectionChanged(),this._committing=!1)},r.prototype.cancelEdit=function(){var r=this._edtItem,i;if(r!=null){if(this._edtItem=null,!this.canCancelEdit){n.assert(!1,'cannot cancel edits (canCancelEdit == false).');return}if(i=this._src.indexOf(r),i<0||!this._edtClone)return;this._extend(this._src[i],this._edtClone);this._edtClone=null;this._canceling=!0;this._raiseCollectionChanged(t.NotifyCollectionChangedAction.Change,r,i);this._canceling=!1}},r.prototype.addNew=function(){var i,u,r;if(arguments.length>0&&n.assert(!1,'addNew does not take any parameters, it creates the new items.'),this.commitEdit(),this.commitNew(),!this.canAddNew)return n.assert(!1,'cannot add items (canAddNew == false).'),null;if(i=null,u=this.sourceCollection,i=this.newItemCreator?this.newItemCreator():u&&u.length?new u[0].constructor:{},i!=null){if(this._newItem=i,this._updating++,this._src.push(i),this._updating--,this._pgView!=this._src&&this._pgView.push(i),this.groups&&this.groups.length)for(r=this.groups[this.groups.length-1],r.items.push(i);r.groups&&r.groups.length;)r=r.groups[r.groups.length-1],r.items.push(i);this._raiseCollectionChanged(t.NotifyCollectionChangedAction.Add,i,this._pgView.length-1);this.moveCurrentTo(i)}return this._newItem},r.prototype.commitNew=function(){var n=this._newItem,i,u,r;n!=null&&(this._newItem=null,i=this._pgView.indexOf(n),u=this._digest,this._performRefresh(),this._trackChanges==!0&&(r=this._chgEdited.indexOf(n),r>-1&&this._chgEdited.removeAt(r),this._chgAdded.indexOf(n)<0&&this._chgAdded.push(n)),this._pgView.indexOf(n)==i&&u==this._digest?this._raiseCollectionChanged(t.NotifyCollectionChangedAction.Change,n,i):this._raiseCollectionChanged())},r.prototype.cancelNew=function(){var n=this._newItem;n!=null&&this.remove(n)},r.prototype.remove=function(i){var e=i==this._newItem,r,o,s,u,f,h,c,l;if(e&&(this._newItem=null),i==this._edtItem&&this.cancelEdit(),!this.canRemove){n.assert(!1,'cannot remove items (canRemove == false).');return}r=this._src.indexOf(i);r>-1&&(o=this.currentItem,this._updating++,this._src.splice(r,1),this._updating--,s=this._digest,this._performRefresh(),this._trackChanges==!0&&(u=this._chgAdded.indexOf(i),u>-1&&this._chgAdded.removeAt(u),f=this._chgEdited.indexOf(i),f>-1&&this._chgEdited.removeAt(f),h=this._chgRemoved.indexOf(i),h<0&&!e&&u<0&&this._chgRemoved.push(i)),c=this.sortDescriptions.length>0,l=this.pageSize>0&&this._pgIdx>-1,c||l||s!=this._getGroupsDigest(this.groups)?this._raiseCollectionChanged():this._raiseCollectionChanged(t.NotifyCollectionChangedAction.Remove,i,r),this.currentItem!==o&&this.onCurrentChanged())},r.prototype.removeAt=function(t){t=n.asInt(t);this.remove(this._pgView[t])},r.prototype._trackItemChanged=function(n){var i,r;if(this._trackChanges)if(i=this._chgEdited.indexOf(n),i<0&&this._chgAdded.indexOf(n)<0)this._chgEdited.push(n);else if(i>-1){r=new t.NotifyCollectionChangedEventArgs(t.NotifyCollectionChangedAction.Change,n,i);this._chgEdited.onCollectionChanged(r)}else if(i=this._chgAdded.indexOf(n),i>-1){r=new t.NotifyCollectionChangedEventArgs(t.NotifyCollectionChangedAction.Change,n,i);this._chgAdded.onCollectionChanged(r)}},r.prototype._extend=function(n,t){for(var i in t)n[i]=t[i]},r.prototype._sameContent=function(n,t){for(var i in t)if(!this._sameValue(n[i],t[i]))return!1;for(i in n)if(!this._sameValue(n[i],t[i]))return!1;return!0},r.prototype._sameValue=function(t,i){return t==i||n.DateTime.equals(t,i)},Object.defineProperty(r.prototype,"canChangePage",{get:function(){return this._canChangePage},set:function(t){this._canChangePage=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isPageChanging",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"itemCount",{get:function(){return this._pgView.length},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"pageIndex",{get:function(){return this._pgIdx},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"pageSize",{get:function(){return this._pgSz},set:function(t){t!=this._pgSz&&(this._pgSz=n.asInt(t),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"totalItemCount",{get:function(){return this._view.length},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"pageCount",{get:function(){return this.pageSize?Math.ceil(this.totalItemCount/this.pageSize):1},enumerable:!0,configurable:!0}),r.prototype.moveToFirstPage=function(){return this.moveToPage(0)},r.prototype.moveToLastPage=function(){return this.moveToPage(this.pageCount-1)},r.prototype.moveToNextPage=function(){return this.moveToPage(this.pageIndex+1)},r.prototype.moveToPage=function(i){var r=n.clamp(i,0,this.pageCount-1),u;return r!=this._pgIdx&&(this.canChangePage||n.assert(!1,'cannot change pages (canChangePage == false).'),u=new t.PageChangingEventArgs(r),this.onPageChanging(u)&&(this._pgIdx=r,this._pgView=this._getPageView(),this._idx=0,this.groupDescriptions&&this.groupDescriptions.length!=0?this.refresh():(this.onPageChanged(),this.onCollectionChanged()))),this._pgIdx==i},r.prototype.moveToPreviousPage=function(){return this.moveToPage(this.pageIndex-1)},r.prototype.onPageChanged=function(t){t===void 0&&(t=n.EventArgs.empty);this.pageChanged.raise(this,t)},r.prototype.onPageChanging=function(n){return this.pageChanging.raise(this,n),!n.cancel},r.prototype._getFullGroup=function(n){var t=this._getGroupByPath(this._fullGroups,n.level,n._path);return t!=null&&(n=t),n},r.prototype._getGroupByPath=function(n,t,i){for(var r,u=0;u<n.length;u++)if((r=n[u],r.level==t&&r._path==i)||r.level<t&&i.indexOf(r._path)==0&&(r=this._getGroupByPath(r.groups,t,i),r!=null))return r;return null},r.prototype._getPageView=function(){if(this.pageSize<=0||this._pgIdx<0)return this._view;var n=this._pgSz*this._pgIdx,t=Math.min(n+this._pgSz,this._view.length);return this._view.slice(n,t)},r.prototype._createGroups=function(t){var u,i,e;if(!this._grpDesc||!this._grpDesc.length)return null;var s=[],h={},r=null;for(u=0;u<t.length;u++){var c=t[u],l=s,a=this._grpDesc.length,f='';for(i=0;i<a;i++){var v=this._grpDesc[i],o=v.groupNameFromItem(c,i),y=i==a-1;r=h[f];!r&&n.isPrimitive(o)&&(r={},h[f]=r);e=this._getGroup(v,l,r,o,i,y);f+='/'+o;e._path=f;y&&e.items.push(c);l=e.groups}}return s},r.prototype._getGroupsDigest=function(n){for(var t,i='',r=0;n!=null&&r<n.length;r++)t=n[r],i+='{'+t.name+':'+(t.items?t.items.length:'*'),t.groups.length>0&&(i+=',',i+=this._getGroupsDigest(t.groups)),i+='}';return i},r.prototype._mergeGroupItems=function(n){for(var i,f,t,r,e=[],u=0;u<n.length;u++){if(i=n[u],!i._isBottomLevel)for(f=this._mergeGroupItems(i.groups),t=0,r=f.length;t<r;t++)i._items.push(f[t]);for(t=0,r=i._items.length;t<r;t++)e.push(i._items[t])}return e},r.prototype._getGroup=function(t,r,u,f,e,o){var c,s,h;if(u&&n.isPrimitive(f)){if(c=u[f],c)return c}else for(s=0;s<r.length;s++)if(t.namesMatch(r[s].name,f))return r[s];return h=new i(t,f,e,o),r.push(h),u&&(u[f]=h),h},r}(),i;t.CollectionView=r;i=function(){function t(n,t,i,r){this._gd=n;this._name=t;this._level=i;this._isBottomLevel=r;this._groups=[];this._items=[]}return Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"level",{get:function(){return this._level},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isBottomLevel",{get:function(){return this._isBottomLevel},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){return this._items},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"groups",{get:function(){return this._groups},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"groupDescription",{get:function(){return this._gd},enumerable:!0,configurable:!0}),t.prototype.getAggregate=function(t,i,u){var f=n.tryCast(u,r),e=f?f._getFullGroup(this):this;return n.getAggregate(t,e.items,i)},t}();t.CollectionViewGroup=i})(t=n.collections||(n.collections={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){'use strict';var i=function(){function i(t){this._showAutoTipBnd=this._showAutoTip.bind(this);this._hideAutoTipBnd=this._hideAutoTip.bind(this);this._html=!0;this._gap=6;this._showAtMouse=!1;this._showDelay=500;this._hideDelay=0;this._tips=[];this.popup=new n.Event;n.copy(this,t)}return i.prototype.setTooltip=function(t,i){t=n.getElement(t);i=this._getContent(i);var r=this._indexOf(t);r>-1&&(this._detach(t),this._tips.splice(r,1));i&&(this._attach(t),this._tips.push({element:t,content:i}))},i.prototype.show=function(r,u,f){var e,o;r=n.getElement(r);u=this._getContent(u);f||(f=n.Rect.fromBoundingRect(r.getBoundingClientRect()));e=i._eTip;e||(e=i._eTip=document.createElement('div'),n.addClass(e,'wj-tooltip'),e.style.visibility='none',document.body.appendChild(e));this._setContent(u);o=new t(u);this.onPopup(o);o.content&&!o.cancel&&(this._setContent(o.content),e.style.minWidth='',f=new n.Rect(f.left-(e.offsetWidth-f.width)/2,f.top-this.gap,e.offsetWidth,f.height+2*this.gap),n.showPopup(e,f,!0),document.addEventListener('mousedown',this._hideAutoTipBnd))},i.prototype.hide=function(){i._eTip&&(i._eTip.style.visibility='hidden',i._eTip.innerHTML='');document.removeEventListener('mousedown',this._hideAutoTipBnd)},Object.defineProperty(i.prototype,"isVisible",{get:function(){return i._eTip&&i._eTip.style.visibility!='hidden'},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isContentHtml",{get:function(){return this._html},set:function(t){this._html=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"gap",{get:function(){return this._gap},set:function(t){this._gap=n.asNumber(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"showAtMouse",{get:function(){return this._showAtMouse},set:function(t){this._showAtMouse=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"showDelay",{get:function(){return this._showDelay},set:function(t){this._showDelay=n.asInt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"hideDelay",{get:function(){return this._hideDelay},set:function(t){this._hideDelay=n.asInt(t)},enumerable:!0,configurable:!0}),i.prototype.onPopup=function(n){this.popup&&this.popup.raise(this,n)},i.prototype._indexOf=function(n){for(var t=0;t<this._tips.length;t++)if(this._tips[t].element==n)return t;return-1},i.prototype._attach=function(n){n.addEventListener('mouseenter',this._showAutoTipBnd);n.addEventListener('mouseleave',this._hideAutoTipBnd);n.addEventListener('click',this._showAutoTipBnd)},i.prototype._detach=function(n){n.removeEventListener('mouseenter',this._showAutoTipBnd);n.removeEventListener('mouseleave',this._hideAutoTipBnd);n.removeEventListener('click',this._showAutoTipBnd)},i.prototype._showAutoTip=function(t){var i=this,r=t.type=='mouseenter'?this._showDelay:0;this._clearTimeouts();this._toShow=setTimeout(function(){var u=i._indexOf(t.target),r,f;u>-1&&(r=i._tips[u],f=i._showAtMouse?new n.Rect(t.clientX,t.clientY,0,0):null,i.show(r.element,r.content,f),i._hideDelay>0&&(i._toHide=setTimeout(function(){i.hide()},i._hideDelay)))},r)},i.prototype._hideAutoTip=function(){this._clearTimeouts();this.hide()},i.prototype._clearTimeouts=function(){this._toShow&&(clearTimeout(this._toShow),this._toShow=null);this._toHide&&(clearTimeout(this._toHide),this._toHide=null)},i.prototype._getContent=function(t){if(t=n.asString(t),t&&t[0]=='#'){var i=n.getElement(t);i&&(t=i.innerHTML)}return t},i.prototype._setContent=function(n){var t=i._eTip;t&&(this.isContentHtml?t.innerHTML=n:t.textContent=n)},i}(),r,t;n.Tooltip=i;r=function(){function n(){}return n}();t=function(t){function i(i){t.call(this);this._content=n.asString(i)}return __extends(i,t),Object.defineProperty(i.prototype,"content",{get:function(){return this._content},set:function(t){this._content=n.asString(t)},enumerable:!0,configurable:!0}),i}(n.CancelEventArgs);n.TooltipEventArgs=t}(wijmo||(wijmo={})),function(n){'use strict';var t=function(){function t(n){this._r=0;this._g=0;this._b=0;this._a=1;n&&this._parse(n)}return Object.defineProperty(t.prototype,"r",{get:function(){return this._r},set:function(t){this._r=n.clamp(n.asNumber(t),0,255)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"g",{get:function(){return this._g},set:function(t){this._g=n.clamp(n.asNumber(t),0,255)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"b",{get:function(){return this._b},set:function(t){this._b=n.clamp(n.asNumber(t),0,255)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"a",{get:function(){return this._a},set:function(t){this._a=n.clamp(n.asNumber(t),0,1)},enumerable:!0,configurable:!0}),t.prototype.equals=function(n){return n instanceof t&&this.r==n.r&&this.g==n.g&&this.b==n.b&&this.a==n.a},t.prototype.toString=function(){var n=Math.round(this.a*100);return n>99?'#'+(16777216+(this.r<<16)+(this.g<<8)+this.b).toString(16).slice(1):'rgba('+this.r+','+this.g+','+this.b+','+n/100+')'},t.fromRgba=function(i,r,u,f){f===void 0&&(f=1);var e=new t(null);return e.r=Math.round(n.clamp(n.asNumber(i),0,255)),e.g=Math.round(n.clamp(n.asNumber(r),0,255)),e.b=Math.round(n.clamp(n.asNumber(u),0,255)),e.a=n.clamp(n.asNumber(f),0,1),e},t.fromHsb=function(i,r,u,f){f===void 0&&(f=1);var e=t._hsbToRgb(n.clamp(n.asNumber(i),0,1),n.clamp(n.asNumber(r),0,1),n.clamp(n.asNumber(u),0,1));return t.fromRgba(e[0],e[1],e[2],f)},t.fromHsl=function(i,r,u,f){f===void 0&&(f=1);var e=t._hslToRgb(n.clamp(n.asNumber(i),0,1),n.clamp(n.asNumber(r),0,1),n.clamp(n.asNumber(u),0,1));return t.fromRgba(e[0],e[1],e[2],f)},t.fromString=function(i){var r=new t(null);return r._parse(n.asString(i))?r:null},t.prototype.getHsb=function(){return t._rgbToHsb(this.r,this.g,this.b)},t.prototype.getHsl=function(){return t._rgbToHsl(this.r,this.g,this.b)},t.interpolate=function(i,r,u){u=n.clamp(n.asNumber(u),0,1);var e=t._rgbToHsl(i.r,i.g,i.b),o=t._rgbToHsl(r.r,r.g,r.b),f=1-u,c=i.a*f+r.a*u,s=[e[0]*f+o[0]*u,e[1]*f+o[1]*u,e[2]*f+o[2]*u],h=t._hslToRgb(s[0],s[1],s[2]);return t.fromRgba(h[0],h[1],h[2],c)},t.toOpaque=function(i,r){if(i=n.isString(i)?t.fromString(i):n.asType(i,t),i.a==1)return i;r=r==null?t.fromRgba(255,255,255,1):n.isString(r)?t.fromString(r):n.asType(r,t);var u=i.a,f=1-u;return t.fromRgba(i.r*u+r.r*f,i.g*u+r.g*f,i.b*u+r.b*f)},t.prototype._parse=function(n){var u,f,r,e,i,o;if(n=n.toLowerCase(),n=='transparent')return this._r=this._g=this._b=this._a=0,!0;if(n&&n.indexOf('#')!=0&&n.indexOf('rgb')!=0&&n.indexOf('hsl')!=0&&(u=document.createElement('div'),u.style.color=n,f=u.style.color,f==n&&(f=window.getComputedStyle(u).color,f||(document.body.appendChild(u),f=window.getComputedStyle(u).color,document.body.removeChild(u))),n=f.toLowerCase()),n.indexOf('#')==0)return n.length==4?(this.r=parseInt(n[1]+n[1],16),this.g=parseInt(n[2]+n[2],16),this.b=parseInt(n[3]+n[3],16),this.a=1,!0):n.length==7?(this.r=parseInt(n.substr(1,2),16),this.g=parseInt(n.substr(3,2),16),this.b=parseInt(n.substr(5,2),16),this.a=1,!0):!1;if(n.indexOf('rgb')==0&&(r=n.indexOf('('),e=n.indexOf(')'),r>-1&&e>-1&&(i=n.substr(r+1,e-(r+1)).split(','),i.length>2)))return this.r=parseInt(i[0]),this.g=parseInt(i[1]),this.b=parseInt(i[2]),this.a=i.length>3?parseFloat(i[3]):1,!0;if(n.indexOf('hsl')==0&&(r=n.indexOf('('),e=n.indexOf(')'),r>-1&&e>-1&&(i=n.substr(r+1,e-(r+1)).split(','),i.length>2))){var c=parseInt(i[0])/360,s=parseInt(i[1]),h=parseInt(i[2]);return i[1].indexOf('%')>-1&&(s/=100),i[2].indexOf('%')>-1&&(h/=100),o=t._hslToRgb(c,s,h),this.r=o[0],this.g=o[1],this.b=o[2],this.a=i.length>3?parseFloat(i[3]):1,!0}return!1},t._hslToRgb=function(i,r,u){var o,s,h,f,e;return n.assert(i>=0&&i<=1&&r>=0&&r<=1&&u>=0&&u<=1,'bad HSL values'),r==0?o=s=h=u:(f=u<.5?u*(1+r):u+r-u*r,e=2*u-f,o=t._hue2rgb(e,f,i+1/3),s=t._hue2rgb(e,f,i),h=t._hue2rgb(e,f,i-1/3)),[Math.round(o*255),Math.round(s*255),Math.round(h*255)]},t._hue2rgb=function(n,t,i){return(i<0&&(i+=1),i>1&&(i-=1),i<1/6)?n+(t-n)*6*i:i<1/2?t:i<2/3?n+(t-n)*(2/3-i)*6:n},t._rgbToHsl=function(t,i,r){var e;n.assert(t>=0&&t<=255&&i>=0&&i<=255&&r>=0&&r<=255,'bad RGB values');t/=255;i/=255;r/=255;var u=Math.max(t,i,r),o=Math.min(t,i,r),f,s,h=(u+o)/2;if(u==o)f=s=0;else{e=u-o;s=h>.5?e/(2-u-o):e/(u+o);switch(u){case t:f=(i-r)/e+(i<r?6:0);break;case i:f=(r-t)/e+2;break;case r:f=(t-i)/e+4}f/=6}return[f,s,h]},t._rgbToHsb=function(i,r,u){n.assert(i>=0&&i<=255&&r>=0&&r<=255&&u>=0&&u<=255,'bad RGB values');var f=t._rgbToHsl(i,r,u);return t._hslToHsb(f[0],f[1],f[2])},t._hsbToRgb=function(n,i,r){var u=t._hsbToHsl(n,i,r);return t._hslToRgb(u[0],u[1],u[2])},t._hsbToHsl=function(t,i,r){n.assert(t>=0&&t<=1&&i>=0&&i<=1&&r>=0&&r<=1,'bad HSB values');var u=n.clamp(r*(2-i)/2,0,1),f=1-Math.abs(2*u-1),e=n.clamp(f>0?r*i/f:i,0,1);return n.assert(!isNaN(u)&&!isNaN(e),'bad conversion to HSL'),[t,e,u]},t._hslToHsb=function(t,i,r){n.assert(t>=0&&t<=1&&i>=0&&i<=1&&r>=0&&r<=1,'bad HSL values');var u=n.clamp(r==1?1:(2*r+i*(1-Math.abs(2*r-1)))/2,0,1),f=n.clamp(u>0?2*(u-r)/u:i,0,1);return n.assert(!isNaN(u)&&!isNaN(f),'bad conversion to HSB'),[t,f,u]},t}();n.Color=t}(wijmo||(wijmo={})),function(n){'use strict';var t=function(){function t(){}return t.copy=function(n){t._copyPasteInternal(n)},t.paste=function(n){t._copyPasteInternal(n)},t._copyPasteInternal=function(t){for(var u=n.getActiveElement(),r=n.closest(u,'.wj-control'),i;r&&n.Control.getControl(r);)r=r.parentElement;r==null&&(r=document.body);r&&(i=document.createElement('textarea'),i.style.position='fixed',i.style.opacity='0',r.appendChild(i),typeof t=='string'&&(i.value=t),i.select(),i.onkeydown=function(n){i.value&&n.preventDefault()},setTimeout(function(){u.focus();var n=i.value;r.removeChild(i);typeof t=='function'&&t(n)},100))},t}();n.Clipboard=t}(wijmo||(wijmo={})),function(n){'use strict';function i(i,r,u,f,e){var l,o,v,rt,p,ut,g,nt,w,tt,ft,it,b,a;if(r===void 0&&(r=null),u===void 0&&(u=!1),f===void 0&&(f=!1),e===void 0&&(e=!0),l=document.body,r instanceof HTMLElement){if(!n.contains(document.body,r))return;for(o=r.parentElement;o;o=o.parentElement)if(getComputedStyle(o).position=='fixed'){l=o;break}}else for(o=n.getActiveElement();o;o=o.parentElement)if(!n.hasClass(o,'wj-popup')&&getComputedStyle(o).position=='fixed'){l=o;break}l.lastChild!=i&&l.appendChild(i);r instanceof HTMLElement&&e&&(v=getComputedStyle(r),rt=new n.Color(v.backgroundColor),rt.a&&n.setCss(i,{color:v.color,backgroundColor:v.backgroundColor,fontFamily:v.fontFamily,fontSize:v.fontSize,fontWeight:v.fontWeight,fontStyle:v.fontStyle}));n.setCss(i,{position:'absolute',visibility:'hidden',display:''});n.Control.refreshAll(i);var y=getComputedStyle(i),et=parseFloat(y.marginTop)+parseFloat(y.marginBottom),ot=parseFloat(y.marginLeft)+parseFloat(y.marginRight),c=new n.Size(i.offsetWidth+ot,i.offsetHeight+et),s=new n.Point,h=null;if(r&&r.clientX!=null&&r.clientY!=null&&r.pageX!=null&&r.pageY!=null)r.clientX<=0&&r.clientY<=0&&r.target?h=r.target.getBoundingClientRect():(s.x=Math.max(0,r.pageX-pageXOffset),s.y=Math.max(0,r.pageY-pageYOffset));else if(r instanceof n.Point)s=r;else if(r instanceof HTMLElement)h=r.getBoundingClientRect();else if(r&&r.top!=null&&r.left!=null)h=r;else if(r==null)s.x=Math.max(0,(innerWidth-c.width)/2),s.y=Math.max(0,Math.round((innerHeight-c.height)/2*.7));else throw'Invalid ref parameter.';if(p=parseFloat(y.minWidth),h){var k=h.top,d=innerHeight-h.bottom,st=getComputedStyle(i).direction=='rtl';s.x=st?Math.max(0,h.right-c.width):Math.max(0,Math.min(h.left,innerWidth-c.width));s.y=u?k>c.height||k>d?Math.max(0,h.top-c.height):h.bottom:d>c.height||d>k?h.bottom:Math.max(0,h.top-c.height);p=Math.max(p,h.width);n.isIE()&&(ut=i.offsetWidth-(i.clientWidth+parseInt(y.borderLeftWidth)+parseInt(y.borderRightWidth)),p-=ut)}else g=innerHeight-20,s.y+c.height>g&&(s.y=Math.max(0,g-c.height)),nt=innerWidth-20,s.x+c.width>nt&&(s.x=Math.max(0,nt-c.width));if(w=new n.Point(0,0),r!=null&&(l==document.body?w=new n.Point(-pageXOffset,-pageYOffset):l&&(tt=l.getBoundingClientRect(),w=new n.Point(tt.left-l.scrollLeft,tt.top-l.scrollTop))),ft={position:r==null?'fixed':'absolute',left:s.x-w.x,top:s.y-w.y,minWidth:p,display:'',visibility:'',zIndex:1500},f&&(i.style.opacity='0',n.animate(function(n){i.style.opacity=n==1?'':n.toString()})),n.setCss(i,ft),it=r instanceof MouseEvent?r.target:r,it instanceof HTMLElement)for(a=it.parentElement;a&&a!=document.body;a=a.parentElement)getComputedStyle(a).overflowY=='auto'&&a.scrollHeight>a.offsetHeight&&(b||(b=new n.Control(document.createElement('div'))),b.addEventListener(a,'scroll',function(){t(i,!0);b.dispose()}))}function r(i,r,u){r===void 0&&(r=!0);u===void 0&&(u=!1);u?n.animate(function(n){i.style.opacity=(1-n).toString();n==1&&(t(i,r),i.style.opacity='')}):t(i,r)}function t(n,t){n.style.display='none';t&&n.parentElement&&n.parentElement.removeChild(n)}n.showPopup=i;n.hidePopup=r}(wijmo||(wijmo={})),function(n){'use strict';var t=function(){function t(t){this._copyCss=!0;t!=null&&n.copy(this,t)}return Object.defineProperty(t.prototype,"title",{get:function(){return this._title},set:function(t){this._title=n.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"copyCss",{get:function(){return this._copyCss},set:function(t){this._copyCss=n.asBoolean(t)},enumerable:!0,configurable:!0}),t.prototype.addCSS=function(n){this._css||(this._css=[]);this._css.push(n)},t.prototype.append=function(t){var i=this._getDocument();n.isString(t)?i.write(t):t instanceof HTMLElement?i.write(t.outerHTML):n.assert(!1,'child should be an HTML element or a string.')},t.prototype.print=function(){var n=this;this._iframe&&(this._close(),setTimeout(function(){var t=n._iframe.contentWindow,i='onafterprint'in t;i&&(t.onafterprint=function(){document.body.removeChild(n._iframe);n._iframe=null});t.focus();t.print();i||(document.body.removeChild(n._iframe),n._iframe=null)},100))},t.prototype._getDocument=function(){if(!this._iframe){this._iframe=document.createElement('iframe');var n=this._iframe.style;n.position='fixed';n.left='10000px';n.top='10000px';document.body.appendChild(this._iframe)}return this._iframe.contentDocument},t.prototype._close=function(){var i=this._getDocument(),r,e,u,o,t,s,f;if(i.close(),this.title&&(r=i.querySelector('title'),r||(r=i.createElement('title'),i.head.appendChild(r)),r.textContent=this.title),this._copyCss){for(e=document.head.querySelectorAll('LINK'),t=0;t<e.length;t++)u=e[t],u.href.match(/\.css$/i)&&u.rel.match(/stylesheet/i)&&(f=n.httpRequest(u.href,{async:!1}),this._addStyle(f.responseText));for(o=document.head.querySelectorAll('STYLE'),t=0;t<o.length;t++)this._addStyle(o[t].textContent)}if(this._css)for(t=0;t<this._css.length;t++)s=i.createElement('style'),f=n.httpRequest(this._css[t],{async:!1}),s.textContent=f.responseText,i.head.appendChild(s)},t.prototype._addStyle=function(n){var t=this._getDocument(),i=t.createElement('style');i.textContent=n;t.head.appendChild(i)},t}();n.PrintDocument=t}(wijmo||(wijmo={})),function(n){'use strict';var i=function(){function i(n,t,i){t===void 0&&(t=null);i===void 0&&(i='_');this._promptChar='_';this._mskArr=[];this._full=!0;this._hbInput=this._input.bind(this);this._hbKeyDown=this._keydown.bind(this);this._hbKeyPress=this._keypress.bind(this);this._hbCompositionStart=this._compositionstart.bind(this);this._hbCompositionEnd=this._compositionend.bind(this);this.mask=t;this.input=n;this.promptChar=i;this._connect(!0)}return Object.defineProperty(i.prototype,"input",{get:function(){return this._tbx},set:function(n){this._connect(!1);this._tbx=n;this._connect(!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"mask",{get:function(){return this._msk},set:function(t){t!=this._msk&&(this._msk=n.asString(t,!0),this._parseMask(),this._valueChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"promptChar",{get:function(){return this._promptChar},set:function(t){t!=this._promptChar&&(this._promptChar=n.asString(t,!1),n.assert(this._promptChar.length==1,'promptChar must be a string with length 1.'),this._valueChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"maskFull",{get:function(){return this._full},enumerable:!0,configurable:!0}),i.prototype.getMaskRange=function(){return this._mskArr.length?[this._firstPos,this._lastPos]:[0,this._tbx.value.length-1]},i.prototype.getRawValue=function(){var t=this._tbx.value,i='',n;if(!this.mask)return t;for(n=0;n<this._mskArr.length&&n<t.length;n++)this._mskArr[n].literal||t[n]==this._promptChar||(i+=t[n]);return i},i.prototype.refresh=function(){this._parseMask();this._valueChanged()},i.prototype._input=function(){var n=this;this._composing||setTimeout(function(){n._valueChanged()})},i.prototype._keydown=function(t){if(t.keyCode==n.Key.Back){var i=this._tbx.selectionStart,r=this._tbx.selectionEnd;if(i<=this._firstPos&&r==i){t.preventDefault();this._backSpace=!1;return}}this._backSpace=t.keyCode==n.Key.Back},i.prototype._keypress=function(n){n.ctrlKey||n.metaKey||n.altKey||this._composing||!this._preventKey(n.charCode)||n.preventDefault()},i.prototype._compositionstart=function(){this._composing=!0},i.prototype._compositionend=function(){var n=this;this._composing=!1;setTimeout(function(){n._valueChanged()})},i.prototype._preventKey=function(t){var r;if(t&&this._mskArr.length){var u=this._tbx,i=u.selectionStart,f=String.fromCharCode(t);if(i<this._firstPos&&(i=this._firstPos,n.setSelectionRange(u,i)),i>=this._mskArr.length)return!0;if(r=this._mskArr[i],r.literal)this._validatePosition(i);else if(r.wildCard!=f&&!this._isCharValid(r.wildCard,f))return!0}return!1},i.prototype._connect=function(n){var t=this._tbx;t&&(n?(this._autoComplete=t.autocomplete,this._spellCheck=t.spellcheck,t.autocomplete='off',t.spellcheck=!1,t.addEventListener('input',this._hbInput),t.addEventListener('keydown',this._hbKeyDown,!0),t.addEventListener('keypress',this._hbKeyPress,!0),t.addEventListener('compositionstart',this._hbCompositionStart,!0),t.addEventListener('compositionend',this._hbCompositionEnd,!0),this._valueChanged()):(t.autocomplete=this._autoComplete,t.spellcheck=this._spellCheck,t.removeEventListener('input',this._hbInput),t.removeEventListener('keydown',this._hbKeyDown,!0),t.removeEventListener('keypress',this._hbKeyPress,!0),t.removeEventListener('compositionstart',this._hbCompositionStart,!0),t.removeEventListener('compositionend',this._hbCompositionEnd,!0)))},i.prototype._valueChanged=function(){var i;if(this._tbx&&this._msk){var t=this._tbx,n=t.selectionStart,r=n>0?t.value[n-1]:'';t.value=this._applyMask();i=n>0?t.value[n-1]:'';n>0&&i==this._promptChar&&r!=this.promptChar&&n--;this._validatePosition(n)}},i.prototype._applyMask=function(){var t,e,r,f,u,n,i;if((this._full=!0,t=this._tbx.value,!this._msk)||!t&&!this._tbx.required)return t;for(e='',r=0,t=this._handleVagueLiterals(t),f=0;f<this._mskArr.length;f++){if(u=this._mskArr[f],n=u.literal,n&&n==t[r]&&r++,u.wildCard){if(n=this._promptChar,t){for(i=r;i<t.length;i++)if(this._isCharValid(u.wildCard,t[i])){n=t[i];switch(u.charCase){case'>':n=n.toUpperCase();break;case'<':n=n.toLowerCase()}break}r=i+1}n==this._promptChar&&(this._full=!1)}e+=n}return e},i.prototype._handleVagueLiterals=function(n){var i,t,f,r,e,u;if(n.length>this._mskArr.length+1)return n;if(i=n.length-this._mskArr.length,i!=0&&n.length>1){for(t=-1,f=Math.max(0,this._tbx.selectionStart-i),r=f;r<this._mskArr.length;r++)if(this._mskArr[r].vague){t=r;break}if(t>-1)if(i<0)e=Array(1-i).join(this._promptChar),u=t+i,u>-1&&(n=n.substr(0,u)+e+n.substr(u));else{while(t>0&&this._mskArr[t-1].literal)t--;n=n.substr(0,t)+n.substr(t+i)}}return n},i.prototype._isCharValid=function(n,t){var r=this._promptChar;switch(n){case'0':return t>='0'&&t<='9'||t==r;case'9':return t>='0'&&t<='9'||t==' '||t==r;case'#':return t>='0'&&t<='9'||t==' '||t=='+'||t=='-'||t==r;case'L':return t>='a'&&t<='z'||t>='A'&&t<='Z'||t==r;case'l':return t>='a'&&t<='z'||t>='A'&&t<='Z'||t==' '||t==r;case'A':return t>='0'&&t<='9'||t>='a'&&t<='z'||t>='A'&&t<='Z'||t==r;case'a':return t>='0'&&t<='9'||t>='a'&&t<='z'||t>='A'&&t<='Z'||t==' '||t==r;case'\uff19':return t>='\uFF10'&&t<='\uff19'||t==r;case'\uff2a':case'\uff27':return n=='\uff27'&&i._X_DBCS_BIG_HIRA.indexOf(t)>-1?!1:t>='\u3041'&&t<='\u3096'||t==r;case'\uff2b':case'\uff2e':return n=='\uff2e'&&i._X_DBCS_BIG_KATA.indexOf(t)>-1?!1:t>='\u30a1'&&t<='\u30fa'||t==r;case'\uff3a':return t<='\u0021'||t>='\u00ff'||t==r;case'H':return t>='\u0021'&&t<='\u00ff'||t==r;case'K':case'N':return n=='N'&&i._X_SBCS_BIG_KATA.indexOf(t)>-1?!1:t>='\uff66'&&t<='\uff9f'||t==r}return!1},i.prototype._validatePosition=function(t){var i=this._mskArr;if(this._backSpace)while(t>0&&t<i.length&&i[t-1].literal)t--;if(t==0||!this._backSpace)while(t<i.length&&i[t].literal)t++;n.getActiveElement()==this._tbx&&n.setSelectionRange(this._tbx,t);this._backSpace=!1},i.prototype._parseMask=function(){var r,o,f,i,e,u,s;for(this._mskArr=[],this._firstPos=-1,this._lastPos=-1,r=this._msk,o='|',i=0;r&&i<r.length;i++)switch(r[i]){case'0':case'9':case'#':case'A':case'a':case'L':case'l':case'\uff19':case'\uff2a':case'\uff27':case'\uff2b':case'\uff2e':case'\uff3a':case'K':case'N':case'H':this._firstPos<0&&(this._firstPos=this._mskArr.length);this._lastPos=this._mskArr.length;this._mskArr.push(new t(r[i],o));break;case'.':case',':case':':case'/':case'$':switch(r[i]){case'.':case',':f=n.culture.Globalize.numberFormat[r[i]];break;case':':case'/':f=n.culture.Globalize.calendar[r[i]];break;case'$':f=n.culture.Globalize.numberFormat.currency.symbol}for(u=0;u<f.length;u++)this._mskArr.push(new t(f[u]));break;case'<':case'>':case'|':o=r[i];break;case'\\':i<r.length-1&&i++;this._mskArr.push(new t(r[i]));break;default:this._mskArr.push(new t(r[i]))}for(i=0;i<this._mskArr.length;i++)if(e=this._mskArr[i],e.literal)for(u=0;u<i;u++)if(s=this._mskArr[u],s.wildCard&&this._isCharValid(s.wildCard,e.literal)){e.vague=!0;break}},i._X_DBCS_BIG_HIRA='\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308e\u3095\u3096',i._X_DBCS_BIG_KATA='\u30a1\u30a3\u30a5\u30a7\u30a9\u30c3\u30e3\u30e5\u30e7\u30ee\u30f5\u30f6',i._X_SBCS_BIG_KATA='\uff67\uff68\uff69\uff6a\uff6b\uff6c\uff6d\uff6e\uff6f',i}(),t;n._MaskProvider=i;t=function(){function n(n,t){t?(this.wildCard=n,this.charCase=t):this.literal=n}return n}();n._MaskElement=t}(wijmo||(wijmo={})),function(n){'use strict';function s(){return o}function h(){return r}function c(){return u}function l(){return f}var o=navigator.userAgent.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone/i)!=null,r,u,f,i,e,t;n.isMobile=s;r=navigator.userAgent.match(/Firefox\//)!=null;n.isFirefox=h;u=navigator.userAgent.match(/MSIE |Trident\/|Edge\//)!=null;n.isIE=c;n.isIE9=l;document.doctype&&navigator.appVersion.indexOf('MSIE 9')>-1&&(f=!0,document.addEventListener('mousemove',function(n){if(n.which==1)for(var t=n.target;t;t=t.parentNode)if(t.attributes&&t.attributes.draggable)return t.dragDrop(),!1}));i='requestAnimationFrame';e='cancelAnimationFrame';window[i]||(t=0,window[i]=function(n){var i=Date.now(),r=16-(i-t),u=r>0?r:0;return t=i+u,setTimeout(function(){n(t)},u)},window[e]=clearTimeout)}(wijmo||(wijmo={}))
var c1;(function(n){function f(n,i){if(!n||i==null)return null;var r=n[t];return r?r[i]:null}function e(n,i){var r,u=[],f,e;if(!n||(r=n[t],!r))return u;for(e in r)f=r[e],(!i||f instanceof i)&&u.push(f);return u}function o(n,i,r){if(n&&i!=null&&r){var u=n[t];u||(n[t]=u={});u[i]=r}}function r(n,t){return n&&t&&n instanceof wijmo.Event&&wijmo.isFunction(t)?(n.addHandler(t),!0):!1}function s(n){if(!n)return null;var t=window;return n.split(".").forEach(function(n){return t=t[n]}),t}function h(n){document.addEventListener("DOMContentLoaded",n.bind(window))}var t="_c1Extenders",i,u;n.getExtender=f;n.getExtenders=e;n._addExtender=o;n._addEvent=r;n._findFunction=s;n.documentReady=h;i=function(){function n(n){if(n==null)throw"control should not be null or undefined.";this._control=n;this._override()}return Object.defineProperty(n.prototype,"control",{get:function(){return this._control},enumerable:!0,configurable:!0}),n.prototype._override=function(){n._overrideCopy(this.control)},n._overrideCopy=function(n){var t=Object.getPrototypeOf(n),i=t._copy;t._isCopyOverrided||(t._copy=function(n,t){var u=this[n];return r(u,t)?!0:i?i.call(this,n,t):!1},t._isCopyOverrided=!0)},n}();n._Initializer=i;u=function(){function n(n,t){var i=this;i._beforeCreateControl(t);i._createControl(n);i._bindControl();i._initExtensions()}return n.prototype._beforeCreateControl=function(){},n.prototype._createControl=function(n){var t=this,i=t._controlType;t._control=new i(n)},n.prototype._bindControl=function(){n.setWrapper(this.control,this)},n.setWrapper=function(t,i){t[n._DATA_KEY]=i},n.getWrapper=function(t){return t[n._DATA_KEY]},n.prototype._initExtensions=function(){var n=this;this._extensionTypes.forEach(function(t){new t(n.control)})},n.prototype.initialize=function(){this.control.initialize.apply(this.control,arguments)},Object.defineProperty(n.prototype,"_extensionTypes",{get:function(){return[this._initializerType]},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_initializerType",{get:function(){return i},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_controlType",{get:function(){throw"Should implement this property getter in the leaf control wrapper.";},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"control",{get:function(){return this._control},enumerable:!0,configurable:!0}),n._DATA_KEY="_c1ControlWrapper",n}();n._ControlWrapper=u})(c1||(c1={}));
var c1;(function(n){function i(i,r,u){var f;if(arguments.length===1&&t[i]!=null)return t[i];if(i.length&&!r&&u==null){if(f=n._findFunction(i),f==null)throw"service is not registered.";return t[i]=f,f}if(!r)throw"serviceCtor is null";if(i.length&&typeof r=="object"&&u==null)return t[i]=r,r;if(typeof r!="function")throw"serviceCtor is not a service constructor.";try{f=new r;typeof f.initialize!="function"?f=new r(u):f.initialize.call(f,u)}catch(e){throw"service cannot be created.";}return i.length&&(t[i]=f),f}function r(n){delete t[n]}function u(n){return t[n]}var t={};n._registerService=i;n._disposeService=r;n.getService=u})(c1||(c1={}));
this.__JSONC1||(__JSONC1={}),function(){function t(n,t){for(n=n.toString();n.length<t;)n="0"+n;return n}function o(n){return e.lastIndex=0,e.test(n)?'"'+n.replace(e,function(n){var t=s[n];return typeof t=="string"?t:"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+n+'"'}function u(t,f,e){e===void 0&&(e=!0);var l,a,h,v,y=n,c,s=f[t],p;e||(p=s instanceof Date);s&&typeof s=="object"&&typeof s.c1ToJSON=="function"?s=s.c1ToJSON(t):s&&typeof s=="object"&&typeof s.toJSON=="function"&&(s=s.toJSON(t));typeof i=="function"&&(s=i.call(f,t,s));switch(typeof s){case"string":return p?s:o(s);case"number":return isFinite(s)?String(s):"null";case"boolean":case"null":return String(s);case"object":if(!s)return"null";if(n+=r,c=[],Object.prototype.toString.apply(s)==="[object Array]"){for(v=s.length,l=0;l<v;l+=1)c[l]=u(l,s,e)||"null";return h=c.length===0?"[]":n?"[\n"+n+c.join(",\n"+n)+"\n"+y+"]":"["+c.join(",")+"]",n=y,h}if(i&&typeof i=="object")for(v=i.length,l=0;l<v;l+=1)a=i[l],typeof a=="string"&&(h=u(a,s,e),h&&c.push(o(a)+(n?": ":":")+h));else for(a in s)Object.hasOwnProperty.call(s,a)&&(h=u(a,s,e),h&&c.push(o(a)+(n?": ":":")+h));return h=c.length===0?"{}":n?"{\n"+n+c.join(",\n"+n)+"\n"+y+"}":"{"+c.join(",")+"}",n=y,h}}Date.prototype.c1ToJSON=function(){return""+t(this.getFullYear(),4)+"-"+t(this.getMonth()+1,2)+"-"+t(this.getDate(),2)+"T"+t(this.getHours(),2)+":"+t(this.getMinutes(),2)+":"+t(this.getSeconds(),2)+":"+t(this.getMilliseconds(),3)+"Z"};typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=Date.prototype.c1ToJSON,String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var f=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,e=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n,r,s={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},i;typeof __JSONC1.stringify!="function"&&(__JSONC1.stringify=function(t,f,e,o){o===void 0&&(o=!0);var s;if(n="",r="",typeof e=="number")for(s=0;s<e;s+=1)r+=" ";else typeof e=="string"&&(r=e);if(i=f,f&&typeof f!="function"&&(typeof f!="object"||typeof f.length!="number"))throw new Error("json stringify");return u("",{"":t},o)});typeof __JSONC1.parseDate!="function"&&(__JSONC1.parseDate=function(n){var t=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*)?):(\d{3})Z$/.exec(n),i=null;return t&&(i=new Date(+t[1],+t[2]-1,+t[3],+t[4],+t[5],+t[6],+t[7]),i.setFullYear(+t[1])),i});typeof __JSONC1.parse!="function"&&(__JSONC1.parse=function(n,t){function u(n,t){var f,e,r=n[t];if(r&&typeof r=="object")for(f in r)Object.hasOwnProperty.call(r,f)&&(e=u(r,f),e!==undefined?r[f]=e:delete r[f]);return i.call(n,t,r)}var i=function(n,i){if(typeof i=="string"){var r=__JSONC1.parseDate(i);if(r)return r}return t&&typeof t=="function"?t.call(this,n,i):i},r;if(window.JSON&&typeof JSON.parse=="function")return JSON.parse(n,i);if(f.lastIndex=0,f.test(n)&&(n=n.replace(f,function(n){return"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(n.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return r=eval("("+n+")"),typeof i=="function"?u({"":r},""):r;throw new SyntaxError("json parse");})}();Date.prototype.getMonthlyWeekNumber||(Date.prototype.getMonthlyWeekNumber=function(){for(var t=0,i=new Date(this.getFullYear(),this.getMonth(),1),n=new Date(this.getFullYear(),this.getMonth(),this.getDate());i<=n;)t++,n=new Date(n.getFullYear(),n.getMonth(),n.getDate()-7);return t});
var c1;(function(n){var t;(function(t){var u=function(){function n(n){this.uniqueId=n;this._keyPrefix="wj-";this._keys={isCallback:this._keyPrefix+"cbk",uniqueId:this._keyPrefix+"id",data:this._keyPrefix+"data"}}return n.prototype.doCallback=function(n,t){var r={},u=this._keys;r[u.isCallback]="true";r[u.uniqueId]=this.uniqueId;r[u.data]=i.objectToString(n);i.ajaxPost("",t,r)},n}(),r,i;t.CallbackManager=u;r=wijmo.Binding.prototype.getValue;wijmo.Binding.prototype.getValue=function(n){return n?(r&&(n=r.call(this,n)),n):null};i=function(){function t(){}return t.getType=function(n){var r,i;if(t.class2type==null)for(r="Boolean Number String Function Array Date RegExp Object Error".split(" "),t.class2type={},i=0;i<r.length;i++)t.class2type["[object "+r[i]+"]"]=r[i].toLowerCase();return n==null?n+"":typeof n=="object"||typeof n=="function"?t.class2type[{}.toString.call(n)]||"object":typeof n},t.isEmptyContent=function(n){return n==null||!n.length||!n.replace(/\s*/g,"").length?!0:!1},t.getService=function(n){return new Function("return "+n+";").call(window)},t.parseFunction=function(t){if(/function\(.*?\)/.test(t))return{value:eval(t),success:!0};var i=/^\/Function\((.*?)\)\/$/.exec(t);return i?{value:n._findFunction(i[1]),success:!0}:{success:!1}},t.parseService=function(n){var i=/^\/Service\((.*?)\)\/$/.exec(n);return i?{value:t.getService(i[1]),success:!0}:{success:!1}},t.stringToObject=function(n){return __JSONC1.parse(n,function(n,i){if(typeof i=="string"){var r=t.parseFunction(i);if(r&&r.success||(r=t.parseService(i),r.success))return r.value}return i})},t.objectToString=function(n){return __JSONC1.stringify(n,function(n,t){return typeof t=="function"?String(t):t})},t.random=function(n,t){var i=Math.random();return n+i*(t-n)},t.formatString=function(n){for(var i=[],t=1;t<arguments.length;t++)i[t-1]=arguments[t];return n.replace(/{(\d+)}/g,function(n,t){return typeof i[t]!="undefined"?i[t]:n})},t.isObject=function(n){return n!=null&&typeof n=="object"&&t.getType(n)!=="date"},t.copy=function(n,i){var r,u;for(r in i)u=i[r],n._copy&&n._copy(r,u)||(t.isObject(u)&&n[r]?t.copy(n[r],u):n[r]=u);return n},t.extend=function(n){for(var r,u=[],i=1;i<arguments.length;i++)u[i-1]=arguments[i];return r=u.map(function(n){return t.copy({},n)}),r.unshift(n),r.reduceRight(function(n,i){return t.copy(i,n)})},t.formEncodedObject=function(n){var u=[],r,i;for(r in n)i=n[r],t.isObject(i)?i=encodeURIComponent(JSON.stringify(i)):i&&(i=encodeURIComponent(i.toString())),u.push(r+"="+i);return u.join("&")},t.ajax=function(n){var r=new XMLHttpRequest,i=t.copy({async:!0,cache:!1,type:"GET",postType:"form"},n),f,e,o,u=i.url,s;if(typeof i.data=="string"||i.data instanceof Document)f=i.data;else if(t.isObject(i.data))if(i.type==="GET")u+=u.indexOf("?")>=0?"&":"?",u+=t.formEncodedObject(i.data);else if(i.postType==="form")f=t.formEncodedObject(i.data),i.contentType="application/x-www-form-urlencoded";else if(i.postType==="json")f=t.objectToString(i.data),i.contentType="application/json";else if(i.postType==="multipart"){f=new FormData;for(e in i.data)f.append(e,i.data[e])}if(r.onload=function(){var n;i.dataType==="json"?n=t.stringToObject(r.responseText):i.dataType==="text"||i.dataType==="html"||i.dataType==="script"?n=r.responseText:i.dataType==="xml"&&(n=r.responseXML);i.success.bind(r)(n)},i.error&&(r.onerror=i.error.bind(r)),i.cache||(s="_="+t.random(1e3,9999).toFixed(0),u+=u.indexOf("?")>=0?"&":"?",u+=s),r.open(i.type,u,i.async),i.headers)for(o in i.headers)r.setRequestHeader(o,i.headers[o]);i.contentType&&r.setRequestHeader("Content-Type",i.contentType);i.beforeSend&&i.beforeSend(r,i);r.send(f)},t.beginRequest=function(n,i,r,u,f){u===void 0&&(u=null);f===void 0&&(f="json");t.ajax({async:!0,data:u,dataType:f,type:i,success:r,url:n})},t.ajaxGet=function(n,i,r,u){r===void 0&&(r=null);u===void 0&&(u="json");t.beginRequest(n,"GET",i,r,u)},t.ajaxPost=function(n,i,r,u){r===void 0&&(r=null);u===void 0&&(u="json");t.beginRequest(n,"POST",i,r,u)},t.ajaxLoad=function(n,i,r){r===void 0&&(r=null);t.beginRequest(i,"GET",function(t){var i=document.querySelector(n);i.innerHTML=t},r,"html")},t.documentReady=function(t){n.documentReady(t)},t.tryCallJQuery=function(n){var t=window.jQuery;t&&typeof t=="function"&&n(t)},t.forwardValidationEvents=function(n,i,r,u){u===void 0&&(u=!1);u||n.gotFocus.addHandler(function(){setTimeout(function(){return t.tryCallJQuery(function(n){return n(r).focus()})})});n.addEventListener(n.hostElement,"keyup",function(n){t.tryCallJQuery(function(t){(n.which!==9||t(r).val()!=="")&&t(r).keyup()})});n.lostFocus.addHandler(function(){t.tryCallJQuery(function(n){return n(r).blur()})})},t.triggerValidationChangeEvent=function(n){t.tryCallJQuery(function(t){return t(n).keyup()})},t}();t.Utils=i})(t=n.mvc||(n.mvc={}))})(c1||(c1={}));
var c1;(function(n){var t;(function(n){var t=function(){function t(t){this._symbolList={};this._sections=[];this._scripts=[];this._scriptSnippetsCount=0;var e=this,r,i,f=!1,u;if(t!=null){if(u=n.Utils.getType(t),u==="array")i=t[0],f=!!t[1];else if(u==="string")i=t;else throw"Invalid parameter type.";n.Utils.isEmptyContent(i)||(f&&(r=document.getElementById(i),r!=null&&(i=r.innerHTML)),n.Utils.isEmptyContent(i))||(e._content=i)}}return t.prototype.apply=function(i){var u,r=this,f;if(!n.Utils.isEmptyContent(r._content)&&i){if(r._sections.length||r._initialize(),r._scriptSnippetsCount>0)for(f=t.getGlobalContextName(i[t.UID]),window[f]={},u=0;u<r._scriptSnippetsCount;u++)window[f]["n"+u.toString()]=i[t.DATACONTEXT];return r._replaceSymbols(i)}},t.prototype.applyTo=function(n,i){var r,u,e,f=this;for(n.innerHTML=f.apply(i),r=0;r<f._scripts.length;r++)u=f._scripts[r],u.isSrc?t.excuteScriptSrc(u.data):(e=t.replaceSymbols(i,u.data,f._symbolList,!0),t.excuteScriptSnippets(e))},t.getGlobalContextName=function(n){return n==null&&(n=""),t.TEMPLATE_PREFIX+n},t.prototype._initialize=function(){var t=this;if(!t._sections.length){if(n.Utils.isEmptyContent(t._content)){t._content=null;return}t._content=t._content.replace(/<\\\/script>/g,"<\/script>");t._parseSymbols();t._parseContent()}},t.prototype._parseSymbols=function(){var r,o=this,s=o._content,u,i,e,f=o._symbolList;if(!n.Utils.isEmptyContent(s)){if(r=s.match(t.ALL_SYMBOL),r!=null&&r.length)for(u=0;u<r.length;u++)i=t.getSymbol(r[u]),i&&typeof f[i.key]=="undefined"&&(f[i.key]={name:i.name,format:i.format});e=t.getSymbolRegStr(t.UID);typeof f[e]=="undefined"&&(f[e]={name:t.UID})}},t.prototype._parseContent=function(){var r=this,f=r._content,i,e=0,o="",u,s,h,c;if(!n.Utils.isEmptyContent(f)){for(i=t.COMPLETE_SCRIPT.exec(f);i!=null;)u=i.input.substring(0,i.index),r._updateContentSections(!1,u),h=n.Utils.isEmptyContent(i[1]),c=n.Utils.isEmptyContent(i[3]),h&&c?n.Utils.isEmptyContent(i[4])?r._updateContentSections(!1,i[0]):(u=i[2],o=t.processScriptCode(i[4],e),r._scripts.push({isSrc:!1,data:o}),u+=o,u+=i[5],r._updateContentSections(!0,u),e=e+1):(h||(s=i[1]),c||(s=i[3]),r._scripts.push({isSrc:!0,data:s}),r._updateContentSections(!1,i[0])),f=i.input.substr(i.index+i[0].length),i=t.COMPLETE_SCRIPT.exec(f);r._updateContentSections(!1,f);r._scriptSnippetsCount=e}},t.prototype._replaceSymbols=function(n){for(var r=this,u,f="",i=0;i<r._sections.length;i++)u=r._sections[i],f+=t.replaceSymbols(n,u.data,r._symbolList,u.isScriptCode);return f},t.prototype._updateContentSections=function(t,i){var r=this,u;n.Utils.isEmptyContent(i)||(u=r._sections.length,u&&!!r._sections[u-1].isScriptCode!=!!!t?r._sections[u-1].data+=i:r._sections.push({isScriptCode:t,data:i}))},t.excuteScriptSrc=function(t){return n.Utils.ajax({url:t,type:"GET",dataType:"script",async:!1})},t.excuteScriptSnippets=function(n){(window.execScript||function(n){window.eval.call(window,n)})(n)},t.getSymbol=function(n){var i=t.ONE_SYMBOL.exec(n);if(i!=null&&i.length&&i[1]!=null)return{key:t.getSymbolRegStr(i[1],i[2]),name:i[1],format:i[2]}},t.getSymbolRegStr=function(t,i){var r;return n.Utils.isEmptyContent(t)?r:(r="{{\\s*?"+t+"\\s*?",i==null||i.length||(r+="\\|\\s*?"+i+"\\s*?"),r+"}}")},t.replaceSymbols=function(i,r,u,f){f===void 0&&(f=!1);var o=r,s,h,c,e;if(!n.Utils.isEmptyContent(r)&&u){for(e in u)c=new RegExp(e,"g"),s=t.getValue(u[e].name,i),h=u[e].name===t.UID?String(s):t.getFormattedText(s,u[e].format,f),o=o.replace(c,h);return o}},t.getFormattedText=function(i,r,u){u===void 0&&(u=!1);var f;return f=n.Utils.isEmptyContent(r)?i:wijmo.Globalize.format(i,r),t.getJsonText(f,!u)},t.getJsonText=function(i,r){r===void 0&&(r=!0);var f,u;return u=t.c1Stringify(i,r),r&&(i===null||typeof i=="undefined"?u="":(f=n.Utils.getType(i),(f==="string"||f==="date")&&(u=u.substr(1,u.length-2),u=u.replace(/\\\\/g,"\\")))),u},t.c1Stringify=function(n,i){i===void 0&&(i=!0);var r;return i||(r=function(n,i){return t.reISO.test(i)?"new Date('"+i+"')":i}),__JSONC1.stringify(n,r,null,i)},t.getValue=function(n,i){if(i!=null&&n!=null&&n.length)return typeof i[n]!="undefined"?i[n]:i[t.DATACONTEXT]==null?void 0:i[t.DATACONTEXT][n]},t.processScriptCode=function(n,i){var r="window['"+t.getGlobalContextName("{{"+t.UID+"}}")+"']['n"+i+"']";return"(function($data){"+n+";delete "+r+";})("+r+");"},t.DATACONTEXT="dataContext",t.UID="uid",t.TEMPLATE_PREFIX="_c1Template_",t.ALL_SYMBOL=/{{\s*?([^\|\s\}]+?)\s*?(?:\|\s*?(\S+?))?\s*?}}/g,t.ONE_SYMBOL=/{{\s*?([^\|\s\}]+?)\s*?(?:\|\s*?(\S+?))?\s*?}}/,t.COMPLETE_SCRIPT=/<script(?:\s+[^>]+)*?\s+src\s*?=\s*?[\'\"]([^\'|\"]+?)[\'\"]\/>|(<script(?:\s+[^>]+)*?(?:\s+src\s*?=\s*?[\'\"]([^\'|\"]+?)[\'\"])?[^>]*?>)([^<]+)(<\/script>)/,t.reISO=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*)?):(\d{3})Z$/,t}();n.Template=t})(t=n.mvc||(n.mvc={}))})(c1||(c1={}));
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},c1;(function(n){var t;(function(t){function s(n){return n[r]}function f(n,t){n[r]=t}function h(n){return n[u]}function e(n,t){n[u]=t}var r="_c1MvcOptions",u="_c1MvcUniqueId",o,i;t._getOptions=s;t._setOptions=f;t._getUniqueId=h;t._setUniqueId=e;o=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),Object.defineProperty(t.prototype,"_initializerType",{get:function(){return i},enumerable:!0,configurable:!0}),t}(n._ControlWrapper);t._ControlWrapper=o;i=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),Object.defineProperty(t.prototype,"controlHasInitialize",{get:function(){return this._controlHasInitialize},enumerable:!0,configurable:!0}),t.prototype._beforeInitializeControl=function(){},t.prototype._afterInitializeControl=function(){},t.prototype._override=function(){n.prototype._override.call(this);var i=this,r=i.control,u=t.getInitialize(r);i._controlHasInitialize=!!u;t.setInitialize(r,function(n,o){t.bindTemplateScope(n,o);f(r,n);e(r,n.uniqueId);delete n.uniqueId;i._beforeInitializeControl(n);i.controlHasInitialize&&u.call(r,n);i._afterInitializeControl(n)})},t.prototype.intializeControl=function(n,i){t.getInitialize(this.control).call(this.control,n,i)},t.getInitialize=function(n){return n[t._INITIAL_NAME]},t.setInitialize=function(n,i){n[t._INITIAL_NAME]=i},t.bindTemplateScope=function(n,t){if(n&&n.templateBindings&&t){for(var i in n.templateBindings)n[i]=t[n.templateBindings[i]];delete n.templateBindings}},t._INITIAL_NAME="initialize",t}(n._Initializer);t._Initializer=i})(t=n.mvc||(n.mvc={}))})(c1||(c1={}));
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},c1;(function(n){var t;(function(t){var i;(function(i){var f=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t}(wijmo.EventArgs),u,e,r;i.QueryEventArgs=f;u=function(t){function i(n){t.call(this);this._disableServerRead=!1;this._batchEdit=!1;this._queryList=[];this._errors=[];this._skip=0;this._top=0;this._isInitializing=!1;this._isFillingData=!1;this._query=0;this._isUpdatingItem=!1;this._isGrouping=!1;this._needMoveCurrentToFirst=!0;this.beginQuery=new wijmo.Event;this.endQuery=new wijmo.Event;this.queryData=new wijmo.Event;var i=this;i._requestParams={};i._applySettings(n);i._batchEdit&&(i.trackChanges=!0);i.groupDescriptions.collectionChanged.removeAllHandlers();i.groupDescriptions.collectionChanged.addHandler(function(){for(var r,t=i.groupDescriptions,n=0;n<t.length;n++)if(r=wijmo.tryCast(t[n],wijmo.collections.GroupDescription),!r)throw"groupDescriptions array must contain GroupDescription objects.";i.canGroup&&(i._isGrouping=!0,i.refresh(),i._isGrouping=!1)})}return __extends(i,t),i.prototype.onBeginQuery=function(){this._query++;this.beginQuery.raise(this)},i.prototype.onEndQuery=function(){this._query--;this.endQuery.raise(this)},i.prototype._isQuerying=function(){return this._query>0},i.prototype.onQueryData=function(n){this.queryData.raise(this,n)},i.prototype.requireInitData=function(){var n=this;n._isDynamicalLoadingEnabled()?n._sendRequest(n._readActionUrl,{top:n._initialItemsCount}):n._sendRequest(n._readActionUrl)},i.prototype._applySettings=function(n){var t=this,r,i;n&&(t._initialize(function(){t._disableServerRead=!!n.disableServerRead;t._pgIdx=n.pageIndex||0;t.pageSize=n.pageSize||0;n.sortDescriptions&&n.sortDescriptions.forEach(function(n){return t.sortDescriptions.push(new wijmo.collections.SortDescription(n.property,n.ascending))});n.groupDescriptions&&n.groupDescriptions.forEach(function(n){i=n.clientClass;r=i?new i(n.propertyName,n.converter):new wijmo.collections.PropertyGroupDescription(n.propertyName,n.converter);t.groupDescriptions.push(r)});t._readActionUrl=n.readActionUrl||"";t._createActionUrl=n.createActionUrl||"";t._updateActionUrl=n.updateActionUrl||"";t._deleteActionUrl=n.deleteActionUrl||"";t._batchEditActionUrl=n.batchEditActionUrl||"";t._batchEdit=!!n.batchEdit;t._initialItemsCount=n.initialItemsCount;wijmo.isFunction(n.queryData)&&t.queryData.addHandler(n.queryData)}),t.requireInitData(n))},i.prototype._initialize=function(n){try{this._isInitializing=!0;n()}finally{this._isInitializing=!1}},i.prototype.refresh=function(){this._isInitializing||t.prototype.refresh.call(this)},i.prototype._performRefresh=function(){var n=this,r=n.canFilter,u=n.canSort,i=n._disableServerRead;if(i||!n.beginQuery||n._isUpdatingItem||n._isGrouping||n._isFillingData){i||(n.canFilter=!1,n.canSort=!1);t.prototype._performRefresh.call(this);i||(n.canFilter=r,n.canSort=u);return}n._requestRead()},i.prototype.onCollectionChanged=function(n){this._isQuerying()||t.prototype.onCollectionChanged.call(this,n)},i.prototype._getPageView=function(){var n=this;return n._disableServerRead?t.prototype._getPageView.call(this):n._view},Object.defineProperty(i.prototype,"pageCount",{get:function(){var n=this;return n.pageSize?Math.ceil(n.totalItemCount/n.pageSize):1},enumerable:!0,configurable:!0}),i.prototype.onPageChanging=function(n){var i=this;return i._disableServerRead?t.prototype.onPageChanging.call(this,n):(i._pgIdx=n.newPageIndex,i._idx=0,i._disableServerRead?i.refresh():i._requestRead(),!1)},i.prototype.commitNew=function(){var n=this;n.currentAddItem&&n._createActionUrl&&n._requestWrite(r.Create,[n.currentAddItem]);n._isUpdatingItem=!0;t.prototype.commitNew.call(this);n._isUpdatingItem=!1},i.prototype.commitEdit=function(){var n=this,i=n._sameContent(n.currentEditItem,n._edtClone);!i&&n.currentEditItem&&n.currentEditItem!=n.currentAddItem&&n._updateActionUrl&&n._requestWrite(r.Update,[n.currentEditItem]);n._isUpdatingItem=!0;t.prototype.commitEdit.call(this);n._isUpdatingItem=!1},i.prototype.remove=function(n){var i=this;i._deleteActionUrl&&i._requestWrite(r.Delete,[n]);i._isUpdatingItem=!0;t.prototype.remove.call(this,n);i._isUpdatingItem=!1},i.prototype.commit=function(){var n=this;n._batchEdit&&(n.commitEdit(),n.commitNew(),(n.itemsAdded&&n.itemsAdded.length||n.itemsRemoved&&n.itemsRemoved.length||n.itemsEdited&&n.itemsEdited.length)&&n._batchEditActionUrl&&n._requestWrite(r.BatchEdit))},i.prototype._processErrors=function(n){var t=this;n.success||this._errors.push(n.error);n.operatedItemResults&&n.operatedItemResults.forEach(function(n){n.success||t._errors.push(n.error)})},i.prototype._showErrors=function(){var n=this;n._errors&&n._errors.length&&alert(n._errors.join(","))},i.prototype._success=function(n){var i=n.items||[],t=this,r=n.skip||0;if(t._processErrors(n),t.onEndQuery(),t._queryList&&t._queryList.length){t._sendQuery();return}t._showErrors();t._reset();t._pgIdx=n.pageIndex||0;t._fillData(i,r,n.totalItemCount)},i.prototype._isPartialDataLoaded=function(){return this._isDynamicalLoadingEnabled()||this.pageSize>0},i.prototype._isDynamicalLoadingEnabled=function(){return!this.pageSize&&!this._disableServerRead&&this._initialItemsCount!=null},i.prototype._isDisableServerRead=function(){return this._disableServerRead},i.prototype._fillData=function(n,t,i){var r=this,u=r._isDynamicalLoadingEnabled();n=n||[];t=t||0;r._totalItemCount=i||0;try{r._isFillingData=!0;r.deferUpdate(function(){r.sourceCollection.clear();u?(r._skip=t,r._top=n.length,r.sourceCollection.length=r._totalItemCount,n.forEach(function(n,i){var u=i+t;if(u>=r._totalItemCount||u<0)throw"The index of item is out of range.";r.sourceCollection[u]=n})):n.forEach(function(n){r.sourceCollection.push(n)});r._needMoveCurrentToFirst&&r.currentPosition<0&&(r.moveCurrentToFirst(),r._needMoveCurrentToFirst=!1)})}finally{r._isFillingData=!1}},i.prototype._reset=function(){var n=this;n.trackChanges&&n.clearChanges();n._newItem=null;n._edtItem=null;n._edtClone=null;n._errors=[]},i.prototype._fail=function(n,t,i){this.onEndQuery();throw t+i;},i.prototype._updateAjaxSettings=function(){this._updateSortAjaxSettings();this._upatePageAjaxSettings();this._updateQueryAjaxSettings()},i.prototype._upatePageAjaxSettings=function(){var n=this,t;n._requestParams||(n._requestParams={});t=n._requestParams;!n._disableServerRead&&n.pageSize?(t.pageIndex=n.pageIndex,t.pageSize=n.pageSize):(delete t.pageIndex,delete t.pageSize)},i.prototype._updateSortAjaxSettings=function(){var n=this,t;n._requestParams||(n._requestParams={});t=n._requestParams;n.canSort&&!n._disableServerRead&&n.sortDescriptions&&n.sortDescriptions.length?t.sortDescriptions=n._getSortDesByExpression():delete t.sortDescriptions},i.prototype._getSortDesByExpression=function(){for(var i=this.sortDescriptions,r=[],n=0,t;n<i.length;n++)t=i[n],r.push({property:t.property,ascending:t.ascending});return r},i.prototype._updateQueryAjaxSettings=function(){var n=this,t;n._requestParams||(n._requestParams={});t=n._requestParams;n._collectExtraRequestData(t);n._isDynamicalLoadingEnabled()?(t.skip=n._skip,t.top=n._top):(delete t.skip,delete t.top)},i.prototype._collectExtraRequestData=function(n){var t=new f;this.onQueryData(t);n.extraRequestData=t.extraRequestData},i.prototype.ajax=function(t){n.mvc.Utils.ajax(t)},i.prototype.getColumnData=function(t,i,r){var u=this,f;u._requestParams||(u._requestParams={});f=u._requestParams;u._collectExtraRequestData(f);f=n.mvc.Utils.extend({},f,{column:t,distinct:i});u._sendQueryWithoutUpdate(r,f)},i.prototype.getAllData=function(t){var i=this,r;i._updateAjaxSettings();i._requestParams.pageIndex=0;i._requestParams.pageSize=i.totalItemCount;r=n.mvc.Utils.extend({},i._requestParams);i._sendQueryWithoutUpdate(t,r)},i.prototype._sendQueryWithoutUpdate=function(n,t){var i=this,r={};r.url=i._readActionUrl;t&&(r.data=t);n&&(r.success=function(t){i._processErrors(t);i.onEndQuery();i._showErrors();n.call(i,t)});i._queryList.push(r);i._sendQuery(!1)},i.prototype._sendRequest=function(t,i,r){var u=this,f={};u._updateAjaxSettings();i=i==null?n.mvc.Utils.extend({},u._requestParams):n.mvc.Utils.extend({},u._requestParams,i);f.url=t;i&&(f.data=i);r&&(f.success=function(n){r.call(u,n)});u._queryList.push(f);u._sendQuery()},i.prototype._sendQuery=function(t){t===void 0&&(t=!0);var i=this,r,u;i._isQuerying()||i._queryList&&i._queryList.length&&(i.onBeginQuery(),r=i._queryList.shift(),r=n.mvc.Utils.extend({},{async:!0,type:"POST",dataType:"json",postType:"json",error:i._fail.bind(i)},r),u=r.success,r.success=function(n){t&&i._success(n);u&&u.call(i,n)},i.ajax(r))},i.prototype.requestItems=function(n,t){var i=this,u,r,f;i._isDynamicalLoadingEnabled()&&((u=Math.max(0,t-n+1),r=i._caculateRangeRow(n,t,u),f=i._skip+i._top-1,i._skip<=r.start&&f>=r.end)||(r=i._caculateRangeRow(r.start,r.end,u),i._skip=r.start,i._top=Math.max(0,r.end-r.start+1),i._sendRequest(i._readActionUrl)))},i.prototype._caculateRangeRow=function(n,t,i){return n=Math.max(0,n-i),t=t+i,t>=this.totalItemCount&&(t=this.totalItemCount-1),{start:n,end:t}},i.prototype._requestRead=function(){var n=this;n._batchEdit&&n.commit();n._sendRequest(n._readActionUrl)},i.prototype._getWriteUrl=function(n){return this["_"+this._toCamelCase(r[n])+"ActionUrl"]||""},i.prototype._toCamelCase=function(n){var t;return n?(t=n.charAt(0).toLowerCase(),n.length>1&&(t=t+n.substr(1)),t):n},i.prototype._updateOperatingItems=function(n,t,i){var r;return!i||!i.length?n:(r=i.map(function(n){return n}),t?(n||(n={}),n[t]=r):n=r,n)},i.prototype._requestWrite=function(n,t){var i=this,f,e,u;if(n===r.BatchEdit)u=i._updateOperatingItems(u,"itemsCreated",i.itemsAdded),u=i._updateOperatingItems(u,"itemsDeleted",i.itemsRemoved),u=i._updateOperatingItems(u,"itemsUpdated",i.itemsEdited);else{if(i._batchEdit)return;u=i._updateOperatingItems(u,null,t)}u&&(e={operatingItems:u,command:n});f=i._getWriteUrl(n);i._sendRequest(f,e)},Object.defineProperty(i.prototype,"totalItemCount",{get:function(){var n=this;return n._disableServerRead?n._view?n._view.length:0:n._totalItemCount||0},enumerable:!0,configurable:!0}),i.prototype._isRemoteMode=function(){return!!this._readActionUrl},i}(wijmo.collections.CollectionView);i.RemoteCollectionView=u;e=function(n){function i(t){n.call(this,t);this._uniqueId=t.uniqueId}return __extends(i,n),i.prototype.requireInitData=function(t){var r=this,i;if(t.readActionUrl){n.prototype.requireInitData.call(this,t);return}i=t.sourceCollection||t.items||[];r._fillData(i,0,t.totalItemCount)},i.prototype.getCallbackManager=function(){var n=this;return n._cbk||(n._cbk=new t.CallbackManager(n._uniqueId))},i.prototype.ajax=function(t){var i=this;if(t.url){n.prototype.ajax.call(this,t);return}i.getCallbackManager().doCallback(t.data,t.success)},i}(u);i.CallbackCollectionView=e,function(n){n[n.Read=0]="Read";n[n.Create=1]="Create";n[n.Update=2]="Update";n[n.Delete=3]="Delete";n[n.BatchEdit=4]="BatchEdit"}(i.CommandType||(i.CommandType={}));r=i.CommandType})(i=t.collections||(t.collections={}))})(t=n.mvc||(n.mvc={}))})(c1||(c1={}));
/*
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    */
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},wijmo;(function(n){var t;(function(t){'use strict';var i=function(t){function i(i){var r=this,o,u,f,e;t.call(this,i,null,!0);this._showBtn=!0;this._autoExpand=!0;this.textChanged=new n.Event;this.isDroppedDownChanging=new n.Event;this.isDroppedDownChanged=new n.Event;o=this.getTemplate();this.applyTemplate('wj-control wj-dropdown wj-content',o,{_tbx:'input',_btn:'btn',_dropDown:'dropdown'},'input');this._elRef=this._tbx;this._createDropDown();this._updateBtn();u=this._dropDown;u&&u.parentElement&&u.parentElement.removeChild(u);f=this._updateFocusState.bind(this);this.addEventListener(this.dropDown,'blur',f,!0);this.addEventListener(this.dropDown,'focus',f);e=this._keydown.bind(this);this.addEventListener(this.hostElement,'keydown',e);this.addEventListener(this.dropDown,'keydown',e);this.addEventListener(this._tbx,'keypress',function(n){n.keyCode==9787&&r._altDown&&n.preventDefault()});this.addEventListener(this._tbx,'input',function(){r._setText(r.text,!1)});this.addEventListener(this._tbx,'click',function(){r._autoExpand&&r._expandSelection()});n.isIE9()&&this.addEventListener(this._tbx,'keyup',function(){r._setText(r.text,!1)});this.addEventListener(this._btn,'click',this._btnclick.bind(this));this.addEventListener(this._dropDown,'click',function(n){n.stopPropagation()})}return __extends(i,t),Object.defineProperty(i.prototype,"text",{get:function(){return this._tbx.value},set:function(n){n!=this.text&&this._setText(n,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isReadOnly",{get:function(){return this._tbx.readOnly},set:function(t){this._tbx.readOnly=n.asBoolean(t);n.toggleClass(this.hostElement,'wj-state-readonly',this.isReadOnly)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isRequired",{get:function(){return this._tbx.required},set:function(t){this._tbx.required=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"required",{get:function(){return n._deprecated('required','isRequired'),this.isRequired},set:function(t){n._deprecated('required','isRequired');this.isRequired=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"placeholder",{get:function(){return this._tbx.placeholder},set:function(n){this._tbx.placeholder=n},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isDroppedDown",{get:function(){return this._dropDown.style.display!='none'},set:function(t){if(t=n.asBoolean(t)&&!this.isDisabled&&!this.isReadOnly,t!=this.isDroppedDown&&this.onIsDroppedDownChanging(new n.CancelEventArgs)){var i=this._dropDown;t?(i.style.minWidth||(i.style.minWidth=this.hostElement.getBoundingClientRect().width+'px'),i.style.display='block',this._updateDropDown()):(this.containsFocus()&&(this.isTouching&&this.showDropDownButton?this.focus():this.selectAll()),n.hidePopup(i));this._updateFocusState();this.onIsDroppedDownChanged()}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"dropDown",{get:function(){return this._dropDown},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"dropDownCssClass",{get:function(){return this._cssClass},set:function(t){t!=this._cssClass&&(n.removeClass(this._dropDown,this._cssClass),this._cssClass=n.asString(t),n.addClass(this._dropDown,this._cssClass))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"showDropDownButton",{get:function(){return this._showBtn},set:function(t){this._showBtn=n.asBoolean(t);this._updateBtn()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"autoExpandSelection",{get:function(){return this._autoExpand},set:function(t){this._autoExpand=n.asBoolean(t)},enumerable:!0,configurable:!0}),i.prototype.selectAll=function(){this._elRef==this._tbx&&n.setSelectionRange(this._tbx,0,this.text.length)},i.prototype.onTextChanged=function(n){this._updateState();this.textChanged.raise(this,n)},i.prototype.onIsDroppedDownChanging=function(n){return this.isDroppedDownChanging.raise(this,n),!n.cancel},i.prototype.onIsDroppedDownChanged=function(t){var i=this;this.removeEventListener(document,'mousedown');this.removeEventListener(document,'keydown');this.isDroppedDown&&!this.containsFocus()&&(this.addEventListener(document,'mousedown',function(t){n.contains(i.dropDown,t.target)||n.contains(i.hostElement,t.target)||(i.isDroppedDown=!1)}),this.addEventListener(document,'keydown',function(){i.containsFocus()||(i.isDroppedDown=!1)}));this.isDroppedDownChanged.raise(this,t)},i.prototype.onGotFocus=function(n){this.isTouching||this.selectAll();t.prototype.onGotFocus.call(this,n)},i.prototype.onLostFocus=function(n){this._commitText();this.containsFocus()||(this.isDroppedDown=!1);t.prototype.onLostFocus.call(this,n)},i.prototype.containsFocus=function(){return t.prototype.containsFocus.call(this)||n.contains(this._dropDown,n.getActiveElement())},i.prototype.dispose=function(){this.isDroppedDown=!1;t.prototype.dispose.call(this)},i.prototype.refresh=function(i){if(i===void 0&&(i=!0),t.prototype.refresh.call(this,i),this.isDroppedDown&&getComputedStyle(this.hostElement).display!='none'){var r=n.getActiveElement();n.showPopup(this._dropDown,this.hostElement,!1,!1,this.dropDownCssClass==null);r instanceof HTMLElement&&r!=n.getActiveElement()&&r.focus()}},i.prototype._handleResize=function(){this.isDroppedDown&&this.refresh()},i.prototype._expandSelection=function(){var r=this._tbx,i=r.value,n=r.selectionStart,t=r.selectionEnd,u;if(i&&n==t&&(u=this._getCharType(i,n),u>-1)){for(;t<i.length;t++)if(this._getCharType(i,t)!=u)break;for(;n>0;n--)if(this._getCharType(i,n-1)!=u)break;n!=t&&r.setSelectionRange(n,t)}},i.prototype._getCharType=function(n,t){var i=n[t];return i>='0'&&i<='9'?0:i>='a'&&i<='z'||i>='A'&&i<='Z'?1:-1},i.prototype._keydown=function(t){if(!t.defaultPrevented){this._altDown=t.altKey;switch(t.keyCode){case n.Key.Tab:case n.Key.Escape:case n.Key.Enter:this.isDroppedDown&&(this.isDroppedDown=!1,t.keyCode==n.Key.Tab||this.containsFocus()||this.focus(),t.preventDefault());break;case n.Key.F4:case n.Key.Down:case n.Key.Up:(t.keyCode==n.Key.F4||t.altKey)&&n.contains(document.body,this.hostElement)&&(this.isDroppedDown=!this.isDroppedDown,this.isDroppedDown||this.focus(),t.preventDefault())}}},i.prototype._btnclick=function(){this.isDroppedDown=!this.isDroppedDown},i.prototype._setText=function(n){n==null&&(n='');n=n.toString();n!=this._tbx.value&&(this._tbx.value=n);n!=this._oldText&&(this._oldText=n,this.onTextChanged())},i.prototype._updateBtn=function(){this._btn.tabIndex=-1;this._btn.style.display=this._showBtn?'':'none'},i.prototype._createDropDown=function(){},i.prototype._commitText=function(){},i.prototype._updateDropDown=function(){this.isDroppedDown&&(this._commitText(),n.showPopup(this._dropDown,this.hostElement,!1,!1,this.dropDownCssClass==null))},i.controlTemplate='<div style="position:relative" class="wj-template"><div class="wj-input"><div class="wj-input-group wj-input-btn-visible"><input wj-part="input" type="text" class="wj-form-control" /><span wj-part="btn" class="wj-input-group-btn" tabindex="-1"><button class="wj-btn wj-btn-default" type="button" tabindex="-1"><span class="wj-glyph-down"><\/span><\/button><\/span><\/div><\/div><div wj-part="dropdown" class="wj-content wj-dropdown-panel" style="display:none;position:absolute;z-index:100"><\/div><\/div>',i}(n.Control);t.DropDown=i})(t=n.input||(n.input={}))})(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';(function(n){n[n.None=0]="None";n[n.Day=1]="Day";n[n.Month=2]="Month"})(t.DateSelectionMode||(t.DateSelectionMode={}));var i=t.DateSelectionMode,r=function(r){function u(t,u){r.call(this,t);this._readOnly=!1;this._selMode=i.Day;this.valueChanged=new n.Event;this.displayMonthChanged=new n.Event;this.formatItem=new n.Event;this._value=n.DateTime.newDate();this._currMonth=this._getMonth(this._value);this._createChildren();this.refresh(!0);this.addEventListener(this.hostElement,'mouseup',this._click.bind(this));this.addEventListener(this.hostElement,'keydown',this._keydown.bind(this));this.initialize(u)}return __extends(u,r),Object.defineProperty(u.prototype,"value",{get:function(){return this._value},set:function(t){t=n.asDate(t,!0);t=this._clamp(t);this._valid(t)&&(this.displayMonth=this._getMonth(t),n.DateTime.equals(this._value,t)||(this._value=t,this.invalidate(!1),this.onValueChanged()))},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"min",{get:function(){return this._min},set:function(t){t!=this.min&&(this._min=n.asDate(t,!0),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"max",{get:function(){return this._max},set:function(t){t!=this.max&&(this._max=n.asDate(t,!0),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"selectionMode",{get:function(){return this._selMode},set:function(t){var r,u;t!=this._selMode&&(this._selMode=n.asEnum(t,i),r=this._monthMode(),r&&(this.monthView=!1),u=this._btnMth.querySelector('.wj-glyph-down'),u&&(u.style.display=r?'none':''))},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(t){this._readOnly=n.asBoolean(t);n.toggleClass(this.hostElement,'wj-state-readonly',this.isReadOnly)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"firstDayOfWeek",{get:function(){return this._fdw},set:function(t){if(t!=this._fdw){if(t=n.asNumber(t,!0),t&&(t>6||t<0))throw'firstDayOfWeek must be between 0 and 6 (Sunday to Saturday).';this._fdw=t;this.refresh()}},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"displayMonth",{get:function(){return this._currMonth},set:function(t){if(!n.DateTime.equals(this.displayMonth,t)){t=n.asDate(t);var i=this.monthView?this._monthInValidRange(t):this._yearInValidRange(t);i&&(this._currMonth=this._getMonth(this._clamp(t)),this.invalidate(!0),this.onDisplayMonthChanged())}},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"showHeader",{get:function(){return this._tbHdr.style.display!='none'},set:function(t){this._tbHdr.style.display=n.asBoolean(t)?'':'none'},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"monthView",{get:function(){return this._tbMth.style.display!='none'},set:function(n){n!=this.monthView&&(this._tbMth.style.display=n?'':'none',this._tbYr.style.display=n?'none':'')},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(t){t!=this._itemFormatter&&(this._itemFormatter=n.asFunction(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"itemValidator",{get:function(){return this._itemValidator},set:function(t){t!=this._itemValidator&&(this._itemValidator=n.asFunction(t),this.invalidate())},enumerable:!0,configurable:!0}),u.prototype.onValueChanged=function(n){this.valueChanged.raise(this,n)},u.prototype.onDisplayMonthChanged=function(n){this.displayMonthChanged.raise(this,n)},u.prototype.onFormatItem=function(n){this.formatItem.raise(this,n)},u.prototype.refresh=function(i){var o,e,u,s,l,c,a,h,f;for(i===void 0&&(i=!0),s=this.displayMonth,l=this.firstDayOfWeek!=null?this.firstDayOfWeek:n.Globalize.getFirstDayOfWeek(),r.prototype.refresh.call(this,i),this._firstDay=n.DateTime.addDays(s,-(s.getDay()-l+7)%7),n.setText(this._spMth,n.Globalize.format(s,'y')),o=this._tbMth.querySelectorAll('td'),f=0;f<7&&f<o.length;f++)u=n.DateTime.addDays(this._firstDay,f),n.setText(o[f],n.Globalize.format(u,'ddd'));for(f=7;f<o.length;f++)if(e=o[f],u=n.DateTime.addDays(this._firstDay,f-7),n.setText(e,u.getDate().toString()),e.className='',c=!this._valid(u),n.toggleClass(e,'wj-state-invalid',c),n.toggleClass(e,'wj-state-selected',n.DateTime.sameDate(u,this.value)),n.toggleClass(e,'wj-day-today',n.DateTime.sameDate(u,new Date)),n.toggleClass(e,'wj-day-othermonth',c||u.getMonth()!=s.getMonth()||!this._inValidRange(u)),this.itemFormatter&&this.itemFormatter(u,e),this.formatItem.hasHandlers){a=new t.FormatItemEventArgs(f,u,e);this.onFormatItem(a)}for(h=this._tbMth.querySelectorAll('tr'),h.length&&(u=n.DateTime.addDays(this._firstDay,28),h[h.length-2].style.display=u.getMonth()==s.getMonth()?'':'none',u=n.DateTime.addDays(this._firstDay,35),h[h.length-1].style.display=u.getMonth()==s.getMonth()?'':'none'),o=this._tbYr.querySelectorAll('td'),o.length&&n.setText(o[0],s.getFullYear().toString()),f=1;f<o.length;f++)e=o[f],u=new Date(s.getFullYear(),f-1,1),n.setText(e,n.Globalize.format(u,'MMM')),e.className='',n.toggleClass(e,'wj-state-disabled',!this._monthInValidRange(u)),n.toggleClass(e,'wj-state-selected',this._sameMonth(u,this.value))},u.prototype._canChangeValue=function(){return!this._readOnly&&this._selMode!=i.None},u.prototype._valid=function(n){return this.itemValidator&&n?this.itemValidator(n):!0},u.prototype._inValidRange=function(t){return this.min&&t<n.DateTime.fromDateTime(this.min,t)?!1:this.max&&t>n.DateTime.fromDateTime(this.max,t)?!1:!0},u.prototype._monthInValidRange=function(t){if(this.min||this.max){var i=t.getFullYear(),r=t.getMonth(),u=new Date(i,r,1),f=n.DateTime.addDays(new Date(i,r+1),-1);if(this.min&&this.min>f||this.max&&this.max<u)return!1}return!0},u.prototype._yearInValidRange=function(t){if(this.min||this.max){var i=t.getFullYear(),r=new Date(i,0),u=n.DateTime.addDays(new Date(i+1,0),-1);if(this.min&&this.min>u||this.max&&this.max<r)return!1}return!0},u.prototype._sameMonth=function(t,i){return n.isDate(t)&&n.isDate(i)&&t.getMonth()==i.getMonth()&&t.getFullYear()==i.getFullYear()},u.prototype._clamp=function(t){var i,r;return t&&(this.min&&(i=n.DateTime.fromDateTime(this.min,t),t<i&&(t=i)),this.max&&(r=n.DateTime.fromDateTime(this.max,t),t>r&&(t=r))),t},u.prototype._createChildren=function(){var f=this.getTemplate(),n,i,t,r,u;for(this.applyTemplate('wj-control wj-calendar',f,{_tbHdr:'tbl-header',_btnMth:'btn-month',_spMth:'span-month',_btnPrv:'btn-prev',_btnTdy:'btn-today',_btnNxt:'btn-next',_tbMth:'tbl-month',_tbYr:'tbl-year'}),n=this._createElement('tr',this._tbMth,'wj-header'),t=0;t<7;t++)this._createElement('td',n);for(i=0;i<6;i++)for(n=this._createElement('tr',this._tbMth),t=0;t<7;t++)this._createElement('td',n);for(n=this._createElement('tr',this._tbYr,'wj-header'),this._createElement('td',n).setAttribute('colspan','4'),r=0;r<3;r++)for(n=this._createElement('tr',this._tbYr),u=0;u<4;u++)this._createElement('td',n)},u.prototype._createElement=function(t,i,r){var u=document.createElement(t);return i&&i.appendChild(u),r&&n.addClass(u,r),u},u.prototype._click=function(t){var r=!1,i=t.target,f,u;n.contains(this._btnMth,i)&&!this._monthMode()?(this.monthView=!this.monthView,r=!0):n.contains(this._btnPrv,i)?(this._navigate(-1),r=!0):n.contains(this._btnNxt,i)?(this._navigate(1),r=!0):n.contains(this._btnTdy,i)&&(this._navigate(0),r=!0);i&&!r&&(i=n.closest(i,'TD'),i&&(this.monthView?(f=this._getCellIndex(this._tbMth,i),f>6&&this._canChangeValue()&&(u=n.DateTime.fromDateTime(n.DateTime.addDays(this._firstDay,f-7),this.value),this._inValidRange(u)&&this._valid(u)&&(this.value=u),r=!0)):(f=this._getCellIndex(this._tbYr,i),f>0&&(this.displayMonth=new Date(this.displayMonth.getFullYear(),f-1,1),this._monthMode()?this._canChangeValue()&&(u=n.DateTime.fromDateTime(this.displayMonth,this.value),this._inValidRange(u)&&(this.value=u)):this.monthView=!0,r=!0))));r&&(t.preventDefault(),this.focus())},u.prototype._getCellIndex=function(n,t){for(var r=n.querySelectorAll('TD'),i=0;i<r.length;i++)if(r[i]==t)return i;return-1},u.prototype._keydown=function(t){var r,e;if(!t.defaultPrevented&&!t.ctrlKey&&!t.shiftKey&&!t.altKey&&!t.metaKey){var u=0,i=0,f=!0;if(this.monthView)switch(t.keyCode){case n.Key.Left:u=-1;break;case n.Key.Right:u=1;break;case n.Key.Up:u=-7;break;case n.Key.Down:u=7;break;case n.Key.PageDown:i=1;break;case n.Key.PageUp:i=-1;break;default:f=!1}else switch(t.keyCode){case n.Key.Left:i=-1;break;case n.Key.Right:i=1;break;case n.Key.Up:i=-4;break;case n.Key.Down:i=4;break;case n.Key.PageDown:i=12;break;case n.Key.PageUp:i=-12;break;case n.Key.Enter:this._monthMode()?f=!1:this.monthView=!0;break;default:f=!1}if(this.value&&this._canChangeValue()&&(u||i)){for(r=this.value,r=n.DateTime.addDays(r,u),r=n.DateTime.addMonths(r,i),e=0;!this._valid(r)&&e<31;e++)r=n.DateTime.addDays(r,u>0||i>0?1:-1);this.value=r}f&&t.preventDefault()}},u.prototype._getMonth=function(n){return n||(n=new Date),new Date(n.getFullYear(),n.getMonth(),1)},u.prototype._monthMode=function(){return this.selectionMode==i.Month},u.prototype._navigate=function(t){var r=this.monthView,i;switch(t){case 0:i=new Date;r?this._canChangeValue()&&(this.value=n.DateTime.fromDateTime(i,this.value)):this._canChangeValue()&&(this.value=this._getMonth(i));this.displayMonth=this._getMonth(i);break;case 1:this.displayMonth=n.DateTime.addMonths(this.displayMonth,r?1:12);break;case-1:this.displayMonth=n.DateTime.addMonths(this.displayMonth,r?-1:-12)}},u.controlTemplate='<div class="wj-calendar-outer wj-content"><div wj-part="tbl-header" class="wj-calendar-header"><div wj-part="btn-month" class="wj-month-select"><span wj-part="span-month"><\/span> <span class="wj-glyph-down"><\/span><\/div><div class="wj-btn-group"><button type="button" wj-part="btn-prev" class="wj-btn wj-btn-default"><span class="wj-glyph-left"><\/span><\/button><button type="button" wj-part="btn-today" class="wj-btn wj-btn-default"><span class="wj-glyph-circle"><\/span><\/button><button type="button" wj-part="btn-next" class="wj-btn wj-btn-default"><span class="wj-glyph-right"><\/span><\/button><\/div><\/div><table wj-part="tbl-month" class="wj-calendar-month"/><table wj-part="tbl-year" class="wj-calendar-year" style="display:none"/><\/div>',u}(n.Control);t.Calendar=r})(t=n.input||(n.input={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var i=function(t){function i(r,u){var e=this,f,o,s;t.call(this,r);this._hsb=[.5,1,1];this._alpha=1;this.valueChanged=new n.Event;f=this.getTemplate();this.applyTemplate('wj-control wj-colorpicker wj-content',f,{_eSB:'div-sb',_eHue:'div-hue',_eAlpha:'div-alpha',_ePreview:'div-pv',_ePal:'div-pal',_eText:'div-text'});this._palette='#FFF,#000, #F00,#FFC000,#FFFF00,#92D050,#00B050,#00B0F0,#0070C0,#7030A0'.split(',');this._updatePalette();this._eHue.style.backgroundImage='url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAD4CAIAAACi6hsPAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuM4zml1AAAAGvSURBVDhPXdBPaM9xHMfxz4pWaxcmtoOhpdXSVpiyHWxqmVpDjaU5rK34XfypjTJ/p+ZPay6jhsOsRrKwaJElf9IQq03WIkv4FeMwMq221tfje1ByeFzfvd7PEKWGEKWTQRZLySWfVRRTQjmVbKWGOhLsZT+HaeY0bbTTQSfdXOcWffTzmAFeMcwoYyT5ygS/mA5hNgphip98J8kHRnnNSwZ4yH1uc4OrdHGR87RximYO0cgedlLLdqqoYAPrWMtKVrCcJSxiPmnMJUQp/Bsyk2xyyKOAQooopYwKtlDNDur5G7SBJo7RQiv/B+2hl3s84CkvGGKEOOYnxolj/mYmhBmDJ5ngCx95xxsGecYj4pB3iENeoZMO2mmlhaMcpIE4ZII6aqhmM3HMMkooopB88sghm0wySCeVlCjMCVFIYx4LWUwOeRSwhmLWU84mqqihll3sppEmjnOSs5zjEl1c4yZ99POE5wwxwns+840fTDFLFKaZZIJxkozxlmEGGSC+GF++Sy89dHOZC8Rr4lVnOMERDrCPBPXEX22jko2UEn+/mnxyWUYWC0gnNUQh/AEc0HJs6cex0gAAAABJRU5ErkJggg==)';this._eHue.style.backgroundSize='contain';navigator.appVersion.indexOf('MSIE 9')>-1&&(this._eSB.children[0].style.filter='progid:DXImageTransform.Microsoft.gradient(startColorstr=#ffffffff,endColorstr=#00ffffff,GradientType=1)',this._eSB.children[1].style.filter='progid:DXImageTransform.Microsoft.gradient(startColorstr=#00000000,endColorstr=#ff000000,GradientType=0)');f=i._tplCursor;this._cSB=n.createElement(f);this._cHue=n.createElement(f);this._cHue.style.width='100%';this._cAlpha=n.createElement(f);this._cAlpha.style.height='100%';this._eSB.appendChild(this._cSB);this._eHue.appendChild(this._cHue);this._eAlpha.appendChild(this._cAlpha);this.addEventListener(this.hostElement,'mousedown',function(n){document.addEventListener('mousemove',o);document.addEventListener('mouseup',s);e._mouseDown(n)});o=function(n){e._mouseMove(n)};s=function(n){document.removeEventListener('mousemove',o);document.removeEventListener('mouseup',s);e._mouseUp(n)};this.addEventListener(this.hostElement,'click',function(t){var i=t.target,r;i&&i.tagName=='DIV'&&n.contains(e._ePal,i)&&(r=i.style.backgroundColor,r&&(e.value=new n.Color(r).toString()))});this.value='#ffffff';this.initialize(u);this._updatePanels()}return __extends(i,t),Object.defineProperty(i.prototype,"showAlphaChannel",{get:function(){return this._eAlpha.parentElement.style.display!='none'},set:function(t){this._eAlpha.parentElement.style.display=n.asBoolean(t)?'':'none'},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"showColorString",{get:function(){return this._eText.style.display!='none'},set:function(t){this._eText.style.display=n.asBoolean(t)?'':'none'},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"value",{get:function(){return this._value},set:function(t){if(t!=this.value){this._value=n.asString(t);this._eText.innerText=this._value;var r=new n.Color(this._value),i=r.getHsb();(this._hsb[0]!=i[0]||this._hsb[1]!=i[1]||this._hsb[2]!=i[2]||this._alpha!=r.a)&&(i[2]==0?(i[0]=this._hsb[0],i[1]=this._hsb[1]):i[1]==0&&(i[0]=this._hsb[0]),this._hsb=i,this._alpha=r.a,this.onValueChanged())}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"palette",{get:function(){return this._palette},set:function(t){var i,r;for(t=n.asArray(t),i=0;i<t.length&&i<this._palette.length;i++)r=n.asString(t[i]),this._palette[i]=r;this._updatePalette()},enumerable:!0,configurable:!0}),i.prototype.onValueChanged=function(n){this._updatePanels();this.valueChanged.raise(this,n)},i.prototype._mouseDown=function(n){this._htDown=this._getTargetPanel(n);this._htDown&&(n.preventDefault(),this.focus(),this._mouseMove(n))},i.prototype._mouseMove=function(t){if(this._htDown){var i=this._htDown.getBoundingClientRect();this._htDown==this._eHue?(this._hsb[0]=n.clamp((t.clientY-i.top)/i.height,0,.99),this._updateColor()):this._htDown==this._eSB?(this._hsb[1]=n.clamp((t.clientX-i.left)/i.width,0,1),this._hsb[2]=n.clamp(1-(t.clientY-i.top)/i.height,0,1),this._updateColor()):this._htDown==this._eAlpha&&(this._alpha=n.clamp((t.clientX-i.left)/i.width,0,1),this._updateColor())}},i.prototype._mouseUp=function(){this._htDown=null},i.prototype._updateColor=function(){var t=n.Color.fromHsb(this._hsb[0],this._hsb[1],this._hsb[2],this._alpha);this.value=t.toString();this._updatePanels()},i.prototype._updatePalette=function(){var o=new n.Color('#fff'),s=new n.Color('#000'),r,t,e;for(this._ePal.innerHTML='',r=0;r<this._palette.length;r++){var u=n.createElement('<div style="float:left;width:10%;box-sizing:border-box;padding:1px">'),i=new n.Color(this._palette[r]),f=i.getHsb();for(u.appendChild(this._makePalEntry(i,4)),t=0;t<5;t++)f[1]==0?(e=t*.1+(f[2]>.5?.05:.55),i=n.Color.interpolate(o,s,e)):i=n.Color.fromHsb(f[0],.1+t*.2,1-t*.1),u.appendChild(this._makePalEntry(i,0));this._ePal.appendChild(u)}},i.prototype._makePalEntry=function(t,i){var r=document.createElement('div');return n.setCss(r,{cursor:'pointer',backgroundColor:t.toString(),marginBottom:i?i:''}),r.innerHTML='&nbsp',r},i.prototype._updatePanels=function(){var i=n.Color.fromHsb(this._hsb[0],1,1,1),t=n.Color.fromHsb(this._hsb[0],this._hsb[1],this._hsb[2],1);this._eSB.style.backgroundColor=i.toString();this._eAlpha.style.background='linear-gradient(to right, transparent 0%, '+t.toString()+' 100%)';navigator.appVersion.indexOf('MSIE 9')>-1&&(this._eAlpha.style.filter='progid:DXImageTransform.Microsoft.gradient(startColorstr=#00000000,endColorstr='+t.toString()+', GradientType = 1)');this._ePreview.style.backgroundColor=this.value;this._cHue.style.top=(this._hsb[0]*100).toFixed(0)+'%';this._cSB.style.left=(this._hsb[1]*100).toFixed(0)+'%';this._cSB.style.top=(100-this._hsb[2]*100).toFixed(0)+'%';this._cAlpha.style.left=(this._alpha*100).toFixed(0)+'%'},i.prototype._getTargetPanel=function(t){var i=t.target;return n.contains(this._eSB,i)?this._eSB:n.contains(this._eHue,i)?this._eHue:n.contains(this._eAlpha,i)?this._eAlpha:null},i.controlTemplate='<div style="position:relative;width:100%;height:100%"><div style="float:left;width:50%;height:100%;box-sizing:border-box;padding:2px"><div wj-part="div-pal"><div style="float:left;width:10%;box-sizing:border-box;padding:2px"><div style="background-color:black;width:100%">&nbsp;<\/div><div style="height:6px"><\/div><\/div><\/div><div wj-part="div-text" style="position:absolute;bottom:0px;display:none"><\/div><\/div><div style="float:left;width:50%;height:100%;box-sizing:border-box;padding:2px"><div wj-part="div-sb" class="wj-colorbox" style="float:left;width:89%;height:89%"><div style="position:absolute;width:100%;height:100%;background:linear-gradient(to right, white 0%,transparent 100%)"><\/div><div style="position:absolute;width:100%;height:100%;background:linear-gradient(to top, black 0%,transparent 100%)"><\/div><\/div><div style="float:left;width:1%;height:89%"><\/div><div style="float:left;width:10%;height:89%"><div wj-part="div-hue" class="wj-colorbox"><\/div><\/div><div style="float:left;width:89%;height:1%"><\/div><div style="float:left;width:89%;height:10%"><div style="width:100%;height:100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAIAAABLbSncAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuM4zml1AAAAAcSURBVBhXY/iPBBYgAWpKQGkwgMqDAdUk/v8HAM7Mm6GatDUYAAAAAElFTkSuQmCC)"><div wj-part="div-alpha" class="wj-colorbox"><\/div><\/div><\/div><div style="float:left;width:1%;height:10%"><\/div><div style="float:left;width:10%;height:10%"><div wj-part="div-pv" class="wj-colorbox" style="position:static"><\/div><\/div><\/div><\/div>',i._tplCursor='<div style="position:absolute;left:50%;top:50%;width:7px;height:7px;transform:translate(-50%,-50%);border:2px solid #f0f0f0;border-radius:50px;box-shadow:0px 0px 4px 2px #0f0f0f"></div>',i}(n.Control);t.ColorPicker=i})(t=n.input||(n.input={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var r=function(t){function r(i,r){t.call(this,i);this._pathDisplay=new n.Binding(null);this._pathValue=new n.Binding(null);this._pathChecked=new n.Binding(null);this._html=!1;this._checkedItems=[];this._search='';this.selectedIndexChanged=new n.Event;this.itemsChanged=new n.Event;this.loadingItems=new n.Event;this.loadedItems=new n.Event;this.itemChecked=new n.Event;this.checkedItemsChanged=new n.Event;this.formatItem=new n.Event;this.applyTemplate('wj-control wj-listbox wj-content',null,null);this._orgTag=='SELECT'&&this._populateSelectElement(this.hostElement);var u=this.hostElement;this.addEventListener(u,'click',this._click.bind(this));this.addEventListener(u,'keydown',this._keydown.bind(this));this.addEventListener(u,'keypress',this._keypress.bind(this));this.addEventListener(u,'wheel',function(n){u.scrollHeight>u.offsetHeight&&(n.deltaY<0&&u.scrollTop==0||n.deltaY>0&&u.scrollTop+u.offsetHeight>=u.scrollHeight)&&(n.preventDefault(),n.stopPropagation())});this.initialize(r)}return __extends(r,t),r.prototype.refresh=function(){t.prototype.refresh.call(this);(this.displayMemberPath||!this.checkedMemberPath)&&this._populateList()},Object.defineProperty(r.prototype,"itemsSource",{get:function(){return this._items},set:function(t){this._items!=t&&(this._cv&&(this._cv.currentChanged.removeHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.removeHandler(this._cvCollectionChanged,this),this._cv=null),this._items=t,this._cv=n.asCollectionView(t),this._cv!=null&&(this._cv.currentChanged.addHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.addHandler(this._cvCollectionChanged,this)),this._populateList(),this.onItemsChanged(),this.onSelectedIndexChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"collectionView",{get:function(){return this._cv},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isContentHtml",{get:function(){return this._html},set:function(t){t!=this._html&&(this._html=n.asBoolean(t),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(t){t!=this._itemFormatter&&(this._itemFormatter=n.asFunction(t),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"displayMemberPath",{get:function(){return this._pathDisplay.path},set:function(t){t!=this.displayMemberPath&&(this._pathDisplay.path=n.asString(t),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"selectedValuePath",{get:function(){return this._pathValue.path},set:function(t){this._pathValue.path=n.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"checkedMemberPath",{get:function(){return this._pathChecked.path},set:function(t){t!=this.checkedMemberPath&&(this._pathChecked.path=n.asString(t),this._populateList())},enumerable:!0,configurable:!0}),r.prototype.getDisplayValue=function(t){var i=null,r;return t>-1&&n.hasItems(this._cv)&&(i=this._cv.items[t],this.displayMemberPath&&(i=this._pathDisplay.getValue(i))),r=i!=null?i.toString():'',this.itemFormatter&&(r=this.itemFormatter(t,r)),r},r.prototype.getDisplayText=function(n){var t=this.hostElement.children,i=n>-1&&n<t.length?t[n]:null;return i!=null?i.textContent:''},Object.defineProperty(r.prototype,"selectedIndex",{get:function(){return this._cv?this._cv.currentPosition:-1},set:function(t){this._cv&&this._cv.moveCurrentToPosition(n.asNumber(t))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"selectedItem",{get:function(){return this._cv?this._cv.currentItem:null},set:function(n){this._cv&&this._cv.moveCurrentTo(n)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"selectedValue",{get:function(){var n=this.selectedItem;return n&&this.selectedValuePath&&(n=this._pathValue.getValue(n)),n},set:function(n){var r=this.selectedValuePath,u=-1,t,i;if(this._cv){for(t=0;t<this._cv.items.length;t++)if(i=this._cv.items[t],r&&this._pathValue.getValue(i)==n||!r&&i==n){u=t;break}this.selectedIndex=u}},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"maxHeight",{get:function(){var n=this.hostElement;return n?parseFloat(n.style.maxHeight):null},set:function(t){var i=this.hostElement;i&&(i.style.maxHeight=n.asNumber(t)+'px')},enumerable:!0,configurable:!0}),r.prototype.showSelection=function(){for(var u,f,i=this.selectedIndex,e=this.hostElement,r=e.children,t,o=0;o<r.length;o++)t=r[o],n.toggleClass(t,'wj-state-selected',o==i);i>-1&&i<r.length&&(t=r[i],u=t.getBoundingClientRect(),f=e.getBoundingClientRect(),u.bottom>f.bottom?e.scrollTop+=u.bottom-f.bottom:u.top<f.top&&(e.scrollTop-=f.top-u.top));i>-1&&this.containsFocus()&&(t=r[i],t instanceof HTMLElement&&!n.contains(t,n.getActiveElement())&&t.focus())},r.prototype.getItemChecked=function(t){var r=this._cv.items[t],i;return n.isObject(r)&&this.checkedMemberPath?this._pathChecked.getValue(r):(i=this._getCheckbox(t),i?i.checked:!1)},r.prototype.setItemChecked=function(n,t){this._setItemChecked(n,t,!0)},r.prototype.toggleItemChecked=function(n){this.setItemChecked(n,!this.getItemChecked(n))},Object.defineProperty(r.prototype,"checkedItems",{get:function(){if(this._checkedItems.splice(0,this._checkedItems.length),this._cv)for(var n=0;n<this._cv.items.length;n++)this.getItemChecked(n)&&this._checkedItems.push(this._cv.items[n]);return this._checkedItems},set:function(t){var i=this._cv,u=n.asArray(t,!1),f,r,e;if(i&&u){for(f=i.currentPosition,r=0;r<i.items.length;r++)e=i.items[r],this._setItemChecked(r,u.indexOf(e)>-1,!1);i.moveCurrentToPosition(f);this.onCheckedItemsChanged()}},enumerable:!0,configurable:!0}),r.prototype.onSelectedIndexChanged=function(n){this.selectedIndexChanged.raise(this,n)},r.prototype.onItemsChanged=function(n){this.itemsChanged.raise(this,n)},r.prototype.onLoadingItems=function(n){this.loadingItems.raise(this,n)},r.prototype.onLoadedItems=function(n){this.loadedItems.raise(this,n)},r.prototype.onItemChecked=function(n){this.itemChecked.raise(this,n)},r.prototype.onCheckedItemsChanged=function(n){this.checkedItemsChanged.raise(this,n)},r.prototype.onFormatItem=function(n){this.formatItem.raise(this,n)},r.prototype._setItemChecked=function(t,i,r){var u,f,e;r===void 0&&(r=!0);u=this._cv.items[t];n.isObject(u)&&(f=n.tryCast(this._cv,'IEditableCollectionView'),this._pathChecked.getValue(u)!=i&&(this._checking=!0,f?(f.editItem(u),this._pathChecked.setValue(u,i),f.commitEdit()):(this._pathChecked.setValue(u,i),this._cv.refresh()),this._checking=!1));e=this._getCheckbox(t);e&&e.checked!=i&&(e.checked=i);r&&(this.onItemChecked(),this.onCheckedItemsChanged())},r.prototype._cvCollectionChanged=function(){this._checking||(this._populateList(),this.onItemsChanged())},r.prototype._cvCurrentChanged=function(){this.showSelection();this.onSelectedIndexChanged()},r.prototype._populateList=function(){var f=this.hostElement,e,t,u,o,r,s;if(f){if(e=this.containsFocus(),this.onLoadingItems(),f.innerHTML='',this._cv)for(t=0;t<this._cv.items.length;t++){if(u=this.getDisplayValue(t),this._html!=!0&&(u=n.escapeHtml(u)),this.checkedMemberPath&&(o=this._pathChecked.getValue(this._cv.items[t]),u='<label><input type="checkbox"'+(o?' checked':'')+'> '+u+'</label>'),r=document.createElement('div'),r.innerHTML=u,r.className='wj-listbox-item',n.hasClass(r.firstChild,'wj-separator')&&(r.className+=' wj-separator'),this.formatItem.hasHandlers){s=new i(t,this._cv.items[t],r);this.onFormatItem(s)}f.appendChild(r)}f.children.length==0&&f.appendChild(document.createElement('div'));e&&!this.containsFocus()&&this.focus();this.showSelection();this.onLoadedItems()}},r.prototype._click=function(t){var r,i,u;if(!t.defaultPrevented){for(r=this.hostElement.children,i=0;i<r.length;i++)if(n.contains(r[i],t.target)){this.selectedIndex=i;break}i=this.selectedIndex;this.checkedMemberPath&&i>-1&&(u=this._getCheckbox(i),u==t.target&&this.setItemChecked(i,u.checked))}},r.prototype._keydown=function(t){var i,r,s;if(!t.defaultPrevented&&!t.ctrlKey&&!t.shiftKey&&!t.altKey&&!t.metaKey){var u=this.selectedIndex,o=this.hostElement,f=o.children;switch(t.keyCode){case n.Key.Down:for(t.preventDefault(),i=this.selectedIndex+1;i<f.length;i++)if(this.getDisplayText(i)){this.selectedIndex=i;break}break;case n.Key.Up:for(t.preventDefault(),i=this.selectedIndex-1;i>=0;i--)if(this.getDisplayText(i)){this.selectedIndex=i;break}break;case n.Key.Home:t.preventDefault();this.selectedIndex=0;break;case n.Key.End:t.preventDefault();this.selectedIndex=f.length-1;break;case n.Key.PageDown:if(t.preventDefault(),this.selectedIndex>-1){var u=this.selectedIndex,h=o.offsetHeight,e=0;for(i=u+1;i<this._cv.items.length;i++){if(r=f[i].scrollHeight,e+r>h){this.selectedIndex=i;break}e+=r}this.selectedIndex==u&&this._cv.moveCurrentToLast()}break;case n.Key.PageUp:if(t.preventDefault(),this.selectedIndex>-1){var u=this.selectedIndex,h=o.offsetHeight,e=0;for(i=u-1;i>0;i--){if(r=f[i].scrollHeight,e+r>h){this.selectedIndex=i;break}e+=r}this.selectedIndex==u&&this._cv.moveCurrentToFirst()}break;case n.Key.Space:this.checkedMemberPath&&this.selectedIndex>-1&&(s=this._getCheckbox(this.selectedIndex),s&&(this.hostElement.focus(),this.setItemChecked(this.selectedIndex,!s.checked),t.preventDefault()))}}},r.prototype._keypress=function(n){var i=this,t;n.defaultPrevented||n.target instanceof HTMLInputElement||(n.charCode>32||n.charCode==32&&this._search)&&(n.preventDefault(),this._search+=String.fromCharCode(n.charCode).toLowerCase(),this._toSearch&&clearTimeout(this._toSearch),this._toSearch=setTimeout(function(){i._toSearch=null;i._search=''},r._AUTOSEARCH_DELAY),t=this._findNext(),t<0&&this._search.length>1&&(this._search=this._search[this._search.length-1],t=this._findNext()),t>-1&&(this.selectedIndex=t))},r.prototype._findNext=function(){var i,n,t,r,u;if(this.hostElement)for(i=this.hostElement.childElementCount,n=this.selectedIndex,(n<0||this._search.length==1)&&n++,t=0;t<i;t++)if(r=(n+t)%i,u=this.getDisplayText(r).trim().toLowerCase(),u.indexOf(this._search)==0)return r;return-1},r.prototype._getCheckbox=function(n){var t=this.hostElement;return t&&n>-1&&n<t.children.length?t.children[n].querySelector('input[type=checkbox]'):null},r.prototype._populateSelectElement=function(n){for(var t,u=n.children,i=[],f=-1,r=0;r<u.length;r++)t=u[r],t.tagName=='OPTION'&&(t.hasAttribute('selected')&&(f=i.length),t.innerHTML?i.push({hdr:t.innerHTML,val:t.getAttribute('value'),cmdParam:t.getAttribute('cmd-param')}):i.push({hdr:'<div class="wj-separator"/>'}),n.removeChild(t),r--);i&&(this.displayMemberPath='hdr',this.selectedValuePath='val',this.itemsSource=i,this.selectedIndex=f)},r._AUTOSEARCH_DELAY=600,r}(n.Control),i;t.ListBox=r;i=function(t){function i(i,r,u){t.call(this);this._index=n.asNumber(i);this._data=r;this._item=n.asType(u,HTMLElement)}return __extends(i,t),Object.defineProperty(i.prototype,"index",{get:function(){return this._index},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"item",{get:function(){return this._item},enumerable:!0,configurable:!0}),i}(n.EventArgs);t.FormatItemEventArgs=i})(t=n.input||(n.input={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var i=function(i){function r(t,r){var u=this;i.call(this,t);this._editable=!1;this._composing=!1;this._deleting=!1;this._settingText=!1;this.selectedIndexChanged=new n.Event;n.addClass(this.hostElement,'wj-combobox');this.autoExpandSelection=!1;this.addEventListener(this._tbx,'compositionstart',function(){u._composing=!0});this.addEventListener(this._tbx,'compositionend',function(){u._composing=!1;setTimeout(function(){u._setText(u.text,!0)})});this.addEventListener(this.hostElement,'wheel',function(t){if(!t.defaultPrevented&&!u.isDroppedDown&&!u.isReadOnly&&u.containsFocus()&&u.selectedIndex>-1){var i=n.clamp(-t.deltaY,-1,1);u.selectedIndex=n.clamp(u.selectedIndex-i,0,u.collectionView.items.length-1);t.preventDefault()}});this._orgTag=='SELECT'&&this._lbx._populateSelectElement(this.hostElement);this._lbx.loadedItems.addHandler(function(){u.selectedIndex>-1&&(u.selectedIndex=u._lbx.selectedIndex)});this.isRequired=!0;this.initialize(r)}return __extends(r,i),Object.defineProperty(r.prototype,"itemsSource",{get:function(){return this._lbx.itemsSource},set:function(n){this._lbx.itemsSource=n;this._updateBtn()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"collectionView",{get:function(){return this._lbx.collectionView},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"displayMemberPath",{get:function(){return this._lbx.displayMemberPath},set:function(n){this._lbx.displayMemberPath=n;var t=this.getDisplayText();this.text!=t&&this._setText(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"headerPath",{get:function(){return this._hdrPath},set:function(t){this._hdrPath=n.asString(t);var i=this.getDisplayText();this.text!=i&&this._setText(i,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"selectedValuePath",{get:function(){return this._lbx.selectedValuePath},set:function(n){this._lbx.selectedValuePath=n},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isContentHtml",{get:function(){return this._lbx.isContentHtml},set:function(t){if(t!=this.isContentHtml){this._lbx.isContentHtml=n.asBoolean(t);var i=this.getDisplayText();this.text!=i&&this._setText(i,!0)}},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"itemFormatter",{get:function(){return this._lbx.itemFormatter},set:function(t){this._lbx.itemFormatter=n.asFunction(t);this.selectedIndex=this._lbx.selectedIndex},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"formatItem",{get:function(){return this.listBox.formatItem},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"selectedIndex",{get:function(){return this._lbx.selectedIndex},set:function(n){n!=this.selectedIndex&&(this._lbx.selectedIndex=n);var t=this.getDisplayText(n);this.text!=t&&this._setText(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"selectedItem",{get:function(){return this._lbx.selectedItem},set:function(n){this._lbx.selectedItem=n},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"selectedValue",{get:function(){return this._lbx.selectedValue},set:function(n){this._lbx.selectedValue=n},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isEditable",{get:function(){return this._editable},set:function(t){this._editable=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"maxDropDownHeight",{get:function(){return this._lbx.maxHeight},set:function(t){this._lbx.maxHeight=n.asNumber(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"maxDropDownWidth",{get:function(){var n=this._dropDown;return parseInt(n.style.maxWidth)},set:function(t){var i=this._dropDown;i.style.maxWidth=n.asNumber(t)+'px'},enumerable:!0,configurable:!0}),r.prototype.getDisplayText=function(t){if(t===void 0&&(t=this.selectedIndex),this.headerPath&&t>-1&&n.hasItems(this.collectionView)){var r=this.collectionView.items[t][this.headerPath],i=r!=null?r.toString():'';return this.isContentHtml&&(this._cvt||(this._cvt=document.createElement('div')),this._cvt.innerHTML=i,i=this._cvt.textContent),i}return this._lbx.getDisplayText(t)},r.prototype.onSelectedIndexChanged=function(n){this._updateBtn();this.selectedIndexChanged.raise(this,n)},r.prototype.indexOf=function(t,i){var f=this.collectionView,r,u;if(n.hasItems(f)&&t){if(i&&this.selectedIndex>-1&&t==this.getDisplayText(this.selectedIndex))return this.selectedIndex;for(t=t.toString().toLowerCase(),r=0;r<f.items.length;r++)if(u=this.getDisplayText(r).toLowerCase(),i){if(u==t)return r}else if(t&&u.indexOf(t)==0)return r}return-1},Object.defineProperty(r.prototype,"listBox",{get:function(){return this._lbx},enumerable:!0,configurable:!0}),r.prototype.refresh=function(t){i.prototype.refresh.call(this,t);n.hasItems(this.collectionView)&&(this._lbx.refresh(),this.selectedIndex>-1&&(this.selectedIndex=this._lbx.selectedIndex))},r.prototype.onLostFocus=function(t){this.isEditable&&this.isRequired&&!this.text&&n.hasItems(this.collectionView)&&(this.selectedIndex=0);i.prototype.onLostFocus.call(this,t)},r.prototype.onIsDroppedDownChanging=function(t){return n.hasItems(this.collectionView)?i.prototype.onIsDroppedDownChanging.call(this,t):!1},r.prototype.onIsDroppedDownChanged=function(n){i.prototype.onIsDroppedDownChanged.call(this,n);this.isDroppedDown&&(this._lbx.showSelection(),this.isTouching||this.selectAll())},r.prototype._updateBtn=function(){var t=this.collectionView;this._btn.style.display=this._showBtn&&n.hasItems(t)?'':'none'},r.prototype._createDropDown=function(){var n=this;this._lbx=new t.ListBox(this._dropDown);this._lbx.maxHeight=200;this._lbx.selectedIndexChanged.addHandler(function(){n._updateBtn();n.selectedIndex=n._lbx.selectedIndex;n.onSelectedIndexChanged()});this._lbx.itemsChanged.addHandler(function(){n._updateBtn()});this.addEventListener(this._dropDown,'click',this._dropDownClick.bind(this))},r.prototype._dropDownClick=function(n){n.defaultPrevented||n.target!=this._dropDown&&(this.isDroppedDown=!1)},r.prototype._setText=function(t,r){var f;if(!this._composing&&!this._settingText){this._settingText=!0;t==null&&(t='');t=t.toString();var u=this.selectedIndex,o=this.collectionView,e=this._getSelStart(),s=-1;if(this._deleting&&(r=!0),this._deleting?u=this.indexOf(t,!0):(u=this.indexOf(t,r),u<0&&r&&(u=this.indexOf(t,!1)),u<0&&e>0&&(u=this.indexOf(t.substr(0,e),!1))),u<0&&!this.isEditable&&n.hasItems(o)&&(this.isRequired||t))for(u=Math.max(0,this.indexOf(this._oldText,!1)),f=0;f<t.length&&f<this._oldText.length;f++)if(t[f]!=this._oldText[f]){e=f;break}u>-1&&(s=e,t=this.getDisplayText(u));o&&o.moveCurrentToPosition(u);t!=this._tbx.value&&(this._tbx.value=t);s>-1&&this.containsFocus()&&!this.isTouching&&this._setSelRange(s,t.length);i.prototype._setText.call(this,t,r);this._deleting=!1;this._settingText=!1}},r.prototype._findNext=function(n,t){var i,u,f,r;if(this.collectionView)for(n=n.toLowerCase(),i=this.collectionView.items.length,r=1;r<=i;r++)if(u=(this.selectedIndex+r*t+i)%i,f=this.getDisplayText(u).toLowerCase(),f.indexOf(n)==0)return u;return this.selectedIndex},r.prototype._keydown=function(t){var u,r;if((i.prototype._keydown.call(this,t),!t.defaultPrevented)&&this._elRef==this._tbx&&((t.keyCode==n.Key.Back||t.keyCode==n.Key.Delete)&&(this._deleting=!0),u=this.collectionView,u&&u.items))switch(t.keyCode){case n.Key.Up:case n.Key.Down:r=this._getSelStart();r==this.text.length&&(r=0);this.selectedIndex=this._findNext(this.text.substr(0,r),t.keyCode==n.Key.Up?-1:1);n.setSelectionRange(this._tbx,r,this.text.length);t.preventDefault()}},r.prototype._setSelRange=function(t,i){this._elRef==this._tbx&&n.setSelectionRange(this._tbx,t,i)},r.prototype._getSelStart=function(){return this._tbx&&this._tbx.value?this._tbx.selectionStart:0},r}(t.DropDown);t.ComboBox=i})(t=n.input||(n.input={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var i=function(t){function i(i,r){t.call(this,i);this._cssMatch='wj-autocomplete-match';this._minLength=2;this._maxItems=6;this._itemCount=0;this._delay=500;this._query='';this._inCallback=!1;this._srchProps=[];n.addClass(this.hostElement,'wj-autocomplete');this.isEditable=!0;this.isRequired=!1;this.isContentHtml=!0;this.listBox.formatItem.addHandler(this._formatListItem,this);this._itemsSourceFnCallBackBnd=this._itemSourceFunctionCallback.bind(this);this.initialize(r)}return __extends(i,t),Object.defineProperty(i.prototype,"minLength",{get:function(){return this._minLength},set:function(t){this._minLength=n.asNumber(t,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"maxItems",{get:function(){return this._maxItems},set:function(t){this._maxItems=n.asNumber(t,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"delay",{get:function(){return this._delay},set:function(t){this._delay=n.asNumber(t,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"searchMemberPath",{get:function(){return this._srchProp},set:function(t){this._srchProp=n.asString(t);this._srchProps=t?t.trim().split(/\s*,\s*/):[]},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"itemsSourceFunction",{get:function(){return this._itemsSourceFn},set:function(t){this._itemsSourceFn=n.asFunction(t);n.isFunction(this._itemsSourceFn)&&this.itemsSourceFunction(this.text,this.maxItems,this._itemsSourceFnCallBackBnd)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"cssMatch",{get:function(){return this._cssMatch},set:function(t){this._cssMatch=n.asString(t)},enumerable:!0,configurable:!0}),i.prototype._keydown=function(i){if(!i.defaultPrevented&&this.isDroppedDown)switch(i.keyCode){case n.Key.Up:case n.Key.Down:this.selectAll()}t.prototype._keydown.call(this,i)},i.prototype._setText=function(n){var t=this;if(!this._inCallback){if(!n&&this.selectedIndex>-1&&(this.selectedIndex=-1),n!=this._oldText&&(this._tbx.value!=n&&(this._tbx.value=n),this._oldText=n,this.onTextChanged(),!n&&this.collectionView)){this.collectionView.filter=this._query=null;this.isDroppedDown=!1;return}this._toSearch&&clearTimeout(this._toSearch);n!=this.getDisplayText()&&(this._toSearch=setTimeout(function(){t._toSearch=null;var n=t.text.trim().toLowerCase();n.length>=t._minLength&&n!=t._query&&(t._query=n,n=n.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),t._rxMatch=new RegExp('(?=.*'+n.replace(/ /g,')(?=.*')+')','ig'),t._rxHighlight=t.isContentHtml?new RegExp('('+n.replace(/ /g,'|')+')(?![^<]*>|[^<>]* </)','ig'):new RegExp('('+n.replace(/ /g,'|')+')','ig'),t.itemsSourceFunction?t.itemsSourceFunction(n,t.maxItems,t._itemsSourceFnCallBackBnd):t._updateItems())},this._delay))}},i.prototype._itemSourceFunctionCallback=function(t){this._inCallback=!0;var i=n.asCollectionView(t);i&&i.moveCurrentToPosition(-1);this.itemsSource=i;this._inCallback=!1;this.containsFocus()&&(this.isDroppedDown=!0,this.refresh())},i.prototype.onIsDroppedDownChanged=function(n){this.isDroppedDownChanged.raise(this,n);this._query='';this.selectedIndex>-1?(this._setText(this.getDisplayText()),this.isTouching||this.selectAll()):this.isTouching||this._tbx.focus()},i.prototype._updateItems=function(){var n=this.collectionView;n&&(this._inCallback=!0,n.beginUpdate(),this._itemCount=0,n.filter=this._filter.bind(this),n.moveCurrentToPosition(-1),n.endUpdate(),this._inCallback=!1,this.isDroppedDown=n.items.length>0&&this.containsFocus(),n.items.length!=0||this.isEditable||(this.selectedIndex=-1),this.refresh())},i.prototype._filter=function(n){var t,i;if(this._itemCount>=this._maxItems)return!1;if(t=n?n.toString():'',this.displayMemberPath)for(t=n[this.displayMemberPath],i=0;i<this._srchProps.length;i++)t+='\0'+n[this._srchProps[i]];return(this.isContentHtml&&(t=t.replace(/<[^>]*>/g,'')),t.match(this._rxMatch))?(this._itemCount++,!0):!1},i.prototype._formatListItem=function(n,t){if(this._cssMatch){var i='<span class="'+this._cssMatch+'">$1</span>';t.item.innerHTML=t.item.innerHTML.replace(this._rxHighlight,i)}},i}(t.ComboBox);t.AutoComplete=i})(t=n.input||(n.input={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var i=function(t){function i(i,r){var u=this,f;t.call(this,i);this.itemClicked=new n.Event;n.addClass(this.hostElement,'wj-menu');this._tbx.style.display='none';f='<div wj-part="header" class="wj-form-control" style="cursor:default"/>';this._hdr=n.createElement(f);this._tbx.parentElement.insertBefore(this._hdr,this._tbx);this._elRef=this._hdr;this.isRequired=!1;this._orgTag=='SELECT'&&(this.header=this.hostElement.getAttribute('header'),this._lbx.itemsSource&&(this.commandParameterPath='cmdParam'));this.isContentHtml=!0;this.maxDropDownHeight=500;this.addEventListener(this._hdr,'click',function(n){n.defaultPrevented||(u._isButton?(u.isDroppedDown=!1,u._raiseCommand()):u.isDroppedDown=!u.isDroppedDown)});this.initialize(r)}return __extends(i,t),Object.defineProperty(i.prototype,"header",{get:function(){return this._hdr.innerHTML},set:function(t){this._hdr.innerHTML=n.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"command",{get:function(){return this._command},set:function(n){this._command=n},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"commandPath",{get:function(){return this._cmdPath},set:function(t){this._cmdPath=n.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"commandParameterPath",{get:function(){return this._cmdParamPath},set:function(t){this._cmdParamPath=n.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isButton",{get:function(){return this._isButton},set:function(t){this._isButton=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"owner",{get:function(){return this._owner},set:function(t){this._owner=n.asType(t,HTMLElement,!0);this._enableDisableItems()},enumerable:!0,configurable:!0}),i.prototype.show=function(t){var i=this.dropDown;this.selectedIndex=-1;this.onIsDroppedDownChanging(new n.CancelEventArgs)&&(n.showPopup(i,t),this.onIsDroppedDownChanged(),i.focus())},i.prototype.onItemClicked=function(n){this.itemClicked.raise(this,n)},i.prototype.onIsDroppedDownChanged=function(n){t.prototype.onIsDroppedDownChanged.call(this,n);this.isDroppedDown?(this._closing=!0,this._defaultItem=this.selectedItem,this.isRequired=!1,this.selectedIndex=-1,this._enableDisableItems(),this._closing=!1,this.dropDown.focus()):this.selectedItem||(this.selectedItem=this._defaultItem)},i.prototype._keydown=function(i){i.defaultPrevented||i.keyCode==n.Key.Enter&&(this.isDroppedDown?this.getDisplayText(this.selectedIndex)&&this._raiseCommand():(this.isDroppedDown=!0,i.preventDefault()));t.prototype._keydown.call(this,i)},i.prototype._dropDownClick=function(n){n.defaultPrevented||this.getDisplayText(this.selectedIndex)&&this._raiseCommand();t.prototype._dropDownClick.call(this,n)},i.prototype._raiseCommand=function(n){var r=this.selectedItem,t=this._getCommand(r),i;if(t){if(i=this._cmdParamPath?r[this._cmdParamPath]:null,!this._canExecuteCommand(t,i))return;this._executeCommand(t,i)}this.onItemClicked(n)},i.prototype._getCommand=function(n){var t=n&&this.commandPath?n[this.commandPath]:null;return t?t:this.command},i.prototype._executeCommand=function(t,i){t&&!n.isFunction(t)&&(t=t.executeCommand);n.isFunction(t)&&t(i)},i.prototype._canExecuteCommand=function(t,i){if(t){var r=t.canExecuteCommand;if(n.isFunction(r))return r(i)}return!0},i.prototype._enableDisableItems=function(){var i,t,r,u,f;if(this.collectionView&&(this.command||this.commandPath))for(i=this.collectionView.items,t=0;t<i.length;t++)r=this._getCommand(i[t]),u=this.commandParameterPath?i[t][this.commandParameterPath]:null,r&&(f=this._lbx.hostElement.children[t],n.toggleClass(f,'wj-state-disabled',!this._canExecuteCommand(r,u)))},i}(t.ComboBox);t.Menu=i})(t=n.input||(n.input={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)};wijmo.culture.MultiSelect={itemsSelected:'{count:n0} items selected'},function(n){var t;(function(t){'use strict';var i=function(t){function i(i,r){var u=this;t.call(this,i);this._maxHdrItems=2;this._readOnly=!1;this._hdrFmt=n.culture.MultiSelect.itemsSelected;this.checkedItemsChanged=new n.Event;n.addClass(this.hostElement,'wj-multiselect');this._tbx.readOnly=!0;this.checkedMemberPath=null;this.addEventListener(this.inputElement,'click',function(){u.isDroppedDown=!u.isDroppedDown});this.removeEventListener(this.dropDown,'click');this._updateHeader();this.listBox.itemsChanged.addHandler(function(){u._updateHeader()});this.listBox.checkedItemsChanged.addHandler(function(){u._updateHeader();u.onCheckedItemsChanged()});this.initialize(r)}return __extends(i,t),Object.defineProperty(i.prototype,"checkedMemberPath",{get:function(){var n=this.listBox.checkedMemberPath;return n!=i._DEF_CHECKED_PATH?n:null},set:function(t){t=n.asString(t);this.listBox.checkedMemberPath=t?t:i._DEF_CHECKED_PATH},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"maxHeaderItems",{get:function(){return this._maxHdrItems},set:function(t){this._maxHdrItems!=t&&(this._maxHdrItems=n.asNumber(t),this._updateHeader())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"headerFormat",{get:function(){return this._hdrFmt},set:function(t){t!=this._hdrFmt&&(this._hdrFmt=n.asString(t),this._updateHeader())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"headerFormatter",{get:function(){return this._hdrFormatter},set:function(t){t!=this._hdrFormatter&&(this._hdrFormatter=n.asFunction(t),this._updateHeader())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"checkedItems",{get:function(){return this.listBox.checkedItems},set:function(t){this.listBox.checkedItems=n.asArray(t)},enumerable:!0,configurable:!0}),i.prototype.onCheckedItemsChanged=function(n){this.checkedItemsChanged.raise(this,n)},Object.defineProperty(i.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(t){this._readOnly=n.asBoolean(t);n.toggleClass(this.hostElement,'wj-state-readonly',this.isReadOnly)},enumerable:!0,configurable:!0}),i.prototype.refresh=function(n){n===void 0&&(n=!0);t.prototype.refresh.call(this,n);this._updateHeader()},i.prototype.onIsDroppedDownChanged=function(n){t.prototype.onIsDroppedDownChanged.call(this,n);this.isDroppedDown&&this.dropDown.focus()},i.prototype._setText=function(){},i.prototype._updateHeader=function(){var t,r,i;if(this._hdrFormatter)this.inputElement.value=this._hdrFormatter();else{if(t=this.checkedItems,r='',t.length>0)if(t.length<=this._maxHdrItems){if(this.displayMemberPath)for(i=0;i<t.length;i++)t[i]=t[i][this.displayMemberPath];r=t.join(', ')}else r=n.format(this.headerFormat,{count:t.length});this.inputElement.value=r}this._updateState()},i._DEF_CHECKED_PATH='$checked',i}(t.ComboBox);t.MultiSelect=i})(t=n.input||(n.input={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';(function(n){n[n.None=0]="None";n[n.Click=1]="Click";n[n.Blur=2]="Blur";n[n.ClickOrBlur=3]="ClickOrBlur"})(t.PopupTrigger||(t.PopupTrigger={}));var i=t.PopupTrigger,r=function(t){function r(r,u){var f=this,e;t.call(this,r,null,!0);this._showTrigger=i.Click;this._hideTrigger=i.Blur;this._fadeIn=!0;this._fadeOut=!0;this._click=this._handleClick.bind(this);this._mousedown=this._handleMouseDown.bind(this);this._visible=!1;this.showing=new n.Event;this.shown=new n.Event;this.hiding=new n.Event;this.hidden=new n.Event;e=this.hostElement;n.addClass(e,'wj-control wj-content wj-popup');e.getAttribute('tabindex')||(e.tabIndex=0);n.hidePopup(e,!1);this.addEventListener(e,'keydown',function(t){if(!t.defaultPrevented&&(t.keyCode==n.Key.Escape&&(t.preventDefault(),f.hide()),t.keyCode==n.Key.Enter)){var i=f.dialogResultEnter;i&&(t.preventDefault(),f._validateAndHide(i))}});this.addEventListener(e,'keydown',function(t){!t.defaultPrevented&&f.modal&&t.keyCode==n.Key.Tab&&(t.preventDefault(),n.moveFocus(f.hostElement,t.shiftKey?-1:1))});this.addEventListener(e,'click',function(n){if(n.target instanceof HTMLElement){var i=n.target,t=i.className.match(/\bwj-hide[\S]*\b/);t&&t.length>0&&(n.preventDefault(),n.stopPropagation(),f.hide(t[0]))}});this.addEventListener(document,'wheel',function(n){if(f.isVisible&&f._modal){for(var t=n.target;t&&t!=document.body;t=t.parentElement)if(t.scrollHeight>t.clientHeight)return;n.preventDefault();n.stopPropagation()}});this.initialize(u)}return __extends(r,t),Object.defineProperty(r.prototype,"owner",{get:function(){return this._owner},set:function(t){this._owner&&(this.removeEventListener(this._owner,'mousedown'),this.removeEventListener(this._owner,'click'));this._owner=t!=null?n.getElement(t):null;this._owner&&(this.addEventListener(this._owner,'mousedown',this._mousedown,!0),this.addEventListener(this._owner,'click',this._click,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"content",{get:function(){return this.hostElement.firstElementChild},set:function(n){n!=this.content&&(this.hostElement.innerHTML='',n instanceof HTMLElement&&this.hostElement.appendChild(n))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"showTrigger",{get:function(){return this._showTrigger},set:function(t){this._showTrigger=n.asEnum(t,i)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"hideTrigger",{get:function(){return this._hideTrigger},set:function(t){this._hideTrigger=n.asEnum(t,i)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"fadeIn",{get:function(){return this._fadeIn},set:function(t){this._fadeIn=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"fadeOut",{get:function(){return this._fadeOut},set:function(t){this._fadeOut=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"modal",{get:function(){return this._modal},set:function(t){this._modal=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"dialogResult",{get:function(){return this._result},set:function(n){this._result=n},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"dialogResultEnter",{get:function(){return this._resultEnter},set:function(n){this._resultEnter=n},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isVisible",{get:function(){var n=this.hostElement;return this._visible&&n&&n.style.display!='none'},enumerable:!0,configurable:!0}),r.prototype.show=function(t,i){var r=this,u,f;if(!this.isVisible&&(this.dialogResult=null,this._callback=null,u=new n.CancelEventArgs,this.onShowing(u))){t!=null&&(this.modal=n.asBoolean(t));i!=null&&(this._callback=n.asFunction(i));f=this._owner?this._owner.getBoundingClientRect():null;n.showPopup(this.hostElement,f,!1,this._fadeIn);this._modal&&this._showBackdrop();this._visible=!0;this.onShown(u);setTimeout(function(){if(!r.isTouching){var t=r.hostElement.querySelector('input[autofocus]');t&&t.clientHeight>0&&!t.disabled&&t.tabIndex>-1&&!n.closest(t,'[disabled],.wj-state-disabled')?(t.focus(),t.select()):n.moveFocus(r.hostElement,0)}r.containsFocus()||(r.hostElement.tabIndex=0,r.hostElement.focus())},200)}},r.prototype.hide=function(t){if(this.isVisible){n.isUndefined(t)||(this.dialogResult=t);var i=new n.CancelEventArgs;if(this.onHiding(i)){this._modal&&n.hidePopup(this._bkdrop,!0,this.fadeOut);n.hidePopup(this.hostElement,!0,this.fadeOut);this._visible=!1;this.onHidden(i);this._callback&&this._callback(this)}}},r.prototype.onShowing=function(n){return this.showing.raise(this,n),!n.cancel},r.prototype.onShown=function(n){this.shown.raise(this,n)},r.prototype.onHiding=function(n){return this.hiding.raise(this,n),!n.cancel},r.prototype.onHidden=function(n){this.hidden.raise(this,n)},r.prototype.dispose=function(){this._owner=null;t.prototype.dispose.call(this)},r.prototype.onLostFocus=function(n){this.isVisible&&this._hideTrigger&i.Blur&&(this.containsFocus()||this.hide());t.prototype.onLostFocus.call(this,n)},r.prototype.refresh=function(i){if(i===void 0&&(i=!0),t.prototype.refresh.call(this,i),this.isVisible&&!this._refreshing){this._refreshing=!0;var r=n.getActiveElement(),u=this._owner?this._owner.getBoundingClientRect():null;n.showPopup(this.hostElement,u);this._modal&&r instanceof HTMLElement&&r!=n.getActiveElement()&&r.focus();this._refreshing=!1}},r.prototype._handleResize=function(){this.isVisible&&this.refresh()},r.prototype._handleClick=function(){if(this.isVisible)this._hideTrigger&i.Click&&this.hide();else if(this._showTrigger&i.Click&&!this._wasVisible){var n=this.hostElement;n&&n.style.display=='none'&&this.show()}},r.prototype._handleMouseDown=function(){this._wasVisible=this.isVisible},r.prototype._showBackdrop=function(){var i=this,t;this._bkdrop||(this._bkdrop=document.createElement('div'),this._bkdrop.tabIndex=-1,n.addClass(this._bkdrop,'wj-popup-backdrop'),this.addEventListener(this._bkdrop,'mousedown',function(n){n.preventDefault();n.stopPropagation();i.hostElement.focus()}));this._bkdrop.style.display='';t=this.hostElement;t.parentElement.insertBefore(this._bkdrop,t)},r.prototype._validateAndHide=function(n){var t=this.hostElement.querySelector(':invalid');t?t.focus():this.hide(n)},r}(n.Control);t.Popup=r})(t=n.input||(n.input={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var i=function(i){function r(r,u){var f=this,e;i.call(this,r);this._format='d';this.valueChanged=new n.Event;n.addClass(this.hostElement,'wj-inputdate');this._msk=new n._MaskProvider(this._tbx);n.isIE9()||(this._tbx.type='tel');this.addEventListener(this.hostElement,'wheel',function(i){if(!i.defaultPrevented&&!f.isDroppedDown&&f.containsFocus()&&f.value!=null&&f._canChangeValue()){var r=n.clamp(-i.deltaY,-1,1);f.value=f.selectionMode==t.DateSelectionMode.Month?n.DateTime.addMonths(f.value,r):n.DateTime.addDays(f.value,r);f.selectAll();i.preventDefault()}});this.value=n.DateTime.newDate();this._orgTag=='INPUT'&&(e=this._tbx.getAttribute('value'),e&&(this.value=n.Globalize.parseDate(e,'yyyy-MM-dd')));this.isRequired=!0;this.initialize(u)}return __extends(r,i),Object.defineProperty(r.prototype,"value",{get:function(){return this._value},set:function(t){n.DateTime.equals(this._value,t)?this._tbx.value=n.Globalize.format(t,this.format):(t=n.asDate(t,!this.isRequired||t==null&&this._value==null),t=this._clamp(t),this._isValidDate(t)?(this._tbx.value=t?n.Globalize.format(t,this.format):'',t==this._value||n.DateTime.equals(this._value,t)||(this._value=t,this.onValueChanged())):this._tbx.value=t?n.Globalize.format(this.value,this.format):'',this.text!=this._oldText&&this.onTextChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"text",{get:function(){return this._tbx.value},set:function(n){n!=this.text&&(this._setText(n,!0),this._commitText())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"selectionMode",{get:function(){return this.calendar.selectionMode},set:function(n){this.calendar.selectionMode=n},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"min",{get:function(){return this._calendar.min},set:function(t){this._calendar.min=n.asDate(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"max",{get:function(){return this._calendar.max},set:function(t){this._calendar.max=n.asDate(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"format",{get:function(){return this._format},set:function(t){t!=this.format&&(this._format=n.asString(t),this._tbx.value=n.Globalize.format(this.value,this.format))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"mask",{get:function(){return this._msk.mask},set:function(t){this._msk.mask=n.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"calendar",{get:function(){return this._calendar},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"inputType",{get:function(){return this._tbx.type},set:function(t){this._tbx.type=n.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"itemValidator",{get:function(){return this._calendar.itemValidator},set:function(t){t!=this.itemValidator&&(this._calendar.itemValidator=n.asFunction(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"itemFormatter",{get:function(){return this.calendar.itemFormatter},set:function(t){t!=this.itemFormatter&&(this.calendar.itemFormatter=n.asFunction(t))},enumerable:!0,configurable:!0}),r.prototype.onValueChanged=function(n){this.valueChanged.raise(this,n)},r.prototype.refresh=function(){this.isDroppedDown=!1;this._msk&&this._msk.refresh();this._calendar&&this._calendar.refresh();this._tbx.value=n.Globalize.format(this.value,this.format)},r.prototype.onIsDroppedDownChanged=function(n){i.prototype.onIsDroppedDownChanged.call(this,n);this.isDroppedDown&&(this._calChanged=!1,this.dropDown.focus())},r.prototype._createDropDown=function(){var i=this;this._calendar=new t.Calendar(this._dropDown);this._dropDown.tabIndex=-1;this._calendar.valueChanged.addHandler(function(){i.value=n.DateTime.fromDateTime(i._calendar.value,i.value);i._calChanged=!0});this.addEventListener(this._dropDown,'mouseup',function(n){i._calChanged?i.isDroppedDown=!1:n.target.getAttribute('wj-part')=='btn-today'&&(i.isDroppedDown=!1)})},r.prototype._updateDropDown=function(){var n,r;this._commitText();n=this._calendar;n.value=this.value;n.min=this.min;n.max=this.max;this.selectionMode!=t.DateSelectionMode.Month&&(n.monthView=!0);r=getComputedStyle(this.hostElement);this._dropDown.style.minWidth=parseFloat(r.fontSize)*18+'px';this._calendar.refresh();i.prototype._updateDropDown.call(this)},r.prototype._keydown=function(r){if(!r.defaultPrevented&&!r.altKey&&!r.ctrlKey&&!r.metaKey)switch(r.keyCode){case n.Key.Enter:this._commitText();this.selectAll();break;case n.Key.Escape:this.text=n.Globalize.format(this.value,this.format);this.selectAll();break;case n.Key.Up:case n.Key.Down:if(!this.isDroppedDown&&this.value&&this._canChangeValue()){var u=r.keyCode==n.Key.Up?1:-1;this.value=this.selectionMode==t.DateSelectionMode.Month?n.DateTime.addMonths(this.value,u):n.DateTime.addDays(this.value,u);this.selectAll();r.preventDefault()}}i.prototype._keydown.call(this,r)},r.prototype._canChangeValue=function(){return!this.isReadOnly&&this.selectionMode!=t.DateSelectionMode.None},r.prototype._clamp=function(n){return this.calendar._clamp(n)},r.prototype._commitText=function(){var i=this._tbx.value,t;i||this.isRequired?(t=n.Globalize.parseDate(i,this.format),t?this.value=n.DateTime.fromDateTime(t,this.value):this._tbx.value=n.Globalize.format(this.value,this.format)):this.value=null},r.prototype._isValidDate=function(n){return n&&(this._clamp(n)!=n||this.itemValidator&&!this.itemValidator(n))?!1:!0},r}(t.DropDown);t.InputDate=i})(t=n.input||(n.input={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var i=function(t){function i(i,r){if(t.call(this,i),this._format='t',this.valueChanged=new n.Event,n.addClass(this.hostElement,'wj-inputtime'),this._value=n.DateTime.newDate(),this._msk=new n._MaskProvider(this._tbx),n.isIE9()||(this._tbx.type='tel'),this._orgTag=='INPUT'){var u=this._tbx.getAttribute('value');u&&(this.value=n.Globalize.parseDate(u,'HH:mm:ss'))}this.step=15;this.autoExpandSelection=!0;this.initialize(r)}return __extends(i,t),Object.defineProperty(i.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"inputType",{get:function(){return this._tbx.type},set:function(t){this._tbx.type=n.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"value",{get:function(){return this._value},set:function(t){t=n.asDate(t,!this.isRequired);t&&(this._min!=null&&this._getTime(t)<this._getTime(this._min)&&(t=n.DateTime.fromDateTime(t,this._min)),this._max!=null&&this._getTime(t)>this._getTime(this._max)&&(t=n.DateTime.fromDateTime(t,this._max)));this._setText(t?n.Globalize.format(t,this.format):'',!0);t==this._value||n.DateTime.equals(t,this._value)||(this._value=t,this.onValueChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"text",{get:function(){return this._tbx.value},set:function(n){n!=this.text&&(this._setText(n,!0),this._commitText())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"min",{get:function(){return this._min},set:function(t){this._min=n.asDate(t,!0);this.isDroppedDown=!1;this._updateItems()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"max",{get:function(){return this._max},set:function(t){this._max=n.asDate(t,!0);this.isDroppedDown=!1;this._updateItems()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"step",{get:function(){return this._step},set:function(t){this._step=n.asNumber(t,!0);this.isDroppedDown=!1;this._updateItems()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"format",{get:function(){return this._format},set:function(t){t!=this.format&&(this._format=n.asString(t),this._tbx.value=n.Globalize.format(this.value,this.format),this.collectionView&&this.collectionView.items.length&&this._updateItems())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"mask",{get:function(){return this._msk.mask},set:function(t){this._msk.mask=n.asString(t)},enumerable:!0,configurable:!0}),i.prototype.onValueChanged=function(n){this.valueChanged.raise(this,n)},i.prototype.refresh=function(){this.isDroppedDown=!1;this._msk.refresh();this._tbx.value=n.Globalize.format(this.value,this.format);this._updateItems()},i.prototype.onSelectedIndexChanged=function(n){this.selectedIndex>-1&&this._commitText();t.prototype.onSelectedIndexChanged.call(this,n)},i.prototype._updateItems=function(){var i=new Date(0,0,0,0,0),r=new Date(0,0,0,23,59,59),u=[],t,f;if(this.min&&i.setHours(this.min.getHours(),this.min.getMinutes(),this.min.getSeconds()),this.max&&r.setHours(this.max.getHours(),this.max.getMinutes(),this.max.getSeconds()),n.isNumber(this.step)&&this.step>0)for(t=i;t<=r;t=n.DateTime.addMinutes(t,this.step))u.push(n.Globalize.format(t,this.format));f=this.text;this.itemsSource=u;this.text=f},i.prototype._getTime=function(n){return n.getHours()*3600+n.getMinutes()*60+n.getSeconds()},i.prototype._keydown=function(i){if(t.prototype._keydown.call(this,i),!i.defaultPrevented)switch(i.keyCode){case n.Key.Enter:this.isDroppedDown||(this._commitText(),this.selectAll());break;case n.Key.Escape:this.text=n.Globalize.format(this.value,this.format);this.selectAll()}},i.prototype._commitText=function(){if(this.text||this.isRequired){var t=n.Globalize.parseDate(this.text,this.format);t?this.value=n.DateTime.fromDateTime(this.value,t):this._tbx.value=n.Globalize.format(this.value,this.format)}else this.value=null},i}(t.ComboBox);t.InputTime=i})(t=n.input||(n.input={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var i=function(i){function r(r,u){var f=this,e,o;i.call(this,r);n.addClass(this.hostElement,'wj-inputdatetime');this._btnTm=this.hostElement.querySelector('[wj-part="btn-tm"]');this._format='g';this._inputTime=new t.InputTime(document.createElement('div'));this._inputTime.valueChanged.addHandler(function(){f.value=n.DateTime.fromDateTime(f.value,f._inputTime.value);f.containsFocus()&&(f.isTouching&&f.showDropDownButton||f.selectAll())});e=this._inputTime.dropDown;o=this._keydown.bind(this);this.addEventListener(e,'keydown',o,!0);this.addEventListener(e,'blur',function(){f._updateFocusState()},!0);this.addEventListener(this._btnTm,'click',this._btnclick.bind(this));this.addEventListener(this._btn,'mousedown',function(){f._setDropdown(f.calendar.hostElement)});this.addEventListener(this._btnTm,'mousedown',function(n){f.isDroppedDown&&f.dropDown==e&&n.preventDefault();f._inputTime.dropDownCssClass=f.dropDownCssClass;f._setDropdown(e)});this.initialize(u)}return __extends(r,i),Object.defineProperty(r.prototype,"timeMin",{get:function(){return this._inputTime.min},set:function(n){this._inputTime.min=n},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"timeMax",{get:function(){return this._inputTime.max},set:function(n){this._inputTime.max=n},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"timeFormat",{get:function(){return this._inputTime.format},set:function(n){this._inputTime.format=n},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"timeStep",{get:function(){return this._inputTime.step},set:function(n){this._inputTime.step=n},enumerable:!0,configurable:!0}),r.prototype.refresh=function(){i.prototype.refresh.call(this);this._inputTime.refresh()},r.prototype._updateBtn=function(){i.prototype._updateBtn.call(this);this._btnTm&&(this._btnTm.tabIndex=this._btn.tabIndex,this._btnTm.parentElement.style.display=this._btn.style.display)},r.prototype._clamp=function(n){return n&&(this.min&&n<this.min&&(n=this.min),this.max&&n>this.max&&(n=this.max)),n},r.prototype._commitText=function(){var i=this._tbx.value,t;i||this.isRequired?(t=n.Globalize.parseDate(i,this.format),t?this.value=t:this._tbx.value=n.Globalize.format(this.value,this.format)):this.value=null},r.prototype._setDropdown=function(n){this._dropDown!=n&&(this.isDroppedDown&&(this.isDroppedDown=!1),this._dropDown=n)},r.prototype._updateDropDown=function(){var n=this._inputTime;this._dropDown==n.dropDown?(this._commitText(),i.prototype._updateDropDown.call(this),n.isRequired=this.isRequired,n.value=this.value,this.isDroppedDown&&n.listBox.showSelection()):i.prototype._updateDropDown.call(this)},r.controlTemplate='<div style="position:relative" class="wj-template"><div class="wj-input"><div class="wj-input-group wj-input-btn-visible"><input wj-part="input" type="text" class="wj-form-control" /><span class="wj-input-group-btn" tabindex="-1"><button wj-part="btn" class="wj-btn wj-btn-default" type="button" tabindex="-1"><span class="wj-glyph-calendar"><\/span><\/button><button wj-part="btn-tm" class="wj-btn wj-btn-default" type="button" tabindex="-1"><span class="wj-glyph-clock"><\/span><\/button><\/span><\/div><\/div><div wj-part="dropdown" class="wj-content wj-dropdown-panel" style="display:none;position:absolute;z-index:100;width:auto"><\/div><\/div>',r}(t.InputDate);t.InputDateTime=i})(t=n.input||(n.input={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var i=function(t){function i(i,r){var u=this,e,f;t.call(this,i);this._showBtn=!0;this._readOnly=!1;this.textChanged=new n.Event;this.valueChanged=new n.Event;e=this.getTemplate();this.applyTemplate('wj-control wj-inputnumber wj-content',e,{_tbx:'input',_btnUp:'btn-inc',_btnDn:'btn-dec'},'input');f=this._tbx;f.autocomplete='off';f.spellcheck=!1;this._updateSymbols();this.addEventListener(this._tbx,'compositionstart',function(){u._composing=!0});this.addEventListener(this._tbx,'compositionend',function(){u._composing=!1;setTimeout(function(){u._setText(u.text)})});this.addEventListener(f,'keypress',this._keypress.bind(this));this.addEventListener(f,'keydown',this._keydown.bind(this));this.addEventListener(f,'input',this._input.bind(this));this.addEventListener(this._btnUp,'click',this._clickSpinner.bind(this));this.addEventListener(this._btnDn,'click',this._clickSpinner.bind(this));this.addEventListener(this.hostElement,'wheel',function(t){if(!t.defaultPrevented&&!u.isReadOnly&&u.containsFocus()&&u.value!=null){var i=n.clamp(-t.deltaY,-1,1);u._increment((u.step||1)*i);setTimeout(function(){return u.selectAll()});t.preventDefault()}});this.value=0;this.isRequired=!0;this.initialize(r)}return __extends(i,t),Object.defineProperty(i.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"inputType",{get:function(){return this._tbx.type},set:function(t){this._tbx.type=n.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"value",{get:function(){return this._value},set:function(t){if(t!=this._value)if(t=n.asNumber(t,!this.isRequired||t==null&&this._value==null),t==null)this._setText('');else if(!isNaN(t)){var i=n.Globalize.format(t,this.format);this._setText(i)}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isRequired",{get:function(){return this._tbx.required},set:function(t){this._tbx.required=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"required",{get:function(){return n._deprecated('required','isRequired'),this.isRequired},set:function(t){n._deprecated('required','isRequired');this.isRequired=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(t){this._readOnly=n.asBoolean(t);this.inputElement.readOnly=this._readOnly;n.toggleClass(this.hostElement,'wj-state-readonly',this.isReadOnly)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"min",{get:function(){return this._min},set:function(t){this._min=n.asNumber(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"max",{get:function(){return this._max},set:function(t){this._max=n.asNumber(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"step",{get:function(){return this._step},set:function(t){this._step=n.asNumber(t,!0);this._updateBtn()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"format",{get:function(){return this._format},set:function(t){t!=this.format&&(this._format=n.asString(t),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"text",{get:function(){return this._tbx.value},set:function(n){n!=this.text&&(this._oldText=null,this._setText(n))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"placeholder",{get:function(){return this._tbx.placeholder},set:function(n){this._tbx.placeholder=n},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"showSpinner",{get:function(){return this._showBtn},set:function(t){this._showBtn=n.asBoolean(t);this._updateBtn()},enumerable:!0,configurable:!0}),i.prototype.selectAll=function(){n.setSelectionRange(this._tbx,0,this._tbx.value.length)},i.prototype.onTextChanged=function(n){this._updateState();this.textChanged.raise(this,n)},i.prototype.onValueChanged=function(n){this.valueChanged.raise(this,n)},i.prototype.onGotFocus=function(n){this.isTouching||(this._tbx.focus(),this.selectAll());t.prototype.onGotFocus.call(this,n)},i.prototype.onLostFocus=function(i){var r=this._clamp(this.value),u=n.Globalize.format(r,this.format,!1,!1);this._setText(u);t.prototype.onLostFocus.call(this,i)},i.prototype.refresh=function(){this._updateSymbols();var t=n.Globalize.format(this.value,this.format);this._setText(t)},i.prototype._updateSymbols=function(){var t=n.culture.Globalize.numberFormat;this._decChar=t['.']||'.';this._currChar=t.currency.symbol||'$';this._rxSym=new RegExp('^[%+\\-() '+this._decChar+this._currChar+']*$')},i.prototype._clamp=function(t){return n.clamp(t,this.min,this.max)},i.prototype._isNumeric=function(n,t){t===void 0&&(t=!1);var i=n==this._decChar||n>='0'&&n<='9';return i||t||(i='+-()'.indexOf(n)>-1),i},i.prototype._getInputRange=function(n){var t;n===void 0&&(n=!1);var i=[0,0],r=this.text,u=!1;for(t=0;t<r.length;t++)this._isNumeric(r[t],n)&&(u||(i[0]=t,u=!0),i[1]=t+1);return i},i.prototype._moveToDigit=function(){var t=this._getInputRange(!0);n.setSelectionRange(this._tbx,t[0],t[1])},i.prototype._increment=function(t){if(t){var i=this._clamp(this.value+t),r=n.Globalize.format(i,this.format,!1,!1);this._setText(r)}},i.prototype._getSelStart=function(){return this._tbx&&this._tbx.value?this._tbx.selectionStart:0},i.prototype._updateBtn=function(){this.showSpinner&&this.step&&this.value!=null?(this._btnUp.style.display=this._btnDn.style.display='',n.addClass(this.hostElement,'wj-input-show-spinner')):(this._btnUp.style.display=this._btnDn.style.display='none',n.removeClass(this.hostElement,'wj-input-show-spinner'))},i.prototype._setText=function(t){var u,i,f,r;if(!this._composing){if(!t){if(!this.isRequired){this._tbx.value='';this._value!=null&&(this._value=null,this.onValueChanged());this._oldText&&(this._oldText=t,this.onTextChanged());this._updateBtn();return}t='0'}if(t=='-'||t=='('){this._tbx.value=t;n.setSelectionRange(this._tbx,1);return}if(t.length>1&&t[t.length-1]==')'&&t[0]!='('&&(t=t.substr(0,t.length-1)),this._rxSym.test(t)&&(t='0'),u=this._format||(t.indexOf(this._decChar)>-1?'n2':'n0'),i=n.Globalize.parseFloat(t,u),isNaN(i)){this._tbx.value=this._oldText;return}t.indexOf('%')<0&&u.toLowerCase().indexOf('p')>-1&&(i/=100);f=this._oldText&&t.length==this._oldText.length+1;r=n.Globalize.format(i,u,!1,f);(u=='n'||u[0].toLowerCase()=='g')&&this._tbx.selectionStart==this._tbx.value.length&&(t==r+this._decChar||t==r+this._decChar+'0')&&(r=t);this._tbx.value!=r&&(this._tbx.value=r,i=n.Globalize.parseFloat(r,this.format));i!=this._value&&(this._value=i,this.onValueChanged());this.text!=this._oldText&&(this.onTextChanged(),this._oldText=this.text);this._updateBtn()}},i.prototype._keypress=function(t){var r,u,i;if(!t.defaultPrevented&&!this._composing&&!this._readOnly&&t.charCode&&!t.ctrlKey){r=String.fromCharCode(t.charCode);this._isNumeric(r)?(u=this._getInputRange(!0),this._tbx.selectionStart<u[0]&&n.setSelectionRange(this._tbx,u[0],u[1])):t.preventDefault();switch(r){case'-':this.value?(this.value*=-1,this._moveToDigit()):this._setText('-');t.preventDefault();break;case'+':this.value=Math.abs(this.value);this._moveToDigit();t.preventDefault();break;case this._decChar:i=this._tbx.value.indexOf(r);i>-1&&(this._getSelStart()<=i&&i++,n.setSelectionRange(this._tbx,i),t.preventDefault())}}},i.prototype._keydown=function(t){var r=this,i;if(!t.defaultPrevented&&!this._composing)switch(t.keyCode){case n.Key.Up:case n.Key.Down:this.step&&(this._increment(this.step*(t.keyCode==n.Key.Up?1:-1)),setTimeout(function(){r.selectAll()}),t.preventDefault());break;case n.Key.Back:this._tbx&&this._tbx.selectionStart==this._tbx.selectionEnd&&(i=this._tbx.selectionStart,i>0&&this.text[i-1]==this._decChar&&(setTimeout(function(){n.setSelectionRange(r._tbx,i-1)}),t.preventDefault()));break;case n.Key.Delete:this._tbx&&this._tbx.selectionStart==this._tbx.selectionEnd&&(i=this._tbx.selectionStart,i>0&&this.text[i]==this._decChar&&(setTimeout(function(){n.setSelectionRange(r._tbx,i+1)}),t.preventDefault()))}},i.prototype._input=function(){var t=this;this._composing||setTimeout(function(){var o=t._tbx,r=o.value,i=t._getSelStart(),s=r?r.indexOf(t._decChar):-1,f,u,e;t._setText(r);t.containsFocus()&&(f=o.value,u=f.indexOf(t._decChar),r&&r[0]=='-'&&f&&f[0]!='-'&&(r=null),r?i<=s&&u>-1||s<0&&u<0?i+=f.length-r.length:i==r.length&&s<0&&u>-1&&(i=u):i=u>-1?u:f.match(/[^\d]*$/).index,e=t._getInputRange(),i<e[0]&&(i=e[0]),i>e[1]&&(i=e[1]),n.setSelectionRange(o,i))})},i.prototype._clickSpinner=function(t){var i=this;t.defaultPrevented||this.isReadOnly||!this.step||this.value==null||(this._increment(this.step*(n.contains(this._btnUp,t.target)?1:-1)),this.isTouching||setTimeout(function(){return i.selectAll()}))},i.controlTemplate='<div class="wj-input"><div class="wj-input-group"><span wj-part="btn-dec" class="wj-input-group-btn" tabindex="-1"><button class="wj-btn wj-btn-default" type="button" tabindex="-1">-<\/button><\/span><input type="tel" wj-part="input" class="wj-form-control wj-numeric"/><span wj-part="btn-inc" class="wj-input-group-btn" tabindex="-1"><button class="wj-btn wj-btn-default" type="button" tabindex="-1">+<\/button><\/span><\/div>',i}(n.Control);t.InputNumber=i})(t=n.input||(n.input={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var i=function(t){function i(i,r){var e=this,f,u;t.call(this,i);this.valueChanged=new n.Event;f=this.getTemplate();this.applyTemplate('wj-control wj-inputmask wj-content',f,{_tbx:'input'},'input');this._orgTag=='INPUT'&&(u=this._tbx.getAttribute('value'),u&&(this.value=u));this._msk=new n._MaskProvider(this._tbx);this.isRequired=!0;this.initialize(r);this.addEventListener(this._tbx,'input',function(){setTimeout(function(){e.onValueChanged()})})}return __extends(i,t),Object.defineProperty(i.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"value",{get:function(){return this._tbx.value},set:function(t){if(t!=this.value){this._tbx.value=n.asString(t);var i=n.getActiveElement();this._tbx.selectionStart=this._tbx.value.length;i&&i!=n.getActiveElement()&&i.focus();t=this._msk._applyMask();this._tbx.value=t;this.onValueChanged()}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"rawValue",{get:function(){return this._msk.getRawValue()},set:function(n){this.value=n},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"mask",{get:function(){return this._msk.mask},set:function(t){var i=this.value;this._msk.mask=n.asString(t);this.value!=i&&this.onValueChanged()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"promptChar",{get:function(){return this._msk.promptChar},set:function(n){var t=this.value;this._msk.promptChar=n;this.value!=t&&this.onValueChanged()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"placeholder",{get:function(){return this._tbx.placeholder},set:function(n){this._tbx.placeholder=n},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"maskFull",{get:function(){return this._msk.maskFull},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isRequired",{get:function(){return this._tbx.required},set:function(t){this._tbx.required=n.asBoolean(t)},enumerable:!0,configurable:!0}),i.prototype.selectAll=function(){var t=this._msk.getMaskRange();n.setSelectionRange(this._tbx,t[0],t[1]+1)},i.prototype.onValueChanged=function(n){this._updateState();this.valueChanged.raise(this,n)},i.prototype.refresh=function(n){t.prototype.refresh.call(this,n);this._msk.refresh()},i.prototype.onGotFocus=function(n){t.prototype.onGotFocus.call(this,n);this.selectAll()},i.controlTemplate='<div class="wj-input"><div class="wj-input-group"><input wj-part="input" class="wj-form-control"/><\/div>',i}(n.Control);t.InputMask=i})(t=n.input||(n.input={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var i=function(i){function r(t,r){var u=this;i.call(this,t);this.valueChanged=new n.Event;n.addClass(this.hostElement,'wj-inputcolor');this._tbx.style.paddingLeft='24px';this._ePreview=n.createElement('<div class="wj-inputcolorbox" style="position:absolute;left:6px;top:6px;width:12px;bottom:6px;border:1px solid black"></div>');this.hostElement.style.position='relative';this.hostElement.appendChild(this._ePreview);this._orgTag=='INPUT'&&(this._tbx.type='',this._commitText());this.value='#ffffff';this.isRequired=!0;this.initialize(r);this.addEventListener(this._colorPicker.hostElement,'click',function(t){var i=t.target,r;i&&i.tagName=='DIV'&&(n.closest(i,'[wj-part="div-pal"]')||n.closest(i,'[wj-part="div-pv"]'))&&(r=i.style.backgroundColor,r&&(u.isDroppedDown=!1))})}return __extends(r,i),Object.defineProperty(r.prototype,"value",{get:function(){return this._value},set:function(t){t!=this.value&&(t||!this.isRequired)&&(this.text=n.asString(t))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"text",{get:function(){return this._tbx.value},set:function(t){t!=this.text&&(this._setText(n.asString(t),!0),this._commitText())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"showAlphaChannel",{get:function(){return this._colorPicker.showAlphaChannel},set:function(n){this._colorPicker.showAlphaChannel=n},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"colorPicker",{get:function(){return this._colorPicker},enumerable:!0,configurable:!0}),r.prototype.onValueChanged=function(n){this.valueChanged.raise(this,n)},r.prototype._createDropDown=function(){var i=this;this._colorPicker=new t.ColorPicker(this._dropDown);n.setCss(this._dropDown,{minWidth:420,minHeight:200});this._colorPicker.valueChanged.addHandler(function(){i.value=i._colorPicker.value})},r.prototype._keydown=function(t){if(!t.defaultPrevented)switch(t.keyCode){case n.Key.Enter:this._commitText();this.selectAll();break;case n.Key.Escape:this.text=this.value;this.selectAll()}i.prototype._keydown.call(this,t)},r.prototype._commitText=function(){if(this.value!=this.text){if(!this.isRequired&&!this.text){this._value=this.text;this._ePreview.style.backgroundColor='';return}var t=n.Color.fromString(this.text);t?(this._colorPicker.value=this.text,this._value=this._colorPicker.value,this._ePreview.style.backgroundColor=this.value,this.onValueChanged()):this.text=this._value?this._value:''}},r}(t.DropDown);t.InputColor=i})(t=n.input||(n.input={}))}(wijmo||(wijmo={}))
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},c1;(function(n){var t;(function(n){var p=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t}(wijmo.input.AutoComplete),t,i,r,u,f,e,o,s,h,c,l,a,v,y;n.AutoComplete=p;t=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t}(wijmo.input.Calendar);n.Calendar=t;i=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t}(wijmo.input.ColorPicker);n.ColorPicker=i;r=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.getDisplayText=function(t){return n.prototype.getDisplayText.call(this,t).trim()},t}(wijmo.input.ComboBox);n.ComboBox=r;u=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t}(wijmo.input.InputColor);n.InputColor=u;f=function(n){function t(t){n.call(this,t);this._dropDown&&this._dropDown.addEventListener("mousedown",function(n){n.stopPropagation()})}return __extends(t,n),t}(wijmo.input.InputDate);n.InputDate=f;e=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t}(wijmo.input.InputDateTime);n.InputDateTime=e;o=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t}(wijmo.input.InputMask);n.InputMask=o;s=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t}(wijmo.input.InputNumber);n.InputNumber=s;h=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t}(wijmo.input.InputTime);n.InputTime=h;c=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t}(wijmo.input.ListBox);n.ListBox=c;l=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t}(wijmo.input.Menu);n.Menu=l;a=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t}(wijmo.input.Popup);n.Popup=a;v=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t}(wijmo.input.MultiSelect);n.MultiSelect=v;y=function(n){function t(t,i){n.call(this,t);this._initElements();this.initialize(i)}return __extends(t,n),Object.defineProperty(t.prototype,"collectionView",{get:function(){return this._collectionView},set:function(n){var i=wijmo.tryCast(n,wijmo.collections.CollectionView),t=this;i&&i!==t._collectionView&&(t._collectionView&&t._collectionView.collectionChanged.removeHandler(t._updatePager,t),t._collectionView=i,t._collectionView.collectionChanged.addHandler(t._updatePager,t),t._updatePager())},enumerable:!0,configurable:!0}),t.prototype._initElements=function(){var n=this,i=n.getTemplate(),t=[];n.applyTemplate("wj-control wj-content wj-pager",i,{_btnFirst:"btn-first",_btnPrev:"btn-prev",_btnNext:"btn-next",_btnLast:"btn-last",_inputPages:"pages"});t.push(n._btnFirst,n._btnPrev,n._btnNext,n._btnLast);t.forEach(function(t){return t.addEventListener("click",function(){n._movePage(t.getAttribute("data-action"))})})},t.prototype._movePage=function(n){var i=this,t=i.collectionView;if(t)switch(n){case"first":t.moveToFirstPage();break;case"prev":t.moveToPreviousPage();break;case"next":t.moveToNextPage();break;case"last":t.moveToLastPage()}},t.prototype._updatePager=function(){var n=this,t=n.collectionView,i,r;t&&(n._inputPages.value=t.pageIndex+1+" / "+t.pageCount,i=t.pageIndex<=0,r=t.pageIndex>=t.pageCount-1,n._btnFirst.disabled=i,n._btnPrev.disabled=i,n._btnNext.disabled=r,n._btnLast.disabled=r)},t.controlTemplate='<div class="wj-input-group">        <span class="wj-input-group-btn" >            <button wj-part="btn-first" data-action="first" class="wj-btn wj-btn-default" type="button">                <span class="wj-glyph-left" style="margin-right: -4px;"><\/span>                <span class="wj-glyph-left"><\/span>            <\/button>        <\/span>        <span class="wj-input-group-btn" >            <button wj-part="btn-prev" data-action="prev" class="wj-btn wj-btn-default" type="button">                <span class="wj-glyph-left"><\/span>            <\/button>        <\/span>        <input wj-part="pages" type="text" class="wj-form-control" disabled />        <span class="wj-input-group-btn" >            <button wj-part="btn-next" data-action="next" class="wj-btn wj-btn-default" type="button">                <span class="wj-glyph-right"><\/span>            <\/button>        <\/span>        <span class="wj-input-group-btn" >            <button wj-part="btn-last" data-action="last" class="wj-btn wj-btn-default" type="button">                <span class="wj-glyph-right"><\/span>                <span class="wj-glyph-right" style="margin-left: -4px;"><\/span>            <\/button>        <\/span>    <\/div>',t}(wijmo.Control);n.Pager=y})(t=n.input||(n.input={}))})(c1||(c1={}));
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},c1;(function(n){var t;(function(t){var i;(function(i){var wt=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),Object.defineProperty(t.prototype,"_controlType",{get:function(){return s},enumerable:!0,configurable:!0}),t}(t._ControlWrapper),s,r,o,e,u,h,ut,c,ft,l,et,a,ot,v,y,p,w,st,b,k,ht,d,ct,g,lt,nt,at,f,vt,tt,yt,it,pt,rt;i._PagerWrapper=wt;s=function(t){function i(){t.apply(this,arguments)}return __extends(i,t),i.prototype.initialize=function(i){var r,u,f;if(i)r=i.owner;else return;r&&(u=wijmo.Control.getControl("#"+r),u&&u.collectionView?i.collectionView=u.collectionView:(f=n.getService(r),f&&f instanceof wijmo.collections.CollectionView&&(i.collectionView=f)));delete i.owner;t.prototype.initialize.call(this,i)},i}(n.input.Pager);i.Pager=s;r=function(n){function i(){n.apply(this,arguments)}return __extends(i,n),i.prototype._beforeInitializeControl=function(n){var e=this,u=e.control,r=u._tbx,o=r.getAttribute("wj-name"),i=e._hidden=document.createElement("input"),f;if(i.name=o,i.type="text",i.style.visibility="hidden",i.style.position="absolute",n.validationAttributes){for(f in n.validationAttributes)i.setAttribute(f,n.validationAttributes[f]);delete n.validationAttributes}r.parentNode.insertBefore(i,r);t.Utils.forwardValidationEvents(u,r,i);n.isRequired!=null&&(u.isRequired=n.isRequired,delete n.isRequired)},i.prototype._afterInitializeControl=function(n,i,r){i===void 0&&(i="value");r===void 0&&(r="valueChanged");var u=this,e=u.control,f=u._hidden;f&&(f.value=u._processInputValue(e[i]),e[r].addHandler(function(){f.value=u._processInputValue(e[i]);t.Utils.triggerValidationChangeEvent(f)}))},i.prototype._processInputValue=function(n){return wijmo.isDate(n)?wijmo.Globalize.formatDate(n,"yyyy/MM/dd HH:mm:ss"):n},i}(n.mvc._Initializer);i._FormInputInitializer=r;o=function(n){function i(){n.apply(this,arguments)}return __extends(i,n),i.prototype._beforeInitializeControl=function(n){this._template=n.itemTemplateId||n.itemTemplateContent;delete n.itemTemplateId;delete n.itemTemplateContent},i.prototype._afterInitializeControl=function(){var t=this,n=t.control,r=n.itemsChanged?n:n._lbx,i=this._template;i&&(r.isContentHtml=!0,r.itemsChanged.addHandler(function(){t._transformItems(i)}),t._transformItems(i),setTimeout(function(){t._transformItems(i)},15),n instanceof wijmo.input.ComboBox&&n.isDroppedDownChanged.addHandler(function(){n.isDroppedDown&&t._transformItems(i)}))},i.prototype._transformItems=function(n){for(var e=this,u=e.control,f=u.itemsChanged?u:u._lbx,o,r,i=0;i<f.hostElement.childElementCount;i++)o=f.hostElement.children.item(i),r={},r[t.Template.UID]=t._getUniqueId(e)+"_item"+i,r[t.Template.DATACONTEXT]=f.collectionView.items[i],n.applyTo(o,r)},i}(n.mvc._Initializer);i._ItemsInputInitializer=o;e=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t}(t._ControlWrapper);i._DropDownWrapper=e;u=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),Object.defineProperty(t.prototype,"_initializerType",{get:function(){return o},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_controlType",{get:function(){return h},enumerable:!0,configurable:!0}),t}(e);i._ComboBoxWrapper=u;h=function(n){function i(){n.apply(this,arguments)}return __extends(i,n),i.prototype.initialize=function(t){t&&t.validationAttributes&&(this._validationAttributes=t.validationAttributes,delete t.validationAttributes);n.prototype.initialize.call(this,t);this._handleHiddenField()},Object.defineProperty(i.prototype,"isEditable",{get:function(){return this._editable},set:function(n){n!==this._editable&&(this._editable=wijmo.asBoolean(n),this._updateHiddenInput())},enumerable:!0,configurable:!0}),i.prototype._handleHiddenField=function(){var n=this,u=n.hostElement.getAttribute("wj-name"),i=n._hiddenInput,r;if(i||(i=document.createElement("input"),i.type="text",i.name=u,i.style.visibility="hidden",i.style.position="absolute",n._tbx.parentNode.insertBefore(i,n._tbx),t.Utils.forwardValidationEvents(n,n._tbx,i,!0),n._hiddenInput=i),n._validationAttributes)for(r in n._validationAttributes)i.setAttribute(r,n._validationAttributes[r]);n._updateHiddenInput()},i.prototype._onTextchanged=function(){var n=this;n._hiddenInput&&(n._hiddenInput.value=n.text,n.isEditable&&t.Utils.triggerValidationChangeEvent(n._hiddenInput))},i.prototype._onSelectedIndexChanged=function(){var n=this;n._hiddenInput&&(n._hiddenInput.value=n.selectedValue,t.Utils.triggerValidationChangeEvent(n._hiddenInput))},i.prototype._updateHiddenInput=function(){var n=this,t=n._hiddenInput;t&&(n.isEditable?(t.value=n.text,n.selectedIndexChanged.hasHandlers&&n.selectedIndexChanged.removeHandler(n._onSelectedIndexChanged,n),n.textChanged.addHandler(n._onTextchanged,n)):(t.value=n.selectedValue,n.textChanged.hasHandlers&&n.textChanged.removeHandler(n._onTextchanged,n),n.selectedIndexChanged.addHandler(n._onSelectedIndexChanged,n)))},i}(n.input.ComboBox);i.ComboBox=h;ut=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),Object.defineProperty(t.prototype,"_controlType",{get:function(){return c},enumerable:!0,configurable:!0}),t}(u);i._AutoCompleteWrapper=ut;c=function(n){function i(){n.apply(this,arguments)}return __extends(i,n),i.prototype.initialize=function(i){var f;if(i){var e=i.itemsSourceAction,u=this,o=u.hostElement.getAttribute("wj-name"),r;if(e&&(i.itemsSourceFunction=function(n,i,r){var u={query:n,max:i};t.Utils.ajaxGet(e,function(n){r(n)},u)},delete i.itemsSourceAction),r=document.createElement("input"),r.type="text",r.name=o,r.style.visibility="hidden",r.style.position="absolute",i.validationAttributes){for(f in i.validationAttributes)r.setAttribute(f,i.validationAttributes[f]);delete i.validationAttributes}u._tbx.parentNode.insertBefore(r,u._tbx);t.Utils.forwardValidationEvents(u,u._tbx,r);n.prototype.initialize.call(this,i);r&&(r.value=u.text,u.textChanged.addHandler(function(){r.value=u.text;t.Utils.triggerValidationChangeEvent(r)}))}},i}(n.input.AutoComplete);i.AutoComplete=c;ft=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),Object.defineProperty(t.prototype,"_controlType",{get:function(){return l},enumerable:!0,configurable:!0}),t}(t._ControlWrapper);i._CalendarWrapper=ft;l=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t}(n.input.Calendar);i.Calendar=l;et=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),Object.defineProperty(t.prototype,"_controlType",{get:function(){return a},enumerable:!0,configurable:!0}),t}(t._ControlWrapper);i._ColorPickerWrapper=et;a=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.initialize=function(t){if(t){var i=t.palette;!i||delete t.palette;n.prototype.initialize.call(this,t);!i||(this.palette=i)}},t}(n.input.ColorPicker);i.ColorPicker=a;ot=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),Object.defineProperty(t.prototype,"_initializerType",{get:function(){return r},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_controlType",{get:function(){return v},enumerable:!0,configurable:!0}),t}(e);i._InputColorWrapper=ot;v=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t}(n.input.InputColor);i.InputColor=v;y=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype._afterInitializeControl=function(t,i,r){var u=this;i===void 0&&(i="value");r===void 0&&(r="valueChanged");n.prototype._afterInitializeControl.call(this,t,i,r);t.isDroppedDown&&setTimeout(function(){u.control.isDroppedDown=!0},15)},t}(r);i._InputDateInitializer=y;p=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),Object.defineProperty(t.prototype,"_initializerType",{get:function(){return y},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_controlType",{get:function(){return w},enumerable:!0,configurable:!0}),t}(e);i._InputDateWrapper=p;w=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.initialize=function(t){var r=this,i;t&&(i=15,n.prototype.initialize.call(this,t),t.isDroppedDown&&setTimeout(function(){r.isDroppedDown=!0},i))},t}(n.input.InputDate);i.InputDate=w;st=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),Object.defineProperty(t.prototype,"_controlType",{get:function(){return b},enumerable:!0,configurable:!0}),t}(p);i._InputDateTimeWrapper=st;b=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t}(n.input.InputDateTime);i.InputDateTime=b;k=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype._afterInitializeControl=function(t){n.prototype._afterInitializeControl.call(this,t,"rawValue")},t}(r);i._InputMaskInitializer=k;ht=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),Object.defineProperty(t.prototype,"_initializerType",{get:function(){return k},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_controlType",{get:function(){return d},enumerable:!0,configurable:!0}),t}(t._ControlWrapper);i._InputMaskWrapper=ht;d=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t}(n.input.InputMask);i.InputMask=d;ct=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),Object.defineProperty(t.prototype,"_initializerType",{get:function(){return r},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_controlType",{get:function(){return g},enumerable:!0,configurable:!0}),t}(t._ControlWrapper);i._InputNumberWrapper=ct;g=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t}(n.input.InputNumber);i.InputNumber=g;lt=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),Object.defineProperty(t.prototype,"_initializerType",{get:function(){return r},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_controlType",{get:function(){return nt},enumerable:!0,configurable:!0}),t}(u);i._InputTimeWrapper=lt;nt=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.initialize=function(t){if(t){var r=this,u=15,i=t.itemsSource,f=t.value;i&&(delete t.itemsSource,(i.length||i.itemCount||!i._disableServerRead)&&setTimeout(function(){r.itemsSource=i;f&&(r.value=f)},u));n.prototype.initialize.call(this,t);t.isDroppedDown===!0&&setTimeout(function(){r.isDroppedDown=!0},u)}},t}(n.input.InputTime);i.InputTime=nt;at=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),Object.defineProperty(t.prototype,"_initializerType",{get:function(){return o},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_controlType",{get:function(){return f},enumerable:!0,configurable:!0}),t}(t._ControlWrapper);i._ListBoxWrapper=at;f=function(n){function i(){n.apply(this,arguments)}return __extends(i,n),i.prototype.initialize=function(t){t&&(i._processCheckedFields(t,this,this),n.prototype.initialize.call(this,t))},i._processCheckedFields=function(n,t,r){var u=n.checkedValues,f=n.checkedIndexes,e;(u||f)&&n.itemsSource&&(u?delete n.checkedValues:delete n.checkedIndexes,n.itemsSource.items.length?n.checkedItems=u?i._valuesToItems(n,u):i._indexesToItems(n.itemsSource.items,f):n.itemsSource._readActionUrl&&(e=function(o){o.itemsSource.items.length&&u&&(t.checkedItems=u?i._valuesToItems(n,u):i._indexesToItems(n.itemsSource.items,f),u=null,r.itemsChanged.removeHandler(e))},r.itemsChanged.addHandler(e)))},i._valuesToItems=function(n,t){for(var u,f=[],e=n.itemsSource.items,o=i._getValues(e,n),r=0;r<t.length;r++)u=o.indexOf(t[r]),u!=-1&&f.push(e[u]);return f},i._indexesToItems=function(n,t){var i=[];return t.forEach(function(t){return i.push(n[t])}),i},i._getValues=function(n,i){var r=[],u=i.selectedValuePath||i.displayMemberPath;return t.Utils.isObject(n[0])?n.forEach(function(n){return r.push(n[u])}):r=n.slice(),r},i}(n.input.ListBox);i.ListBox=f;vt=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),Object.defineProperty(t.prototype,"_controlType",{get:function(){return tt},enumerable:!0,configurable:!0}),t}(u);i._MenuWrapper=vt;tt=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.initialize=function(t){if(t){var i=t.owner,r;i&&(r=document.querySelectorAll(i),this._ValidateOwner(r),delete t.owner);n.prototype.initialize.call(this,t)}},t.prototype._ValidateOwner=function(n){for(var t=this,r=t.dropDown,i=0;i<n.length;i++)n[i].addEventListener("contextmenu",function(n){t&&r&&!wijmo.closest(n.target,"[disabled]")&&(n.preventDefault(),t.owner=n.target,t.selectedIndex=-1,t.onIsDroppedDownChanging(new wijmo.CancelEventArgs)&&(wijmo.showPopup(r,n),t.onIsDroppedDownChanged(),r.focus()))})},t}(n.input.Menu);i.Menu=tt;yt=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),Object.defineProperty(t.prototype,"_controlType",{get:function(){return it},enumerable:!0,configurable:!0}),t}(t._ControlWrapper);i._PopupWrapper=yt;it=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t}(n.input.Popup);i.Popup=it;pt=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),Object.defineProperty(t.prototype,"_controlType",{get:function(){return rt},enumerable:!0,configurable:!0}),t}(u);i._MultiSelectWrapper=pt;rt=function(n){function i(){n.apply(this,arguments)}return __extends(i,n),i.prototype.initialize=function(t){t&&(t.validationAttributes&&(this._validationAttributes=t.validationAttributes,delete t.validationAttributes),f._processCheckedFields(t,this,this.listBox),n.prototype.initialize.call(this,t),this._handleHiddenField())},i.prototype._handleHiddenField=function(){var n=this;n._updateHiddenField();n.checkedItemsChanged.addHandler(function(){n._updateHiddenField();t.Utils.triggerValidationChangeEvent(n._hiddenSelect)})},i.prototype._updateHiddenField=function(){var n=this,t,i,u,e,r=n.itemsSource.items,s=n.checkedItems,h=n._tbx.parentElement,o=n.hostElement.getAttribute("wj-name");if(o&&r&&r.length)for(e=f._getValues(r,n),u=f._getValues(s,n),n._hiddenSelect=h.querySelector("select"),n._hiddenSelect||(n._hiddenSelect=n._createSelect(e,o,n._tbx)),i=n._hiddenSelect.querySelectorAll("option"),t=0;t<i.length;t++)u.indexOf(i[t].value)!=-1?(i[t].setAttribute("selected","selected"),i[t].selected=!0):(i[t].removeAttribute("selected"),i[t].selected=!1)},i.prototype._createSelect=function(n,i,r){var f=this,u,e,o,s;for(u=document.createElement("select"),u.name=i,u.multiple=!0,u.style.visibility="hidden",u.style.position="absolute",e=0;e<n.length;e++)o=document.createElement("option"),o.value=n[e],u.appendChild(o);if(f._validationAttributes)for(s in f._validationAttributes)u.setAttribute(s,f._validationAttributes[s]);return r.parentNode.insertBefore(u,r),t.Utils.forwardValidationEvents(f,r,u),u},i}(n.input.MultiSelect);i.MultiSelect=rt})(i=t.input||(t.input={}))})(t=n.mvc||(n.mvc={}))})(c1||(c1={}));
/*
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    */
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},wijmo;(function(n){var t;(function(t){'use strict';var s=function(){function n(n,t){n===void 0&&(n=0);t===void 0&&(t=0);this.x=n;this.y=t}return n}(),r,f,i,e,o,u;t.DataPoint=s;r=function(n){function t(t){n.call(this);this._engine=t}return __extends(t,n),Object.defineProperty(t.prototype,"engine",{get:function(){return this._engine},enumerable:!0,configurable:!0}),t}(n.CancelEventArgs);t.RenderEventArgs=r;f=function(n){function t(t,i,r){n.call(this,t);this._index=i;this._count=r}return __extends(t,n),Object.defineProperty(t.prototype,"index",{get:function(){return this._index},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"count",{get:function(){return this._count},enumerable:!0,configurable:!0}),t}(r);t.SeriesRenderingEventArgs=f,function(n){n[n.Png=0]="Png";n[n.Jpeg=1]="Jpeg";n[n.Svg=2]="Svg"}(t.ImageFormat||(t.ImageFormat={}));i=t.ImageFormat;e=function(r){function f(){r.apply(this,arguments);this._palette=null;this._selectionMode=t.SelectionMode.None;this._defPalette=t.Palettes.standard;this._notifyCurrentChanged=!0;this._legendHost=null;this._needBind=!1;this.rendering=new n.Event;this.rendered=new n.Event;this.selectionChanged=new n.Event}return __extends(f,r),Object.defineProperty(f.prototype,"itemsSource",{get:function(){return this._items},set:function(t){this._items!=t&&(this._cv&&(this._cv.currentChanged.removeHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.removeHandler(this._cvCollectionChanged,this),this._cv=null),this._items=t,this._cv=n.asCollectionView(t),this._cv!=null&&(this._cv.currentChanged.addHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.addHandler(this._cvCollectionChanged,this)),this._clearCachedValues(),this._bindChart())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"collectionView",{get:function(){return this._cv},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"palette",{get:function(){return this._palette},set:function(t){t!=this._palette&&(this._palette=n.asArray(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"plotMargin",{get:function(){return this._plotMargin},set:function(n){n!=this._plotMargin&&(this._plotMargin=n,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"legend",{get:function(){return this._legend},set:function(i){i!=this._legend&&(this._legend=n.asType(i,t.Legend),this._legend!=null&&(this._legend._chart=this))},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"header",{get:function(){return this._header},set:function(t){t!=this._header&&(this._header=n.asString(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"footer",{get:function(){return this._footer},set:function(t){t!=this._footer&&(this._footer=n.asString(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"headerStyle",{get:function(){return this._headerStyle},set:function(n){n!=this._headerStyle&&(this._headerStyle=n,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"footerStyle",{get:function(){return this._footerStyle},set:function(n){n!=this._footerStyle&&(this._footerStyle=n,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"selectionMode",{get:function(){return this._selectionMode},set:function(i){i!=this._selectionMode&&(this._selectionMode=n.asEnum(i,t.SelectionMode),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(t){t!=this._itemFormatter&&(this._itemFormatter=n.asFunction(t),this.invalidate())},enumerable:!0,configurable:!0}),f.prototype.onRendered=function(n){this.rendered.raise(this,n)},f.prototype.onRendering=function(n){this.rendering.raise(this,n)},f.prototype.saveImageToFile=function(n){var f,t,e,r;n&&n.length!==0&&n.indexOf('.')!==-1||(n='image.png');r=n.split('.');f=r[0].toLowerCase();t=r[1].toLowerCase();e=i[t[0].toUpperCase()+t.substring(1)];this.saveImageToDataUrl(e,function(n){u.downloadImage(n,f,t)})},f.prototype.saveImageToDataUrl=function(t,r){var f=n.asEnum(t,i,!1),u=i[f].toLowerCase();u&&u.length&&this._exportToImage(u,function(n){r.call(r,n)})},f.prototype._exportToImage=function(t,i){var r=new Image,e=this._currentRenderEngine.element,f;f=u.getDataUri(e);t==='svg'?i.call(null,f):(r.onload=function(){var u=document.createElement('canvas'),f=n.getElementRect(e),s,o;u.width=f.width;u.height=f.height;o=u.getContext('2d');o.fillStyle='#ffffff';o.fillRect(0,0,f.width,f.height);o.drawImage(r,0,0);s=u.toDataURL('image/'+t);i.call(null,s);u=null},r.src=f)},f.prototype.refresh=function(n){n===void 0&&(n=!0);r.prototype.refresh.call(this,n);this.isUpdating||this._refreshChart()},f.prototype.containsFocus=function(){var t=r.prototype.containsFocus.call(this),i;return t||(i=n.getActiveElement(),i&&(t=i.parentNode===this.hostElement)),t},f.prototype.onSelectionChanged=function(n){this.selectionChanged.raise(this,n)},f.prototype.onLostFocus=function(n){this._tooltip&&this._tooltip.isVisible&&this._tooltip.hide();r.prototype.onLostFocus.call(this,n)},f.prototype._cvCollectionChanged=function(){this._clearCachedValues();this._bindChart()},f.prototype._cvCurrentChanged=function(){this._notifyCurrentChanged&&this._bindChart()},f.prototype._getColor=function(n){var t=this._defPalette;return this._palette!=null&&this._palette.length>0&&(t=this._palette),t[n%t.length]},f.prototype._getColorLight=function(t){var i=this._getColor(t),r=new n.Color(i);return r!=null&&(r.a==1&&i.indexOf('rgba')==-1&&(r.a*=.7),i=r.toString()),i},f.prototype._bindChart=function(){this._needBind=!0;this.invalidate()},f.prototype._clearCachedValues=function(){},f.prototype._render=function(){},f.prototype._performBind=function(){},f.prototype._refreshChart=function(){this._needBind&&(this._needBind=!1,this._performBind());this._render(this._currentRenderEngine)},f.prototype._drawTitle=function(i,r,u,f,e){var o=t.FlexChart._CSS_TITLE,s=e?t.FlexChart._CSS_FOOTER:t.FlexChart._CSS_HEADER,h=null;if(e?this._rectFooter=null:this._rectHeader=null,u!=null){var a=null,c=null,v=null,l=null;f&&(f.fontSize&&(a=f.fontSize),f.foreground&&(c=f.foreground),f.fill&&(c=f.fill),f.fontFamily&&(v=f.fontFamily),f.halign&&(l=f.halign));i.fontSize=a;i.fontFamily=v;h=i.measureString(u,o,s,f);r.height-=h.height;c||(c=t.FlexChart._FG);i.textFill=c;e?(l=='left'?t.FlexChart._renderText(i,u,new n.Point(r.left,r.bottom),0,0,o,s,f):l=='right'?t.FlexChart._renderText(i,u,new n.Point(r.left+r.width,r.bottom),2,0,o,s,f):t.FlexChart._renderText(i,u,new n.Point(r.left+.5*r.width,r.bottom),1,0,o,s,f),this._rectFooter=new n.Rect(r.left,r.bottom,r.width,h.height)):(this._rectHeader=new n.Rect(r.left,r.top,r.width,h.height),r.top+=h.height,l=='left'?t.FlexChart._renderText(i,u,new n.Point(r.left,0),0,0,o,s,f):l=='right'?t.FlexChart._renderText(i,u,new n.Point(r.left+r.width,0),2,0,o,s,f):t.FlexChart._renderText(i,u,new n.Point(r.left+.5*r.width,0),1,0,o,s,f));i.textFill=null;i.fontSize=null;i.fontFamily=null}return r},f.prototype._toControl=function(t,i){var r,o,u,f,e;return n.isNumber(t)&&n.isNumber(i)?t=new n.Point(t,i):t instanceof MouseEvent&&(t=new n.Point(t.pageX,t.pageY)),n.asType(t,n.Point),r=t.clone(),o=this._getHostOffset(),r.x-=o.x,r.y-=o.y,u=this._getHostComputedStyle(),u&&(f=parseInt(u.paddingLeft.replace('px','')),f&&!isNaN(f)&&(r.x-=f),e=parseInt(u.paddingTop.replace('px','')),e&&!isNaN(e)&&(r.y-=e)),r},f.prototype._highlightItems=function(t,i,r){var u;if(r)for(u=0;u<t.length;u++)n.addClass(t[u],i);else for(u=0;u<t.length;u++)n.removeClass(t[u],i)},f.prototype._parseMargin=function(t){var r={};if(n.isNumber(t)&&!isNaN(t))r.top=r.bottom=r.left=r.right=n.asNumber(t);else if(n.isString(t)){var s=n.asString(t),i=s.split(' ',4),u=NaN,f=NaN,e=NaN,o=NaN;i&&(i.length==4?(u=parseFloat(i[0]),o=parseFloat(i[1]),f=parseFloat(i[2]),e=parseFloat(i[3])):i.length==2?(u=f=parseFloat(i[0]),e=o=parseFloat(i[1])):i.length==1&&(u=f=e=o=parseFloat(i[1])),isNaN(u)||(r.top=u),isNaN(f)||(r.bottom=f),isNaN(e)||(r.left=e),isNaN(o)||(r.right=o))}return r},f.prototype._showToolTip=function(n,t){var i=this,r=this._tooltip.showDelay;i._clearTimeouts();r>0?i._toShow=setTimeout(function(){i._tooltip.show(i.hostElement,n,t);i._tooltip.hideDelay>0&&(i._toHide=setTimeout(function(){i._tooltip.hide()},i._tooltip.hideDelay))},r):(i._tooltip.show(i.hostElement,n,t),i._tooltip.hideDelay>0&&(i._toHide=setTimeout(function(){i._tooltip.hide()},i._tooltip.hideDelay)))},f.prototype._hideToolTip=function(){this._clearTimeouts();this._tooltip.hide()},f.prototype._clearTimeouts=function(){this._toShow&&(clearTimeout(this._toShow),this._toShow=null);this._toHide&&(clearTimeout(this._toHide),this._toHide=null)},f.prototype._getHostOffset=function(){var t=n.getElementRect(this.hostElement);return new n.Point(t.left,t.top)},f.prototype._getHostSize=function(){var i=new n.Size,f=this.hostElement,t=this._getHostComputedStyle(),r=f.offsetWidth,u=f.offsetHeight;if(t){var e=parseFloat(t.paddingLeft.replace('px','')),o=parseFloat(t.paddingRight.replace('px','')),s=parseFloat(t.paddingTop.replace('px','')),h=parseFloat(t.paddingBottom.replace('px',''));isNaN(e)||(r-=e);isNaN(o)||(r-=o);isNaN(s)||(u-=s);isNaN(h)||(u-=h);i.width=r;i.height=u}return i},f.prototype._getHostComputedStyle=function(){var n=this.hostElement;return n&&n.ownerDocument&&n.ownerDocument.defaultView?n.ownerDocument.defaultView.getComputedStyle(this.hostElement):null},f.prototype._find=function(n,t){for(var i,r,u,f=[],e=0;e<n.childElementCount;e++)if(i=n.childNodes.item(e),t.indexOf(i.nodeName)>=0)f.push(i);else if(r=this._find(i,t),r.length>0)for(u=0;u<r.length;u++)f.push(r[u]);return f},f._WIDTH=300,f._HEIGHT=200,f._SELECTION_THRESHOLD=15,f}(n.Control);t.FlexChartBase=e;o=function(){function t(){this._keys={};this._keys.seriesName=null;this._keys.pointIndex=null;this._keys.x=null;this._keys.y=null;this._keys.value=null;this._keys.name=null}return t.prototype.replace=function(t,i){var r=this;return n.format(t,{},function(n,t,u){return r.getValue(t,i,u)})},t.prototype.getValue=function(t,i,r){switch(t){case'seriesName':return i.series?i.series.name:'';case'pointIndex':return i.pointIndex!=null?i.pointIndex.toFixed():'';case'x':return r?n.Globalize.format(i.x,r):i._xfmt;case'y':return r?n.Globalize.format(i.y,r):i._yfmt;case'value':return r?n.Globalize.format(i.value,r):i.value;case'name':return i.name}return i.item&&(t.indexOf('item.')==0&&(t=t.substr(5)),t in i.item)?r?n.Globalize.format(i.item[t],r):i.item[t]:''},t}();t._KeyWords=o;u=function(){function t(){}return t.downloadImage=function(n,t,i){var r=document.createElement('a'),v='image/'+i,o,f,a;if(navigator.msSaveOrOpenBlob){n=n.substring(n.indexOf(',')+1);for(var s=atob(n),h=[],c=512,e,l,u=0;u<s.length;u+=c){for(e=s.slice(u,u+c),o=new Array(e.length),f=0;f<e.length;f++)o[f]=e.charCodeAt(f);a=new Uint8Array(o);h.push(a)}l=new Blob(h,{type:v});navigator.msSaveOrOpenBlob(l,t+'.'+i)}else r.download=t+'.'+i,r.href=n,document.body.appendChild(r),r.addEventListener("click",function(){r.parentNode.removeChild(r)}),r.click()},t.getDataUri=function(i){var v=document.createElement('div'),r=i.cloneNode(!0),s,u,f,h,c,e,y,l,o,a;return i.tagName=='svg'?(s=n.getElementRect(i),u=s.width||0,f=s.height||0,h=i.viewBox.baseVal&&i.viewBox.baseVal.width!==0?i.viewBox.baseVal.width:u,c=i.viewBox.baseVal&&i.viewBox.baseVal.height!==0?i.viewBox.baseVal.height:f):(e=i.getBBox(),u=e.x+e.width,f=e.y+e.height,r.setAttribute('transform',r.getAttribute('transform').replace(/translate\(.*?\)/,'')),h=u,c=f,l=document.createElementNS('http://www.w3.org/2000/svg','svg'),l.appendChild(r),r=l),r.setAttribute('version','1.1'),r.setAttributeNS(t.xmlns,'xmlns','http://www.w3.org/2000/svg'),r.setAttributeNS(t.xmlns,'xmlns:xlink','http://www.w3.org/1999/xlink'),r.setAttribute('width',u),r.setAttribute('height',f),r.setAttribute('viewBox','0 0 '+h+' '+c),n.addClass(r,i.parentNode&&i.parentNode.getAttribute('class')||''),v.appendChild(r),y=t.getStyles(i),o=document.createElement('style'),o.setAttribute('type','text/css'),o.innerHTML="<![CDATA[\n"+y+"\n]]>",a=document.createElement('defs'),a.appendChild(o),r.insertBefore(a,r.firstChild),'data:image/svg+xml;base64,'+window.btoa(window.unescape(encodeURIComponent(t.doctype+v.innerHTML)))},t.getStyles=function(n){var t='',i=document.styleSheets;return i==null||i.length===0?null:([].forEach.call(i,function(i){var r;try{if(i.cssRules==null||i.cssRules.length===0)return!0}catch(u){if(u.name=='SecurityError')return console.log("SecurityError. Can't read: "+i.href),!0}r=i.cssRules;[].forEach.call(r,function(i){var r=i.style,u;if(r==null)return!0;try{u=n.querySelector(i.selectorText)}catch(f){console.warn('Invalid CSS selector "'+i.selectorText+'"',f)}u?t+=i.selectorText+" { "+r.cssText+" }\n":i.cssText.match(/^@font-face/)&&(t+=i.cssText+'\n')})}),t)},t.doctype='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">',t.xmlns='http://www.w3.org/2000/xmlns/',t}()})(t=n.chart||(n.chart={}))})(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var f=function(f){function e(i,r){f.call(this,i,null,!0);this._areas=[];this._keywords=new t._KeyWords;this._startAngle=0;this._innerRadius=0;this._offset=0;this._reversed=!1;this._isAnimated=!1;this._selectedItemPosition=t.Position.None;this._selectedItemOffset=0;this._rotationAngle=0;this._center=new n.Point;this._selectedOffset=new n.Point;this._selectedIndex=-1;this._angles=[];this._values=[];this._labels=[];this._pels=[];this._sum=0;this.applyTemplate('wj-control wj-flexchart',null,null);this._currentRenderEngine=new t._SvgRenderEngine(this.hostElement);this._legend=new t.Legend(this);this._tooltip=new t.ChartTooltip;this._tooltip.content='<b>{name}</b><br/>{value}';this._tooltip.showDelay=0;this._lbl=new t.PieDataLabel;this._lbl._chart=this;var u=this;this.hostElement.addEventListener('mousemove',function(t){var r=u._tooltip,e=r.content,i,f;e&&!u.isTouching&&(i=u.hitTest(t),i.distance<=r.threshold?(f=u._getLabelContent(i,u.tooltip.content),u._showToolTip(f,new n.Rect(t.clientX,t.clientY,5,5))):u._hideToolTip())});this.hostElement.addEventListener('click',function(i){var o=!0,f,e,s,r,h;u.selectionMode!=t.SelectionMode.None&&(r=u.hitTest(i),f=t.FlexChart._SELECTION_THRESHOLD,u.tooltip&&u.tooltip.threshold&&(f=u.tooltip.threshold),r.distance<=f?(r.pointIndex!=u._selectionIndex&&u.selectedItemPosition!=t.Position.None&&(o=!1),r.pointIndex!=u._selectionIndex&&u._select(r.pointIndex,!0)):u._selectedIndex>=0&&u._select(null));o&&u.isTouching&&(e=u._tooltip,s=e.content,s&&(r=u.hitTest(i),r.distance<=e.threshold?(h=u._getLabelContent(r,u.tooltip.content),u._showToolTip(h,new n.Rect(i.clientX,i.clientY,5,5))):u._hideToolTip()))});this.hostElement.addEventListener('mouseleave',function(){u._hideToolTip()});this.initialize(r);this.refresh()}return __extends(e,f),Object.defineProperty(e.prototype,"binding",{get:function(){return this._binding},set:function(t){t!=this._binding&&(this._binding=n.asString(t,!0),this._bindChart())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bindingName",{get:function(){return this._bindingName},set:function(t){t!=this._bindingName&&(this._bindingName=n.asString(t,!0),this._bindChart())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"startAngle",{get:function(){return this._startAngle},set:function(t){t!=this._startAngle&&(this._startAngle=n.asNumber(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"offset",{get:function(){return this._offset},set:function(t){t!=this._offset&&(this._offset=n.asNumber(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"innerRadius",{get:function(){return this._innerRadius},set:function(t){t!=this._innerRadius&&(this._innerRadius=n.asNumber(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"reversed",{get:function(){return this._reversed},set:function(t){t!=this._reversed&&(this._reversed=n.asBoolean(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedItemPosition",{get:function(){return this._selectedItemPosition},set:function(t){t!=this._selectedItemPosition&&(this._selectedItemPosition=n.asEnum(t,n.chart.Position,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedItemOffset",{get:function(){return this._selectedItemOffset},set:function(t){t!=this._selectedItemOffset&&(this._selectedItemOffset=n.asNumber(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isAnimated",{get:function(){return this._isAnimated},set:function(n){n!=this._isAnimated&&(this._isAnimated=n)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tooltip",{get:function(){return this._tooltip},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataLabel",{get:function(){return this._lbl},set:function(n){n!=this._lbl&&(this._lbl=n,this._lbl&&(this._lbl._chart=this))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedIndex",{get:function(){return this._selectedIndex},set:function(t){if(t!=this._selectedIndex){var i=n.asNumber(t,!0);this._select(i,!0)}},enumerable:!0,configurable:!0}),e.prototype._getLabelsForLegend=function(){return this._labels},e.prototype.hitTest=function(n,i){var f=this._toControl(n,i),r=new t.HitTestInfo(this,f),o=null,y,s,l,e,u,h,c;if(t.FlexChart._contains(this._rectHeader,f))r._chartElement=t.ChartElement.Header;else if(t.FlexChart._contains(this._rectFooter,f))r._chartElement=t.ChartElement.Footer;else if(t.FlexChart._contains(this._rectLegend,f))r._chartElement=t.ChartElement.Legend,o=this.legend._hitTest(f),o!==null&&o>=0&&o<this._areas.length&&r._setData(null,o);else if(t.FlexChart._contains(this._rectChart,f)){for(y=this._areas.length,s=NaN,e=0;e<y;e++){if(u=f.clone(),this._rotationAngle!=0){var p=this._center.x,w=this._center.y,a=-p+u.x,v=-w+u.y,b=Math.sqrt(a*a+v*v),k=Math.atan2(v,a)-this._rotationAngle*Math.PI/180;u.x=p+b*Math.cos(k);u.y=w+b*Math.sin(k)}if(e==this._selectedIndex&&(u.x-=this._selectedOffset.x,u.y-=this._selectedOffset.y),h=this._areas[e],h.contains(u)&&(r._setData(null,h.tag),r._dist=0,e!=this._selectedIndex))break;c=h.distance(u);c!==undefined&&(isNaN(s)||c<s)&&(s=c,l=h)}r._dist!==0&&l!=null&&(r._setData(null,l.tag),r._dist=s);r._chartElement=t.ChartElement.ChartArea}else r._chartElement=t.ChartElement.None;return r},e.prototype._performBind=function(){var n,i,t,r;if(this._initData(),this._cv&&(this._selectionIndex=this._cv.currentPosition,n=this._cv.items,n))for(i=n.length,t=0;t<i;t++)r=n[t],this._sum+=Math.abs(this._getBindData(r,this._values,this._labels,this.binding,this.bindingName))},e.prototype._initData=function(){this._sum=0;this._values=[];this._labels=[]},e.prototype._getBindData=function(t,i,r,u,f){var o,e=0,s;return u&&(o=t[u]),e=0,n.isNumber(o)?e=n.asNumber(o):o&&(e=parseFloat(o.toString())),!isNaN(e)&&isFinite(e)?i.push(e):(e=0,i.push(e)),f&&t?(s=t[f],s&&(s=s.toString()),r.push(s)):r.push(e.toString()),e},e.prototype._render=function(i){var w,y,o,h,r,l,f,u;this._selectionAnimationID&&clearInterval(this._selectionAnimationID);var b=this.hostElement,p=this._getHostSize(),u=p.width,f=p.height;if((u==0||isNaN(u))&&(u=t.FlexChart._WIDTH),(f==0||isNaN(f))&&(f=t.FlexChart._HEIGHT),w=new n.Size(u,f),i.beginRender(),u>0&&f>0){i.setViewportSize(u,f);this._areas=[];y=this.legend;r=new n.Rect(0,0,u,f);this._rectChart=r.clone();i.startGroup(t.FlexChart._CSS_HEADER);r=this._drawTitle(i,r,this.header,this.headerStyle,!1);i.endGroup();i.startGroup(t.FlexChart._CSS_FOOTER);r=this._drawTitle(i,r,this.footer,this.footerStyle,!0);i.endGroup();this.onRendering(new t.RenderEventArgs(i));u=r.width;f=r.height;l=y._getPosition(u,f);o=y._getDesiredSize(i,l,u,f);switch(l){case t.Position.Right:u-=o.width;h=new n.Point(u,r.top+.5*(f-o.height));break;case t.Position.Left:r.left+=o.width;u-=o.width;h=new n.Point(0,r.top+.5*(f-o.height));break;case t.Position.Top:f-=o.height;h=new n.Point(.5*(u-o.width),r.top);r.top+=o.height;break;case t.Position.Bottom:f-=o.height;h=new n.Point(.5*(u-o.width),r.top+f)}r.width=u;r.height=f;this._pieGroup=i.startGroup(null,null,!0);var s=this._parseMargin(this.plotMargin),a=this.dataLabel,c=a.content&&a.position==t.PieLabelPosition.Outside,v=c?(n.isNumber(a.offset)?a.offset:0)+24:0;isNaN(s.left)&&(s.left=c?v:e._MARGIN);isNaN(s.right)&&(s.right=c?v:e._MARGIN);isNaN(s.top)&&(s.top=c?v:e._MARGIN);isNaN(s.bottom)&&(s.bottom=c?v:e._MARGIN);r.top+=s.top;f=r.height-(s.top+s.bottom);r.height=f>0?f:24;r.left+=s.left;u=r.width-(s.left+s.right);r.width=u>0?u:24;this._renderData(i,r,this._pieGroup);i.endGroup();o?(this._legendHost=i.startGroup(t.FlexChart._CSS_LEGEND),this._rectLegend=new n.Rect(h.x,h.y,o.width,o.height),this.legend._render(i,h,l,o.width,o.height),i.endGroup()):(this._legendHost=null,this._rectLegend=null);this._rotationAngle=0;this._highlightCurrent();this.dataLabel.content&&this.dataLabel.position!=t.PieLabelPosition.None&&this._renderLabels(i);this.onRendered(new t.RenderEventArgs(i))}i.endRender()},e.prototype._renderData=function(n,t){var u,f;this._pels=[];this._angles=[];var e=this._sum,o=this.startAngle+180,s=this.innerRadius,r=this.offset;if(e>0){var h=o*Math.PI/180,c=t.left+.5*t.width,l=t.top+.5*t.height,i=Math.min(.5*t.width,.5*t.height);this._center.x=c;this._center.y=l;u=Math.max(r,this.selectedItemOffset);u>0&&(i=i/(1+u),r=r*i);this._radius=i;f=s*i;this._renderPie(n,i,f,h,r);this._highlightCurrent()}},e.prototype._renderPie=function(n,t,i,r,u){this._renderSlices(n,this._values,this._sum,t,i,r,2*Math.PI,u)},e.prototype._getCenter=function(){return this._center},e.prototype._renderSlices=function(n,t,i,r,u,f,e,o){for(var k=t.length,c=f,y=this.reversed==!0,p=this._center,s,w,l,a,h=0;h<k;h++){l=p.x;a=p.y;w=n.startGroup();n.fill=this._getColorLight(h);n.stroke=this._getColor(h);var b=Math.abs(t[h]),s=Math.abs(b-i)<1e-10?e:e*b/i,v=y?c-.5*s:c+.5*s;o>0&&s<e&&(l+=o*Math.cos(v),a+=o*Math.sin(v));this._renderSlice(n,l,a,v,h,r,u,c,s,e);y?c-=s:c+=s;n.endGroup();this._pels.push(w)}},e.prototype._renderSlice=function(i,r,u,f,e,o,s,h,c){var v=this,a=!!this.reversed,l;this._angles.push(f);this.itemFormatter?(l=new t.HitTestInfo(this,new n.Point(r+o*Math.cos(f),u+o*Math.sin(f)),t.ChartElement.SeriesSymbol),l._setData(null,e),this.itemFormatter(i,l,function(){v._drawSlice(i,e,a,r,u,o,s,h,c)})):this._drawSlice(i,e,a,r,u,o,s,h,c)},e.prototype._renderLabels=function(r){var st=this._areas.length,c=this.dataLabel,a=c.position,h=2,ht=this._rotationAngle,ct=c.connectingLine,ot=c.offset?c.offset:0,l,o,v,it,rt,s,ut,ft,y,et;for(r.stroke='null',r.fill='transparent',r.strokeWidth=1,r.startGroup('wj-data-labels'),l=0;l<st;l++)if(o=this._areas[l],o){var p=o.radius,u=o.langle+ht,f=1,e=1;a==t.PieLabelPosition.Center?p*=.5*(1+(o.innerRadius||0)/o.radius):(u=i.clampAngle(u),u<=-170||u>=170?(f=2,e=1):u>=-100&&u<=-80?(f=1,e=2):u>=-10&&u<=10?(f=0,e=1):u>=80&&u<=100?(f=1,e=0):-180<u&&u<-90?(f=2,e=2):-90<=u&&u<0?(f=0,e=2):0<u&&u<90?(f=0,e=0):90<u&&u<180&&(f=2,e=0),a==t.PieLabelPosition.Inside&&(f=2-f,e=2-e));u*=Math.PI/180;var b=0,k=0,w=0;l==this._selectedIndex&&this.selectedItemOffset>0&&(w=this.selectedItemOffset);w>0&&(b=Math.cos(u)*w*this._radius,k=Math.sin(u)*w*this._radius);v=p;a==t.PieLabelPosition.Outside?v+=ot:a==t.PieLabelPosition.Inside&&(v-=ot);var d=o.center.x,g=o.center.y,nt=d-this._center.x,tt=g-this._center.y;this._rotationAngle!=0&&(it=Math.sqrt(nt*nt+tt*tt),rt=Math.atan2(tt,nt)+this._rotationAngle*Math.PI/180,d=this._center.x+it*Math.cos(rt),g=this._center.y+it*Math.sin(rt));s=new n.Point(d+b+v*Math.cos(u),g+k+v*Math.sin(u));c.border&&a!=t.PieLabelPosition.Center&&(f==0?s.x+=h:f==2&&(s.x-=h),e==0?s.y+=h:e==2&&(s.y-=h));ut=new t.HitTestInfo(this,s);ut._setData(null,l);ft=this._getLabelContent(ut,c.content);ft&&(y=t.FlexChart._renderText(r,ft,s,f,e,'wj-data-label'),c.border&&r.drawRect(y.left-h,y.top-h,y.width+2*h,y.height+2*h,'wj-data-label-border'),ct&&(et=new n.Point(o.center.x+b+p*Math.cos(u),o.center.y+k+p*Math.sin(u)),r.drawLine(s.x,s.y,et.x,et.y,'wj-data-label-line')))}r.endGroup()},e.prototype._drawSlice=function(t,i,f,e,o,s,h,c,l){var a;f?h>0?(l!=0&&t.drawDonutSegment(e,o,s,h,c-l,l),a=new u(new n.Point(e,o),s,h,c-l,l),a.tag=i,this._areas.push(a)):(l!=0&&t.drawPieSegment(e,o,s,c-l,l),a=new r(new n.Point(e,o),s,c-l,l),a.tag=i,this._areas.push(a)):(h>0?(l!=0&&t.drawDonutSegment(e,o,s,h,c,l),a=new u(new n.Point(e,o),s,h,c,l),a.tag=i,this._areas.push(a)):(l!=0&&t.drawPieSegment(e,o,s,c,l),a=new r(new n.Point(e,o),s,c,l),a.tag=i,this._areas.push(a)),c+=l)},e.prototype._measureLegendItem=function(i,r){var u=new n.Size,f;return u.width=t.Series._LEGEND_ITEM_WIDTH,u.height=t.Series._LEGEND_ITEM_HEIGHT,r&&(f=i.measureString(r,t.FlexChart._CSS_LABEL),u.width+=f.width,u.height<f.height&&(u.height=f.height)),u.width+=3*t.Series._LEGEND_ITEM_MARGIN,u.height+=2*t.Series._LEGEND_ITEM_MARGIN,u},e.prototype._drawLegendItem=function(i,r,u,f){i.strokeWidth=1;var h=t.Series._LEGEND_ITEM_MARGIN,e=null,o=null;e===null&&(e=this._getColorLight(u));o===null&&(o=this._getColor(u));i.fill=e;i.stroke=o;var c=r.top+.5*r.height,l=t.Series._LEGEND_ITEM_WIDTH,s=t.Series._LEGEND_ITEM_HEIGHT;i.drawRect(r.left+h,c-.5*s,l,s,null);f&&t.FlexChart._renderText(i,f,new n.Point(r.left+s+2*h,c),0,1,t.FlexChart._CSS_LABEL)},e.prototype._getLabelContent=function(t,i){return n.isString(i)?this._keywords.replace(i,t):n.isFunction(i)?i(t):null},e.prototype._select=function(n,i){if(i===void 0&&(i=!1),this._highlight(!1,this._selectionIndex),this._selectionIndex=n,this.selectionMode==t.SelectionMode.Point){var r=this._cv;r&&(this._notifyCurrentChanged=!1,r.moveCurrentToPosition(n),this._notifyCurrentChanged=!0)}this.onSelectionChanged();!this.isAnimated&&(this.selectedItemOffset>0||this.selectedItemPosition!=t.Position.None)?this.invalidate():this._highlight(!0,this._selectionIndex,i)},e.prototype._highlightCurrent=function(){if(this.selectionMode!=t.SelectionMode.None){var n=-1,i=this._cv;i&&(n=i.currentPosition);this._highlight(!0,n)}},e.prototype._highlight=function(n,i,r){var u,h,f,e,o,s,c,l;r===void 0&&(r=!1);this.selectionMode==t.SelectionMode.Point&&i!==undefined&&i!==null&&i>=0&&(u=this._pels[i],n?(u&&(u.parentNode.appendChild(u),h=this._find(u,['ellipse']),this._highlightItems(this._find(u,['path','ellipse']),t.FlexChart._CSS_SELECTION,n)),f=this._angles[i],this.selectedItemPosition!=t.Position.None&&f!=0&&(e=0,this.selectedItemPosition==t.Position.Left?e=180:this.selectedItemPosition==t.Position.Top?e=-90:this.selectedItemPosition==t.Position.Bottom&&(e=90),o=e*Math.PI/180-f,o*=180/Math.PI,r&&this.isAnimated?this._animateSelectionAngle(o,.5):(this._rotationAngle=o,this._pieGroup.transform.baseVal.getItem(0).setRotate(o,this._center.x,this._center.y))),s=this.selectedItemOffset,s>0&&h.length==0&&(c=this._selectedOffset.x=Math.cos(f)*s*this._radius,l=this._selectedOffset.y=Math.sin(f)*s*this._radius,u&&u.setAttribute('transform','translate('+c.toFixed()+','+l.toFixed()+')')),this._selectedIndex=i):(u&&(u.parentNode.insertBefore(u,u.parentNode.childNodes.item(i)),u.removeAttribute('transform'),this._highlightItems(this._find(u,['path','ellipse']),t.FlexChart._CSS_SELECTION,n)),this._selectedIndex==i&&(this._selectedIndex=-1)))},e.prototype._animateSelectionAngle=function(r,u){var e=i.clampAngle(this._rotationAngle);r=i.clampAngle(r);var o=r-e,f=this,s=e,h=f._pieGroup;f._selectionAnimationID&&clearInterval(this._selectionAnimationID);this._selectionAnimationID=n.animate(function(n){h==f._pieGroup&&(f._rotationAngle=e=s+o*n,f._pieGroup.transform.baseVal.getItem(0).setRotate(e,f._center.x,f._center.y),n==1&&clearInterval(f._selectionAnimationID),n>.99&&(f.selectedItemOffset>0||f.selectedItemPosition!=t.Position.None)&&f.invalidate())},u*1e3)},e._MARGIN=4,e}(t.FlexChartBase),i,r,u;t.FlexPie=f;i=function(){function n(){}return n.clampAngle=function(n){var t=(n+180)%360-180;return t<-180&&(t+=360),t},n}();r=function(){function n(n,t,r,u){this._isFull=!1;this._center=n;this._radius=t;this._originAngle=r;this._originSweep=u;u>=2*Math.PI&&(this._isFull=!0);this._sweep=.5*u*180/Math.PI;this._angle=i.clampAngle(r*180/Math.PI+this._sweep);this._radius2=t*t}return n.prototype.contains=function(n){var t=n.x-this._center.x,r=n.y-this._center.y,e=t*t+r*r,u,f;return e<=this._radius2&&(u=Math.atan2(r,t)*180/Math.PI,f=i.clampAngle(this._angle)-i.clampAngle(u),this._isFull||Math.abs(f)<=this._sweep)?!0:!1},n.prototype.distance=function(n){if(this.contains(n))return 0;var t=n.x-this._center.x,r=n.y-this._center.y,u=t*t+r*r,f=Math.atan2(r,t)*180/Math.PI,e=i.clampAngle(this._angle)-i.clampAngle(f);return this._isFull||Math.abs(e)<=this._sweep?Math.sqrt(u)-this._radius:undefined},Object.defineProperty(n.prototype,"center",{get:function(){return this._center},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"radius",{get:function(){return this._radius},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"langle",{get:function(){return this._angle},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"angle",{get:function(){return this._originAngle},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sweep",{get:function(){return this._originSweep},enumerable:!0,configurable:!0}),n}();t._PieSegment=r;u=function(){function n(n,t,r,u,f){this._isFull=!1;this._center=n;this._radius=t;this._iradius=r;this._originAngle=u;this._originSweep=f;f>=2*Math.PI&&(this._isFull=!0);this._sweep=.5*f*180/Math.PI;this._angle=i.clampAngle(u*180/Math.PI+this._sweep);this._radius2=t*t;this._iradius2=r*r}return n.prototype.contains=function(n){var t=n.x-this._center.x,r=n.y-this._center.y,u=t*t+r*r,f,e;return u>=this._iradius2&&u<=this._radius2&&(f=Math.atan2(r,t)*180/Math.PI,e=i.clampAngle(this._angle-f),this._isFull||Math.abs(e)<=this._sweep)?!0:!1},n.prototype.distance=function(n){return this.contains(n)?0:undefined},Object.defineProperty(n.prototype,"center",{get:function(){return this._center},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"radius",{get:function(){return this._radius},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"langle",{get:function(){return this._angle},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"angle",{get:function(){return this._originAngle},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sweep",{get:function(){return this._originSweep},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"innerRadius",{get:function(){return this._iradius},enumerable:!0,configurable:!0}),n}();t._DonutSegment=u})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var r,i,o,u,f,e;(function(n){n[n.None=0]="None";n[n.Stacked=1]="Stacked";n[n.Stacked100pc=2]="Stacked100pc"})(t.Stacking||(t.Stacking={}));r=t.Stacking,function(n){n[n.None=0]="None";n[n.Series=1]="Series";n[n.Point=2]="Point"}(t.SelectionMode||(t.SelectionMode={}));i=t.SelectionMode;o=function(o){function s(u,s){o.call(this,u,null,!0);this._series=new n.collections.ObservableArray;this._axes=new t.AxisCollection;this._pareas=new t.PlotAreaCollection;this._interpolateNulls=!1;this._legendToggle=!1;this._symbolSize=10;this._dataInfo=new f;this.__barPlotter=null;this.__linePlotter=null;this.__areaPlotter=null;this.__bubblePlotter=null;this.__financePlotter=null;this.__funnelPlotter=null;this._plotters=[];this._rotated=!1;this._stacking=r.None;this._xlabels=[];this._xvals=[];this._lblAreas=[];this.seriesVisibilityChanged=new n.Event;this.applyTemplate('wj-control wj-flexchart',null,null);var h=this;h._series.collectionChanged.addHandler(function(){for(var t,r=h._series,i=0;i<r.length;i++){if(t=n.tryCast(r[i],n.chart.SeriesBase),!t)throw'chartSeries array must contain SeriesBase objects.';t._chart=h;t.axisX&&(t.axisX._chart=h);t.axisY&&(t.axisY._chart=h)}h.refresh()});this._currentRenderEngine=new t._SvgRenderEngine(this.hostElement);this._hitTester=new t._HitTester(this);this._legend=new t.Legend(this);this._tooltip=new e;this._tooltip.showDelay=0;this._lbl=new t.DataLabel;this._lbl._chart=this;this._initAxes();h._axes.collectionChanged.addHandler(function(){for(var i,r=h._axes,t=0;t<r.length;t++){if(i=n.tryCast(r[t],n.chart.Axis),!i)throw'axes array must contain Axis objects.';i._chart=h}h.refresh()});h._pareas.collectionChanged.addHandler(function(){for(var i,r=h._pareas,t=0;t<r.length;t++){if(i=n.tryCast(r[t],n.chart.PlotArea),!i)throw'plotAreas array must contain PlotArea objects.';i._chart=h}h.refresh()});this._keywords=new t._KeyWords;this.hostElement.addEventListener('click',function(t){var r=h._tooltip,f=r.content,i,u;f&&h.isTouching&&(i=h.hitTest(t),i.distance<=r.threshold?(u=h._getLabelContent(i,h._tooltip.content),h._showToolTip(u,new n.Rect(t.clientX,t.clientY,5,5))):h._hideToolTip())});this.hostElement.addEventListener('mousemove',function(t){var r=h._tooltip,f=r.content,i,u;f&&!h.isTouching&&(i=h.hitTest(t),i.distance<=r.threshold?(u=h._getLabelContent(i,h._tooltip.content),h._showToolTip(u,new n.Rect(t.clientX,t.clientY,5,5))):h._hideToolTip())});this.hostElement.addEventListener('mouseleave',function(){h._hideToolTip()});this.hostElement.addEventListener('click',function(n){if(h.selectionMode!=i.None){var r=h._hitTestData(n),u=t.FlexChart._SELECTION_THRESHOLD;h.tooltip&&h.tooltip.threshold&&(u=h.tooltip.threshold);r.distance<=u&&r.series?h._select(r.series,r.pointIndex):h.selectionMode==i.Series?(r=h.hitTest(n),r.chartElement==t.ChartElement.Legend&&r.series?h._select(r.series,null):h._select(null,null)):h._select(null,null)}h.legendToggle===!0&&(r=h.hitTest(n),r.chartElement==t.ChartElement.Legend&&r.series&&(r.series.visibility==t.SeriesVisibility.Legend?r.series.visibility=t.SeriesVisibility.Visible:r.series.visibility==t.SeriesVisibility.Visible&&(r.series.visibility=t.SeriesVisibility.Legend),h.focus()))});this.initialize(s)}return __extends(s,o),s.prototype._initAxes=function(){this._axisX=new t.Axis(t.Position.Bottom);this._axisY=new t.Axis(t.Position.Left);this._axisX.majorGrid=!1;this._axisX.name='axisX';this._axisY.majorGrid=!0;this._axisY.majorTickMarks=t.TickMark.None;this._axisY.name='axisY';this._axisX._chart=this;this._axisY._chart=this;this._axes.push(this._axisX);this._axes.push(this._axisY)},Object.defineProperty(s.prototype,"series",{get:function(){return this._series},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"axes",{get:function(){return this._axes},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"axisX",{get:function(){return this._axisX},set:function(i){if(i!=this._axisX){var r=this._axisX=n.asType(i,t.Axis);this.beginUpdate();r&&(r.majorGrid===undefined&&(r.majorGrid=!1),r.name===undefined&&(r.name='axisX'),r.position===undefined&&(r.position=t.Position.Bottom),r._axisType=t.AxisType.X,r._chart=this);this.endUpdate()}},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"axisY",{get:function(){return this._axisY},set:function(i){if(i!=this._axisY){var r=this._axisY=n.asType(i,t.Axis);this.beginUpdate();r&&(r.majorGrid===undefined&&(r.majorGrid=!0),r.name===undefined&&(r.name='axisY'),r.majorTickMarks=t.TickMark.None,r.position===undefined&&(r.position=t.Position.Left),r._axisType=t.AxisType.Y,r._chart=this);this.endUpdate()}},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"plotAreas",{get:function(){return this._pareas},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"binding",{get:function(){return this._binding},set:function(t){t!=this._binding&&(this._binding=n.asString(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"bindingX",{get:function(){return this._bindingX},set:function(t){t!=this._bindingX&&(this._bindingX=n.asString(t,!0),this._bindChart())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"symbolSize",{get:function(){return this._symbolSize},set:function(t){t!=this._symbolSize&&(this._symbolSize=n.asNumber(t,!1,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"interpolateNulls",{get:function(){return this._interpolateNulls},set:function(t){t!=this._interpolateNulls&&(this._interpolateNulls=n.asBoolean(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"legendToggle",{get:function(){return this._legendToggle},set:function(t){t!=this._legendToggle&&(this._legendToggle=n.asBoolean(t))},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"tooltip",{get:function(){return this._tooltip},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"dataLabel",{get:function(){return this._lbl},set:function(i){i!=this._lbl&&(this._lbl=n.asType(i,t.DataLabel),this._lbl&&(this._lbl._chart=this))},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"selection",{get:function(){return this._selection},set:function(i){i!=this._selection&&(this._selection=n.asType(i,t.SeriesBase,!0),this.invalidate())},enumerable:!0,configurable:!0}),s.prototype.onSeriesVisibilityChanged=function(n){this.seriesVisibilityChanged.raise(this,n)},s.prototype.hitTest=function(n,i){var u=this._toControl(n,i),r=new t.HitTestInfo(this,u),s=null,c,o,h;if(t.FlexChart._contains(this._rectHeader,u))r._chartElement=t.ChartElement.Header;else if(t.FlexChart._contains(this._rectFooter,u))r._chartElement=t.ChartElement.Footer;else if(t.FlexChart._contains(this._rectLegend,u))r._chartElement=t.ChartElement.Legend,s=this.legend._hitTest(u),s!==null&&s>=0&&s<this.series.length&&r._setData(this.series[s]);else if(t.FlexChart._contains(this._rectChart,u))if(c=this._hitTestLabels(u),c)r._chartElement=t.ChartElement.DataLabel,r._dist=0,r._setDataPoint(c.tag);else{var e=this._hitTester.hitTest(u),f=null,l=null;for(o=this.series.length-1;o>=0;o--)if(this.series[o].hitTest!==t.Series.prototype.hitTest&&(h=this.series[o].hitTest(n),h&&((!f||h.distance<f.distance)&&(f=h,l=o),h.distance===0)))break;e&&e.area?f&&f.distance<e.distance?r=f:f&&f.distance==e.distance&&l>e.area.tag.seriesIndex?r=f:(r._setDataPoint(e.area.tag),r._dist=e.distance):f&&(r=f);t.FlexChart._contains(this.axisX._axrect,u)?r._chartElement=t.ChartElement.AxisX:t.FlexChart._contains(this.axisY._axrect,u)?r._chartElement=t.ChartElement.AxisY:t.FlexChart._contains(this._plotRect,u)?r._chartElement=t.ChartElement.PlotArea:t.FlexChart._contains(this._rectChart,u)&&(r._chartElement=t.ChartElement.ChartArea)}else r._chartElement=t.ChartElement.None;return r},s.prototype.pointToData=function(t,i){return n.isNumber(t)&&n.isNumber(i)&&(t=new n.Point(t,i)),t instanceof MouseEvent?(t=new n.Point(t.pageX,t.pageY),t=this._toControl(t)):t=t.clone(),t.x=this.axisX.convertBack(t.x),t.y=this.axisY.convertBack(t.y),t},s.prototype.dataToPoint=function(t,i){n.isNumber(t)&&n.isNumber(i)&&(t=new n.Point(t,i));n.asType(t,n.Point);var r=t.clone();return r.x=this.axisX.convert(r.x),r.y=this.axisY.convert(r.y),r},s.prototype._copy=function(t,i){var u,r,f;if(t=='series'){for(u=n.asArray(i),r=0;r<u.length;r++)f=this._createSeries(),n.copy(f,u[r]),this.series.push(f);return!0}return!1},s.prototype._createSeries=function(){return new t.Series},s.prototype._clearCachedValues=function(){for(var t,n=0;n<this._series.length;n++)t=this._series[n],t.itemsSource==null&&t._clearValues()},s.prototype._performBind=function(){var i,u,r,f,t;if(this._xDataType=null,this._xlabels.splice(0),this._xvals.splice(0),this._cv&&(i=this._cv.items,i)){for(u=i.length,r=0;r<u;r++)f=i[r],this._bindingX&&(t=f[this._bindingX],n.isNumber(t)?(this._xvals.push(n.asNumber(t)),this._xDataType=n.DataType.Number):n.isDate(t)&&(this._xvals.push(n.asDate(t).valueOf()),this._xDataType=n.DataType.Date),this._xlabels.push(f[this._bindingX]));this._xvals.length==u?this._xlabels.splice(0):this._xvals.splice(0)}},s.prototype._hitTestSeries=function(n,i){var f=this._toControl(n),r=new t.HitTestInfo(this,f),e=i,u=this._hitTester.hitTestSeries(f,i);return u&&u.area&&(r._setDataPoint(u.area.tag),r._chartElement=t.ChartElement.PlotArea,r._dist=u.distance),r},s.prototype._hitTestData=function(n){var u=this._toControl(n),r=new t.HitTestInfo(this,u),i=this._hitTester.hitTest(u,!0);return i&&i.area&&(r._setDataPoint(i.area.tag),r._dist=i.distance),r},s.prototype._hitTestLabels=function(n){for(var i=null,r=this._lblAreas.length,t=0;t<r;t++)if(this._lblAreas[t].contains(n)){i=this._lblAreas[t];break}return i},s._dist2=function(n,t){var i=n.x-t.x,r=n.y-t.y;return i*i+r*r},s._dist=function(n,i,r){return Math.sqrt(t.FlexChart._distToSegmentSquared(n,i,r))},s._distToSegmentSquared=function(i,r,u){var e=t.FlexChart._dist2(r,u),f;return e==0?t.FlexChart._dist2(i,r):(f=((i.x-r.x)*(u.x-r.x)+(i.y-r.y)*(u.y-r.y))/e,f<0)?t.FlexChart._dist2(i,r):f>1?t.FlexChart._dist2(i,u):t.FlexChart._dist2(i,new n.Point(r.x+f*(u.x-r.x),r.y+f*(u.y-r.y)))},s.prototype._isRotated=function(){return this._getChartType()==t.ChartType.Bar?!this._rotated:this._rotated},s.prototype._getChartType=function(){return null},s.prototype._render=function(i,r){var at,ht,s,a,u,g,nt,l,tt,it,rt,vt,yt,p,ct,w,ut,ft,et,b,h,c,f,ot,d,v,y;r===void 0&&(r=!0);var wt=this.hostElement,lt=this._getHostSize(),e=lt.width,o=lt.height;if((e==0||isNaN(e))&&(e=t.FlexChart._WIDTH),(o==0||isNaN(o))&&(o=t.FlexChart._HEIGHT),at=new n.Size(e,o),i.beginRender(),e>0&&o>0){i.setViewportSize(e,o);this._hitTester.clear();ht=this.legend;u=new n.Rect(0,0,e,o);this._rectChart=u.clone();i.startGroup(t.FlexChart._CSS_HEADER);u=this._drawTitle(i,u,this.header,this.headerStyle,!1);i.endGroup();i.startGroup(t.FlexChart._CSS_FOOTER);u=this._drawTitle(i,u,this.footer,this.footerStyle,!0);i.endGroup();e=u.width;o=u.height;g=ht._getPosition(e,o);s=ht._getDesiredSize(i,g,e,o);switch(g){case t.Position.Right:e-=s.width;a=new n.Point(e,u.top+.5*(o-s.height));break;case t.Position.Left:u.left+=s.width;e-=s.width;a=new n.Point(0,u.top+.5*(o-s.height));break;case t.Position.Top:o-=s.height;a=new n.Point(.5*(e-s.width),u.top);u.top+=s.height;break;case t.Position.Bottom:o-=s.height;a=new n.Point(.5*(e-s.width),u.top+o)}if(u.width=e,u.height=o,f=this._getPlotter(null),f.stacking=this._stacking,this._curPlotter!=f&&(this._curPlotter&&this._curPlotter.unload(),this._curPlotter=f),f.load(),nt=this._isRotated(),this._dataInfo.analyse(this._series,nt,f.stacking,this._xvals.length>0?this._xvals:null,this.axisX.logBase>0,this.axisY.logBase>0),l=f.adjustLimits(this._dataInfo,u.clone()),nt?(tt=this._dataInfo.getDataTypeX(),tt||(tt=this._xDataType),this.axisX._updateActualLimits(this._dataInfo.getDataTypeY(),l.left,l.right),this.axisY._updateActualLimits(tt,l.top,l.bottom,this._xlabels,this._xvals)):(it=this._dataInfo.getDataTypeX(),it||(it=this._xDataType),this.axisX._updateActualLimits(it,l.left,l.right,this._xlabels,this._xvals),this.axisY._updateActualLimits(this._dataInfo.getDataTypeY(),l.top,l.bottom)),rt=this._getAxes(),this._updateAuxAxes(rt,nt),this._layout(u,at,i),i.startGroup(t.FlexChart._CSS_PLOT_AREA),i.fill='transparent',i.stroke=null,vt=this.plotAreas.length,vt>0)for(h=0;h<this.plotAreas.length;h++)yt=this.plotAreas[h],yt._render(i);else p=this._plotRect,i.drawRect(p.left,p.top,p.width,p.height);for(i.endGroup(),ct=this._series.length,this._clearPlotters(),w={},h=0;h<ct;h++)ut=this._series[h],ut.getValues(0)&&(ft=ut._getAxisY(),ft&&ft!=this.axisY?(et=ft._uniqueId,w[et]?w[et].count+=1:w[et]={count:1,index:0}):(f=this._getPlotter(ut),f.seriesCount++));this.onRendering(new t.RenderEventArgs(i));if(this._getChartType()!==t.ChartType.Funnel)for(h=0;h<rt.length;h++)b=rt[h],ot=b.axisType==t.AxisType.X?i.startGroup(t.FlexChart._CSS_AXIS_X):i.startGroup(t.FlexChart._CSS_AXIS_Y),b._hostElement=r?ot:b._hostElement,b._render(i),i.endGroup();for(i.startGroup('wj-series-group'),this._plotrectId='plotRect'+(1e6*Math.random()).toFixed(),i.addClipRect(this._plotRect,this._plotrectId),h=0;h<ct;h++){c=this._series[h];c._pointIndexes=[];f=this._getPlotter(c);c._plotter=f;ot=i.startGroup(c.cssClass,f.clipping?this._plotrectId:null);c._hostElement=r?ot:c._hostElement;var pt=c.visibility,st=c.axisX,k=c.axisY;if(st||(st=this.axisX),k||(k=this.axisY),pt==t.SeriesVisibility.Visible||pt==t.SeriesVisibility.Plot){d=w[k._uniqueId];d?(v=d.index,y=d.count,d.index++,c.onRendering(i,v,y)||f.plotSeries(i,st,k,c,this,v,y)):(v=f.seriesIndex,y=f.seriesCount,f.seriesIndex++,c.onRendering(i,v,y)||f.plotSeries(i,st,k,c,this,v,y));c.onRendered(i)}i.endGroup()}i.endGroup();this._lblAreas=[];this.dataLabel.content&&this.dataLabel.position!=t.LabelPosition.None&&this._renderLabels(i);s?(this._legendHost=i.startGroup(t.FlexChart._CSS_LEGEND),this._rectLegend=new n.Rect(a.x,a.y,s.width,s.height),i.textFill=t.FlexChart._FG,this.legend._render(i,a,g,s.width,s.height),i.textFill=null,i.endGroup()):(this._legendHost=null,this._rectLegend=null);this._highlightCurrent();this.onRendered(new t.RenderEventArgs(i))}i.endRender()},s.prototype._renderLabels=function(n){var r=this.series,e=r.length,u,t,f,i;for(n.stroke='null',n.fill='transparent',n.strokeWidth=1,u='wj-data-labels',n.startGroup(u),t=0;t<e;t++)f=r[t],i=this._hitTester._map[t],i&&f._renderLabels(n,i,this,this._lblAreas);n.endGroup()},s.prototype._getAxes=function(){for(var u,t,i,n=[this.axisX,this.axisY],f=this.series.length,r=0;r<f;r++)u=this.series[r],t=u.axisX,t&&n.indexOf(t)===-1&&n.push(t),i=u.axisY,i&&n.indexOf(i)===-1&&n.push(i);return n},s.prototype._clearPlotters=function(){for(var t=this._plotters.length,n=0;n<t;n++)this._plotters[n].clear()},s.prototype._initPlotter=function(n){n.chart=this;n.dataInfo=this._dataInfo;n.hitTester=this._hitTester;this._plotters.push(n)},Object.defineProperty(s.prototype,"_barPlotter",{get:function(){return this.__barPlotter===null&&(this.__barPlotter=new t._BarPlotter,this._initPlotter(this.__barPlotter)),this.__barPlotter},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"_linePlotter",{get:function(){return this.__linePlotter===null&&(this.__linePlotter=new t._LinePlotter,this._initPlotter(this.__linePlotter)),this.__linePlotter},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"_areaPlotter",{get:function(){return this.__areaPlotter===null&&(this.__areaPlotter=new t._AreaPlotter,this._initPlotter(this.__areaPlotter)),this.__areaPlotter},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"_bubblePlotter",{get:function(){return this.__bubblePlotter===null&&(this.__bubblePlotter=new t._BubblePlotter,this._initPlotter(this.__bubblePlotter)),this.__bubblePlotter},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"_financePlotter",{get:function(){return this.__financePlotter===null&&(this.__financePlotter=new t._FinancePlotter,this._initPlotter(this.__financePlotter)),this.__financePlotter},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"_funnelPlotter",{get:function(){return this.__funnelPlotter===null&&(this.__funnelPlotter=new t._FunnelPlotter,this._initPlotter(this.__funnelPlotter)),this.__funnelPlotter},enumerable:!0,configurable:!0}),s.prototype._getPlotter=function(n){var f=this._getChartType(),e=!1,u,i,r;n&&(u=n._getChartType(),u!==null&&u!==undefined&&u!=f&&(f=u,e=!0));switch(f){case t.ChartType.Column:this._barPlotter.isVolume=!1;this._barPlotter.width=.7;i=this._barPlotter;break;case t.ChartType.Bar:this._barPlotter.rotated=!this._rotated;this._barPlotter.isVolume=!1;this._barPlotter.width=.7;i=this._barPlotter;break;case t.ChartType.Line:this._linePlotter.hasSymbols=!1;this._linePlotter.hasLines=!0;this._linePlotter.isSpline=!1;i=this._linePlotter;break;case t.ChartType.Scatter:this._linePlotter.hasSymbols=!0;this._linePlotter.hasLines=!1;this._linePlotter.isSpline=!1;i=this._linePlotter;break;case t.ChartType.LineSymbols:this._linePlotter.hasSymbols=!0;this._linePlotter.hasLines=!0;this._linePlotter.isSpline=!1;i=this._linePlotter;break;case t.ChartType.Area:this._areaPlotter.isSpline=!1;i=this._areaPlotter;break;case t.ChartType.Bubble:i=this._bubblePlotter;break;case t.ChartType.Candlestick:r=this._financePlotter;r.isCandle=!0;r.isEqui=!1;r.isArms=!1;r.isVolume=!1;i=r;break;case t.ChartType.HighLowOpenClose:r=this._financePlotter;r.isCandle=!1;r.isEqui=!1;r.isArms=!1;r.isVolume=!1;i=r;break;case t.ChartType.Spline:this._linePlotter.hasSymbols=!1;this._linePlotter.hasLines=!0;this._linePlotter.isSpline=!0;i=this._linePlotter;break;case t.ChartType.SplineSymbols:this._linePlotter.hasSymbols=!0;this._linePlotter.hasLines=!0;this._linePlotter.isSpline=!0;i=this._linePlotter;break;case t.ChartType.SplineArea:this._areaPlotter.isSpline=!0;i=this._areaPlotter;break;case t.ChartType.Funnel:i=this._funnelPlotter;break;default:throw'Invalid chart type.';}return i.rotated=this._rotated,f==t.ChartType.Bar&&(i.rotated=!i.rotated),e&&(i.rotated=this._isRotated()),i},s.prototype._layout=function(n,t,i){this.plotAreas.length>0?this._layoutMultiple(n,t,i):this._layoutSingle(n,t,i)},s.prototype._layoutSingle=function(i,r,u){for(var e,it,w,f,c,b,nt,rt,tt,o=i.width,s=i.height,ft=new n.Size(o,.75*s),et=new n.Size(s,.75*o),l=0,a=0,k=o,d=s,p=0,h=0,v=o,y=s,ut=this._getAxes(),g=0;g<ut.length;g++)f=ut[g],c=f.origin,f.axisType==t.AxisType.X?(e=f._getHeight(u,o),e>ft.height&&(e=ft.height),f._desiredSize=new n.Size(ft.width,e),it=f._hasOrigin=n.isNumber(c)&&c>this.axisY._getMinNum()&&c<this.axisY._getMaxNum(),f.position==t.Position.Bottom?(l=Math.max(l,f._annoSize.width*.5),k=Math.min(k,o-f._annoSize.width*.5),it?(nt=this._convertY(c,h,y),y=y-Math.max(0,nt+e-y)):y=y-e):f.position==t.Position.Top&&(l=Math.max(l,f._annoSize.width*.5),k=Math.min(k,o-f._annoSize.width*.5),it?(nt=this._convertY(c,h,y),h=h+Math.max(0,h-(nt-e))):h=h+e)):f.axisType==t.AxisType.Y&&(e=f._getHeight(u,s),e>et.height&&(e=et.height),f._desiredSize=new n.Size(et.width,e),it=f._hasOrigin=n.isNumber(c)&&c>this.axisX._getMinNum()&&c<this.axisX._getMaxNum(),f.position==t.Position.Left?(a=Math.max(a,f._annoSize.width*.5),d=Math.min(d,s-f._annoSize.width*.5),it?(tt=this._convertX(c,p,v),p+=Math.max(0,p-(tt-e))):p+=e):f.position==t.Position.Right&&(a=Math.max(a,f._annoSize.width*.5),d=Math.min(d,s-f._annoSize.width*.5),it?(tt=this._convertX(c,p,v),v=v-Math.max(0,tt+e-v)):v=v-e));for(w=this._parseMargin(this.plotMargin),l=isNaN(w.left)?p=Math.max(l,p)+i.left:p=w.left,k=isNaN(w.right)?v=Math.min(k,v)+i.left:v=r.width-w.right,a=isNaN(w.top)?h=Math.max(a,h)+i.top:h=w.top,d=isNaN(w.bottom)?y=Math.min(d,y)+i.top:y=r.height-w.bottom,o=Math.max(1,k-l),s=Math.max(1,d-a),this._plotRect=new n.Rect(l,a,o,s),u.stroke=null,g=0;g<ut.length;g++)f=ut[g],c=f.origin,f.axisType==t.AxisType.X?(f._hasOrigin?(nt=this._convertY(c,this._plotRect.top,this._plotRect.bottom),f.position==t.Position.Bottom?(b=new n.Rect(l,nt,o,f._desiredSize.height),y+=Math.max(0,b.bottom-this._plotRect.bottom)):f.position==t.Position.Top&&(b=new n.Rect(l,nt-f._desiredSize.height,o,f._desiredSize.height),h-=Math.max(0,this._plotRect.top-b.top))):f.position==t.Position.Bottom?(b=new n.Rect(l,y,o,f._desiredSize.height),y+=f._desiredSize.height):f.position==t.Position.Top?(b=new n.Rect(l,h-f._desiredSize.height,o,f._desiredSize.height),h-=f._desiredSize.height):b=new n.Rect(l,h,o,1),f._layout(b,this._plotRect)):f.axisType==t.AxisType.Y&&(f._hasOrigin?(tt=this._convertX(c,this._plotRect.left,this._plotRect.right),f.position==t.Position.Left?(rt=new n.Rect(tt-f._desiredSize.height,a,s,f._desiredSize.height),p-=f._desiredSize.height):f.position==t.Position.Right&&(rt=new n.Rect(tt,a,s,f._desiredSize.height),v+=f._desiredSize.height)):f.position==t.Position.Left?(rt=new n.Rect(p-f._desiredSize.height,a,s,f._desiredSize.height),p-=f._desiredSize.height):f.position==t.Position.Right?(rt=new n.Rect(v,a,s,f._desiredSize.height),v+=f._desiredSize.height):rt=new n.Rect(p,a,s,1),f._layout(rt,this._plotRect))},s.prototype._layoutMultiple=function(i,r,f){for(var pt,wt,lt,at,tt,h,it,dt,ut,ti,c,o,ft,e,d,gt,rt,l=i.width,a=i.height,b=[],k=[],ni=this._getAxes(),ii=ni.length,s=0;s<ii;s++)if(e=ni[s],e._plotrect=null,e.axisType==t.AxisType.X){for(pt=e.plotArea?e.plotArea.column:0;b.length<=pt;)b.push(new u);b[pt].axes.push(e)}else if(e.axisType==t.AxisType.Y){for(wt=e.plotArea?e.plotArea.row:0;k.length<=wt;)k.push(new u);k[wt].axes.push(e)}var et=b.length,ot=k.length,bt=new n.Size(l,.3*a),kt=new n.Size(a,.3*l),g=0,nt=0,ht=l,ct=a;for(h=0;h<et;h++)for(o=b[h],o.right=l,o.bottom=a,s=0;s<o.axes.length;s++)e=o.axes[s],lt=e._getHeight(f,e.axisType==t.AxisType.X?l:a),lt>bt.height&&(lt=bt.height),at=new n.Size(bt.width,lt),e._desiredSize=at,h==0&&(o.left=Math.max(o.left,e._annoSize.width*.5)),h==et-1&&(o.right=Math.min(o.right,l-e._annoSize.width*.5)),e.position==t.Position.Bottom?o.bottom-=at.height:e.position==t.Position.Top&&(o.top+=at.height);for(c=0;c<ot;c++)for(o=k[c],o.right=l,o.bottom=a,s=0;s<o.axes.length;s++)e=o.axes[s],tt=new n.Size(kt.width,e._getHeight(f,e.axisType==t.AxisType.X?l:a)),tt.height>kt.height&&(tt.height=kt.height),e._desiredSize=tt,c==0&&(o.top=Math.max(o.top,e._annoSize.width*.5)),c==ot-1&&(o.bottom=Math.min(o.bottom,a-e._annoSize.width*.5)),e.position==t.Position.Left?o.left+=tt.height:e.position==t.Position.Right&&(o.right-=tt.height);var v=0,y=0,p=l,w=a;for(h=0;h<et;h++)o=b[h],v=Math.max(v,o.left),y=Math.max(y,o.top),p=Math.min(p,o.right),w=Math.min(w,o.bottom);for(c=0;c<ot;c++)o=k[c],v=Math.max(v,o.left),y=Math.max(y,o.top),p=Math.min(p,o.right),w=Math.min(w,o.bottom);v=g=Math.max(g,v);p=ht=Math.min(ht,p);y=nt=Math.max(nt,y);w=ct=Math.min(ct,w);this._plotRect=new n.Rect(g,nt,ht-g,ct-nt);var vt=this._plotRect.clone(),st=g,yt=this.plotAreas._calculateWidths(this._plotRect.width,et);for(h=0;h<et;h++){for(w=ct,y=nt,o=b[h],it=yt[h],s=0;s<o.axes.length;s++)e=o.axes[s],d=new n.Rect(st,vt.top,it,vt.height),e.position==t.Position.Bottom?(dt=new n.Rect(st,w,it,e._desiredSize.height),w+=e._desiredSize.height):e.position==t.Position.Top&&(dt=new n.Rect(st,y-e._desiredSize.height,it,e._desiredSize.height),y-=e._desiredSize.height),e._layout(dt,d);for(s=0;s<this.plotAreas.length;s++)rt=this.plotAreas[s],rt.column==h&&rt._setPlotX(st,it);st+=it}for(ut=nt,ti=this.plotAreas._calculateHeights(this._plotRect.height,ot),c=0;c<ot;c++){for(v=g,p=ht,o=k[c],ft=ti[c],s=0;s<o.axes.length;s++)e=o.axes[s],d=new n.Rect(vt.left,ut,vt.width,ft),e._plotrect?(d.left=e._plotrect.left,d.width=e._plotrect.width):yt&&yt.length>0&&(d.width=yt[0]),e.position==t.Position.Left?(gt=new n.Rect(v-e._desiredSize.height,ut,ft,e._desiredSize.height),v-=e._desiredSize.height):e.position==t.Position.Right&&(gt=new n.Rect(p,ut,ft,e._desiredSize.height),p+=e._desiredSize.height),e._layout(gt,d);for(s=0;s<this.plotAreas.length;s++)rt=this.plotAreas[s],rt.row==c&&rt._setPlotY(ut,ft);ut+=ft}},s.prototype._convertX=function(n,t,i){var r=this.axisX;return r.reversed?i-(i-t)*(n-r._getMinNum())/(r._getMaxNum()-r._getMinNum()):t+(i-t)*(n-r._getMinNum())/(r._getMaxNum()-r._getMinNum())},s.prototype._convertY=function(n,t,i){var r=this.axisY;return r.reversed?t+(i-t)*(n-r._getMinNum())/(r._getMaxNum()-r._getMinNum()):i-(i-t)*(n-r._getMinNum())/(r._getMaxNum()-r._getMinNum())},s.prototype._getLabelContent=function(t,i){return n.isString(i)?this._keywords.replace(i,t):n.isFunction(i)?i(t):null},s.prototype._select=function(n,t){var u=!1,r;(n!=this._selection||t!=this._selectionIndex)&&(u=!0);this._selection&&this._highlight(this._selection,!1,this._selectionIndex);this._selection=n;this._selectionIndex=t;this._selection&&this._highlight(this._selection,!0,this._selectionIndex);this.selectionMode==i.Point&&(r=n?n.collectionView:this._cv,r&&(this._notifyCurrentChanged=!1,r.moveCurrentToPosition(n?t:-1),this._notifyCurrentChanged=!0));u&&this.onSelectionChanged()},s.prototype._highlightCurrent=function(){var t,r,n;this.selectionMode!=i.None&&(t=this._selection,r=-1,t&&(n=t.collectionView,n||(n=this._cv),n&&(r=n.currentPosition),this._highlight(t,!0,r)))},s.prototype._highlight=function(r,u,f){var h,e,s,o;r=n.asType(r,t.SeriesBase,!0);this.selectionMode==i.Series?(h=this.series.indexOf(r),e=r.hostElement,u?e.parentNode.appendChild(e):e.parentNode.insertBefore(e,e.parentNode.childNodes.item(h)),o=this._find(e,['rect','ellipse','polyline','polygon','line','path']),this._highlightItems(o,t.FlexChart._CSS_SELECTION,u),r.legendElement&&this._highlightItems(this._find(r.legendElement,['rect','ellipse','line']),t.FlexChart._CSS_SELECTION,u)):this.selectionMode==i.Point&&(h=this.series.indexOf(r),e=r.hostElement,u?(e.parentNode.appendChild(e),s=r.getPlotElement(f),s&&(s.nodeName!='g'&&this._highlightItems([s],t.FlexChart._CSS_SELECTION,u),o=this._find(s,['line','rect','ellipse','path','polygon']),this._highlightItems(o,t.FlexChart._CSS_SELECTION,u))):(e.parentNode.insertBefore(e,e.parentNode.childNodes.item(h)),o=this._find(e,['rect','ellipse','line','path','polygon']),this._highlightItems(o,t.FlexChart._CSS_SELECTION,u)))},s.prototype._updateAuxAxes=function(i,r){for(var s,h,l,e,o,f,u,a,c=2;c<i.length;c++){for(s=i[c],s._chart=this,h=[],f=0;f<this.series.length;f++)l=this.series[f],(l.axisX==s||l.axisY==s)&&h.push(l);for(f=0;f<h.length;f++)u=h[f].getDataRect()||h[f]._getDataRect(),u&&(s.axisType==t.AxisType.X&&!r||s.axisType==t.AxisType.Y&&r?((e===undefined||u.left<e)&&(e=u.left),(o===undefined||u.right>o)&&(o=u.right)):((e===undefined||u.top<e)&&(e=u.top),(o===undefined||u.bottom>o)&&(o=u.bottom)));a=h[0].getDataType(0);a==null&&(a=n.DataType.Number);i[c]._updateActualLimits(a,e,o)}},s._contains=function(n,t){return n&&t?t.x>=n.left&&t.x<=n.right&&t.y>=n.top&&t.y<=n.bottom:!1},s._intersects=function(n,t){return n.left>t.right||n.right<t.left||n.top>t.bottom||n.bottom<t.top?!1:!0},s._toOADate=function(n){return n.valueOf()},s._fromOADate=function(n){return new Date(n)},s._renderText=function(t,i,r,u,f,e,o,s,h){var c=t.measureString(i,e,o,s),l=r.x,a=r.y,v;switch(u){case 1:l-=.5*c.width;break;case 2:l-=c.width}switch(f){case 1:a+=.5*c.height;break;case 0:a+=c.height}return v=new n.Rect(l,a-c.height,c.width,c.height),h?h(v)?(t.drawString(i,new n.Point(l,a),e,s),v):null:(t.drawString(i,new n.Point(l,a),e,s),v)},s._renderRotatedText=function(t,i,r,u,f,e,o,s,h,c){var l=t.measureString(i,s,h,c),a=r.x,v=r.y;switch(u){case 1:a-=.5*l.width;break;case 2:a-=l.width}switch(f){case 1:v+=.5*l.height;break;case 0:v+=l.height}t.drawStringRotated(i,new n.Point(a,v),e,o,s,c)},s._CSS_AXIS_X='wj-axis-x',s._CSS_AXIS_Y='wj-axis-y',s._CSS_LINE='wj-line',s._CSS_GRIDLINE='wj-gridline',s._CSS_TICK='wj-tick',s._CSS_GRIDLINE_MINOR='wj-gridline-minor',s._CSS_TICK_MINOR='wj-tick-minor',s._CSS_LABEL='wj-label',s._CSS_LEGEND='wj-legend',s._CSS_HEADER='wj-header',s._CSS_FOOTER='wj-footer',s._CSS_TITLE='wj-title',s._CSS_SELECTION='wj-state-selected',s._CSS_PLOT_AREA='wj-plot-area',s._FG='#666',s._epoch=new Date(1899,11,30).getTime(),s._msPerDay=864e5,s}(t.FlexChartBase);t.FlexChartCore=o;u=function(){function n(){this._axes=[];this.left=0;this.right=0;this.top=0;this.bottom=0}return Object.defineProperty(n.prototype,"axes",{get:function(){return this._axes},enumerable:!0,configurable:!0}),n}();f=function(){function i(){this.stackAbs={};this._xvals=null}return i.prototype.analyse=function(u,f,e,o,s,h){var ct=this,ot,p,v,k,d,it,l,y,a,w,b,rt,ut,ft;this.minY=NaN;this.maxY=NaN;this.minX=NaN;this.maxX=NaN;this.minXp=NaN;this.minYp=NaN;this.dx=0;var g={},nt={},tt={};if(this.dataTypeX=null,this.dataTypeY=null,this._xvals=o,o!=null)for(ot=o.length,p=0;p<ot;p++)a=o[p],(isNaN(this.minX)||this.minX>a)&&(this.minX=a),(isNaN(this.maxX)||this.maxX<a)&&(this.maxX=a),a>0&&(isNaN(this.minXp)||this.minXp>a)&&(this.minXp=a),p>0&&(k=Math.abs(a-o[p-1]),!isNaN(k)&&(k<this.dx||this.dx==0)&&(this.dx=k));for(p=0;p<u.length;p++){var c=u[p],et=c._getChartType(),st=c.chartType!==undefined,ht=c.visibility;if(ht!=t.SeriesVisibility.Hidden&&ht!=t.SeriesVisibility.Legend){if(v=null,f?c._isCustomAxisY()||(v=c.getValues(1)):c._isCustomAxisX()||(v=c.getValues(1)),v)for(this.dataTypeX||(this.dataTypeX=c.getDataType(1)),l=0;l<v.length;l++)y=v[l],i.isValid(y)&&((isNaN(this.minX)||this.minX>y)&&(this.minX=y),(isNaN(this.maxX)||this.maxX<y)&&(this.maxX=y),l>0&&(!et||et==t.ChartType.Column||et==t.ChartType.Bar)&&(k=Math.abs(y-v[l-1]),!isNaN(k)&&k>0&&(k<this.dx||this.dx==0)&&(this.dx=k)));if(d=null,it=!1,f?(it=c._isCustomAxisX(),d=c.getValues(0)):(it=c._isCustomAxisY(),d=c.getValues(0)),d&&(this.dataTypeY||it||(this.dataTypeY=c.getDataType(0)),isNaN(this.minX)?this.minX=0:v||o||(this.minX=Math.min(this.minX,0)),isNaN(this.maxX)?this.maxX=d.length-1:v||o||(this.maxX=Math.max(this.maxX,d.length-1)),!it))for(l=0;l<d.length;l++)y=d[l],a=v?n.asNumber(v[l],!0):o?n.asNumber(o[l],!0):l,n.isArray(y)?y.forEach(function(n){ct._parseYVal(n,a,st,tt,g,nt)}):this._parseYVal(y,a,st,tt,g,nt);if(w=c.getDataRect(new n.Rect(this.minX,this.minY,this.maxX-this.minX,this.maxY-this.minY)),w){(isNaN(this.minX)||this.minX>w.left)&&(this.minX=w.left);(isNaN(this.maxX)||this.maxX<w.right)&&(this.maxX=w.right);(isNaN(this.minY)||this.minY>w.top)&&(this.minY=w.top);(isNaN(this.maxY)||this.maxY<w.bottom)&&(this.maxY=w.bottom);continue}}}if(e==r.Stacked){for(b in g)g[b]>this.maxY&&(this.maxY=g[b]);for(b in nt)nt[b]<this.minY&&(this.minY=nt[b])}else if(e==r.Stacked100pc){this.minY=0;this.maxY=1;for(b in tt)rt=tt[b],isFinite(rt)&&rt!=0&&(ut=g[b],ft=nt[b],isFinite(ut)&&(ut=Math.min(ut/rt,this.maxY)),isFinite(ft)&&(ft=Math.max(ft/rt,this.minY)))}this.stackAbs=tt;s&&(f?this.minY=isNaN(this.minYp)?1:this.minYp:this.minX=isNaN(this.minXp)?1:this.minXp);h&&(f?this.minX=isNaN(this.minXp)?1:this.minXp:this.minY=isNaN(this.minYp)?1:this.minYp)},i.prototype._parseYVal=function(n,t,r,u,f,e){i.isValid(n)&&((isNaN(this.minY)||this.minY>n)&&(this.minY=n),(isNaN(this.maxY)||this.maxY<n)&&(this.maxY=n),r||(n>0?(isNaN(f[t])?f[t]=n:f[t]+=n,(isNaN(this.minYp)||this.minYp>n)&&(this.minYp=n)):isNaN(e[t])?e[t]=n:e[t]+=n,isNaN(u[t])?u[t]=Math.abs(n):u[t]+=Math.abs(n)))},i.prototype.getMinY=function(){return this.minY},i.prototype.getMaxY=function(){return this.maxY},i.prototype.getMinX=function(){return this.minX},i.prototype.getMaxX=function(){return this.maxX},i.prototype.getMinXp=function(){return this.minXp},i.prototype.getMinYp=function(){return this.minYp},i.prototype.getDeltaX=function(){return this.dx},i.prototype.getDataTypeX=function(){return this.dataTypeX},i.prototype.getDataTypeY=function(){return this.dataTypeY},i.prototype.getStackedAbsSum=function(n){var t=this.stackAbs[n];return isFinite(t)?t:0},i.prototype.getXVals=function(){return this._xvals},i.isValid=function(n){return isFinite(n)},i}();t._DataInfo=f;e=function(t){function i(){t.call(this);this._content='<b>{seriesName}</b><br/>{x} {y}';this._threshold=15}return __extends(i,t),Object.defineProperty(i.prototype,"content",{get:function(){return this._content},set:function(n){n!=this._content&&(this._content=n)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"threshold",{get:function(){return this._threshold},set:function(t){t!=this._threshold&&(this._threshold=n.asNumber(t))},enumerable:!0,configurable:!0}),i}(n.Tooltip);t.ChartTooltip=e})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';(function(n){n[n.Column=0]="Column";n[n.Bar=1]="Bar";n[n.Scatter=2]="Scatter";n[n.Line=3]="Line";n[n.LineSymbols=4]="LineSymbols";n[n.Area=5]="Area";n[n.Bubble=6]="Bubble";n[n.Candlestick=7]="Candlestick";n[n.HighLowOpenClose=8]="HighLowOpenClose";n[n.Spline=9]="Spline";n[n.SplineSymbols=10]="SplineSymbols";n[n.SplineArea=11]="SplineArea";n[n.Funnel=12]="Funnel"})(t.ChartType||(t.ChartType={}));var i=t.ChartType,r=function(r){function u(n,t){r.call(this,n,null);this._chartType=i.Column;this.initialize(t)}return __extends(u,r),u.prototype._getChartType=function(){return this._chartType},Object.defineProperty(u.prototype,"chartType",{get:function(){return this._chartType},set:function(t){t!=this._chartType&&(this._chartType=n.asEnum(t,i),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"rotated",{get:function(){return this._rotated},set:function(t){t!=this._rotated&&(this._rotated=n.asBoolean(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"stacking",{get:function(){return this._stacking},set:function(i){i!=this._stacking&&(this._stacking=n.asEnum(i,t.Stacking),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"options",{get:function(){return this._options},set:function(n){n!=this._options&&(this._options=n,this.invalidate())},enumerable:!0,configurable:!0}),u}(t.FlexChartCore);t.FlexChart=r})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var u,r,s,f,h,c,i,e,o;(function(n){n[n.None=0]="None";n[n.Left=1]="Left";n[n.Top=2]="Top";n[n.Right=3]="Right";n[n.Bottom=4]="Bottom";n[n.Auto=5]="Auto"})(t.Position||(t.Position={}));u=t.Position,function(n){n[n.X=0]="X";n[n.Y=1]="Y"}(t.AxisType||(t.AxisType={}));r=t.AxisType,function(n){n[n.Auto=0]="Auto";n[n.Show=1]="Show"}(t.OverlappingLabels||(t.OverlappingLabels={}));s=t.OverlappingLabels,function(n){n[n.None=0]="None";n[n.Outside=1]="Outside";n[n.Inside=2]="Inside";n[n.Cross=3]="Cross"}(t.TickMark||(t.TickMark={}));f=t.TickMark;h=function(){function i(t){this._GRIDLINE_WIDTH=.25;this._LINE_WIDTH=1;this._TICK_WIDTH=1;this._TICK_HEIGHT=4;this._TICK_OVERLAP=1;this._TICK_LABEL_DISTANCE=4;this._minorGrid=!1;this._labels=!0;this._axisLine=!0;this._isTimeAxis=!1;this._labelPadding=2;this.rangeChanged=new n.Event;this._customConvert=null;this._customConvertBack=null;this.__uniqueId=i._id++;this._position=t;t==u.Bottom||t==u.Top?this._axisType=r.X:(this._axisType=r.Y,this._axisLine=!1);this._minorTickMarks=f.None;this._overlap=s.Auto}return Object.defineProperty(i.prototype,"hostElement",{get:function(){return this._hostElement},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"actualMin",{get:function(){return this._isTimeAxis?new Date(this._actualMin):this._actualMin},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"actualMax",{get:function(){return this._isTimeAxis?new Date(this._actualMax):this._actualMax},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"min",{get:function(){return this._min},set:function(t){t!=this._min&&(this._min=n.isDate(t)?n.asDate(t,!0):n.asNumber(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"max",{get:function(){return this._max},set:function(t){t!=this._max&&(this._max=n.isDate(t)?n.asDate(t,!0):n.asNumber(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"reversed",{get:function(){return this._reversed},set:function(t){this._reversed!=t&&(this._reversed=n.asBoolean(t),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"position",{get:function(){return this._position},set:function(t){t!=this._position&&(this._position=n.asEnum(t,u,!1),this._axisType=this._position==u.Bottom||this._position==u.Top?r.X:r.Y,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"majorUnit",{get:function(){return this._majorUnit},set:function(t){t!=this._majorUnit&&(this._majorUnit=n.asNumber(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"minorUnit",{get:function(){return this._minorUnit},set:function(t){t!=this._minorUnit&&(this._minorUnit=n.asNumber(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"name",{get:function(){return this._name},set:function(t){t!=this._name&&(this._name=n.asString(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"title",{get:function(){return this._title},set:function(t){t!=this._title&&(this._title=n.asString(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"format",{get:function(){return this._format},set:function(t){t!=this._format&&(this._format=n.asString(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"majorGrid",{get:function(){return this._majorGrid},set:function(t){t!=this._majorGrid&&(this._majorGrid=n.asBoolean(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"majorTickMarks",{get:function(){return this._majorTickMarks},set:function(t){t!=this._majorTickMarks&&(this._majorTickMarks=n.asEnum(t,f,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"minorGrid",{get:function(){return this._minorGrid},set:function(t){t!=this._minorGrid&&(this._minorGrid=n.asBoolean(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"minorTickMarks",{get:function(){return this._minorTickMarks},set:function(t){t!=this._minorTickMarks&&(this._minorTickMarks=n.asEnum(t,f,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"axisLine",{get:function(){return this._axisLine},set:function(t){t!=this._axisLine&&(this._axisLine=n.asBoolean(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"labels",{get:function(){return this._labels},set:function(t){t!=this._labels&&(this._labels=n.asBoolean(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"labelAlign",{get:function(){return this._labelAlign},set:function(t){t!=this._labelAlign&&(this._labelAlign=n.asString(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"labelAngle",{get:function(){return this._labelAngle},set:function(t){t!=this._labelAngle&&(this._labelAngle=n.asNumber(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"origin",{get:function(){return this._origin},set:function(t){t!=this._origin&&(this._origin=n.asNumber(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"overlappingLabels",{get:function(){return this._overlap},set:function(t){t!=this._overlap&&(this._overlap=n.asEnum(t,s,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"itemsSource",{get:function(){return this._items},set:function(t){this._items!=t&&(this._cv&&(this._cv.collectionChanged.removeHandler(this._cvCollectionChanged,this),this._cv=null),this._items=t,this._cv=n.asCollectionView(t),this._cv!=null&&this._cv.collectionChanged.addHandler(this._cvCollectionChanged,this))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"binding",{get:function(){return this._binding},set:function(t){t!=this._binding&&(this._binding=n.asString(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"itemFormatter",{get:function(){return this._ifmt},set:function(t){this._ifmt!=t&&(this._ifmt=n.asFunction(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"logBase",{get:function(){return this._logBase},set:function(t){t!=this._logBase&&(this._logBase=n.asNumber(t,!0,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"plotArea",{get:function(){return this._parea},set:function(i){i!=this._parea&&(this._parea=n.asType(i,t.PlotArea,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"labelPadding",{get:function(){return this._labelPadding},set:function(t){t!=this._labelPadding&&(this._labelPadding=n.asNumber(t,!0,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"_groupClass",{get:function(){return this.axisType===r.X?t.FlexChartCore._CSS_AXIS_X:t.FlexChartCore._CSS_AXIS_Y},enumerable:!0,configurable:!0}),i.prototype.onRangeChanged=function(n){this.rangeChanged.raise(this,n)},i.prototype._isOverlapped=function(n,t,i){var u=this._lbls,r,f,e,c;if(u!=null&&u.length>0){var o=u.length,s=this._values&&this._values.length==o?this._values:null,h=0;for(r=0;r<o;r++)if(f=s?s[r]:r,f>=this._actualMin&&f<=this._actualMax){if(e=t*(f-this._actualMin)/(this._actualMax-this._actualMin),c=n.measureString(u[r],i,this._groupClass),r>0&&Math.abs(e-h)<c.width+12)return!0;h=e}}return!1},i.prototype._getHeight=function(i,u){var k,d,h,g,c,e,s,it,l,o;this._actualAngle=undefined;var a=t.FlexChart._CSS_LABEL,rt=t.FlexChart._CSS_TITLE,nt=this._actualMax-this._actualMin,b=this._nicePrecision(nt);(b<0||b>15)&&(b=0);var v=.1*nt,y=this._lbls,p=this.labelAngle;if(this.labels&&this._chart._getChartType()!==t.ChartType.Funnel){if(v=this._updateAutoFormat(v),y!=null&&y.length>0){for(k=y.length,d=this._values&&this._values.length==k?this._values:null,this._annoSize=new n.Size,h=0;h<k;h++)g=d?d[h]:h,g>=this._actualMin&&g<=this._actualMax&&(e=i.measureString(y[h],a,this._groupClass),this.axisType==r.X?e.width>this._annoSize.width&&(this._annoSize.width=e.width):e.width>this._annoSize.width&&(this._annoSize.width=e.width),e.height>this._annoSize.height&&(this._annoSize.height=e.height));p===undefined&&this.axisType==r.X&&(this._isOverlapped(i,u,a)?p=this._actualAngle=-45:this._actualAngle=0)}else c=this._formatValue(this._actualMin-v),e=i.measureString(c,a,this._groupClass),this._annoSize=e,c=this._formatValue(this._actualMax+v),e=i.measureString(c,a,this._groupClass),e.width>this._annoSize.width&&(this._annoSize.width=e.width),e.height>this._annoSize.height&&(this._annoSize.height=e.height);if(p){var w=p*Math.PI/180,tt=this._annoSize.width,s=this._annoSize.height;this._annoSize.width=tt*Math.abs(Math.cos(w))+s*Math.abs(Math.sin(w));this._annoSize.height=tt*Math.abs(Math.sin(w))+s*Math.abs(Math.cos(w))}}else this._annoSize=new n.Size;return s=2*this._labelPadding,s+=this._axisType==r.X?this._annoSize.height:this._annoSize.width+this._TICK_LABEL_DISTANCE+2,it=this._TICK_HEIGHT,l=this._TICK_OVERLAP,o==f.Outside?l=1:o==f.Inside?l=-1:o==f.Cross&&(l=0),o=this.majorTickMarks,(o===undefined||o===null)&&(o=f.Outside),o!=f.None&&(s+=.5*(1+l)*it),this._title&&(c=this._title,this._szTitle=i.measureString(c,rt,this._groupClass),s+=this._szTitle.height),i.fontSize=null,s},i.prototype._updateAutoFormat=function(n){if(this._isTimeAxis){var t=this.format,r=.001*(this._actualMax-this._actualMin)/10,u=new e(r*e.TicksPerSecond),i=isNaN(this._majorUnit)?o.NiceTimeSpan(u,t):e.fromDays(this._majorUnit);t||(this._tfmt=o.GetTimeDefaultFormat(1e3*i.TotalSeconds,0));n=i.TotalSeconds}return n},i.prototype._updateActualLimitsByChartType=function(n,i,r){if(n&&n.length>0&&!this._isTimeAxis){var u=this._chart._getChartType();u!=t.ChartType.Column&&u!=t.ChartType.Bar&&(i-=.5,r+=.5)}return{min:i,max:r}},i.prototype._updateActualLimits=function(t,i,r,u,f){var l,a,v,e,o,s,y,b,k,h,c,p,w;if(u===void 0&&(u=null),f===void 0&&(f=null),l=this._actualMin,a=this._actualMax,this._isTimeAxis=t==n.DataType.Date,v=this._updateActualLimitsByChartType(u,i,r),i=v.min,r=v.max,e=this._min,o=this._max,n.isDate(e)&&(e=e.valueOf()),n.isDate(o)&&(o=o.valueOf()),this._actualMin=e!==null&&e!==undefined?e:i,this._actualMax=o!==null&&o!==undefined?o:r,this._actualMin==this._actualMax&&(this._actualMin-=.5,this._actualMax+=.5),this.logBase>0&&(s=this.logBase,y=Math.log(s),this._max||(b=Math.ceil(Math.log(this._actualMax)/y),this._actualMax=Math.pow(s,b)),this._min||(k=Math.floor(Math.log(this._actualMin)/y),this._actualMin=Math.pow(s,k)),(this._actualMin<=0||isNaN(this._actualMin))&&(this._actualMin=1),this._actualMax<this._actualMin&&(this._actualMax=this._actualMin+1)),(l==this._actualMin||isNaN(l)&&isNaN(this._actualMin))&&(a==this._actualMax||isNaN(a)&&isNaN(this._actualMax))||this.onRangeChanged(),this._items){this._values=[];this._lbls=[];var nt=this._items.length,d='value',g='text';for(this.binding&&(h=this.binding.split(','),h.length==2&&(d=h[0],g=h[1])),c=0;c<nt;c++)p=this._items[c],w=p[d],n.isNumber(w)&&(this._values.push(w),this._lbls.push(p[g]))}else this._lbls=u,this._values=f},i.prototype._layout=function(t,i){var f=this.axisType==r.Y,e=this._position!=u.Top&&this._position!=u.Right;this._plotrect=i;this._axrect=f?new n.Rect(t.left,t.top,t.height,t.width):t},i.prototype._render=function(n){var s,h,a,p,nt,tt,e;if(this.position!=u.None){this._vals={};s=0;this.labelAngle&&(s=this.labelAngle,s>90?s=90:s<-90&&(s=-90));this.labelAngle===undefined&&this._actualAngle!==undefined&&(s=this._actualAngle);var ut=this.axisType==r.Y,ft=this._position!=u.Top&&this._position!=u.Right,d=t.FlexChart._FG,w=this._actualMax-this._actualMin;if(!isNaN(w)){h=this._calcMajorUnit();h==0&&(h=this._niceTickNumber(w)*.1);var y=Math.min(i.MAX_MAJOR,Math.floor(w/h)+1),o=[],c=[];if(this._rects=[],this._vals.major=o,this._vals.hasLbls=[],a=Math.floor(this._actualMin/h)*h,a<this._actualMin&&(a+=h),p=!1,this._lbls&&this._lbls.length>0)if(c=this._lbls,this._values.length==0)for(p=!0,e=0;e<c.length;e++)o.push(e);else o=this._values;else this._isTimeAxis?this._createTimeLabels(a,y,o,c):this.logBase?this._createLogarithmicLabels(this._actualMin,this._actualMax,this.majorUnit,o,c,!0):this._createLabels(a,y,h,o,c);y=Math.min(o.length,c.length);n.textFill=d;var g=this._TICK_HEIGHT,v=this._TICK_OVERLAP,l=this.majorTickMarks;for((l===undefined||l===null)&&(l=f.Outside),l==f.Outside?v=1:l==f.Inside?v=-1:l==f.Cross&&(v=0),nt=.5*(v-1)*g,tt=.5*(1+v)*g,e=0;e<y;e++){var it=!0,b=o[e],rt=c[e],k=this.labels;k&&(p||this.itemsSource)&&this.majorUnit&&e%this.majorUnit!=0&&(k=!1);b>=this._actualMin&&b<=this._actualMax&&(it=this._renderLabelsAndTicks(n,e,b,rt,s,l,k,nt,tt));this._vals.hasLbls.push(it)}}(this.minorGrid||this.minorTickMarks!=f.None)&&this._renderMinor(n,o,p);n.stroke=d;n.fontSize=null;this._renderLineAndTitle(n);n.stroke=null;n.fontSize=null;n.textFill=null;n.strokeWidth=null}},i.prototype._renderLineAndTitle=function(i){var h=this.axisType==r.Y,s=this._position!=u.Top&&this._position!=u.Right,e=t.FlexChart._CSS_TITLE,o=t.FlexChart._CSS_LINE,f;h?s?(this._title&&(f=new n.Point(this._axrect.left+this._szTitle.height*.5,this._axrect.top+.5*this._axrect.height),t.FlexChart._renderRotatedText(i,this._title,f,1,1,f,-90,e,this._groupClass)),this.axisLine&&i.drawLine(this._axrect.right,this._axrect.top,this._axrect.right,this._axrect.bottom,o)):(this._title&&(f=new n.Point(this._axrect.right-this._szTitle.height*.5,this._axrect.top+.5*this._axrect.height),t.FlexChart._renderRotatedText(i,this._title,f,1,1,f,90,e,this._groupClass)),this.axisLine&&i.drawLine(this._axrect.left,this._axrect.top,this._axrect.left,this._axrect.bottom,o)):s?(this.axisLine&&i.drawLine(this._axrect.left,this._axrect.top,this._axrect.right,this._axrect.top,o),this._title&&t.FlexChart._renderText(i,this._title,new n.Point(this._axrect.left+.5*this._axrect.width,this._axrect.bottom),1,2,e)):(this.axisLine&&i.drawLine(this._axrect.left,this._axrect.bottom,this._axrect.right,this._axrect.bottom,o),this._title&&t.FlexChart._renderText(i,this._title,new n.Point(this._axrect.left+.5*this._axrect.width,this._axrect.top),1,0,e))},i.prototype._renderMinor=function(n,t,i){var h=this.axisType==r.Y,c=this._position!=u.Top&&this._position!=u.Right,f,s,e,o;if(this.logBase){if(this.minorUnit>0){for(f=[],this._createLogarithmicLabels(this._actualMin,this._actualMax,this.minorUnit,f,null,!1),s=[],e=0;e<f.length;e++)o=f[e],t.indexOf(o)==-1&&o>this._actualMin&&s.push(o);this._renderMinors(n,s,h,c)}}else this._createMinors(n,t,h,c,i)},i.prototype._renderLabelsAndTicks=function(i,e,o,h,c,l,a,v,y){var d=!0,rt=this.axisType==r.Y,g=this._position!=u.Top&&this._position!=u.Right,nt=this.labelPadding||2,ut=this._TICK_WIDTH,tt=this._getLabelAlign(rt),w=t.FlexChart._CSS_LABEL,ft=t.FlexChart._CSS_GRIDLINE,it=t.FlexChart._CSS_TICK,et=t.FlexChart._FG,ot=t.FlexChart._FG,st=this._GRIDLINE_WIDTH,ht=o!=this._actualMin&&this.majorGrid,k,b,p;return rt?(k=this.convert(o),ht&&(i.stroke=et,i.strokeWidth=st,i.drawLine(this._plotrect.left,k,this._plotrect.right,k,ft)),i.stroke=ot,i.strokeWidth=ut,g?(l!=f.None&&i.drawLine(this._axrect.right-v,k,this._axrect.right-y,k,it),a&&(p=new n.Point(this._axrect.right-y-this._TICK_LABEL_DISTANCE-nt,k),c>0?c==90?t.FlexChart._renderRotatedText(i,h,p,1,0,p,c,w,this._groupClass):t.FlexChart._renderRotatedText(i,h,p,2,1,p,c,w,this._groupClass):c<0?c==-90?t.FlexChart._renderRotatedText(i,h,p,1,2,p,c,w,this._groupClass):t.FlexChart._renderRotatedText(i,h,p,2,1,p,c,w,this._groupClass):this._renderLabel(i,o,h,p,2,tt,w))):(l!=f.None&&i.drawLine(this._axrect.left+v,k,this._axrect.left+y,k,it),a&&(p=new n.Point(this._axrect.left+y+this._TICK_LABEL_DISTANCE+nt,k),c>0?c==90?t.FlexChart._renderRotatedText(i,h,p,1,2,p,c,w,this._groupClass):t.FlexChart._renderRotatedText(i,h,p,0,1,p,c,w,this._groupClass):c<0?c==-90?t.FlexChart._renderRotatedText(i,h,p,1,0,p,c,w,this._groupClass):t.FlexChart._renderRotatedText(i,h,p,0,1,p,c,w,this._groupClass):this._renderLabel(i,o,h,p,0,tt,w)))):(b=this.convert(o),this.overlappingLabels==s.Auto&&this._xCross(b)&&(a=!1),ht&&(i.stroke=et,i.strokeWidth=st,i.drawLine(b,this._plotrect.top,b,this._plotrect.bottom,ft)),i.stroke=ot,i.strokeWidth=ut,g?(d=!1,a&&(p=new n.Point(b,this._axrect.top+y+nt),d=c!=0?this._renderRotatedLabel(i,h,p,c,w,g):this._renderLabel(i,o,h,p,tt,0,w)),l!=f.None&&d&&(b=this.convert(o),i.drawLine(b,this._axrect.top+v,b,this._axrect.top+y,it))):(a&&(p=new n.Point(b,this._axrect.bottom-y-nt),d=c!=0?this._renderRotatedLabel(i,h,p,c,w,g):this._renderLabel(i,o,h,p,tt,2,w)),l!=f.None&&(b=this.convert(o),i.drawLine(b,this._axrect.bottom-v,b,this._axrect.bottom-y,it)))),d},i.prototype._xCross=function(n){for(var i,r=this._rects.length,t=0;t<r;t++)if(i=this._rects[t],n>=i.left&&n<=i.right)return!0;return!1},i.prototype._createMinors=function(t,r,u,f,e){var o;if(r&&r.length>1){var c=this.majorUnit?this._isTimeAxis?this.majorUnit*864e5:this.majorUnit:r[1]-r[0],h=n.isNumber(this.minorUnit)?this._isTimeAxis?this.minorUnit*864e5:this.minorUnit:c*.5,s=[];for(o=r[0];o>this._actualMin&&s.length<i.MAX_MINOR;o-=h)r.indexOf(o)==-1&&s.push(o);for(o=r[0]+h;o<this._actualMax&&s.length<i.MAX_MINOR;o+=h)r.indexOf(o)==-1?s.push(o):e&&this.majorUnit&&o%this.majorUnit!=0&&s.push(o);this._renderMinors(t,s,u,f)}},i.prototype._renderMinors=function(n,i,r,u){var w=this._TICK_HEIGHT,b=this._TICK_WIDTH,s=this._TICK_OVERLAP,k=t.FlexChart._FG,y=this.minorTickMarks,p=!0,h,e,o;this._vals.minor=i;y==f.Outside?s=1:y==f.Inside?s=-1:y==f.Cross?s=0:p=!1;var c=.5*(s-1)*w,l=.5*(1+s)*w,it=i?i.length:0,d=this.minorGrid,a=this._plotrect,g=this._GRIDLINE_WIDTH,nt=t.FlexChart._FG,tt=t.FlexChart._CSS_GRIDLINE_MINOR,v=t.FlexChart._CSS_TICK_MINOR;for(h=0;h<it;h++)r?(e=this.convert(i[h]),p&&(n.stroke=k,n.strokeWidth=b,u?n.drawLine(this._axrect.right-c,e,this._axrect.right-l,e,v):n.drawLine(this._axrect.left+c,e,this._axrect.left+l,e,v)),d&&(n.stroke=nt,n.strokeWidth=g,n.drawLine(a.left,e,a.right,e,tt))):(o=this.convert(i[h]),p&&(n.stroke=k,n.strokeWidth=b,u?n.drawLine(o,this._axrect.top+c,o,this._axrect.top+l,v):n.drawLine(o,this._axrect.bottom-c,o,this._axrect.bottom-l,v)),d&&(n.stroke=nt,n.strokeWidth=g,n.drawLine(o,a.top,o,a.bottom,tt)))},i.prototype._renderLabel=function(n,i,f,e,o,h,c){var p=!1,a,l;if(this.itemFormatter&&(a=e.clone(),this.axisType==r.X?a.y=this.position==u.Top?this._plotrect.top:this._plotrect.bottom:a.x=this.position==u.Right?this._plotrect.right:this._plotrect.left,l={val:i,text:f,pos:a,cls:c},l=this.itemFormatter(n,l),l?(f=l.text,c=l.cls):f=null),f){var y=this._rects,w=this.overlappingLabels==s.Auto&&this._actualAngle===undefined,v=t.FlexChart._renderText(n,f,e,o,h,c,null,null,function(n){var r,i;if(w)for(r=y.length,i=0;i<r;i++)if(t.FlexChart._intersects(y[i],n))return!1;return!0});v&&(v.left+=4,v.width+=8,y.push(v),p=!0)}return p},i.prototype._renderRotatedLabel=function(i,r,u,f,e,o){var y,h,l,p;if(r){var c=i.measureString(r,e,this._groupClass),a=new n.Rect(u.x,u.y,c.height+2,c.width),v=this._rects,w=this.overlappingLabels==s.Auto;if(w)for(y=v.length,h=0;h<y;h++)if(t.FlexChart._intersects(v[h],a))return!1;return f!=90&&f!=-90&&(l=.5*c.height*Math.abs(Math.sin(f*Math.PI/180)),o?u.y+=l:u.y-=l),p=o?f>0?0:2:f>0?2:0,t.FlexChart._renderRotatedText(i,r,u,p,1,u,f,e,this._groupClass),this._rects.push(a),!0}return!1},i.prototype._getLabelAlign=function(n){var t=1,i;return this.labelAlign&&(i=this.labelAlign.toLowerCase(),n?i=='top'?t=0:i=='bottom'&&(t=2):i=='left'?t=0:i=='right'&&(t=2)),t},i.prototype.convert=function(n,t,i){var f=t==null?this._actualMax:t,u=i==null?this._actualMin:i,l,a,c;if(f==u)return 0;var s=this._axrect.left,e=this._axrect.width,h=this._axrect.top,o=this._axrect.height;return this._customConvert!=null?(l=this._customConvert(n,u,f),this.axisType==r.Y?h+l*o:s+l*e):(a=this.logBase,a?n<=0?NaN:(c=Math.log(f/u),this._reversed?this.axisType==r.Y?h+Math.log(n/u)/c*o:s+e-Math.log(n/u)/c*e:this.axisType==r.Y?h+o-Math.log(n/u)/c*o:s+Math.log(n/u)/c*e):this._reversed?this.axisType==r.Y?h+(n-u)/(f-u)*o:s+e-(n-u)/(f-u)*e:this.axisType==r.Y?h+o-(n-u)/(f-u)*o:s+(n-u)/(f-u)*e)},i.prototype.convertBack=function(n){var s;if(this._actualMax==this._actualMin)return 0;var i=this._plotrect.left,t=this._plotrect.width,u=this._plotrect.top,f=this._plotrect.height,e=this._actualMax-this._actualMin,o=this.logBase;return this._customConvertBack!=null?this.axisType==r.Y?this._customConvertBack((n-u)/f,this._actualMin,this._actualMax):this._customConvertBack((n-i)/t,this._actualMin,this._actualMax):o?(s=0,s=this._reversed?this.axisType==r.Y?(n-u)/f:1-(n-i)/t:this.axisType==r.Y?1-(n-u)/f:(n-i)/t,Math.pow(o,(Math.log(this._actualMin)+(Math.log(this._actualMax)-Math.log(this._actualMin))*s)/Math.log(o))):this._reversed?this.axisType==r.Y?this._actualMin+(n-u)*e/f:this._actualMin+(i+t-n)*e/t:this.axisType==r.Y?this._actualMax-(n-u)*e/f:this._actualMin+(n-i)*e/t},Object.defineProperty(i.prototype,"axisType",{get:function(){var n=this._chart;if(n){if(n.axisX==this)return r.X;if(n.axisY==this)return r.Y}return this._axisType},enumerable:!0,configurable:!0}),i.prototype._getMinNum=function(){return this._actualMin},i.prototype._getMaxNum=function(){return this._actualMax},i.prototype._invalidate=function(){this._chart&&this._chart.invalidate()},i.prototype._cvCollectionChanged=function(){this._invalidate()},i.prototype._createLabels=function(n,t,i,r,u){for(var f=0;f<t;f++){var o=(n+i*f).toFixed(14),e=parseFloat(o),s=this._formatValue(e);r.push(e);u.push(s)}},i.prototype._createLogarithmicLabels=function(n,t,i,r,f,e){var s=this.logBase,w=Math.log(s),b=Math.floor(Math.log(n)/w),k=Math.ceil(Math.log(t)/w),h=s,y=!0,c,p,l,a,d,v,o;for(i>0&&(y=!1,h=i),h<s&&(h=s),c=(k-b+1)*s/h,p=1,e&&(l=this._getAnnoNumber(this.position===u.Left||this.position===u.Right),c>l?p=Math.floor(c/l+1):y&&(c<=.2*l?h=.2*s:c<=.1*l&&(h=.1*s))),a=b;a<=k;a+=p)if(y)for(d=Math.pow(s,a),v=0;v*h<s-1;v++)o=d*(1+v*h),o>=n&&o<=t&&(v==0?(r.unshift(o),f&&f.unshift(this._formatValue(o))):(r.push(o),f&&f.push(this._formatValue(o))));else o=Math.pow(h,a),o>=n&&o<=t&&(r.push(o),f&&f.push(this._formatValue(o)))},i.prototype._createTimeLabels=function(n,t,i,u){var p=this._actualMin,w=this._actualMax,l=new Date(this._actualMin),b=new Date(this._actualMax),k=this._format,d=this._getAnnoNumber(this._axisType==r.Y),tt,g,nt,s,ft,a,v,f,h;d>12&&(d=12);var rt=.001*(this._actualMax-this._actualMin)/d,ut=new e(rt*e.TicksPerSecond),c=isNaN(this._majorUnit)?o.NiceTimeSpan(ut,k):e.fromDays(this._majorUnit);if(k||(this._tfmt=k=o.GetTimeDefaultFormat(1e3*c.TotalSeconds,0)),tt=c.Ticks,g=o.RoundTime(p,c.TotalDays,!1),isFinite(g)&&(p=g),nt=o.RoundTime(w,c.TotalDays,!0),isFinite(nt)&&(w=nt),s=new Date(p),ft=new Date(w),c.TotalDays>=365&&isNaN(this._majorUnit))for(s=new Date(l.getFullYear(),1,1),s<l&&s.setFullYear(s.getFullYear()+1),a=c.TotalDays/365,a=a-a%1,f=s;f<=b;f.setFullYear(f.getFullYear()+a))h=f.valueOf(),i.push(h),u.push(this._formatValue(h));else if(c.TotalDays>=30&&isNaN(this._majorUnit))for(s=new Date(l.getFullYear(),l.getMonth(),1),s<l&&s.setMonth(s.getMonth()+1),v=c.TotalDays/30,v=v-v%1,f=s;f<=b;f.setMonth(f.getMonth()+v))h=f.valueOf(),i.push(h),u.push(this._formatValue(h));else{var y=1e3*tt/e.TicksPerSecond,f=s,it=l.getTime()-f.getTime();for(it>y&&(f=new Date(f.getTime()+Math.floor(it/y)*y));f<=b;f=new Date(f.getTime()+y))f>=l&&(h=f.valueOf(),i.push(h),u.push(this._formatValue(h)))}},i.prototype._formatValue=function(t){if(this._isTimeAxis)return this._format?n.Globalize.format(new Date(t),this._format):n.Globalize.format(new Date(t),this._tfmt);if(this._format)return n.Globalize.format(t,this._format);var i=t==Math.round(t)?'n0':'n';return n.Globalize.format(t,i)},i.prototype._calcMajorUnit=function(){var n=this._majorUnit;if(isNaN(n)){var i=this._actualMax-this._actualMin,u=this._nicePrecision(i),t=i/this._getAnnoNumber(this.axisType==r.Y);n=this._niceNumber(2*t,-u,!0);n<t&&(n=this._niceNumber(t,-u+1,!1));n<t&&(n=this._niceTickNumber(t))}return n},i.prototype._getAnnoNumber=function(n){var i=n?this._annoSize.height:this._annoSize.width,r=n?this._axrect.height:this._axrect.width,t;return i>0&&r>0?(t=Math.floor(r/(i+6)),t<=0&&(t=1),t):10},i.prototype._nicePrecision=function(n){var i,t,r;return n<=0||isNaN(n)?0:(i=Math.log(n)/Math.LN10,t=i>=0?Math.floor(i):Math.ceil(i),r=n/Math.pow(10,t),r<3&&(t=-t+1,r=n/Math.pow(10,t),r<3&&(t=t+1)),t)},i.prototype._niceTickNumber=function(n){if(n==0)return n;n<0&&(n=-n);var u=Math.log(n)/Math.LN10,r=Math.floor(u),i=n/Math.pow(10,r),t=10;return i<=1?t=1:i<=2?t=2:i<=5&&(t=5),t*Math.pow(10,r)},i.prototype._niceNumber=function(n,t,i){if(n==0)return n;n<0&&(n=-n);var u=n/Math.pow(10,t),r=10;return i?u<1.5?r=1:u<3?r=2:u<4.5?r=4:u<7&&(r=5):u<=1?r=1:u<=2?r=2:u<=5&&(r=5),r*Math.pow(10,t)},Object.defineProperty(i.prototype,"_uniqueId",{get:function(){return this.__uniqueId},enumerable:!0,configurable:!0}),i.MAX_MAJOR=1e3,i.MAX_MINOR=2e3,i._id=0,i}();t.Axis=h;c=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.getAxis=function(n){var t=this.indexOf(n);return t>-1?this[t]:null},t.prototype.indexOf=function(n){for(var t=0;t<this.length;t++)if(this[t].name==n)return t;return-1},t}(n.collections.ObservableArray);t.AxisCollection=c,function(n){n[n.tickf7=-7]="tickf7";n[n.tickf6=-6]="tickf6";n[n.tickf5=-5]="tickf5";n[n.tickf4=-4]="tickf4";n[n.tickf3=-3]="tickf3";n[n.tickf2=-2]="tickf2";n[n.tickf1=-1]="tickf1";n[n.second=1]="second";n[n.minute=60]="minute";n[n.hour=3600]="hour";n[n.day=86400]="day";n[n.week=604800]="week";n[n.month=2678400]="month";n[n.year=31536e3]="year";n[n.maxtime=Number.MAX_VALUE]="maxtime"}(i||(i={}));e=function(){function n(n){this.ticks=n}return Object.defineProperty(n.prototype,"Ticks",{get:function(){return this.ticks},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"TotalSeconds",{get:function(){return this.ticks/1e7},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"TotalDays",{get:function(){return this.ticks/864e9},enumerable:!0,configurable:!0}),n.fromSeconds=function(t){return new n(t*1e7)},n.fromDays=function(t){return new n(t*864e9)},n.TicksPerSecond=1e7,n}();o=function(){function r(i){n.isDate(i)?this.init(i):n.isNumber(i)&&this.init(t.FlexChart._fromOADate(i))}return r.prototype.init=function(n){this.year=n.getFullYear();this.month=n.getMonth();this.day=n.getDate();this.hour=n.getHours();this.minute=n.getMinutes();this.second=n.getSeconds()},r.prototype.getTimeAsDateTime=function(){var t=0,n=0,r=0,i;return this.hour>=24&&(this.hour-=24,this.day+=1),this.month<0?(t=-1-this.day,this.month=1):this.month>11&&(t=this.month-12,this.month=12),this.day<1?(n=-1-this.day,this.day=1):this.day>28&&this.month==2?(n=this.day-28,this.day=28):this.day>30&&(this.month==4||this.month==4||this.month==6||this.month==9||this.month==11)?(n=this.day-30,this.day=30):this.day>31&&(n=this.day-31,this.day=31),this.second>59&&(r=this.second-59,this.second=59),i=0,this.minute>59&&(i=this.minute-59,this.minute=59),new Date(this.year,this.month,this.day,this.hour,this.minute,this.second)},r.prototype.getTimeAsDouble=function(){return this.getTimeAsDateTime().valueOf()},r.tround=function(n,t,i){var r=n/t*t;return r=r-r%1,i&&r!=n&&(t=t-t%1,r+=t),r},r.RoundTime=function(n,t,u){var e=t*86400,f;if(e>0)return(f=new r(n),e<i.minute)?(f.second=this.tround(f.second,e,u),f.getTimeAsDouble()):(f.second=0,e<i.hour)?(e/=i.minute,f.minute=this.tround(f.minute,e,u),f.getTimeAsDouble()):(f.minute=0,e<i.day)?(e/=i.hour,f.hour=this.tround(f.hour,e,u),f.getTimeAsDouble()):(f.hour=0,e<i.month)?(e/=i.day,f.day=this.tround(f.day,e,u),f.getTimeAsDouble()):(f.day=1,e<i.year)?(e/=i.month,f.month!=1&&(f.month=this.tround(f.month,e,u)),f.getTimeAsDouble()):(f.month=1,e/=i.year,f.year=this.tround(f.year,e,u),f.getTimeAsDouble());var h=n,s=h-e,o=s/t*t;return u&&o!=s&&(o+=t),e+o},r.TimeSpanFromTmInc=function(n){var r=e.fromSeconds(1),t,u;if(n!=i.maxtime)if(n>i.tickf1)r=e.fromSeconds(n);else{for(t=n,u=1,t+=7;t>0;)u*=10,t--;r=new e(u)}return r},r.manualTimeInc=function(n){var t=i.second,r,f,u,e;if(n==null||n.length==0)return t;if(r=n.indexOf('f'),r>=0){if(f=-1,r>0&&n.substr(r-1,1)=='%')f=-1;else for(u=1;u<6;u++){if(r+u>=n.length)break;if(e=n.substr(r+u,1),e!='f')break;f--}t=f}else n.indexOf('s')>=0?t=i.second:n.indexOf('m')>=0?t=i.minute:n.indexOf('h')>=0||n.indexOf('H')?t=i.hour:n.indexOf('d')>=0?t=i.day:n.indexOf('M')>=0?t=i.month:n.indexOf('y')>=0&&(t=i.year);return t},r.getNiceInc=function(n,t,i){for(var u,r=0;r<n.length;r++)if(u=n[r]*i,t<=u)return u;return 0},r.NiceTimeSpan=function(n,t){var f=i.second,o,u,s;if(t!=null&&t.length>0&&(f=r.manualTimeInc(t)),o=0,u=0,f<i.second&&n.TotalSeconds<10){for(o=n.Ticks,u=r.TimeSpanFromTmInc(f).Ticks;o>10*u;)u*=10;return s=u,o>s&&(s*=2),o>s&&(s=5*u),o>s&&(s=10*u),new e(s)}if(o=Math.ceil(n.TotalSeconds),o==0)return r.TimeSpanFromTmInc(f);if(u=1,f<i.minute){if(o<i.minute&&(u=r.getNiceInc([1,2,5,10,15,30],o,f),u!=0))return e.fromSeconds(u);f=i.minute}if(f<i.hour){if(o<i.hour&&(u=r.getNiceInc([1,2,5,10,15,30],o,f),u!=0))return e.fromSeconds(u);f=i.hour}if(f<i.day){if(o<i.day&&(u=r.getNiceInc([1,3,6,12],o,f),u!=0))return e.fromSeconds(u);f=i.day}if(f<i.month){if(o<i.month&&(u=r.getNiceInc([1,2,7,14],o,f),u!=0))return e.fromSeconds(u);f=i.month}if(f<i.year){if(o<i.year&&(u=r.getNiceInc([1,2,3,4,6],o,f),u!=0))return e.fromSeconds(u);f=i.year}return u=100*i.year,o<u&&(u=r.getNiceInc([1,2,5,10,20,50],o,f),u==0&&(u=100*i.year)),e.fromSeconds(u)},r.NiceTimeUnit=function(n,t){var i=e.fromDays(n);return i=r.NiceTimeSpan(i,t),i.TotalDays},r.GetTimeDefaultFormat=function(n,t){var f;if(isNaN(n)||isNaN(t))return'';var r='s',o=e.fromSeconds(.001*(n-t)),u=o.TotalSeconds;if(u>=i.year)r='yyyy';else if(u>=i.month)r='MMM yyyy';else if(u>=i.day)r='MMM d';else if(u>=i.hour)r='ddd H:mm';else if(u>=.5*i.hour)r='H:mm';else if(u>=1)r='H:mm:ss';else if(u>0)for(f=o.Ticks,r="s.";f<e.TicksPerSecond;)f*=10,r+='f';return r},r.secInYear=86400,r}()})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var f=function(){function t(){this._row=0;this._col=0;this._rect=new n.Rect(0,0,0,0)}return Object.defineProperty(t.prototype,"row",{get:function(){return this._row},set:function(t){t!=this._row&&(this._row=n.asInt(t,!0,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"column",{get:function(){return this._col},set:function(t){t!=this._col&&(this._col=n.asInt(t,!0,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},set:function(t){t!=this._name&&(this._name=n.asString(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(n){n!=this._width&&(this._width=n,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(n){n!=this._height&&(this._height=n,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"style",{get:function(){return this._style},set:function(n){n!=this._style&&(this._style=n,this._invalidate())},enumerable:!0,configurable:!0}),t.prototype._invalidate=function(){this._chart&&this._chart.invalidate()},t.prototype._render=function(n){n.drawRect(this._rect.left,this._rect.top,this._rect.width,this._rect.height,null,this.style)},t.prototype._setPlotX=function(n,t){this._rect.left=n;this._rect.width=t},t.prototype._setPlotY=function(n,t){this._rect.top=n;this._rect.height=t},t}(),u,i,r;t.PlotArea=f;u=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.getPlotArea=function(n){var t=this.indexOf(n);return t>-1?this[t]:null},t.prototype.indexOf=function(n){for(var t=0;t<this.length;t++)if(this[t].name==n)return t;return-1},t.prototype._getWidth=function(n){for(var t,r,i=0;i<this.length;i++)if(t=this[i],t.column==n&&t.row==0)return t.width;return r},t.prototype._getHeight=function(n){for(var t,r,i=0;i<this.length;i++)if(t=this[i],t.row==n&&t.column==0)return t.height;return r},t.prototype._calculateWidths=function(n,t){var u,i,f;if(t<=0)throw"ncols";for(u=[],i=0;i<t;i++)f=this._getWidth(i),u[i]=new r(f);return this._calculateLengths(n,t,u)},t.prototype._calculateHeights=function(n,t){var u,i,f;if(t<=0)throw"nrows";for(u=[],i=0;i<t;i++)f=this._getHeight(i),u[i]=new r(f);return this._calculateLengths(n,t,u)},t.prototype._calculateLengths=function(n,t,i){for(var s,e,u=[t],o=0,f=0,r=0;r<t;r++)i[r].isAbsolute?(u[r]=i[r].value,o+=u[r]):i[r].isStar?f+=i[r].value:i[r].isAuto&&f++;for(s=n-o,e=s/f,r=0;r<t;r++)i[r].isStar?u[r]=e*i[r].value:i[r].isAuto&&(u[r]=e),u[r]<0&&(u[r]=0);return u},t}(n.collections.ObservableArray);t.PlotAreaCollection=u,function(n){n[n.Auto=0]="Auto";n[n.Pixel=1]="Pixel";n[n.Star=2]="Star"}(i||(i={}));r=function(){function n(n){n===void 0&&(n=null);this._unitType=i.Auto;n&&(n=n.toString(),n.indexOf('*')>=0?(this._unitType=i.Star,n=n.replace('*',''),this._value=parseFloat(n),isNaN(this._value)&&(this._value=1)):(this._unitType=i.Pixel,this._value=parseFloat(n),isNaN(this._value)&&(this._unitType=i.Auto,this._value=1)))}return Object.defineProperty(n.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isStar",{get:function(){return this._unitType==i.Star},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isAbsolute",{get:function(){return this._unitType==i.Pixel},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isAuto",{get:function(){return this._unitType==i.Auto},enumerable:!0,configurable:!0}),n}()})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var r,i,u,f,e;(function(n){n[n.Visible=0]="Visible";n[n.Plot=1]="Plot";n[n.Legend=2]="Legend";n[n.Hidden=3]="Hidden"})(t.SeriesVisibility||(t.SeriesVisibility={}));r=t.SeriesVisibility,function(n){n[n.Dot=0]="Dot";n[n.Box=1]="Box"}(t.Marker||(t.Marker={}));i=t.Marker;u=function(){function n(){}return n}();t.DataArray=u;f=function(t){function i(i){t.call(this);this._series=n.asType(i,e)}return __extends(i,t),Object.defineProperty(i.prototype,"series",{get:function(){return this._series},enumerable:!0,configurable:!0}),i}(n.EventArgs);t.SeriesEventArgs=f;e=function(){function e(){this._altStyle=null;this._symbolMarker=i.Dot;this._visibility=r.Visible;this.rendering=new n.Event;this.rendered=new n.Event}return Object.defineProperty(e.prototype,"_chart",{get:function(){return this.__chart},set:function(n){n!==this.__chart&&(this.__chart=n)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"style",{get:function(){return this._style},set:function(n){n!=this._style&&(this._style=n,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"altStyle",{get:function(){return this._altStyle},set:function(n){n!=this._altStyle&&(this._altStyle=n,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"symbolStyle",{get:function(){return this._symbolStyle},set:function(n){n!=this._symbolStyle&&(this._symbolStyle=n,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"symbolSize",{get:function(){return this._symbolSize},set:function(t){t!=this._symbolSize&&(this._symbolSize=n.asNumber(t,!0,!0),this._invalidate())},enumerable:!0,configurable:!0}),e.prototype._getSymbolSize=function(){return this.symbolSize!=null?this.symbolSize:this.chart.symbolSize},Object.defineProperty(e.prototype,"symbolMarker",{get:function(){return this._symbolMarker},set:function(t){t!=this._symbolMarker&&(this._symbolMarker=n.asEnum(t,i,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"binding",{get:function(){return this._binding?this._binding:this._chart?this._chart.binding:null},set:function(t){t!=this._binding&&(this._binding=n.asString(t,!0),this._clearValues(),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bindingX",{get:function(){return this._bindingX?this._bindingX:this._chart?this._chart.bindingX:null},set:function(t){t!=this._bindingX&&(this._bindingX=n.asString(t,!0),this._clearValues(),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this._name},set:function(n){this._name=n},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemsSource",{get:function(){return this._itemsSource},set:function(t){t!=this._itemsSource&&(this._cv&&(this._cv.currentChanged.removeHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.removeHandler(this._cvCollectionChanged,this),this._cv=null),this._itemsSource=t,this._cv=n.asCollectionView(t),this._cv!=null&&(this._cv.currentChanged.addHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.addHandler(this._cvCollectionChanged,this)),this._clearValues(),this._itemsSource=t,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"collectionView",{get:function(){return this._cv?this._cv:this._chart?this._chart.collectionView:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"chart",{get:function(){return this._chart},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hostElement",{get:function(){return this._hostElement},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"legendElement",{get:function(){return this._legendElement},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cssClass",{get:function(){return this._cssClass},set:function(t){this._cssClass=n.asString(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visibility",{get:function(){return this._visibility},set:function(t){if(t!=this._visibility&&(this._visibility=n.asEnum(t,r),this._clearValues(),this._invalidate(),this._chart))this._chart.onSeriesVisibilityChanged(new f(this))},enumerable:!0,configurable:!0}),e.prototype.onRendering=function(n,i,r){var u=new t.SeriesRenderingEventArgs(n,i,r);return this.rendering.raise(this,u),u.cancel},e.prototype.onRendered=function(n){this.rendered.raise(this,new t.RenderEventArgs(n))},e.prototype.hitTest=function(t,i){return n.isNumber(t)&&n.isNumber(i)?t=new n.Point(t,i):t instanceof MouseEvent&&(t=new n.Point(t.pageX,t.pageY)),n.asType(t,n.Point),this._chart?this._chart._hitTestSeries(t,this._chart.series.indexOf(this)):null},e.prototype.getPlotElement=function(n){if(this.hostElement&&n<this._pointIndexes.length){var t=this._pointIndexes[n];if(t<this.hostElement.childNodes.length)return this.hostElement.childNodes[t]}return null},Object.defineProperty(e.prototype,"axisX",{get:function(){return this._axisX},set:function(i){if(i!=this._axisX){if(this._axisX=n.asType(i,t.Axis,!0),this._axisX){var r=this._axisX._chart=this._chart;r&&r.axes.indexOf(this._axisX)==-1&&r.axes.push(this._axisX)}this._invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"axisY",{get:function(){return this._axisY},set:function(i){if(i!=this._axisY){if(this._axisY=n.asType(i,t.Axis,!0),this._axisY){var r=this._axisY._chart=this._chart;r&&r.axes.indexOf(this._axisY)==-1&&r.axes.push(this._axisY)}this._invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_plotter",{get:function(){return this.chart&&!this.__plotter&&(this.__plotter=this.chart._getPlotter(this)),this.__plotter},set:function(n){n!=this.__plotter&&(this.__plotter=n)},enumerable:!0,configurable:!0}),e.prototype.getDataType=function(n){return n==0?this._valueDataType:n==1?this._xvalueDataType:null},e.prototype.getValues=function(n){var i,t;if(n==0)return this._values==null&&(this._valueDataType=null,this._cv!=null?(t=this._bindValues(this._cv.items,this._getBinding(0)),this._values=t.values,this._valueDataType=t.dataType):this.binding!=null&&this._chart!=null&&this._chart.collectionView!=null&&(t=this._bindValues(this._chart.collectionView.items,this._getBinding(0)),this._values=t.values,this._valueDataType=t.dataType)),this._values;if(n==1){if(this._xvalues==null&&(this._xvalueDataType=null,i=this,this.bindingX!=null))if(i._cv!=null)t=this._bindValues(i._cv.items,this.bindingX,!0),this._xvalueDataType=t.dataType,this._xvalues=t.values;else{if(this._bindingX==null)return null;i._chart!=null&&i._chart.collectionView!=null&&(t=this._bindValues(i._chart.collectionView.items,this.bindingX,!0),this._xvalueDataType=t.dataType,this._xvalues=t.values)}return this._xvalues}return null},e.prototype.drawLegendItem=function(n,i,r){var u=this._getChartType();u==null&&(u=this._chart._getChartType());u===t.ChartType.Funnel?this._drawFunnelLegendItem(n,i,r,this.style,this.symbolStyle):this._drawLegendItem(n,i,u,this.name,this.style,this.symbolStyle)},e.prototype.measureLegendItem=function(n,i){var r=this._getChartType();return r==null&&(r=this._chart._getChartType()),r===t.ChartType.Funnel?this._measureLegendItem(n,this._getFunnelLegendName(i)):this._measureLegendItem(n,this.name)},e.prototype.legendItemLength=function(){var n=this._getChartType();return n==null&&(n=this._chart._getChartType()),n===t.ChartType.Funnel?this._chart._xlabels&&this._chart._xlabels.length?this._chart._xlabels.length:1:1},e.prototype.getDataRect=function(){return null},e.prototype._getChartType=function(){return this._chartType},e.prototype._clearValues=function(){this._values=null;this._xvalues=null;this.__plotter=null},e.prototype._getBinding=function(n){var i=null,t;return this.binding&&(t=this.binding.split(','),t&&t.length>n&&(i=t[n].trim())),i},e.prototype._getBindingValues=function(n){var t,i;return this._cv!=null?t=this._cv.items:this._chart!=null&&this._chart.collectionView!=null&&(t=this._chart.collectionView.items),i=this._bindValues(t,this._getBinding(n)),i.values},e.prototype._getItem=function(n){var i=null,t=null;return this.itemsSource!=null?t=this._cv!=null?this._cv.items:this.itemsSource:this._chart.itemsSource!=null&&(t=this._chart.collectionView!=null?this._chart.collectionView.items:this._chart.itemsSource),t!=null&&(i=t[n]),i},e.prototype._getLength=function(){var t=0,n=null;return this.itemsSource!=null?n=this._cv!=null?this._cv.items:this.itemsSource:this._chart.itemsSource!=null&&(n=this._chart.collectionView!=null?this._chart.collectionView.items:this._chart.itemsSource),n!=null&&(t=n.length),t},e.prototype._setPointIndex=function(n,t){this._pointIndexes[n]=t},e.prototype._getDataRect=function(){var s=this.getValues(0),h=this.getValues(1),e,t,u;if(s){var i=NaN,r=NaN,o=NaN,f=NaN,c=s.length;for(e=0;e<c;e++)t=s[e],isFinite(t)&&(isNaN(r)?r=f=t:t<r?r=t:t>f&&(f=t)),h&&(u=h[e],isFinite(u)&&(isNaN(i)?i=o=u:u<i?i=u:t>f&&(o=u)));if(h||(i=0,o=c-1),!isNaN(r))return new n.Rect(i,r,o-i,f-r)}return null},e.prototype._isCustomAxisX=function(){return this._axisX?this._chart?this._axisX!=this.chart.axisX:!0:!1},e.prototype._isCustomAxisY=function(){return this._axisY?this._chart?this._axisY!=this.chart.axisY:!0:!1},e.prototype._getAxisX=function(){var n=null;return this.axisX?n=this.axisX:this.chart&&(n=this.chart.axisX),n},e.prototype._getAxisY=function(){var n=null;return this.axisY?n=this.axisY:this.chart&&(n=this.chart.axisY),n},e.prototype._measureLegendItem=function(i,r){var u=new n.Size,f;return u.width=t.Series._LEGEND_ITEM_WIDTH,u.height=t.Series._LEGEND_ITEM_HEIGHT,this._name&&(f=i.measureString(r,t.FlexChart._CSS_LABEL),u.width+=f.width,u.height<f.height&&(u.height=f.height)),u.width+=3*t.Series._LEGEND_ITEM_MARGIN,u.height+=2*t.Series._LEGEND_ITEM_MARGIN,u},e.prototype._drawFunnelLegendItem=function(i,r,u,f,e){i.strokeWidth=1;var c=t.Series._LEGEND_ITEM_MARGIN,o=null,s=null;o===null&&(o=this._chart._getColorLight(u));s===null&&(s=this._chart._getColor(u));i.fill=o;i.stroke=s;var l=r.top+.5*r.height,v=t.Series._LEGEND_ITEM_WIDTH,h=t.Series._LEGEND_ITEM_HEIGHT,a=this._getFunnelLegendName(u);i.drawRect(r.left+c,l-.5*h,v,h,null,e?e:f);a&&t.FlexChart._renderText(i,a,new n.Point(r.left+h+2*c,l),0,1,t.FlexChart._CSS_LABEL)},e.prototype._getFunnelLegendName=function(n){var t;return this._chart._xlabels&&this._chart._xlabels.length&&(t=this._chart._xlabels[n]),t||(t=this.name),t},e.prototype._drawLegendItem=function(r,u,f,e,o,s){var a,v;r.strokeWidth=1;var h=t.Series._LEGEND_ITEM_MARGIN,p=null,w=null;p===null&&(p=this._chart._getColorLight(this._chart.series.indexOf(this)));w===null&&(w=this._chart._getColor(this._chart.series.indexOf(this)));r.fill=p;r.stroke=w;var c=u.top+.5*u.height,l=t.Series._LEGEND_ITEM_WIDTH,y=t.Series._LEGEND_ITEM_HEIGHT;switch(f){case t.ChartType.Area:case t.ChartType.SplineArea:r.drawRect(u.left+h,c-.5*y,l,y,null,o);break;case t.ChartType.Bar:case t.ChartType.Column:r.drawRect(u.left+h,c-.5*y,l,y,null,s?s:o);break;case t.ChartType.Scatter:case t.ChartType.Bubble:a=.3*l;v=.3*y;this.symbolMarker==i.Box?r.drawRect(u.left+h+.5*l-a,c-v,2*a,2*v,null,s):r.drawEllipse(u.left+.5*l+h,c,a,v,null,s);break;case t.ChartType.Line:case t.ChartType.Spline:r.drawLine(u.left+h,c,u.left+l+h,c,null,o);break;case t.ChartType.LineSymbols:case t.ChartType.SplineSymbols:a=.3*l;v=.3*y;this.symbolMarker==i.Box?r.drawRect(u.left+h+.5*l-a,c-v,2*a,2*v,null,s):r.drawEllipse(u.left+.5*l+h,c,a,v,null,s);r.drawLine(u.left+h,c,u.left+l+h,c,null,o);break;case t.ChartType.Candlestick:case t.ChartType.HighLowOpenClose:r.drawLine(u.left+h,c,u.left+l+h,c,null,s?s:o)}this._name&&t.FlexChart._renderText(r,e,new n.Point(u.left+y+2*h,c),0,1,t.FlexChart._CSS_LABEL)},e.prototype._cvCollectionChanged=function(){this._clearValues();this._invalidate()},e.prototype._cvCurrentChanged=function(){this._chart&&this._chart._notifyCurrentChanged&&this._invalidate()},e.prototype._bindValues=function(t,i,r){var o,h,s,l,e,f,c;if(r===void 0&&(r=!1),t!=null)for(l=t.length,o=new Array(t.length),e=0;e<l;e++)s=null,f=t[e],i!=null&&(f=f[i]),n.isArray(f)&&f.length>0&&(s=f,f=f[0]),n.isNumber(f)?(o[e]=f,h=n.DataType.Number):n.isDate(f)?(o[e]=f.valueOf(),h=n.DataType.Date):r&&f&&(o[e]=e,h=n.DataType.Number),n.isArray(s)&&s.length>0&&(o[e]=s);return c=new u,c.values=o,c.dataType=h,c},e.prototype._invalidate=function(){this._chart&&this._chart.invalidate()},e.prototype._indexToPoint=function(t){if(t>=0&&t<this._values.length){var i=this._values[t],r=this._xvalues?this._xvalues[t]:t;return new n.Point(r,i)}return null},e.prototype._getSymbolFill=function(n){var t=null;return this.symbolStyle&&(t=this.symbolStyle.fill),!t&&this.style&&(t=this.style.fill),!t&&this.chart&&(t=this.chart._getColorLight(n)),t},e.prototype._getSymbolStroke=function(n){var t=null;return this.symbolStyle&&(t=this.symbolStyle.stroke),!t&&this.style&&(t=this.style.stroke),!t&&this.chart&&(t=this.chart._getColor(n)),t},e.prototype._getAltSymbolStroke=function(){var n=null;return this.altStyle&&(n=this.altStyle.stroke),n},e.prototype._getAltSymbolFill=function(){var n=null;return this.altStyle&&(n=this.altStyle.fill),n},e.prototype._renderLabels=function(n,t,i,r){this._plotter&&this._plotter._renderLabels(n,this,t,i,r)},e._LEGEND_ITEM_WIDTH=10,e._LEGEND_ITEM_HEIGHT=10,e._LEGEND_ITEM_MARGIN=4,e._DEFAULT_SYM_SIZE=10,e}();t.SeriesBase=e})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var i=function(i){function r(){i.apply(this,arguments)}return __extends(r,i),Object.defineProperty(r.prototype,"chartType",{get:function(){return this._chartType},set:function(i){i!=this._chartType&&(this._chartType=n.asEnum(i,t.ChartType,!0),this._invalidate())},enumerable:!0,configurable:!0}),r}(t.SeriesBase);t.Series=i})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={})),function(n){var t;(function(){'use strict'})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={})),function(n){var t;(function(t){'use strict';var i=function(){function i(n){this._strokeWidth=1;this._fontSize=null;this._fontFamily=null;this._element=n;this._create();this._element.appendChild(this._svg);i._isff===undefined&&(i._isff=navigator.userAgent.toLowerCase().indexOf('firefox')>=0)}return i.prototype.beginRender=function(){while(this._svg.firstChild)this._svg.removeChild(this._svg.firstChild);this._svg.appendChild(this._textGroup)},i.prototype.endRender=function(){this._textGroup.parentNode&&this._svg.removeChild(this._textGroup)},i.prototype.setViewportSize=function(n,t){this._svg.setAttribute('width',n.toString());this._svg.setAttribute('height',t.toString())},Object.defineProperty(i.prototype,"element",{get:function(){return this._svg},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"fill",{get:function(){return this._fill},set:function(n){this._fill=n},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"fontSize",{get:function(){return this._fontSize},set:function(n){this._fontSize=n},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(n){this._fontFamily=n},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"stroke",{get:function(){return this._stroke},set:function(n){this._stroke=n},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(n){this._strokeWidth=n},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"textFill",{get:function(){return this._textFill},set:function(n){this._textFill=n},enumerable:!0,configurable:!0}),i.prototype.addClipRect=function(n,t){if(n&&t){var u=document.createElementNS(i.svgNS,'clipPath'),r=document.createElementNS(i.svgNS,'rect');r.setAttribute('x',(n.left-1).toFixed());r.setAttribute('y',(n.top-1).toFixed());r.setAttribute('width',(n.width+2).toFixed());r.setAttribute('height',(n.height+2).toFixed());u.appendChild(r);u.setAttribute('id',t);this._svg.appendChild(u)}},i.prototype.drawEllipse=function(n,t,r,u,f,e){var o=document.createElementNS(i.svgNS,'ellipse');return o.setAttribute('stroke',this._stroke),this._strokeWidth!==null&&o.setAttribute('stroke-width',this._strokeWidth.toString()),o.setAttribute('fill',this._fill),o.setAttribute('cx',n.toFixed(1)),o.setAttribute('cy',t.toFixed(1)),o.setAttribute('rx',r.toFixed(1)),o.setAttribute('ry',u.toFixed(1)),f&&o.setAttribute('class',f),this._applyStyle(o,e),this._appendChild(o),o},i.prototype.drawRect=function(n,t,r,u,f,e,o){var s=document.createElementNS(i.svgNS,'rect');return s.setAttribute('fill',this._fill),s.setAttribute('stroke',this._stroke),this._strokeWidth!==null&&s.setAttribute('stroke-width',this._strokeWidth.toString()),s.setAttribute('x',n.toFixed(1)),s.setAttribute('y',t.toFixed(1)),r>0&&r<.05?s.setAttribute('width','0.1'):s.setAttribute('width',r.toFixed(1)),u>0&&u<.05?s.setAttribute('height','0.1'):s.setAttribute('height',u.toFixed(1)),o&&s.setAttribute('clip-path','url(#'+o+')'),f&&s.setAttribute('class',f),this._applyStyle(s,e),this._appendChild(s),s},i.prototype.drawLine=function(n,t,r,u,f,e){var o=document.createElementNS(i.svgNS,'line');return o.setAttribute('stroke',this._stroke),this._strokeWidth!==null&&o.setAttribute('stroke-width',this._strokeWidth.toString()),o.setAttribute('x1',n.toFixed(1)),o.setAttribute('x2',r.toFixed(1)),o.setAttribute('y1',t.toFixed(1)),o.setAttribute('y2',u.toFixed(1)),f&&o.setAttribute('class',f),this._applyStyle(o,e),this._appendChild(o),o},i.prototype.drawLines=function(n,t,r,u,f){var s,e,h,o;if(n&&t&&(s=Math.min(n.length,t.length),s>0)){for(e=document.createElementNS(i.svgNS,'polyline'),e.setAttribute('stroke',this._stroke),this._strokeWidth!==null&&e.setAttribute('stroke-width',this._strokeWidth.toString()),e.setAttribute('fill','none'),h='',o=0;o<s;o++)h+=n[o].toFixed(1)+','+t[o].toFixed(1)+' ';return e.setAttribute('points',h),r&&e.setAttribute('class',r),f&&e.setAttribute('clip-path','url(#'+f+')'),this._applyStyle(e,u),this._appendChild(e),e}return null},i.prototype.drawSplines=function(n,r,u,f,e){var o,h,s;if(n&&r){var y=new t._Spline(n,r),c=y.calculate(),l=c.xs,a=c.ys,v=Math.min(l.length,a.length);if(v>0){for(o=document.createElementNS(i.svgNS,'polyline'),o.setAttribute('stroke',this._stroke),this._strokeWidth!==null&&o.setAttribute('stroke-width',this._strokeWidth.toString()),o.setAttribute('fill','none'),h='',s=0;s<v;s++)h+=l[s].toFixed(1)+','+a[s].toFixed(1)+' ';return o.setAttribute('points',h),u&&o.setAttribute('class',u),e&&o.setAttribute('clip-path','url(#'+e+')'),this._applyStyle(o,f),this._appendChild(o),o}}return null},i.prototype.drawPolygon=function(n,t,r,u,f){var s,e,h,o;if(n&&t&&(s=Math.min(n.length,t.length),s>0)){for(e=document.createElementNS(i.svgNS,'polygon'),e.setAttribute('stroke',this._stroke),this._strokeWidth!==null&&e.setAttribute('stroke-width',this._strokeWidth.toString()),e.setAttribute('fill',this._fill),h='',o=0;o<s;o++)h+=n[o].toFixed(1)+','+t[o].toFixed(1)+' ';return e.setAttribute('points',h),r&&e.setAttribute('class',r),f&&e.setAttribute('clip-path','url(#'+f+')'),this._applyStyle(e,u),this._appendChild(e),e}return null},i.prototype.drawPieSegment=function(t,r,u,f,e,o,s,h){var c,l,y,a,p,v;return e>=Math.PI*2?this.drawEllipse(t,r,u,u,o,s):(c=document.createElementNS(i.svgNS,'path'),c.setAttribute('fill',this._fill),c.setAttribute('stroke',this._stroke),this._strokeWidth!==null&&c.setAttribute('stroke-width',this._strokeWidth.toString()),l=new n.Point(t,r),l.x+=u*Math.cos(f),l.y+=u*Math.sin(f),y=f+e,a=new n.Point(t,r),a.x+=u*Math.cos(y),a.y+=u*Math.sin(y),p=' 0 0,1 ',Math.abs(e)>Math.PI&&(p=' 0 1,1 '),v='M '+l.x.toFixed(1)+','+l.y.toFixed(1),v+=' A '+u.toFixed(1)+','+u.toFixed(1)+p,v+=a.x.toFixed(1)+','+a.y.toFixed(1),v+=' L '+t.toFixed(1)+','+r.toFixed(1)+' z',c.setAttribute('d',v),h&&c.setAttribute('clip-path','url(#'+h+')'),o&&c.setAttribute('class',o),this._applyStyle(c,s),this._appendChild(c),c)},i.prototype.drawDonutSegment=function(t,r,u,f,e,o,s,h,c){var k=!1,l,y,p,w,v,b,d,g,a;return o>=Math.PI*2&&(k=!0,o-=.001),l=document.createElementNS(i.svgNS,'path'),l.setAttribute('fill',this._fill),l.setAttribute('stroke',this._stroke),this._strokeWidth!==null&&l.setAttribute('stroke-width',this._strokeWidth.toString()),y=new n.Point(t,r),y.x+=u*Math.cos(e),y.y+=u*Math.sin(e),p=e+o,w=new n.Point(t,r),w.x+=u*Math.cos(p),w.y+=u*Math.sin(p),v=new n.Point(t,r),v.x+=f*Math.cos(p),v.y+=f*Math.sin(p),b=new n.Point(t,r),b.x+=f*Math.cos(e),b.y+=f*Math.sin(e),d=' 0 0,1 ',g=' 0 0,0 ',Math.abs(o)>Math.PI&&(d=' 0 1,1 ',g=' 0 1,0 '),a='M '+y.x.toFixed(3)+','+y.y.toFixed(3),a+=' A '+u.toFixed(3)+','+u.toFixed(3)+d,a+=w.x.toFixed(3)+','+w.y.toFixed(3),a+=k?' M '+v.x.toFixed(3)+','+v.y.toFixed(3):' L '+v.x.toFixed(3)+','+v.y.toFixed(3),a+=' A '+f.toFixed(3)+','+f.toFixed(3)+g,a+=b.x.toFixed(3)+','+b.y.toFixed(3),k||(a+=' z'),l.setAttribute('d',a),c&&l.setAttribute('clip-path','url(#'+c+')'),s&&l.setAttribute('class',s),this._applyStyle(l,h),this._appendChild(l),l},i.prototype.drawString=function(n,t,i,r){var u=this._createText(t,n),f;return i&&u.setAttribute('class',i),this._applyStyle(u,r),this._appendChild(u),f=this._getBBox(u),u.setAttribute('y',(t.y-(f.y+f.height-t.y)).toFixed(1)),u},i.prototype.drawStringRotated=function(n,t,r,u,f,e){var o=this._createText(t,n),s,h;return f&&o.setAttribute('class',f),this._applyStyle(o,e),s=document.createElementNS(i.svgNS,'g'),s.setAttribute('transform','rotate('+u.toFixed(1)+','+r.x.toFixed(1)+','+r.y.toFixed(1)+')'),s.appendChild(o),this._appendChild(s),h=this._getBBox(o),o.setAttribute('y',(t.y-(h.y+h.height-t.y)).toFixed(1)),o},i.prototype.measureString=function(t,i,r,u){var f=new n.Size(0,0),e,o;if(this._fontSize&&this._text.setAttribute('font-size',this._fontSize),this._fontFamily&&this._text.setAttribute('font-family',this._fontFamily),i&&this._text.setAttribute('class',i),r&&this._textGroup.setAttribute('class',r),this._applyStyle(this._text,u),this._setText(this._text,t),e=this._getBBox(this._text),f.width=e.width,f.height=e.height,this._text.removeAttribute('font-size'),this._text.removeAttribute('font-family'),this._text.removeAttribute('class'),u)for(o in u)this._text.removeAttribute(this._deCase(o));return this._textGroup.removeAttribute('class'),this._text.textContent=null,f},i.prototype.startGroup=function(n,t,r){r===void 0&&(r=!1);var u=document.createElementNS(i.svgNS,'g');return n&&u.setAttribute('class',n),t&&u.setAttribute('clip-path','url(#'+t+')'),this._appendChild(u),r&&u.transform.baseVal.appendItem(this._svg.createSVGTransform()),this._group=u,u},i.prototype.endGroup=function(){if(this._group){var n=this._group.parentNode;this._group=n==this._svg?null:n}},i.prototype.drawImage=function(n,t,r,u,f){var e=document.createElementNS(i.svgNS,'image');return e.setAttributeNS(i.xlinkNS,'href',n),e.setAttribute('x',t.toFixed(1)),e.setAttribute('y',r.toFixed(1)),e.setAttribute('width',u.toFixed(1)),e.setAttribute('height',f.toFixed(1)),this._appendChild(e),e},i.prototype._appendChild=function(n){var t=this._group;t||(t=this._svg);t.appendChild(n)},i.prototype._create=function(){this._svg=document.createElementNS(i.svgNS,'svg');this._defs=document.createElementNS(i.svgNS,'defs');this._svg.appendChild(this._defs);this._text=this._createText(new n.Point(-1e3,-1e3),'');this._textGroup=document.createElementNS(i.svgNS,'g');this._textGroup.appendChild(this._text);this._svg.appendChild(this._textGroup)},i.prototype._setText=function(n,t){var i=t?t.toString():null;if(i&&i.indexOf('tspan')>=0)try{n.textContent=null;for(var u=new DOMParser,f='<svg xmlns="http://www.w3.org/2000/svg\">'+i+'</svg>',e=u.parseFromString(f,'text/xml').documentElement,r=e.firstChild;r;)n.appendChild(n.ownerDocument.importNode(r,!0)),r=r.nextSibling}catch(o){throw new Error('Error parsing XML string.');}else n.textContent=i},i.prototype._createText=function(n,t){var r=document.createElementNS(i.svgNS,'text');return this._setText(r,t),r.setAttribute('fill',this._textFill),r.setAttribute('x',n.x.toFixed(1)),r.setAttribute('y',n.y.toFixed(1)),this._fontSize&&r.setAttribute('font-size',this._fontSize),this._fontFamily&&r.setAttribute('font-family',this._fontFamily),r},i.prototype._applyStyle=function(n,t){if(t)for(var i in t)n.setAttribute(this._deCase(i),t[i])},i.prototype._deCase=function(n){return n.replace(/[A-Z]/g,function(n){return'-'+n.toLowerCase()})},i.prototype._getBBox=function(n){if(i._isff)try{return n.getBBox()}catch(t){return{x:0,y:0,width:0,height:0}}else return n.getBBox()},i.svgNS='http://www.w3.org/2000/svg',i.xlinkNS='http://www.w3.org/1999/xlink',i}();t._SvgRenderEngine=i})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={})),function(n){var t;(function(t){'use strict';var i=function(){function i(i){this._position=t.Position.Right;this._areas=[];this._sz=new n.Size;this._colRowLens=[];this._chart=i}return Object.defineProperty(i.prototype,"position",{get:function(){return this._position},set:function(i){this._position!=i&&(this._position=n.asEnum(i,t.Position),this._chart&&this._chart.invalidate())},enumerable:!0,configurable:!0}),i.prototype._getDesiredSize=function(i,r,u,f){if(r==t.Position.None)return null;var e=r==t.Position.Right||r==t.Position.Left;if(this._chart instanceof n.chart.FlexChartCore)this._sz=this._getDesiredSizeSeriesChart(i,e,u,f);else if(this._chart instanceof n.chart.FlexPie)this._sz=this._getDesiredSizePieChart(i,e);else return null;return this._sz},i.prototype._getDesiredSizeSeriesChart=function(i,r,u,f){for(var c,v,p,l,h,e=new n.Size,y=this._chart.series,w=y.length,o=0,s=0,a=0;a<w;a++)if(c=n.tryCast(y[a],n.chart.SeriesBase),v=c.visibility,c.name&&v!=t.SeriesVisibility.Hidden&&v!=t.SeriesVisibility.Plot)for(p=c.legendItemLength(),l=0;l<p;l++)h=c.measureLegendItem(i,l),r?(o+h.height>f?(e.width+=s,s=0,e.height<o&&(e.height=o),o=0):o+=h.height,s<h.width&&(s=h.width)):(s+h.width>u?(e.height+=o,o=0,e.width<s&&(e.width=s),s=h.width):s+=h.width,o<h.height&&(o=h.height));return r?(e.height<o&&(e.height=o),e.width+=s):(e.width<s&&(e.width=s),e.height+=o),e},i.prototype._renderSeriesChart=function(i,r,u,f,e){for(var o,h,k,y,c,s,w,b=this._chart.series,d=b.length,l=r.clone(),a=0,v=0,p=0;p<d;p++)if(o=n.tryCast(b[p],n.chart.SeriesBase),o){if(h=o.visibility,!o.name||h==t.SeriesVisibility.Hidden||h==t.SeriesVisibility.Plot){o._legendElement=null;this._areas.push(null);continue}for(k=o.legendItemLength(),y=i.startGroup(o.cssClass),h==t.SeriesVisibility.Legend?(y.setAttribute('opacity','0.5'),o._legendElement=y):o._legendElement=h==t.SeriesVisibility.Visible?y:null,c=0;c<k;c++)s=o.measureLegendItem(i,c),u?r.y+s.height>l.y+e&&(r.y=l.y,r.x+=v,v=0):r.x+s.width>l.x+f&&(r.x=l.x,r.y+=a,a=0),w=new n.Rect(r.x,r.y,s.width,s.height),(h==t.SeriesVisibility.Legend||h==t.SeriesVisibility.Visible)&&o.drawLegendItem(i,w,c),this._areas.push(w),u?(r.y+=s.height,v<s.width&&(v=s.width)):(r.x+=s.width,a<s.height&&(a=s.height));i.endGroup()}},i.prototype._getDesiredSizePieChart=function(t,i){var f=new n.Size,h=this._chart,s=h._rectChart,l=h._getLabelsForLegend(),c=l.length,r=0,u=0,o,e;for(this._colRowLens=[],o=0;o<c;o++)e=h._measureLegendItem(t,l[o]),i?(r<e.width&&(r=e.width),u+e.height>s.height&&(f.height=s.height,this._colRowLens.push(r),u=0,r=0),u+=e.height,o===c-1&&(f.height<u&&(f.height=u),this._colRowLens.push(r))):(u<e.height&&(u=e.height),r+e.width>s.width&&(f.width=s.width,this._colRowLens.push(u),u=0,r=0),r+=e.width,o===c-1&&(f.width<r&&(f.width=r),this._colRowLens.push(u))),i?f.width=this._colRowLens.reduce(function(n,t){return n+t},0):f.height=this._colRowLens.reduce(function(n,t){return n+t},0);return f},i.prototype._renderPieChart=function(t,i,r){for(var f,l,o=this._chart,s=o._rectLegend,c=o._getLabelsForLegend(),a=c.length,h=0,u=i.clone(),e=0;e<a;e++)f=o._measureLegendItem(t,c[e]),l=new n.Rect(u.x,u.y,f.width,f.height),o._drawLegendItem(t,l,e,c[e]),this._areas.push(l),r?(u.y+=f.height,u.y+f.height>s.top+s.height&&(u.x+=this._colRowLens[h],h++,u.y=i.y)):(u.x+=f.width,u.x+f.width>s.left+s.width&&(u.y+=this._colRowLens[h],h++,u.x=i.x))},i.prototype._getPosition=function(n,i){return this.position==t.Position.Auto?n>=i?t.Position.Right:t.Position.Bottom:this.position},i.prototype._render=function(i,r,u,f,e){this._areas=[];var o=u==t.Position.Right||u==t.Position.Left;if(i.fill='transparent',i.stroke=null,i.drawRect(r.x,r.y,this._sz.width,this._sz.height),this._chart instanceof n.chart.FlexChartCore)this._renderSeriesChart(i,r,o,f,e);else if(this._chart instanceof n.chart.FlexPie)this._renderPieChart(i,r,o);else return null},i.prototype._hitTest=function(n){for(var r=this._areas,i=0;i<r.length;i++)if(r[i]&&t.FlexChartCore._contains(r[i],n))return i;return null},i}();t.Legend=i})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={})),function(n){var t;(function(t){'use strict';(function(n){n[n.PlotArea=0]="PlotArea";n[n.AxisX=1]="AxisX";n[n.AxisY=2]="AxisY";n[n.ChartArea=3]="ChartArea";n[n.Legend=4]="Legend";n[n.Header=5]="Header";n[n.Footer=6]="Footer";n[n.Series=7]="Series";n[n.SeriesSymbol=8]="SeriesSymbol";n[n.DataLabel=9]="DataLabel";n[n.None=10]="None"})(t.ChartElement||(t.ChartElement={}));var i=t.ChartElement,r=function(){function r(n,t,r){this._pointIndex=null;this._chartElement=i.None;this._chart=n;this._pt=t;this._chartElement=r}return Object.defineProperty(r.prototype,"point",{get:function(){return this._pt},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"series",{get:function(){return this._series},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"pointIndex",{get:function(){return this._pointIndex},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"chartElement",{get:function(){return this._chartElement},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"distance",{get:function(){return this._dist},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"item",{get:function(){if(this._item==null&&this.pointIndex!==null)if(this.series!=null)this._item=this.series._getItem(this.pointIndex);else if(this._chart instanceof t.FlexPie){var i=this._chart,n=null;n=i._cv!=null?i._cv.items:i.itemsSource;n&&this.pointIndex<n.length&&(this._item=n[this.pointIndex])}return this._item},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"x",{get:function(){return this._x===undefined&&(this._x=this._getValue(1,!1)),this._x},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"y",{get:function(){return this._y===undefined&&(this._y=this._getValue(0,!1)),this._y},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"value",{get:function(){if(this._chart instanceof t.FlexPie){var n=this._chart;return n._values[this.pointIndex]}return this.y},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"name",{get:function(){if(this._name===undefined){if(this._chart instanceof t.FlexPie){var n=this._chart;return n._labels[this.pointIndex]}return this.series.name}return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"_xfmt",{get:function(){return this.__xfmt===undefined&&(this.__xfmt=this._getValue(1,!0)),this.__xfmt},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"_yfmt",{get:function(){return this.__yfmt===undefined&&(this.__yfmt=this._getValue(0,!0)),this.__yfmt},enumerable:!0,configurable:!0}),r.prototype._setData=function(n,t){this._series=n;this._pointIndex=t},r.prototype._setDataPoint=function(i){if(i=n.asType(i,t._DataPoint,!0),i){this._pointIndex=i.pointIndex;var u=n.asType(this._chart,n.chart.FlexChartCore,!0),r=i.seriesIndex;r!==null&&r>=0&&r<u.series.length&&(this._series=u.series[r]);i.item!=null&&(this._item=i.item);i.x!=null&&(this._x=i.x);i.y!=null&&(this._y=i.y);i.xfmt!=null&&(this.__xfmt=i.xfmt);i.yfmt!=null&&(this.__yfmt=i.yfmt);i.name!=null&&(this._name=i.name)}},r.prototype._getValue=function(i,r){var s,o,h;if(this._chart instanceof t.FlexPie)return s=this._chart,s._values[this.pointIndex];var u=null,f=this._chart,e=this.pointIndex,c=f._isRotated();return this.series!==null&&e!==null&&(o=this.series.getValues(i),h=this.series.getDataType(i),o&&this.pointIndex<o.length?(u=o[this.pointIndex],h!=n.DataType.Date||r||(u=new Date(u))):i==1&&(f._xlabels&&f._xlabels.length>0&&e<f._xlabels.length?u=f._xlabels[e]:f._xvals&&e<f._xvals.length&&(u=f._xvals[e],f._xDataType!=n.DataType.Date||r||(u=new Date(u))))),u!==null&&r&&(c?i==0?u=f.axisX._formatValue(u):i==1&&(u=f.axisY._formatValue(u)):i==0?u=f.axisY._formatValue(u):i==1&&(u=f.axisX._formatValue(u))),u},r}();t.HitTestInfo=r})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={})),function(n){var t;(function(n){'use strict';var t=function(){function n(){}return n.standard=['#88bde6','#fbb258','#90cd97','#f6aac9','#bfa554','#bc99c7','#eddd46','#f07e6e','#8c8c8c'],n.cocoa=['#466bb0','#c8b422','#14886e','#b54836','#6e5944','#8b3872','#73b22b','#b87320','#141414'],n.coral=['#84d0e0','#f48256','#95c78c','#efa5d6','#ba8452','#ab95c2','#ede9d0','#e96b7d','#888888'],n.dark=['#005fad','#f06400','#009330','#e400b1','#b65800','#6a279c','#d5a211','#dc0127','#000000'],n.highcontrast=['#ff82b0','#0dda2c','#0021ab','#bcf28c','#19c23b','#890d3a','#607efd','#1b7700','#000000'],n.light=['#ddca9a','#778deb','#cb9fbb','#b5eae2','#7270be','#a6c7a7','#9e95c7','#95b0c7','#9b9b9b'],n.midnight=['#83aaca','#e37849','#14a46a','#e097da','#a26d54','#a584b7','#d89c54','#e86996','#2c343b'],n.modern=['#2d9fc7','#ec993c','#89c235','#e377a4','#a68931','#a672a6','#d0c041','#e35855','#68706a'],n.organic=['#9c88d9','#a3d767','#8ec3c0','#e9c3a9','#91ab36','#d4ccc0','#61bbd8','#e2d76f','#80715a'],n.slate=['#7493cd','#f99820','#71b486','#e4a491','#cb883b','#ae83a4','#bacc5c','#e5746a','#505d65'],n.zen=['#7bb5ae','#e2d287','#92b8da','#eac4cb','#7b8bbd','#c7d189','#b9a0c8','#dfb397','#a9a9a9'],n.cyborg=['#2a9fd6','#77b300','#9933cc','#ff8800','#cc0000','#00cca3','#3d6dcc','#525252','#000000'],n.superhero=['#5cb85c','#f0ad4e','#5bc0de','#d9534f','#9f5bde','#46db8c','#b6b86e','#4e5d6c','#2b3e4b'],n.flatly=['#18bc9c','#3498db','#f39c12','#6cc1be','#99a549','#8f54b5','#e74c3c','#8a9899','#2c3e50'],n.darkly=['#375a7f','#00bc8c','#3498db','#f39c12','#e74c3c','#8f61b3','#b08725','#4a4949','#000000'],n.cerulan=['#033e76','#87c048','#59822c','#53b3eb','#fc6506','#d42323','#e3bb00','#cccccc','#222222'],n}();n.Palettes=t})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={})),function(n){var t;(function(t){'use strict';var i=function(){function t(t,i){var s,r;if(this.k=.002,this._a=[],this._b=[],this._c=[],this._d=[],this.m=[[-1*.5,3*.5,-3*.5,1*.5],[2*.5,-5*.5,4*.5,-1*.5],[-1*.5,0,1*.5,0],[0,2*.5,0,0],],this._x=t,this._y=i,s=this._len=Math.min(t.length,i.length),s>3)for(r=0;r<s-1;r++){var u=r==0?new n.Point(t[r],i[r]):new n.Point(t[r-1],i[r-1]),f=new n.Point(t[r],i[r]),e=new n.Point(t[r+1],i[r+1]),o=r==s-2?new n.Point(t[r+1],i[r+1]):new n.Point(t[r+2],i[r+2]),h=new n.Point,c=new n.Point,l=new n.Point,a=new n.Point;h.x=u.x*this.m[0][0]+f.x*this.m[0][1]+e.x*this.m[0][2]+o.x*this.m[0][3];c.x=u.x*this.m[1][0]+f.x*this.m[1][1]+e.x*this.m[1][2]+o.x*this.m[1][3];l.x=u.x*this.m[2][0]+f.x*this.m[2][1]+e.x*this.m[2][2]+o.x*this.m[2][3];a.x=u.x*this.m[3][0]+f.x*this.m[3][1]+e.x*this.m[3][2]+o.x*this.m[3][3];h.y=u.y*this.m[0][0]+f.y*this.m[0][1]+e.y*this.m[0][2]+o.y*this.m[0][3];c.y=u.y*this.m[1][0]+f.y*this.m[1][1]+e.y*this.m[1][2]+o.y*this.m[1][3];l.y=u.y*this.m[2][0]+f.y*this.m[2][1]+e.y*this.m[2][2]+o.y*this.m[2][3];a.y=u.y*this.m[3][0]+f.y*this.m[3][1]+e.y*this.m[3][2]+o.y*this.m[3][3];this._a.push(h);this._b.push(c);this._c.push(l);this._d.push(a)}}return t.prototype.calculatePoint=function(n){var t=Math.floor(n);t<0&&(t=0);t>this._len-2&&(t=this._len-2);var i=n-t,r=((this._a[t].x*i+this._b[t].x)*i+this._c[t].x)*i+this._d[t].x,u=((this._a[t].y*i+this._b[t].y)*i+this._c[t].y)*i+this._d[t].y;return{x:r,y:u}},t.prototype.calculate=function(){var f,e,i,n;if(this._len<=3)return{xs:this._x,ys:this._y};var r=[],u=[],t=this.calculatePoint(0);for(r.push(t.x),u.push(t.y),f=this._len*this.k,e=3,i=f;i<=this._len-1;i+=f)n=this.calculatePoint(i),(Math.abs(t.x-n.x)>=e||Math.abs(t.y-n.y)>=e)&&(r.push(n.x),u.push(n.y),t=n);return{xs:r,ys:u}},t}();t._Spline=i})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var r,u,f,i,e,o;(function(n){n[n.None=0]="None";n[n.Left=1]="Left";n[n.Top=2]="Top";n[n.Right=3]="Right";n[n.Bottom=4]="Bottom";n[n.Center=5]="Center"})(t.LabelPosition||(t.LabelPosition={}));r=t.LabelPosition,function(n){n[n.None=0]="None";n[n.Inside=1]="Inside";n[n.Center=2]="Center";n[n.Outside=3]="Outside"}(t.PieLabelPosition||(t.PieLabelPosition={}));u=t.PieLabelPosition;f=function(n){function t(t,i,r,u){n.call(this,t);this.cancel=!1;this._ht=i;this._pt=r;this._text=u}return __extends(t,n),Object.defineProperty(t.prototype,"point",{get:function(){return this._pt},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hitTestInfo",{get:function(){return this._ht},enumerable:!0,configurable:!0}),t}(t.RenderEventArgs);t.DataLabelRenderEventArgs=f;i=function(){function t(){this.rendering=new n.Event}return Object.defineProperty(t.prototype,"content",{get:function(){return this._content},set:function(n){n!=this._content&&(this._content=n,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"border",{get:function(){return this._bdr},set:function(t){t!=this._bdr&&(this._bdr=n.asBoolean(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"offset",{get:function(){return this._off},set:function(t){t!=this._off&&(this._off=n.asNumber(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"connectingLine",{get:function(){return this._line},set:function(t){t!=this._line&&(this._line=n.asBoolean(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),t.prototype.onRendering=function(n){return this.rendering.raise(this,n),n.cancel},t.prototype._invalidate=function(){this._chart&&this._chart.invalidate()},t}();t.DataLabelBase=i;e=function(t){function i(){t.apply(this,arguments);this._pos=r.Top}return __extends(i,t),Object.defineProperty(i.prototype,"position",{get:function(){return this._pos},set:function(t){t!=this._pos&&(this._pos=n.asEnum(t,r),this._invalidate())},enumerable:!0,configurable:!0}),i}(i);t.DataLabel=e;o=function(t){function i(){t.apply(this,arguments);this._pos=u.Center}return __extends(i,t),Object.defineProperty(i.prototype,"position",{get:function(){return this._pos},set:function(t){t!=this._pos&&(this._pos=n.asEnum(t,u),this._invalidate())},enumerable:!0,configurable:!0}),i}(i);t.PieDataLabel=o})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={})),function(n){var t;(function(t){'use strict';var o=function(){function t(){this._moveMarker=function(n){var r=n.currentTarget,u=this._markers,t=r.getAttribute('data-markerIndex'),i;t!=null&&(i=u[t],i.forEach(function(t){t._moveMarker(n)}))};this._markers=[];this._bindMoveMarker=this._moveMarker.bind(this)}return t.prototype.attach=function(t){var r=t.chart.hostElement,u=this._markers,f=r.getAttribute('data-markerIndex'),e,i;f!=null?(i=u[f],i&&n.isArray(i)?i.push(t):(u[f]=[t],this._bindMoveEvent(r))):(e=u.length,i=[t],u.push(i),r.setAttribute('data-markerIndex',e),this._bindMoveEvent(r))},t.prototype.detach=function(n){var u=n.chart.hostElement,r=this._markers,f=u.getAttribute('data-markerIndex'),t,i;f!=null&&(i=r[f],t=i.indexOf(n),t>-1&&i.splice(t,1),i.length===0&&(t=r.indexOf(i),t>-1&&(r[t]=undefined),this._unbindMoveEvent(u)))},t.prototype._unbindMoveEvent=function(n){var t=this._bindMoveMarker;n.removeEventListener('mousemove',t);'ontouchstart'in window&&n.removeEventListener('touchmove',t)},t.prototype._bindMoveEvent=function(n){var t=this._bindMoveMarker;n.addEventListener('mousemove',t);'ontouchstart'in window&&n.addEventListener('touchmove',t)},t}(),f=new o,i,r,u,e;(function(n){n[n.None=0]="None";n[n.Vertical=1]="Vertical";n[n.Horizontal=2]="Horizontal";n[n.Both=3]="Both"})(t.LineMarkerLines||(t.LineMarkerLines={}));i=t.LineMarkerLines,function(n){n[n.None=0]="None";n[n.Move=1]="Move";n[n.Drag=2]="Drag"}(t.LineMarkerInteraction||(t.LineMarkerInteraction={}));r=t.LineMarkerInteraction,function(n){n[n.Auto=2]="Auto";n[n.Right=0]="Right";n[n.Left=1]="Left";n[n.Bottom=4]="Bottom";n[n.Top=6]="Top"}(t.LineMarkerAlignment||(t.LineMarkerAlignment={}));u=t.LineMarkerAlignment;e=function(){function e(t,i){this._wrapperMousedown=null;this._wrapperMouseup=null;this.positionChanged=new n.Event;var r=this;r._chart=t;t.rendered.addHandler(r._initialize,r);r._resetDefaultValue();n.copy(this,i);r._initialize()}return Object.defineProperty(e.prototype,"chart",{get:function(){return this._chart},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isVisible",{get:function(){return this._isVisible},set:function(t){var i=this;t!==i._isVisible&&(i._isVisible=n.asBoolean(t),i._marker)&&i._toggleVisibility()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"seriesIndex",{get:function(){return this._seriesIndex},set:function(t){var i=this;t!==i._seriesIndex&&(i._seriesIndex=n.asNumber(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"horizontalPosition",{get:function(){return this._horizontalPosition},set:function(t){var i=this;if(t!==i._horizontalPosition){if(i._horizontalPosition=n.asNumber(t,!0),i._horizontalPosition<0||i._horizontalPosition>1)throw'horizontalPosition\'s value should be in (0, 1).';i._marker&&i._updateMarkerPosition()}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"x",{get:function(){var n=this,t=n._targetPoint.x-n._plotRect.left,i=n._chart.axisX;return i.convertBack(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){var n=this,t=n._targetPoint.y-n._plotRect.top,i=n._chart.axisY;return i.convertBack(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"content",{get:function(){return this._content},set:function(t){t!==this._content&&(this._content=n.asFunction(t),this._updateMarkerPosition())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"verticalPosition",{get:function(){return this._verticalPosition},set:function(t){var i=this;if(t!==i._verticalPosition){if(i._verticalPosition=n.asNumber(t,!0),i._verticalPosition<0||i._verticalPosition>1)throw'verticalPosition\'s value should be in (0, 1).';i._marker&&i._updateMarkerPosition()}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"alignment",{get:function(){return this._alignment},set:function(n){var t=this;n!==t._alignment&&(t._alignment=n,t._marker)&&t._updatePositionByAlignment()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lines",{get:function(){return this._lines},set:function(t){var r=this;t!==r._lines&&(r._lines=n.asEnum(t,i),r._marker)&&r._resetLinesVisibility()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"interaction",{get:function(){return this._interaction},set:function(t){var i=this;t!==i._interaction&&(i._marker&&i._detach(),i._interaction=n.asEnum(t,r),i._marker&&i._attach(),i._toggleElesDraggableClass(i._interaction===r.Drag))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dragThreshold",{get:function(){return this._dragThreshold},set:function(t){t!=this._dragThreshold&&(this._dragThreshold=n.asNumber(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dragContent",{get:function(){return this._dragContent},set:function(t){var u=this;t!==u._dragContent&&(u._dragContent=n.asBoolean(t));n.toggleClass(u._dragEle,e._CSS_LINE_DRAGGABLE,u._interaction===r.Drag&&u._dragContent&&u._lines!==i.None)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dragLines",{get:function(){return this._dragLines},set:function(t){t!=this._dragLines&&(this._dragLines=n.asBoolean(t))},enumerable:!0,configurable:!0}),e.prototype.onPositionChanged=function(n){this.positionChanged.raise(this,n)},e.prototype.remove=function(){var n=this,t=n._chart;n._marker&&(t.rendered.removeHandler(n._initialize,n),n._detach(),n._removeMarker(),n._wrapperMoveMarker=null,n._wrapperMousedown=null,n._wrapperMouseup=null)},e.prototype._attach=function(){var t=this,i=t._chart.hostElement;this._interaction!==r.None?n.addClass(i,e._CSS_TOUCH_DISABLED):n.removeClass(i,e._CSS_TOUCH_DISABLED);f.attach(t);t._attachDrag()},e.prototype._attachDrag=function(){var n=this;n._interaction===r.Drag&&(n._wrapperMousedown||(n._wrapperMousedown=n._onMousedown.bind(n)),n._wrapperMouseup||(n._wrapperMouseup=n._onMouseup.bind(n)),n._toggleDragEventAttach(!0))},e.prototype._detach=function(){var t=this;n.removeClass(t._chart.hostElement,e._CSS_TOUCH_DISABLED);f.detach(t);t._detachDrag()},e.prototype._detachDrag=function(){var n=this;n._interaction===r.Drag&&n._toggleDragEventAttach(!1)},e.prototype._toggleDragEventAttach=function(n){var t=this,r=t._chart.hostElement,i=n?'addEventListener':'removeEventListener';r[i]('mousedown',t._wrapperMousedown);document[i]('mouseup',t._wrapperMouseup);'ontouchstart'in window&&r[i]('touchstart',t._wrapperMousedown);'ontouchend'in window&&document[i]('touchend',t._wrapperMouseup)},e.prototype._onMousedown=function(t){var i=this,u=i._getEventPoint(t),f,o,s;i._interaction===r.Drag&&(f=n.getElementRect(i._hLine),o=n.getElementRect(i._vLine),s=n.getElementRect(i._markerContent),i._dragContent&&i._pointInRect(u,s)?(i._capturedEle=i._markerContent,i._contentDragStartPoint=new n.Point(u.x,u.y),i._mouseDownCrossPoint=new n.Point(i._targetPoint.x,i._targetPoint.y)):Math.abs(f.top-u.y)<=i._dragThreshold||Math.abs(u.y-f.top-f.height)<=i._dragThreshold||u.y>=f.top&&u.y<=f.top+f.height?(i._capturedEle=i._hLine,i._contentDragStartPoint=undefined,n.addClass(i._chart.hostElement,e._CSS_LINE_DRAGGABLE)):(Math.abs(o.left-u.x)<=i._dragThreshold||Math.abs(u.x-o.left-o.width)<=i._dragThreshold||u.x>=o.left&&u.x<=o.left+o.width)&&(i._capturedEle=i._vLine,i._contentDragStartPoint=undefined,n.addClass(i._chart.hostElement,e._CSS_LINE_DRAGGABLE)),t.preventDefault())},e.prototype._onMouseup=function(){var t=this,r=t._alignment===u.Auto&&t._capturedEle===t._markerContent&&t._lines!==i.None;t._capturedEle=undefined;t._contentDragStartPoint=undefined;t._mouseDownCrossPoint=undefined;r&&(t._updatePositionByAlignment(),t._updatePositionByAlignment());n.removeClass(t._chart.hostElement,e._CSS_LINE_DRAGGABLE)},e.prototype._moveMarker=function(u){var f=this,h=f._chart,e=f._getEventPoint(u),o=f._plotRect,a=f._interaction===r.Drag,v=f._lines===i.Horizontal,y=f._lines===i.Vertical,c=f._seriesIndex,l,p=n.getElementRect(h.hostElement),s,w,b,k,d;if(o&&f._isVisible&&f._interaction!==r.None&&(f._interaction!==r.Drag||f._capturedEle&&f._lines!==i.None)){if(a&&(f._contentDragStartPoint?(e.x=v?f._targetPoint.x:f._mouseDownCrossPoint.x+e.x-f._contentDragStartPoint.x,e.y=y?f._targetPoint.y:f._mouseDownCrossPoint.y+e.y-f._contentDragStartPoint.y):v||!f._dragLines&&f._capturedEle===f._hLine?e.x=f._targetPoint.x:(y||!f._dragLines&&f._capturedEle===f._vLine)&&(e.y=f._targetPoint.y)),a&&f._lines===i.Horizontal||!f._dragLines&&f._capturedEle===f._hLine){if(e.y<=o.top||e.y>=o.top+o.height)return}else if(a&&f._lines===i.Vertical||!f._dragLines&&f._capturedEle===f._vLine){if(e.x<=o.left||e.x>=o.left+o.width)return}else if(e.x<=o.left||e.y<=o.top||e.x>=o.left+o.width||e.y>=o.top+o.height)return;if(c!=null&&c>=0&&c<h.series.length){if(l=h.series[c],s=l.hitTest(new n.Point(e.x,NaN)),s==null||s.x==null||s.y==null)return;w=l.axisX||h.axisX;b=l._getAxisY();k=n.isDate(s.x)?t.FlexChart._toOADate(s.x):s.x;d=n.isDate(s.y)?t.FlexChart._toOADate(s.y):s.y;e.x=w.convert(k)+p.left;e.y=b.convert(d)+p.top}f._updateMarkerPosition(e);u.preventDefault()}},e.prototype._show=function(n){var t=n?n:this._marker;t.style.display='block'},e.prototype._hide=function(n){var t=n?n:this._marker;t.style.display='none'},e.prototype._toggleVisibility=function(){this._isVisible?this._show():this._hide()},e.prototype._resetDefaultValue=function(){var t=this;t._isVisible=!0;t._alignment=u.Auto;t._lines=i.None;t._interaction=r.None;t._horizontalPosition=null;t._verticalPosition=null;t._content=null;t._seriesIndex=null;t._dragThreshold=15;t._dragContent=!1;t._dragLines=!1;t._targetPoint=new n.Point},e.prototype._initialize=function(){var i=this,r=i._chart.hostElement.querySelector("."+t.FlexChart._CSS_PLOT_AREA),u;i._plot=r;i._marker||i._createMarker();r&&(i._plotRect=n.getElementRect(r),u=r.getBBox(),i._plotRect.width=u.width,i._plotRect.height=u.height,i._updateMarkerSize(),i._updateLinesSize());i._updateMarkerPosition();i._wrapperMoveMarker=i._moveMarker.bind(i);i._attach()},e.prototype._createMarker=function(){var t=this,i,r;i=document.createElement('div');n.addClass(i,e._CSS_MARKER);r=t._getContainer();r.appendChild(i);t._markerContainer=r;t._marker=i;t._createChildren()},e.prototype._removeMarker=function(){var n=this,t=n._markerContainer;t.removeChild(n._marker);n._content=null;n._hLine=null;n._vLine=null;t.hasChildNodes()||(n._chart.hostElement.removeChild(n._markerContainer),n._markerContainer=null);n._marker=null},e.prototype._getContainer=function(){var n=this._chart.hostElement.querySelector(e._CSS_MARKER_CONTAINER);return n||(n=this._createContainer()),n},e.prototype._createContainer=function(){var t=document.createElement('div'),i=this._chart.hostElement;return n.addClass(t,e._CSS_MARKER_CONTAINER),i.insertBefore(t,i.firstChild),t},e.prototype._createChildren=function(){var t=this,u=t._marker,f,o,s,i;i=document.createElement('div');i.style.position='absolute';i.style.height='100%';i.style.width='100%';u.appendChild(i);t._dragEle=i;f=document.createElement('div');n.addClass(f,e._CSS_MARKER_CONTENT);u.appendChild(f);t._markerContent=f;o=document.createElement('div');n.addClass(o,e._CSS_MARKER_HLINE);u.appendChild(o);t._hLine=o;s=document.createElement('div');n.addClass(s,e._CSS_MARKER_VLINE);u.appendChild(s);t._vLine=s;t._toggleElesDraggableClass(t._interaction===r.Drag);t._resetLinesVisibility()},e.prototype._toggleElesDraggableClass=function(t){var r=this;n.toggleClass(r._hLine,e._CSS_LINE_DRAGGABLE,t);n.toggleClass(r._vLine,e._CSS_LINE_DRAGGABLE,t);n.toggleClass(r._dragEle,e._CSS_LINE_DRAGGABLE,t&&r._dragContent&&r._lines!==i.None)},e.prototype._updateMarkerSize=function(){var t=this,i=t._plotRect,r=t._chart.hostElement,u=window.getComputedStyle(r,null),f=n.getElementRect(r);t._marker&&(t._marker.style.marginTop=i.top-f.top-(parseFloat(u.getPropertyValue('padding-top'))||0)+'px',t._marker.style.marginLeft=i.left-f.left-(parseFloat(u.getPropertyValue('padding-left'))||0)+'px')},e.prototype._updateLinesSize=function(){var n=this,t=n._plotRect;n._hLine&&n._vLine&&(n._hLine.style.width=t.width+'px',n._vLine.style.height=t.height+'px')},e.prototype._resetLinesVisibility=function(){var n=this;n._hLine&&n._vLine&&(n._hide(n._hLine),n._hide(n._vLine),(n._lines===i.Horizontal||n._lines===i.Both)&&n._show(n._hLine),(n._lines===i.Vertical||n._lines===i.Both)&&n._show(n._vLine))},e.prototype._updateMarkerPosition=function(n){var t=this,f=t._plotRect,e=t._targetPoint,i,u,o=!1,s=t._interaction===r.Drag;t._plot&&(i=f.left+f.width*(t._horizontalPosition||0),u=f.top+f.height*(t._verticalPosition||0),t._horizontalPosition==null&&n&&(i=n.x),t._verticalPosition==null&&n&&(u=n.y),(i!==e.x||u!==e.y)&&(o=!0),e.x=i,e.y=u,t._toggleVisibility(),t._content&&t._updateContent(),o&&t._raisePositionChanged(i,u),t._updatePositionByAlignment(n?!0:!1))},e.prototype._updateContent=function(){var n=this,r=n._chart,t=n._targetPoint,u=r.hitTest(t),i;i=n._content.call(null,u,t);n._markerContent.innerHTML=i||''},e.prototype._raisePositionChanged=function(t,i){var r=this._plotRect;this.onPositionChanged(new n.Point(t,i))},e.prototype._updatePositionByAlignment=function(){var n=this,c=n._alignment,f=n._targetPoint,s=n._marker,t=0,i=0,o=s.clientWidth,h=s.clientHeight,e=n._plotRect,l=12;n._plot&&(!n._capturedEle||n._capturedEle&&n._capturedEle!==n._markerContent?(c===u.Auto?(f.x+o+l>e.left+e.width&&f.x-o>=0&&(i=o),t=h,f.y-h<e.top&&(t=0)):((1&c)==1&&(i=o),(2&c)==2&&(t=h)),n._interaction===r.Move&&t===0&&i===0&&(i=-l)):(parseInt(n._hLine.style.top)>0&&(t=h),parseInt(n._vLine.style.left)>0&&(i=o)),s.style.left=f.x-i-e.left+'px',s.style.top=f.y-t-e.top+'px',n._hLine.style.top=t+'px',n._hLine.style.left=e.left-f.x+i+'px',n._vLine.style.top=e.top-f.y+t+'px',n._vLine.style.left=i+'px')},e.prototype._getEventPoint=function(t){return t instanceof MouseEvent?new n.Point(t.pageX,t.pageY):new n.Point(t.changedTouches[0].pageX,t.changedTouches[0].pageY)},e.prototype._pointInRect=function(n,t){return!n||!t?!1:n.x>=t.left&&n.x<=t.left+t.width&&n.y>=t.top&&n.y<=t.top+t.height?!0:!1},e._CSS_MARKER='wj-chart-linemarker',e._CSS_MARKER_HLINE='wj-chart-linemarker-hline',e._CSS_MARKER_VLINE='wj-chart-linemarker-vline',e._CSS_MARKER_CONTENT='wj-chart-linemarker-content',e._CSS_MARKER_CONTAINER='wj-chart-linemarker-container',e._CSS_LINE_DRAGGABLE='wj-chart-linemarker-draggable',e._CSS_TOUCH_DISABLED='wj-flexchart-touch-disabled',e}();t.LineMarker=e})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={})),function(n){var t;(function(t){'use strict';var f=function(){function n(n,t,i,r){this._seriesIndex=n;this._pointIndex=t;this._dataX=i;this._dataY=r}return Object.defineProperty(n.prototype,"seriesIndex",{get:function(){return this._seriesIndex},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pointIndex",{get:function(){return this._pointIndex},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dataX",{get:function(){return this._dataX},set:function(n){n!==this._dataX&&(this._dataX=n)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dataY",{get:function(){return this._dataY},set:function(n){n!==this._dataY&&(this._dataY=n)},enumerable:!0,configurable:!0}),n}(),i,e,o,u,r,s;t._DataPoint=f,function(n){n[n.X=0]="X";n[n.Y=1]="Y";n[n.XY=2]="XY"}(t._MeasureOption||(t._MeasureOption={}));i=t._MeasureOption;e=function(){function t(n){this._rect=n}return Object.defineProperty(t.prototype,"rect",{get:function(){return this._rect},enumerable:!0,configurable:!0}),t.prototype.contains=function(n){var t=this._rect;return n.x>=t.left&&n.x<=t.right&&n.y>=t.top&&n.y<=t.bottom},t.prototype.pointDistance=function(n,t,r){var u=t.x-n.x,f=t.y-n.y;return r==i.X?Math.abs(u):r==i.Y?Math.abs(f):Math.sqrt(u*u+f*f)},t.prototype.distance=function(t){var u=i.XY,r;return t.x===null?u=i.Y:t.y===null&&(u=i.X),r=this._rect,t.x<r.left?t.y<r.top?this.pointDistance(t,new n.Point(r.left,r.top),u):t.y>r.bottom?this.pointDistance(t,new n.Point(r.left,r.bottom),u):u==i.Y?0:r.left-t.x:t.x>r.right?t.y<r.top?this.pointDistance(t,new n.Point(r.right,r.top),u):t.y>r.bottom?this.pointDistance(t,new n.Point(r.right,r.bottom),u):u==i.Y?0:t.x-r.right:u==i.X?0:t.y<r.top?r.top-t.y:t.y>r.bottom?t.y-r.bottom:0},t}();t._RectArea=e;o=function(){function n(n,t){this._center=n;this.setRadius(t)}return n.prototype.setRadius=function(n){this._rad=n;this._rad2=n*n},Object.defineProperty(n.prototype,"center",{get:function(){return this._center},enumerable:!0,configurable:!0}),n.prototype.contains=function(n){var t=this._center.x-n.x,i=this._center.y-n.y;return t*t+i*i<=this._rad2},n.prototype.distance=function(n){var t=isNaN(n.x)?0:this._center.x-n.x,i=isNaN(n.y)?0:this._center.y-n.y,r=t*t+i*i;return r<=this._rad2?0:Math.sqrt(r)-this._rad},n}();t._CircleArea=o;u=function(){function i(n,t){this._x=[];this._y=[];this._x=n;this._y=t}return i.prototype.contains=function(){return!1},i.prototype.distance=function(i){for(var f,u=NaN,r=0;r<this._x.length-1;r++)f=t.FlexChart._dist(i,new n.Point(this._x[r],this._y[r]),new n.Point(this._x[r+1],this._y[r+1])),(isNaN(u)||f<u)&&(u=f);return u},i}();t._LinesArea=u;r=function(){function n(){}return n}();t._HitResult=r;s=function(){function i(n){this._map={};this._chart=n}return i.prototype.add=function(n,t){this._map[t]&&(n.tag||(n.tag=new f(t,NaN,NaN,NaN)),this._map[t].push(n))},i.prototype.clear=function(){var i,n;for(this._map={},i=this._chart.series,n=0;n<i.length;n++)i[n].hitTest===t.Series.prototype.hitTest&&(this._map[n]=[])},i.prototype.hitTest=function(t,i){var e,o,v,s,h,a,c;i===void 0&&(i=!1);var l=null,f=Number.MAX_VALUE,y=this._chart.series;for(e=y.length-1;e>=0;e--)if(o=this._map[e],o){for(v=o.length,s=v-1;s>=0;s--)if((h=o[s],!n.tryCast(h,u)||i)&&(a=h.distance(t),a<f&&(f=a,l=h,f==0)))break;if(f==0)break}return l?(c=new r,c.area=l,c.distance=f,c):null},i.prototype.hitTestSeries=function(n,t){var e=null,i=Number.MAX_VALUE,o=this._map[t],c,u,s,h,f;if(o)for(c=o.length,u=c-1;u>=0;u--)if(s=o[u],h=s.distance(n),h<i&&(i=h,e=s,i==0))break;return e?(f=new r,f.area=e,f.distance=i,f):null},i}();t._HitTester=s})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={})),function(n){var t;(function(t){'use strict';var i=function(){function i(){this._DEFAULT_WIDTH=2;this._DEFAULT_SYM_SIZE=10;this.clipping=!0}return i.prototype.clear=function(){this.seriesCount=0;this.seriesIndex=0},i.prototype._renderLabels=function(i,r,u,f,e){var a=u.length,o=f.dataLabel,v=o.border,s=o.offset,y=o.connectingLine,h,c,l;for(s===undefined&&(s=y?16:0),v&&(s-=2),h=0;h<a;h++)c=u[h],l=n.asType(c.tag,t._DataPoint,!0),l&&this._renderLabel(i,c,l,f,o,r,s,e)},i.prototype._renderLabel=function(n,i,r,u,f,e,o,s){var p=f.position,w=f.border,b=f.connectingLine,a=new t.HitTestInfo(u,h),c,h,l,v,y;(a._setDataPoint(r),c=u._getLabelContent(a,f.content),h=this._getLabelPoint(e,r),this._getPointAndPosition(h,p,i,u),u._plotRect.contains(h))&&(l=new t.DataLabelRenderEventArgs(n,a,h,c),f.onRendering(l)||(c=l.text,h=l.point,v=this._renderLabelAndBorder(n,c,p,o,h,b,2,w),v&&(y=new t._RectArea(v),y.tag=r,s.push(y))))},i.prototype._getPointAndPosition=function(n,i,r,u){if(r instanceof t._RectArea){var f=r;u._isRotated()?n.y=f.rect.top+.5*f.rect.height:n.x=f.rect.left+.5*f.rect.width}},i.prototype._getLabelPoint=function(t,i){var r=t._getAxisX(),u=t._getAxisY();return new n.Point(r.convert(i.dataX),u.convert(i.dataY))},i.prototype._renderLabelAndBorder=function(n,i,r,u,f,e,o,s){var h,c='wj-data-label',l='wj-data-label-line';switch(r){case t.LabelPosition.Top:e&&n.drawLine(f.x,f.y,f.x,f.y-u,l);f.y-=o+u;h=t.FlexChart._renderText(n,i,f,1,2,c);break;case t.LabelPosition.Bottom:e&&n.drawLine(f.x,f.y,f.x,f.y+u,l);f.y+=o+u;h=t.FlexChart._renderText(n,i,f,1,0,c);break;case t.LabelPosition.Left:e&&n.drawLine(f.x,f.y,f.x-u,f.y,l);f.x-=o+u;h=t.FlexChart._renderText(n,i,f,2,1,c);break;case t.LabelPosition.Right:e&&n.drawLine(f.x,f.y,f.x+u,f.y,l);f.x+=o+u;h=t.FlexChart._renderText(n,i,f,0,1,c);break;case t.LabelPosition.Center:h=t.FlexChart._renderText(n,i,f,1,1,c)}return s&&h&&n.drawRect(h.left-o,h.top-o,h.width+2*o,h.height+2*o,'wj-data-label-border'),h},i.prototype.getNumOption=function(t,i){var r=this.chart.options;return(i&&(r=r?r[i]:null),r&&r[t])?n.asNumber(r[t],!0):undefined},i.cloneStyle=function(n,t){var r,i;if(!n)return n;r={};for(i in n)t&&t.indexOf(i)>=0||(r[i]=n[i]);return r},i.prototype.isValid=function(i,r){return t._DataInfo.isValid(i)&&t._DataInfo.isValid(r)&&t.FlexChart._contains(this.chart._plotRect,new n.Point(i,r))},i.prototype.load=function(){},i.prototype.unload=function(){},i}();t._BasePlotter=i})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var i=function(i){function r(){i.apply(this,arguments);this.origin=0;this.width=.7;this.isVolume=!1;this._volHelper=null;this.stackPosMap={};this.stackNegMap={};this.stacking=t.Stacking.None}return __extends(r,i),r.prototype.clear=function(){i.prototype.clear.call(this);this.stackNegMap[this.chart.axisY._uniqueId]={};this.stackPosMap[this.chart.axisY._uniqueId]={};this._volHelper=null},r.prototype.load=function(){var r,e,f,s,l,u,h,o,a,v,c;if(i.prototype.load.call(this),this.isVolume)for(a=null,v=null,u=0;u<this.chart.series.length;u++){if(r=this.chart.series[u],l=r.getDataType(1)||r.chart._xDataType,e=r._getAxisX(),f=r._getChartType(),f=f===null||n.isUndefined(f)?this.chart._getChartType():f,s=f===t.ChartType.Column?r._getBindingValues(1):f===t.ChartType.Candlestick?r._getBindingValues(4):null,l===n.DataType.Date)for(h=[],o=[],u=0;u<r._getLength();u++)c=r._getItem(u)[r.bindingX].valueOf(),h.push(c),o.push({value:c,text:n.Globalize.format(new Date(c),e.format||"d")});else h=this.dataInfo.getXVals();if(a=this.dataInfo.getMinX(),v=this.dataInfo.getMaxX(),s&&s.length>0){this._volHelper=new t._VolumeHelper(s,h,a,v,l);e._customConvert=this._volHelper.convert.bind(this._volHelper);e._customConvertBack=this._volHelper.convertBack.bind(this._volHelper);o&&o.length>0&&(this._itemsSource=e.itemsSource=o);break}}},r.prototype.unload=function(){var r,n,t;for(i.prototype.unload.call(this),t=0;t<this.chart.series.length;t++)r=this.chart.series[t],n=r._getAxisX(),n&&(n._customConvert=null,n._customConvertBack=null,n.itemsSource&&n.itemsSource==this._itemsSource&&(this._itemsSource=n.itemsSource=null))},r.prototype.adjustLimits=function(i){this.dataInfo=i;var e=i.getMinX(),r=i.getMinY(),o=i.getMaxX(),u=i.getMaxY(),f=i.getDeltaX();return f<=0&&(f=1),this.isVolume&&(this.chart._getChartType()===t.ChartType.Column||this.chart._getChartType()===t.ChartType.Candlestick)?this.load():this.unload(),this.rotated?(this.chart.axisY.logBase||(this.origin>u?u=this.origin:this.origin<r&&(r=this.origin)),new n.Rect(r,e-.5*f,u-r,o-e+f)):(this.chart.axisY.logBase||(this.origin>u?u=this.origin:this.origin<r&&(r=this.origin)),new n.Rect(e-.5*f,r,o-e+f,u-r))},r.prototype.plotSeries=function(i,r,u,f,e,o,s,h){var ht=[],rt=this.chart.series.indexOf(f),ot=n.asType(f,t.SeriesBase),wi=this.chart.options,tt=this.width,it=0,gt,ct,nt,ei,ri,ai,a,l,v,y,w,p,li,k,d,b,ui,c,dt,g,pi,ft;o=o||0;s=s||1;wi&&wi.groupWidth&&(gt=wi.groupWidth,n.isNumber(gt)?(nt=n.asNumber(gt),isFinite(nt)&&nt>0&&(it=nt,tt=1)):n.isString(gt)&&(ct=n.asString(gt),ct&&ct.indexOf('%')>=0?(ct=ct.replace('%',''),nt=parseFloat(ct),isFinite(nt)&&(nt<0?nt=0:nt>100&&(nt=100),it=0,tt=nt/100)):(nt=parseFloat(ct),isFinite(nt)&&nt>0&&(it=nt,tt=1))));var ni=tt/s,bi=ot._getAxisY()._uniqueId,vt=this.stackNegMap[bi],yt=this.stackPosMap[bi],fi=f.getValues(0),et=f.getValues(1);if(fi){et||(et=this.dataInfo.getXVals());et&&(ei=this.dataInfo.getDeltaX(),ei>0&&(tt*=ei,ni*=ei));var lt=ot._getSymbolFill(rt),pt=ot._getAltSymbolFill(rt)||lt,at=ot._getSymbolStroke(rt),wt=ot._getAltSymbolStroke(rt)||at,bt=fi.length;et!=null&&(bt=Math.min(bt,et.length));var ut=this.origin,st=0,oi,si,ti=this.stacking!=t.Stacking.None,ii=this.stacking==t.Stacking.Stacked100pc;if(ot._getChartType()!==undefined&&(ti=ii=!1),this.rotated){ut<r.actualMin?ut=r.actualMin:ut>r.actualMax&&(ut=r.actualMax);ot._isCustomAxisY()&&(ti=ii=!1);var kt=r.convert(ut),vi=u.actualMin,yi=u.actualMax;for(a=0;a<bt;a++)if(l=et?et[a]:a,v=fi[a],this._getSymbolOrigin&&(kt=u.convert(this._getSymbolOrigin(ut,a))),this._getSymbolStyles&&(y=this._getSymbolStyles(a),lt=y&&y.fill?y.fill:lt,pt=y&&y.fill?y.fill:pt,at=y&&y.stroke?y.fill:at,wt=y&&y.stroke?y.fill:wt),oi=v>0?lt:pt,si=v>0?at:wt,i.fill=oi,i.stroke=si,t._DataInfo.isValid(l)&&t._DataInfo.isValid(v))if(ti){if(d=l-.5*tt,b=l+.5*tt,d<vi&&b<vi||d>yi&&b>yi)continue;d=u.convert(d);b=u.convert(b);ii&&(li=this.dataInfo.getStackedAbsSum(l),v=v/li);k=0;v>0?(k=isNaN(yt[l])?0:yt[l],w=r.convert(k),p=r.convert(k+v),yt[l]=k+v):(k=isNaN(vt[l])?0:vt[l],w=r.convert(k),p=r.convert(k+v),vt[l]=k+v);h&&ht.push(new n.Point(p,u.convert(l)));c=new n.Rect(Math.min(w,p),Math.min(d,b),Math.abs(p-w),Math.abs(b-d));it>0&&(g=1-it/c.height,g<0&&(g=0),pi=c.top+.5*c.height,c.top+=(pi-c.top)*g,c.height=Math.min(it,c.height));ft=new t._RectArea(c);this.drawSymbol(i,c,f,a,new n.Point(p,c.top+.5*c.height));f._setPointIndex(a,st);st++;ft.tag=new t._DataPoint(rt,a,k+v,l);this.hitTester.add(ft,rt)}else{if(d=l-.5*tt+o*ni,b=l-.5*tt+(o+1)*ni,d<vi&&b<vi||d>yi&&b>yi)continue;d=u.convert(d);b=u.convert(b);ui=r.convert(v);c=new n.Rect(Math.min(ui,kt),Math.min(d,b),Math.abs(kt-ui),Math.abs(b-d));h&&ht.push(new n.Point(ui,(d+b)/2));it>0&&(dt=it/s,g=1-dt/c.height,g<0&&(g=0),pi=u.convert(l),c.top+=(pi-c.top)*g,c.height=Math.min(dt,c.height));ft=new t._RectArea(c);this.drawSymbol(i,c,f,a,new n.Point(ui,c.top+.5*c.height));f._setPointIndex(a,st);st++;ft.tag=new t._DataPoint(rt,a,v,l);this.hitTester.add(ft,rt)}}else{ut<u.actualMin?ut=u.actualMin:ut>u.actualMax&&(ut=u.actualMax);var kt=u.convert(ut),hi=r.actualMin,ci=r.actualMax;for(ot._isCustomAxisY()&&(ti=ii=!1),a=0;a<bt;a++)if(l=et?et[a]:a,v=fi[a],this._getSymbolOrigin&&(kt=u.convert(this._getSymbolOrigin(ut,a,bt))),this._getSymbolStyles&&(y=this._getSymbolStyles(a,bt),lt=y&&y.fill?y.fill:lt,pt=y&&y.fill?y.fill:pt,at=y&&y.stroke?y.stroke:at,wt=y&&y.stroke?y.stroke:wt),oi=v>0?lt:pt,si=v>0?at:wt,i.fill=oi,i.stroke=si,t._DataInfo.isValid(l)&&t._DataInfo.isValid(v))if(ti){if(w=l-.5*tt,p=l+.5*tt,w<hi&&p<hi||w>ci&&p>ci)continue;if(w=r.convert(w),p=r.convert(p),!t._DataInfo.isValid(w)||!t._DataInfo.isValid(p))continue;ii&&(li=this.dataInfo.getStackedAbsSum(l),v=v/li);k=0;v>0?(k=isNaN(yt[l])?0:yt[l],d=u.convert(k),b=u.convert(k+v),yt[l]=k+v):(k=isNaN(vt[l])?0:vt[l],d=u.convert(k),b=u.convert(k+v),vt[l]=k+v);h&&ht.push(new n.Point(r.convert(l),b));c=new n.Rect(Math.min(w,p),Math.min(d,b),Math.abs(p-w),Math.abs(b-d));it>0&&(g=1-it/c.width,g<0&&(g=0),ai=c.left+.5*c.width,c.left+=(ai-c.left)*g,c.width=Math.min(it,c.width));ft=new t._RectArea(c);this.drawSymbol(i,c,f,a,new n.Point(c.left+.5*c.width,b));f._setPointIndex(a,st);st++;ft.tag=new t._DataPoint(rt,a,l,k+v);this.hitTester.add(ft,rt)}else{if(w=l-.5*tt+o*ni,p=l-.5*tt+(o+1)*ni,w<hi&&p<hi||w>ci&&p>ci)continue;if(w=r.convert(w),p=r.convert(p),!t._DataInfo.isValid(w)||!t._DataInfo.isValid(p))continue;ri=u.convert(v);c=new n.Rect(Math.min(w,p),Math.min(ri,kt),Math.abs(p-w),Math.abs(kt-ri));h&&ht.push(new n.Point((w+p)/2,ri));it>0&&(dt=it/s,g=1-dt/c.width,g<0&&(g=0),ai=r.convert(l),c.left+=(ai-c.left)*g,c.width=Math.min(dt,c.width));ft=new t._RectArea(c);this.drawSymbol(i,c,f,a,new n.Point(c.left+.5*c.width,ri));f._setPointIndex(a,st);st++;ft.tag=new t._DataPoint(rt,a,l,v);this.hitTester.add(ft,rt)}}h&&ht&&ht.length&&h(ht)}},r.prototype.drawSymbol=function(n,i,r,u,f){var o=this,e;this.chart.itemFormatter?(n.startGroup(),e=new t.HitTestInfo(this.chart,f,t.ChartElement.SeriesSymbol),e._setData(r,u),this.chart.itemFormatter(n,e,function(){o.drawDefaultSymbol(n,i,r)}),n.endGroup()):this.drawDefaultSymbol(n,i,r)},r.prototype.drawDefaultSymbol=function(n,t,i){n.drawRect(t.left,t.top,t.width,t.height,null,i.symbolStyle)},r}(t._BasePlotter);t._BarPlotter=i})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var i=function(i){function r(){i.call(this);this.hasSymbols=!1;this.hasLines=!0;this.isSpline=!1;this.stacking=t.Stacking.None;this.stackPos={};this.stackNeg={};this.clipping=!1}return __extends(r,i),r.prototype.clear=function(){i.prototype.clear.call(this);this.stackNeg={};this.stackPos={}},r.prototype.adjustLimits=function(t){var f;this.dataInfo=t;var r=t.getMinX(),i=t.getMinY(),e=t.getMaxX(),u=t.getMaxY();return this.isSpline&&!this.chart.axisY.logBase&&(f=.1*(u-i),i-=f,u+=f),this.rotated?new n.Rect(i,r,u-i,e-r):new n.Rect(r,i,e-r,u-i)},r.prototype.plotSeries=function(i,r,u,f,e,o,s,h){var it=[],y=n.asType(f,t.SeriesBase),v=this.chart.series.indexOf(f),tt=f.getValues(0),d=f.getValues(1),ut,ft,pt,et,ct,wt,lt,nt,p,k,c,l,a;if(tt){d||(d=this.dataInfo.getXVals());var ot=t._BasePlotter.cloneStyle(f.style,['fill']),g=tt.length,at=!0;d?g=Math.min(g,d.length):(at=!1,d=new Array(g));var bt=this._DEFAULT_WIDTH,rt=y._getSymbolFill(v),kt=y._getAltSymbolFill(v)||rt,st=y._getSymbolStroke(v),dt=y._getAltSymbolStroke(v)||st,ht=y._getSymbolSize();i.stroke=st;i.strokeWidth=bt;i.fill=rt;var w=[],b=[],gt=this.rotated,vt=this.stacking!=t.Stacking.None&&!y._isCustomAxisY(),yt=this.stacking==t.Stacking.Stacked100pc&&!y._isCustomAxisY();for(y._getChartType()!==undefined&&(vt=yt=!1),ut=this.chart.interpolateNulls,ft=!1,c=0;c<g;c++)l=at?d[c]:c,a=tt[c],t._DataInfo.isValid(l)&&t._DataInfo.isValid(a)?(vt&&(yt&&(pt=this.dataInfo.getStackedAbsSum(l),a=a/pt),a>=0?(et=isNaN(this.stackPos[l])?0:this.stackPos[l],a=this.stackPos[l]=et+a):(et=isNaN(this.stackNeg[l])?0:this.stackNeg[l],a=this.stackNeg[l]=et+a)),gt?(ct=new t._DataPoint(v,c,a,l),wt=r.convert(a),a=u.convert(l),l=wt):(ct=new t._DataPoint(v,c,l,a),l=r.convert(l),a=u.convert(a)),isNaN(l)||isNaN(a)?(ft=!0,ut!==!0&&(w.push(undefined),b.push(undefined))):(w.push(l),b.push(a),h&&it.push(new n.Point(l,a)),lt=new t._CircleArea(new n.Point(l,a),.5*ht),lt.tag=ct,this.hitTester.add(lt,v))):(ft=!0,ut!==!0&&(w.push(undefined),b.push(undefined)));if(nt=0,this.hasLines)if(i.fill=null,ft&&ut!==!0){for(p=[],k=[],c=0;c<g;c++)w[c]===undefined?(p.length>1&&(this._drawLines(i,p,k,null,ot,this.chart._plotrectId),this.hitTester.add(new t._LinesArea(p,k),v),nt++),p=[],k=[]):(p.push(w[c]),k.push(b[c]));p.length>1&&(this._drawLines(i,p,k,null,ot,this.chart._plotrectId),this.hitTester.add(new t._LinesArea(p,k),v),nt++)}else this._drawLines(i,w,b,null,ot,this.chart._plotrectId),this.hitTester.add(new t._LinesArea(w,b),v),nt++;if((this.hasSymbols||this.chart.itemFormatter)&&ht>0)for(i.fill=rt,c=0;c<g;c++)l=w[c],a=b[c],this.hasLines===!1&&(i.fill=tt[c]>0?rt:kt,i.stroke=tt[c]>0?st:dt),this.isValid(l,a,r,u)&&(this._drawSymbol(i,l,a,ht,y,c),f._setPointIndex(c,nt),nt++);h&&it&&it.length&&h(it)}},r.prototype._drawLines=function(n,t,i,r,u,f){this.isSpline?n.drawSplines(t,i,r,u,f):n.drawLines(t,i,r,u,f)},r.prototype._drawSymbol=function(i,r,u,f,e,o){var h=this,s;this.chart.itemFormatter?(i.startGroup(),s=new t.HitTestInfo(this.chart,new n.Point(r,u),t.ChartElement.SeriesSymbol),s._setData(e,o),this.chart.itemFormatter(i,s,function(){h.hasSymbols&&h._drawDefaultSymbol(i,r,u,f,e.symbolMarker,e.symbolStyle)}),i.endGroup()):this._drawDefaultSymbol(i,r,u,f,e.symbolMarker,e.symbolStyle)},r.prototype._drawDefaultSymbol=function(n,i,r,u,f,e){f==t.Marker.Dot?n.drawEllipse(i,r,.5*u,.5*u,null,e):f==t.Marker.Box&&n.drawRect(i-.5*u,r-.5*u,u,u,null,e)},r}(t._BasePlotter);t._LinePlotter=i})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var i=function(i){function r(){i.call(this);this.stacking=t.Stacking.None;this.isSpline=!1;this.stackPos={};this.stackNeg={}}return __extends(r,i),r.prototype.adjustLimits=function(t){var f;this.dataInfo=t;var r=t.getMinX(),i=t.getMinY(),e=t.getMaxX(),u=t.getMaxY();return this.isSpline&&(f=.1*(u-i),this.chart.axisY.logBase||(i-=f),u+=f),this.rotated?new n.Rect(i,r,u-i,e-r):new n.Rect(r,i,e-r,u-i)},r.prototype.clear=function(){i.prototype.clear.call(this);this.stackNeg={};this.stackPos={}},r.prototype.plotSeries=function(i,r,u,f,e,o,s,h){var ct=[],d=this.chart.series.indexOf(f),vt=f,yt=f.getValues(0),it=f.getValues(1),rt,pt,v,w,b,ri,k,g,ot,c,y,p,nt,ni;if(yt&&(rt=yt.length,rt)){it||(it=this.dataInfo.getXVals());pt=!0;it?it.length<rt&&(rt=it.length):(pt=!1,it=new Array(rt));var l=[],a=[],ut=[],ft=[],tt=this.stacking!=t.Stacking.None&&!vt._isCustomAxisY(),ti=this.stacking==t.Stacking.Stacked100pc&&!vt._isCustomAxisY();vt._getChartType()!==undefined&&(tt=ti=!1);var et=this.rotated,lt=!1,at=this.chart.interpolateNulls,st=null,ht=null,ii=this.chart._plotRect;for(p=0;p<rt;p++)v=pt?it[p]:p,w=yt[p],(st===null||v>st)&&(st=v),(ht===null||v<ht)&&(ht=v),t._DataInfo.isValid(v)&&t._DataInfo.isValid(w)?(b=et?u.convert(v):r.convert(v),tt&&(ti&&(ri=this.dataInfo.getStackedAbsSum(v),w=w/ri),k=0,w>=0?(k=isNaN(this.stackPos[v])?0:this.stackPos[v],w=this.stackPos[v]=k+w):(k=isNaN(this.stackNeg[v])?0:this.stackNeg[v],w=this.stackNeg[v]=k+w),et?(k<r.actualMin&&(k=r.actualMin),ut.push(r.convert(k)),ft.push(b)):(ut.push(b),k<u.actualMin&&(k=u.actualMin),ft.push(u.convert(k)))),et?(g=r.convert(w),isNaN(b)||isNaN(g)?(lt=!0,tt||at===!0||(l.push(undefined),a.push(undefined))):(l.push(g),a.push(b),t.FlexChart._contains(ii,new n.Point(g,b))&&(ot=new t._CircleArea(new n.Point(g,b),this._DEFAULT_SYM_SIZE),ot.tag=new t._DataPoint(d,p,w,v),this.hitTester.add(ot,d)))):(g=u.convert(w),isNaN(b)||isNaN(g)?(lt=!0,tt||at===!0||(l.push(undefined),a.push(undefined))):(l.push(b),a.push(g),t.FlexChart._contains(ii,new n.Point(b,g))&&(ot=new t._CircleArea(new n.Point(b,g),this._DEFAULT_SYM_SIZE),ot.tag=new t._DataPoint(d,p,v,w),this.hitTester.add(ot,d))))):(lt=!0,tt||at===!0||(l.push(undefined),a.push(undefined)));h&&l.forEach(function(t,i){t!=null&&ct.push(new n.Point(t,a[i]))});var wt=this._DEFAULT_WIDTH,bt=e._getColorLight(d),kt=e._getColor(d),dt=t._BasePlotter.cloneStyle(f.style,['fill']),gt=t._BasePlotter.cloneStyle(f.style,['stroke']);if(!tt&&at!==!0&&lt){for(c=[],y=[],p=0;p<rt;p++)l[p]===undefined?(c.length>1&&(this.isSpline&&(nt=this._convertToSpline(c,y),c=nt.xs,y=nt.ys),i.stroke=kt,i.strokeWidth=wt,i.fill='none',i.drawLines(c,y,null,dt),this.hitTester.add(new t._LinesArea(c,y),d),et?(c.push(r.convert(r.actualMin),r.convert(r.actualMin)),y.push(u.convert(u.actualMax),u.convert(u.actualMin))):(c.push(c[c.length-1],c[0]),y.push(u.convert(u.actualMin),u.convert(u.actualMin))),i.fill=bt,i.stroke='none',i.drawPolygon(c,y,null,gt)),c=[],y=[]):(c.push(l[p]),y.push(a[p]));c.length>1&&(this.isSpline&&(nt=this._convertToSpline(c,y),c=nt.xs,y=nt.ys),i.stroke=kt,i.strokeWidth=wt,i.fill='none',i.drawLines(c,y,null,dt),this.hitTester.add(new t._LinesArea(c,y),d),et?(c.push(r.convert(r.actualMin),r.convert(r.actualMin)),y.push(u.convert(u.actualMax),u.convert(u.actualMin))):(c.push(c[c.length-1],c[0]),y.push(u.convert(u.actualMin),u.convert(u.actualMin))),i.fill=bt,i.stroke='none',i.drawPolygon(c,y,null,gt))}else this.isSpline&&(nt=this._convertToSpline(l,a),l=nt.xs,a=nt.ys),tt?(this.isSpline&&(ni=this._convertToSpline(ut,ft),ut=ni.xs,ft=ni.ys),l=l.concat(ut.reverse()),a=a.concat(ft.reverse())):et?(l.push(r.convert(r.actualMin),r.convert(r.actualMin)),a.push(u.convert(st),u.convert(ht))):(l.push(r.convert(st),r.convert(ht)),a.push(u.convert(u.actualMin),u.convert(u.actualMin))),i.fill=bt,i.stroke='none',i.drawPolygon(l,a,null,gt),tt?(l=l.slice(0,l.length-ut.length),a=a.slice(0,a.length-ft.length)):(l=l.slice(0,l.length-2),a=a.slice(0,a.length-2)),i.stroke=kt,i.strokeWidth=wt,i.fill='none',i.drawLines(l,a,null,dt),this.hitTester.add(new t._LinesArea(l,a),d);this._drawSymbols(i,f,d);h&&ct&&ct.length&&h(ct)}},r.prototype._convertToSpline=function(n,i){if(n&&i){var u=new t._Spline(n,i),r=u.calculate();return{xs:r.xs,ys:r.ys}}return{xs:n,ys:i}},r.prototype._drawSymbols=function(i,r,u){var o,f,e,h,s;if(this.chart.itemFormatter!=null)for(o=this.hitTester._map[u],f=0;f<o.length;f++)e=n.tryCast(o[f],t._CircleArea),e&&(h=e.tag,i.startGroup(),s=new t.HitTestInfo(this.chart,e.center,t.ChartElement.SeriesSymbol),s._setDataPoint(h),this.chart.itemFormatter(i,s,function(){}),i.endGroup())},r}(t._BasePlotter);t._AreaPlotter=i})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var i=function(i){function r(){i.call(this);this._MIN_SIZE=5;this._MAX_SIZE=30;this.hasLines=!1;this.hasSymbols=!0;this.clipping=!0}return __extends(r,i),r.prototype.adjustLimits=function(n,r){var v=this.getNumOption('minSize','bubble'),c,h,p,u,w,f,b,l,k,a;this._minSize=v?v:this._MIN_SIZE;c=this.getNumOption('maxSize','bubble');this._maxSize=c?c:this._MAX_SIZE;var y=this.chart.series,d=y.length,o=NaN,s=NaN;for(h=0;h<d;h++)if(p=y[h],u=p._getBindingValues(1),u)for(w=u.length,f=0;f<w;f++)t._DataInfo.isValid(u[f])&&((isNaN(o)||u[f]<o)&&(o=u[f]),(isNaN(s)||u[f]>s)&&(s=u[f]));this._minValue=o;this._maxValue=s;var e=i.prototype.adjustLimits.call(this,n,r),g=this.chart.axisX,nt=this.chart.axisY;return g.logBase<=0&&(b=r.width-this._maxSize,l=b/e.width,e.left-=this._maxSize*.5/l,e.width+=this._maxSize/l),nt.logBase<=0&&(k=r.height-this._maxSize,a=k/e.height,e.top-=this._maxSize*.5/a,e.height+=this._maxSize/a),e},r.prototype._drawSymbol=function(i,r,u,f,e,o){var b=this,y=e._getItem(o),l,f,p,a,s,w,h,c,v;if(y&&(l=e._getBinding(1),l&&(f=y[l],t._DataInfo.isValid(f)&&(p=this._minValue==this._maxValue?1:Math.sqrt((f-this._minValue)/(this._maxValue-this._minValue)),f=this._minSize+(this._maxSize-this._minSize)*p,this.chart.itemFormatter?(a=new t.HitTestInfo(this.chart,new n.Point(r,u),t.ChartElement.SeriesSymbol),a._setData(e,o),i.startGroup(),this.chart.itemFormatter(i,a,function(){b._drawDefaultSymbol(i,r,u,f,e.symbolMarker,e.symbolStyle)}),i.endGroup()):this._drawDefaultSymbol(i,r,u,f,e.symbolMarker,e.symbolStyle),s=this.hitTester._map[this.chart.series.indexOf(e)],s!=null))))for(w=s.length,h=w-1;h>=0;h--)c=s[h],c.tag&&c.tag.pointIndex==o&&(v=n.tryCast(c,t._CircleArea),v&&v.setRadius(.5*f))},r}(t._LinePlotter);t._BubblePlotter=i})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var i=function(i){function r(){i.apply(this,arguments);this.isCandle=!0;this.isArms=!1;this.isEqui=!1;this.isVolume=!1;this._volHelper=null;this._symWidth=.7}return __extends(r,i),r.prototype.clear=function(){i.prototype.clear.call(this);this._volHelper=null},r.prototype.load=function(){var r,e,f,s,l,u,h,o,a,v,c;if(i.prototype.load.call(this),this.isVolume)for(a=null,v=null,u=0;u<this.chart.series.length;u++){if(r=this.chart.series[u],l=r.getDataType(1)||r.chart._xDataType,e=r._getAxisX(),f=r._getChartType(),f=f===null||n.isUndefined(f)?this.chart._getChartType():f,s=f===t.ChartType.Column?r._getBindingValues(1):f===t.ChartType.Candlestick?r._getBindingValues(4):null,l===n.DataType.Date)for(h=[],o=[],u=0;u<r._getLength();u++)c=r._getItem(u)[r.bindingX].valueOf(),h.push(c),o.push({value:c,text:n.Globalize.format(new Date(c),e.format||"d")});else h=this.dataInfo.getXVals();if(a=this.dataInfo.getMinX(),v=this.dataInfo.getMaxX(),s&&s.length>0){this._volHelper=new t._VolumeHelper(s,h,a,v,l);e._customConvert=this._volHelper.convert.bind(this._volHelper);e._customConvertBack=this._volHelper.convertBack.bind(this._volHelper);o&&o.length>0&&(this._itemsSource=e.itemsSource=o);break}}},r.prototype.unload=function(){var r,n,t;for(i.prototype.unload.call(this),t=0;t<this.chart.series.length;t++)r=this.chart.series[t],n=r._getAxisX(),n&&(n._customConvert=null,n._customConvertBack=null,n.itemsSource&&n.itemsSource==this._itemsSource&&(this._itemsSource=n.itemsSource=null))},r.prototype.parseSymbolWidth=function(t){var u,r,i;this._isPixel=undefined;t&&(n.isNumber(t)?(u=n.asNumber(t),isFinite(u)&&u>0&&(this._symWidth=u,this._isPixel=!0)):n.isString(t)&&(r=n.asString(t),r&&r.indexOf('%')>=0?(r=r.replace('%',''),i=parseFloat(r),isFinite(i)&&(i<0?i=0:i>100&&(i=100),this._symWidth=i/100,this._isPixel=!1)):(i=parseFloat(t),isFinite(i)&&i>0&&(this._symWidth=i,this._isPixel=!0))))},r.prototype.adjustLimits=function(i){var a,u,s,v,h,tt,o,c,y;this.dataInfo=i;var f=i.getMinX(),r=i.getMinY(),p=i.getMaxX(),e=i.getMaxY(),l=i.getDeltaX(),it=this.chart._xDataType;l<=0&&(l=1);var w=this.chart.series,rt=w.length,b=0;for(this.parseSymbolWidth(this.symbolWidth),this.isVolume&&(this.chart._getChartType()===t.ChartType.Column||this.chart._getChartType()===t.ChartType.Candlestick)?this.load():this.unload(),a=0;a<rt;a++)if(u=w[a],!u._isCustomAxisY()){var k=u._getBinding(1),d=u._getBinding(2),g=u._getBinding(3),nt=u._getLength();if(nt)for(s=u._getSymbolSize(),s>b&&(b=s),v=0;v<nt;v++)h=u._getItem(v),h&&(tt=[k?h[k]:null,d?h[d]:null,g?h[g]:null],tt.forEach(function(n){t._DataInfo.isValid(n)&&n!==null&&((isNaN(r)||n<r)&&(r=n),(isNaN(e)||n>e)&&(e=n))}))}return o=p-f,c=this.chart._plotRect,c&&c.width&&!this.isVolume&&(s+=2,y=c.width/(c.width-s)*o,f=f-.5*(y-o),o=y),it===n.DataType.Date&&this.isVolume&&(this.chart._getChartType()===t.ChartType.Column||this.chart._getChartType()===t.ChartType.Candlestick)?new n.Rect(f-.5*l,r,p-f+l,e-r):this.chart._isRotated()?new n.Rect(r,f,e-r,o):new n.Rect(f,r,o,e-r)},r.prototype.plotSeries=function(i,r,u,f){var yt=this,o=n.asType(f,t.SeriesBase),a=this.chart.series.indexOf(f),d=f.getValues(0),c=f.getValues(1),ft=this._symWidth,et=this.chart._isRotated(),g,v,nt,e,l,ut;if(d){c||(c=this.dataInfo.getXVals());c&&(g=this.dataInfo.getDeltaX(),g>0&&this._isPixel===!1&&(ft*=g));v=d.length;nt=!0;c?v=Math.min(v,c.length):(nt=!1,c=new Array(v));var pt=this._DEFAULT_WIDTH,tt=o._getSymbolFill(a),ot=o._getAltSymbolFill(a)||"transparent",w=o._getSymbolStroke(a),st=o._getAltSymbolStroke(a)||w,ht=this._isPixel===undefined?o._getSymbolSize():ft;i.stroke=w;i.strokeWidth=pt;i.fill=tt;var ct=o._getBinding(1),lt=o._getBinding(2),h=o._getBinding(3),wt=et?u.actualMin:r.actualMin,bt=et?u.actualMax:r.actualMax,at=0,y,it,s=null,p=null;for(e=0;e<v;e++)if(s=o._getItem(e),s){if(l=nt?c[e]:e,t._DataInfo.isValid(l)&&wt<=l&&l<=bt){var rt=d[e],vt=ct?s[ct]:null,b=lt?s[lt]:null,k=h?s[h]:null;i.startGroup();this.isEqui&&p!==null?p[h]!==s[h]&&(y=p[h]<s[h]?ot:tt,it=p[h]<s[h]?st:w):(y=b<k?ot:tt,it=b<k?st:w);i.fill=y;i.stroke=it;this.chart.itemFormatter?(ut=new t.HitTestInfo(this.chart,new n.Point(r.convert(l),u.convert(rt)),t.ChartElement.SeriesSymbol),ut._setData(o,e),this.chart.itemFormatter(i,ut,function(){yt._drawSymbol(i,r,u,a,e,y,ht,l,rt,vt,b,k)})):this._drawSymbol(i,r,u,a,e,y,ht,l,rt,vt,b,k);i.endGroup();f._setPointIndex(e,at);at++}p=s}}},r.prototype._drawSymbol=function(i,r,u,f,e,o,s,h,c,l,a,v){var g=new t._DataPoint(f,e,h,c),k,y=null,w=null,p=null,b=null,d=this.chart._isRotated(),nt,tt;d&&(nt=u,u=r,r=nt);this._isPixel===!1&&(p=r.convert(h-.5*s),b=r.convert(h+.5*s),p>b&&(tt=p,p=b,b=tt));h=r.convert(h);this._isPixel!==!1&&(p=h-.5*s,b=h+.5*s);this.isCandle?(t._DataInfo.isValid(a)&&t._DataInfo.isValid(v)&&(a=u.convert(a),v=u.convert(v),y=Math.min(a,v),w=y+Math.abs(a-v),d?(i.drawRect(y,p,w-y,b-p),k=new t._RectArea(new n.Rect(y,p,w-y,b-p))):(i.drawRect(p,y,b-p,w-y),k=new t._RectArea(new n.Rect(p,y,b-p,w-y))),k.tag=g,this.hitTester.add(k,f)),t._DataInfo.isValid(c)&&(c=u.convert(c),y!==null&&(d?i.drawLine(w,h,c,h):i.drawLine(h,y,h,c))),t._DataInfo.isValid(l)&&(l=u.convert(l),w!==null&&(d?i.drawLine(y,h,l,h):i.drawLine(h,w,h,l)))):this.isEqui?t._DataInfo.isValid(c)&&t._DataInfo.isValid(l)&&(c=u.convert(c),l=u.convert(l),y=Math.min(c,l),w=y+Math.abs(c-l),i.drawRect(p,y,b-p,w-y),k=new t._RectArea(new n.Rect(p,y,b-p,w-y)),k.tag=g,this.hitTester.add(k,f)):this.isArms?(t._DataInfo.isValid(a)&&t._DataInfo.isValid(v)&&(a=u.convert(a),v=u.convert(v),y=Math.min(a,v),w=y+Math.abs(a-v),i.drawRect(p,y,b-p,w-y)),t._DataInfo.isValid(c)&&y!==null&&(c=u.convert(c),i.drawLine(h,y,h,c)),t._DataInfo.isValid(l)&&w!==null&&(l=u.convert(l),i.drawLine(h,w,h,l)),t._DataInfo.isValid(c)&&t._DataInfo.isValid(l)&&(i.fill="transparent",y=Math.min(c,l),w=y+Math.abs(c-l),i.drawRect(p,y,b-p,w-y),k=new t._RectArea(new n.Rect(p,y,b-p,w-y)),k.tag=g,this.hitTester.add(k,f))):(t._DataInfo.isValid(c)&&t._DataInfo.isValid(l)&&(c=u.convert(c),l=u.convert(l),y=Math.min(c,l),w=y+Math.abs(c-l),d?(i.drawLine(l,h,c,h),k=new t._RectArea(new n.Rect(y,p,w-y,b-p))):(i.drawLine(h,l,h,c),k=new t._RectArea(new n.Rect(p,y,b-p,w-y))),k.tag=g,this.hitTester.add(k,f)),t._DataInfo.isValid(a)&&(a=u.convert(a),d?i.drawLine(a,p,a,h):i.drawLine(p,a,h,a)),t._DataInfo.isValid(v)&&(v=u.convert(v),d?i.drawLine(v,h,v,b):i.drawLine(h,v,b,v)))},r}(t._BasePlotter);t._FinancePlotter=i})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var r=function(r){function u(){r.apply(this,arguments);this.stacking=t.Stacking.None}return __extends(u,r),u.prototype.adjustLimits=function(t){this.dataInfo=t;var i=t.getMinX(),r=t.getMinY(),u=t.getMaxX(),f=t.getMaxY();return this.rotated?new n.Rect(r,i,f-r,u-i):new n.Rect(i,r,u-i,f-r)},u.prototype.plotSeries=function(r,u,f,e){var lt=this.chart.series.indexOf(e),d,vt,pt,wt,kt,ht,h,ct;if(!(lt>0)){var g=n.asType(e,t.SeriesBase),w=this.chart.options,at=e.getValues(0),nt=e.getValues(1),v=this.chart._plotRect,tt=w&&w.funnel&&w.funnel.neckWidth!=null?w.funnel.neckWidth:.2,it=w&&w.funnel&&w.funnel.neckHeight!=null?w.funnel.neckHeight:0,y=tt*v.width,o=0,ni=0,ti=0,yt=0,ii,et,p,l,b,c=v.left,s=v.top,a=v.width,ri=v.height;if(at){for(y=y?y:1,nt||(nt=this.dataInfo.getXVals()),d=at.length,nt!=null&&(d=Math.min(d,nt.length)),o=0;o<d;o++)ni+=at[o];if(vt=0,w&&w.funnel&&w.funnel.type==='rectangle')for(it=ri/d,tt=a,o=0;o<d;o++){var bt=nt?nt[o]:o,k=at[o],rt,ut=g._getSymbolFill(o),ot=g._getAltSymbolFill(o)||ut,ft=g._getSymbolStroke(o),st=g._getAltSymbolStroke(o)||ft;this._getSymbolStyles&&(h=this._getSymbolStyles(o,d),ut=h&&h.fill?h.fill:ut,ot=h&&h.fill?h.fill:ot,ft=h&&h.stroke?h.stroke:ft,st=h&&h.stroke?h.stroke:st);pt=k>0?ut:ot;wt=k>0?ft:st;r.fill=pt;r.stroke=wt;t._DataInfo.isValid(bt)&&t._DataInfo.isValid(k)&&(kt||(kt=a/k),ht=kt*k,c=c+(tt-ht)/2,r.drawRect(c,s,ht,it),rt=new i(new n.Point(c,s),ht,it,ht,it),s=s+it,tt=ht,rt.tag=new t._DataPoint(lt,o,bt,k),this.hitTester.add(rt,lt),e._setPointIndex(o,vt),vt++)}else for(ti=v.left+v.width*(1-tt)/2,yt=v.top+v.height*(1-it),et=(1-tt)*v.width/2/(v.height*(1-it)),(isNaN(et)||!isFinite(et))&&(a=y,c=ti,s=yt),ii=v.width*tt*v.height+v.width*(1-tt)/2*v.height*(1-it),o=0;o<d;o++){var bt=nt?nt[o]:o,k=at[o],dt=[],gt=[],rt,ut=g._getSymbolFill(o),ot=g._getAltSymbolFill(o)||ut,ft=g._getSymbolStroke(o),st=g._getAltSymbolStroke(o)||ft;this._getSymbolStyles&&(h=this._getSymbolStyles(o,d),ut=h&&h.fill?h.fill:ut,ot=h&&h.fill?h.fill:ot,ft=h&&h.stroke?h.stroke:ft,st=h&&h.stroke?h.stroke:st);pt=k>0?ut:ot;wt=k>0?ft:st;r.fill=pt;r.stroke=wt;t._DataInfo.isValid(bt)&&t._DataInfo.isValid(k)&&(ct=ii*k/ni,a>y?(l=this._getTrapezoidOffsetY(a,ct,et),s+l<yt?(p=et*l,dt=[c,c+p,c+a-p,c+a],gt=[s,s+l,s+l,s],rt=new i(new n.Point(c,s),a,l,a-p*2,0),a=a-2*p,c=c+p,s=s+l):(l=yt-s,p=et*l,ct=ct-this._getTrapezoidArea(a,et,l),b=ct/y,dt.push(c,c+p,c+p,c+p+y,c+p+y,c+a),gt.push(s,s+l,s+l+b,s+l+b,s+l,s),rt=new i(new n.Point(c,s),a,l+b,y,b),a=y,c=c+p,s=s+l+b),r.drawPolygon(dt,gt)):(b=ct/y,r.drawRect(c,s,a,b),rt=new i(new n.Point(c,s),y,b,y,b),s=s+b),rt.tag=new t._DataPoint(lt,o,bt,k),this.hitTester.add(rt,lt),e._setPointIndex(o,vt),vt++)}}}},u.prototype._getTrapezoidArea=function(n,t,i){var r=i*t;return r*i+(n-2*r)*i},u.prototype._getTrapezoidOffsetY=function(n,t,i){var r=Math.pow(n/2/i,2)-t/i;return n/2/i-Math.sqrt(r>=0?r:0)},u.prototype.drawSymbol=function(n,i,r,u,f){var o=this,e;this.chart.itemFormatter?(n.startGroup(),e=new t.HitTestInfo(this.chart,f,t.ChartElement.SeriesSymbol),e._setData(r,u),this.chart.itemFormatter(n,e,function(){o.drawDefaultSymbol(n,i,r)}),n.endGroup()):this.drawDefaultSymbol(n,i,r)},u.prototype.drawDefaultSymbol=function(n,t,i){n.drawRect(t.left,t.top,t.width,t.height,null,i.symbolStyle)},u.prototype._getPointAndPosition=function(n,i,r){var u=r;n.x=u.center.x;n.y=u.center.y;i=i==null?t.LabelPosition.Center:i},u}(t._BasePlotter),i;t._FunnelPlotter=r;i=function(){function t(t,i,r,u,f){this._startPoint=t;this._width=i;this._height=r;this._neckWidth=u;this._neckHeight=f;this._center=new n.Point(this._startPoint.x+i/2,this._startPoint.y+r/2);this._offsetX=(i-u)/2;this._offsetY=r-f}return t.prototype.contains=function(n){var t=this._startPoint,i=this._offsetX,r=this._offsetY;if(n.x>=t.x&&n.x<=t.x+this._width&&n.y>=t.y&&n.y<=t.y+this._height){if(n.x>=t.x+i&&n.x<=t.x+this._width-i)return!0;if(n.y>t.y+r)return!1;if(n.x<this._center.x)return(n.y-t.y)/(n.x-t.x)<r/i;if(n.x>this._center.x)return(n.y-t.y)/(t.x+this._width-n.x)<r/i}return!1},t.prototype.distance=function(n){if(this.contains(n))return 0;var t=this._startPoint,i=this._width,f=this._height,r=this._offsetX,u=this._offsetY;if(n.y<t.y)return n.x<t.x?Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2)):n.x>t.x+i?Math.sqrt(Math.pow(n.x-t.x-i,2)+Math.pow(t.y-n.y,2)):t.y-n.y;if(n.y>t.y+f)return n.x<t.x?Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(n.y-t.y-f,2)):n.x>t.x+i?Math.sqrt(Math.pow(n.x-t.x-i,2)+Math.pow(n.y-t.y-f,2)):n.y-t.y-f;if(n.y>t.y+u){if(n.x<t.x+r)return t.x+r-n.x;if(n.x>t.x+i-r)return n.x-t.x-i+r}else return n.x<t.x+r?Math.min(Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(n.y-t.y,2)),Math.sqrt(Math.pow(n.x-r/2-t.x,2)+Math.pow(n.y-u/2-t.y,2)),Math.sqrt(Math.pow(n.x-r-t.x,2)+Math.pow(n.y-u-t.y,2))):Math.min(Math.sqrt(Math.pow(n.x-i-t.x,2)+Math.pow(n.y-t.y,2)),Math.sqrt(Math.pow(n.x-i+r/2-t.x,2)+Math.pow(n.y-u/2-t.y,2)),Math.sqrt(Math.pow(n.x-i+r-t.x,2)+Math.pow(n.y-u-t.y,2)));return undefined},Object.defineProperty(t.prototype,"center",{get:function(){return this._center},enumerable:!0,configurable:!0}),t}();t._FunnelSegment=i})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={})),function(n){var t;(function(t){"use strict";var i=function(){function t(t,i,r,u,f){this._volumes=n.asArray(t);this._xVals=n.asArray(i);this._xDataMin=n.asNumber(r,!0,!1);this._xDataMax=n.asNumber(u,!0,!1);this._xDataType=n.asEnum(f,n.DataType,!0);this._calcData=[];this._init()}return t.prototype.convert=function(i,r,u){var s=undefined,o=this._calcData.length,f=-1,e;if(this._hasXs&&this._xDataType===n.DataType.Date){if(f=this._xVals.indexOf(i),f===-1)for(e=0;e<this._xVals.length;e++)if(e<this._xVals.length-1&&this._xVals[e]<=i&&i<=this._xVals[e+1]){f=e;break}else if(e===0&&i<=this._xVals[e]){f=e;break}else if(e===this._xVals.length-1&&this._xVals[e]<=i){f=e;break}f===-1&&(f=this._xVals.indexOf(Math.floor(i)),f=n.clamp(f,0,o-1))}else this._hasXs?(f=this._xVals.indexOf(i),f===-1&&(f=this._xVals.indexOf(Math.floor(i)),f=n.clamp(f,0,o-1))):f=n.clamp(Math.round(i),0,o-1);return 0<=f&&f<o&&(this._hasXs&&(i=t.convertToRange(i,0,o-1,this._xDataMin,this._xDataMax)),s=this._calcData[f].value+(i-f)*this._calcData[f].width-.5*this._calcData[f].width,r=this._getXVolume(r),u=this._getXVolume(u),s=(s-r)/(u-r)),s},t.prototype.convertBack=function(n){for(var u=undefined,f=this._calcData.length,r=-1,i=0;i<f;i++)if(this._calcData[i].x1<=n&&n<=this._calcData[i].x2||i===0&&n<=this._calcData[i].x2||i===f-1&&this._calcData[i].x1<=n){r=i;break}return 0<=r&&r<f&&(u=n/this._calcData[r].width-this._calcData[r].value/this._calcData[r].width+.5+i,this._hasXs&&(u=t.convertToRange(u,this._xDataMin,this._xDataMax,0,f-1))),u},t.prototype._init=function(){var r,u,i;this._hasXs=this._xVals!==null&&this._xVals.length>0;this._hasXs&&!n.isNumber(this._xDataMin)&&(this._xDataMin=Math.min.apply(null,this._xVals));this._hasXs&&!n.isNumber(this._xDataMax)&&(this._xDataMax=Math.max.apply(null,this._xVals));this._hasXs&&(this._hasXs=n.isNumber(this._xDataMin)&&n.isNumber(this._xDataMax));this._hasXs&&this._xDataType===n.DataType.Date&&this._fillGaps();for(var f=0,t=0,e=this._volumes!==null&&this._volumes.length>0?this._volumes.length:0,t=0;t<e;t++)f+=this._volumes[t];for(i=0,t=0;t<e;t++)u=this._volumes[t]/f,r=i+u,this._calcData.push({value:r,width:u,x1:i,x2:r}),i=this._calcData[t].value},t.prototype._getXVolume=function(i){var f=this._calcData.length,u=-1,r;if(this._hasXs)for(u=this._xVals.indexOf(i),r=0;r<this._xVals.length;r++)if(r<this._xVals.length-1&&this._xVals[r]<=i&&i<=this._xVals[r+1]){u=r;break}else if(r===0&&i<=this._xVals[r]){u=r;break}else if(r===this._xVals.length-1&&this._xVals[r]<=i){u=r;break}return this._hasXs&&(i=t.convertToRange(i,0,f-1,this._xDataMin,this._xDataMax)),u===-1&&(u=n.clamp(Math.round(i),0,f-1)),this._calcData[u].value+(i-u)*this._calcData[u].width-.5*this._calcData[u].width},t.convertToRange=function(n,t,i,r,u){return t===i||r===u?0:(n-r)*(i-t)/(u-r)+t},t.prototype._fillGaps=function(){if(this._xDataType===n.DataType.Date&&this._xVals!==null&&!(this._xVals.length<=0))for(var t=this._xDataMin,r=this._xDataMax,i=1;t<r;i++)t=new Date(t),t.setDate(t.getDate()+1),t=t.valueOf(),t!==this._xVals[i]&&(this._xVals.splice(i,0,t),this._volumes.splice(i,0,0))},t}();t._VolumeHelper=i})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={}))
/*
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    */
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},wijmo;(function(n){var t;(function(t){var i;(function(i){'use strict';var r=function(i){function r(n){i.call(this);this._chartType=t.ChartType.Line;this._initProperties(n||{})}return __extends(r,i),Object.defineProperty(r.prototype,"sampleCount",{get:function(){return this._sampleCount},set:function(t){t!==this._sampleCount&&(this._sampleCount=n.asNumber(t,!1,!0),this._invalidate())},enumerable:!0,configurable:!0}),r.prototype.approximate=function(){return 0},r.prototype.getValues=function(n){var t=this,r=t.binding,u=t.bindingX;return(r!==t._bind&&(t._bind=r,t.binding=r),u!==t._bindX&&(t._bindX=u,t.bindingX=u),t._originYValues==null&&(t._originYValues=i.prototype.getValues.call(this,0)),t._originXValues==null&&(t._originXValues=i.prototype.getValues.call(this,1)),t._originXValues==null||t._originYValues==null)?null:(i.prototype.getValues.call(this,n),(t._xValues==null||t._yValues==null)&&t._calculateValues(),n===0)?t._yValues||null:n===1?t._xValues||null:void 0},r.prototype._calculateValues=function(){},r.prototype._initProperties=function(n){var i=this,t;i._sampleCount=100;for(t in n)i[t]&&(i[t]=n[t])},r.prototype._invalidate=function(){i.prototype._invalidate.call(this);this._clearCalculatedValues()},r.prototype._clearValues=function(){i.prototype._clearValues.call(this);this._originXValues=null;this._originYValues=null;this._clearCalculatedValues()},r.prototype._clearCalculatedValues=function(){this._xValues=null;this._yValues=null},r}(t.SeriesBase);i.TrendLineBase=r})(i=t.analytics||(t.analytics={}))})(t=n.chart||(n.chart={}))})(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){var i;(function(t){'use strict';var i=function(){function t(){}return t.round=function(n,t){if(!n)return 0;var i=Math.pow(10,t||2);return Math.round(n*i)/i},t.avg=function(n){var i=t.sum(n);return i/n.length},t.sum=function(t){return t=n.asArray(t,!1),t.reduce(function(n,t){return n+t},0)},t.sumOfPow=function(t,i){return t=n.asArray(t,!1),i=n.asNumber(i,!1),t.reduce(function(n,t){return n+Math.pow(t,i)},0)},t.sumProduct=function(){for(var i=[],r=0;r<arguments.length;r++)i[+r]=arguments[r];var s=i.length,e=0,o=[],u,f;for(i=n.asArray(i,!1),i.forEach(function(t,i){t=n.asArray(t,!1);i===0?e=t.length:n.assert(t.length===e,'The length of the arrays must be equal')}),u=0;u<e;u++)f=1,i.some(function(t){var i=t[u];if(i&&n.isNumber(i))f*=i;else return f=0,!0}),o.push(f);return t.sum(o)},t.variance=function(i){i=n.asArray(i,!1);var u=t.avg(i),r;return r=i.map(function(n){return n-u}),t.sumOfSquares(r)/(i.length-1)},t.covariance=function(i,r){i=n.asArray(i,!1);r=n.asArray(r,!1);n.assert(i.length===r.length,'Length of arrays must be equal');for(var o=t.avg(i),s=t.avg(r),f=i.length,e=0,u=0;u<f;u++)e+=(i[u]-o)*(r[u]-s)/f;return e},t.min=function(t){return Math.min.apply(Math,n.asArray(t,!1))},t.max=function(t){return Math.max.apply(Math,n.asArray(t,!1))},t.square=function(t){return Math.pow(n.asNumber(t,!1),2)},t.sumOfSquares=function(n){return t.sumOfPow(n,2)},t.stdDev=function(n){return Math.sqrt(t.variance(n))},t}(),f,e;(function(n){n[n.Linear=0]="Linear";n[n.Exponential=1]="Exponential";n[n.Logarithmic=2]="Logarithmic";n[n.Power=3]="Power";n[n.Fourier=4]="Fourier";n[n.Polynomial=5]="Polynomial";n[n.MinX=6]="MinX";n[n.MinY=7]="MinY";n[n.MaxX=8]="MaxX";n[n.MaxY=9]="MaxY";n[n.AverageX=10]="AverageX";n[n.AverageY=11]="AverageY"})(t.TrendLineFitType||(t.TrendLineFitType={}));f=t.TrendLineFitType;e=function(t){function i(n){t.call(this,n)}return __extends(i,t),Object.defineProperty(i.prototype,"fitType",{get:function(){return this._fitType},set:function(t){t!==this._fitType&&(this._fitType=n.asEnum(t,f,!1),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"order",{get:function(){return this._order},set:function(t){t!==this._order&&(this._order=n.asNumber(t,!1,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"coefficients",{get:function(){return this._helper?this._helper.coefficients:null},enumerable:!0,configurable:!0}),i.prototype._initProperties=function(n){this._fitType=f.Linear;this._order=2;t.prototype._initProperties.call(this,n)},i.prototype._calculateValues=function(){var n=this,t,i,r;i=f[n._fitType];s[i]&&(t=new s[i](n._originYValues,n._originXValues,n.sampleCount,n.order),r=t.calculateValues(),n._yValues=r[0],n._xValues=r[1],n._helper=t)},i.prototype.approximate=function(n){return this._helper.approximate(n)},i.prototype.getEquation=function(n){var t=this,i=t.coefficients,r=i.length;return t._helper==null?'':t._helper.getEquation(n)},i}(t.TrendLineBase);t.TrendLine=e;var h=function(){function n(n,t){this._x=n;this._y=t}return Object.defineProperty(n.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"minX",{get:function(){var n=this;return n._minX==null&&(n._minX=i.min(n._x)),n._minX},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"minY",{get:function(){var n=this;return n._minY==null&&(n._minY=i.min(n._y)),n._minY},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"maxX",{get:function(){var n=this;return n._maxX==null&&(n._maxX=i.max(n._x)),n._maxX},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"maxY",{get:function(){var n=this;return n._maxY==null&&(n._maxY=i.max(n._y)),n._maxY},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"averageX",{get:function(){var n=this;return n._averageX==null&&(n._averageX=i.avg(n._x)),n._averageX},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"averageY",{get:function(){var n=this;return n._averageY==null&&(n._averageY=i.avg(n._y)),n._averageY},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sumX",{get:function(){var n=this;return n._sumX==null&&(n._sumX=i.sum(n._x)),n._sumX},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sumY",{get:function(){var n=this;return n._sumY==null&&(n._sumY=i.sum(n._y)),n._sumY},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"LogX",{get:function(){var n=this;return n._logX==null&&(n._logX=n._x.map(function(n){return Math.log(n)})),n._logX},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"LogY",{get:function(){var n=this;return n._logY==null&&(n._logY=n._y.map(function(n){return Math.log(n)})),n._logY},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sumLogX",{get:function(){var n=this;return n._sumLogX==null&&(n._sumLogX=i.sum(n.LogX)),n._sumLogX},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sumLogY",{get:function(){var n=this;return n._sumLogY==null&&(n._sumLogY=i.sum(n.LogY)),n._sumLogY},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sumOfSquareX",{get:function(){var n=this;return n._sumOfSquareX==null&&(n._sumOfSquareX=i.sumOfSquares(n._x)),n._sumOfSquareX},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sumOfSquareY",{get:function(){var n=this;return n._sumOfSquareY==null&&(n._sumOfSquareY=i.sumOfSquares(n._y)),n._sumOfSquareY},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sumOfSquareLogX",{get:function(){var n=this;return n._sumOfSquareLogX==null&&(n._sumOfSquareLogX=i.sumOfSquares(n.LogX)),n._sumOfSquareLogX},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sumOfSquareLogY",{get:function(){var n=this;return n._sumOfSquareLogY==null&&(n._sumOfSquareLogY=i.sumOfSquares(n.LogY)),n._sumOfSquareLogY},enumerable:!0,configurable:!0}),n.prototype.sumProduct=function(n,t){var r=this;return r._sumProduct==null&&(r._sumProduct=i.sumProduct(n,t)),r._sumProduct},n}(),r=function(){function t(t,i,r){var u=this;u._coefficients=[];u.y=t;u.x=i;n.assert(u.y.length===u.x.length,'Length of X and Y arrays are not equal');u.count=r||t.length;u._calculator=new h(i,t);u.xMin=u._calculator.minX;u.xMax=u._calculator.maxX}return Object.defineProperty(t.prototype,"calculator",{get:function(){return this._calculator},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(t){t!==this.y&&(this._y=n.asArray(t,!1))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(t){t!==this.x&&(this._x=n.asArray(t,!1))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"count",{get:function(){return this._count},set:function(t){t!==this.count&&(this._count=n.asInt(t,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"xMin",{get:function(){return this._xMin},set:function(t){t!==this.xMin&&(this._xMin=n.asNumber(t,!1))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"xMax",{get:function(){return this._xMax},set:function(t){t!==this.xMax&&(this._xMax=n.asNumber(t,!1))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"coefficients",{get:function(){return this._coefficients},enumerable:!0,configurable:!0}),t.prototype._calculateCoefficients=function(){var n=this,i,t;t=n.calcB();i=n.calcA(t);n._coefficients.push(i,t)},t.prototype.calculateValues=function(){for(var n=this,f=(n.xMax-n.xMin)/(n.count-1),t=[[],[]],i,u,r=0;r<n.count;r++)i=n.xMin+f*r,u=n.calcY(i),t[0].push(u),t[1].push(i);return t},t.prototype.calcA=function(n){var t=this,i=t.y.length,r=t.calculator.sumX,u=t.calculator.sumY,n=n?n:t.calcB();return(u-n*r)/i},t.prototype.calcB=function(){var t=this,r=t.y.length,n=t.calculator,f=n.sumProduct(n.x,n.y),u=n.sumX,e=n.sumY,o=n.sumOfSquareX;return(r*f-u*e)/(r*o-i.square(u))},t.prototype.calcY=function(n){var t=this.coefficients;return t[0]+t[1]*n},t.prototype.approximate=function(n){return this.calcY(n)},t.prototype.getEquation=function(n){var n=n?n:this._defaultEquationFmt;return this._getEquation(n)},t.prototype._getEquation=function(n){var i=this.coefficients,t=[];return i.forEach(function(i){t.push(n(i))}),this._concatEquation(t)},t.prototype._concatEquation=function(){return''},t.prototype._defaultEquationFmt=function(n){var r,t,i=Math.abs(n),u=0;return i>=1e5?(t=String(Math.round(i)).length-1,r=Math.round(n/Number('1e'+t)),r+'e'+t):i<.0001?(t=String(i).match(/\.0+/)[1].length-1,r=Math.round(n*Number('1e'+t)),r+'e-'+t):(u=n>0?6:7,i>=1e4&&u--,String(+String(n).substring(0,u)))},t}(),c=function(t){function i(n,i,r,u){t.call(this,n,i,r);this._calculateCoefficients();this.yOffset=u}return __extends(i,t),Object.defineProperty(i.prototype,"yOffset",{get:function(){return this._yOffset},set:function(t){t!==this.yOffset&&(this._yOffset=n.asNumber(t,!0))},enumerable:!0,configurable:!0}),i.prototype.calcA=function(n){return this.yOffset!=null?this.yOffset:t.prototype.calcA.call(this,n)},i.prototype.calcB=function(){return this.yOffset!=null?this._calculateBSimple():t.prototype.calcB.call(this)},i.prototype._calculateBSimple=function(){var t=this,n=t.calculator,i=n.sumProduct(n.x,n.y),r=n.sumX,u=n.sumOfSquareX;return(i-t.yOffset*r)/u},i.prototype._calculateCoefficients=function(){var n=this,i,t;t=n.calcB();i=n.calcA(t);n.coefficients.push(t,i)},i.prototype.calcY=function(n){var t=this.coefficients;return t[0]*n+t[1]},i.prototype._concatEquation=function(n){return'y='+n[0]+'x'+(this.coefficients[1]>=0?'+':'')+n[1]},i}(r),l=function(n){function t(t,i,r){n.call(this,t,i,r);this._calculateCoefficients()}return __extends(t,n),t.prototype.calcA=function(n){var t=this,r=t.y.length,i=t.calculator,u=i.sumY,f=i.sumLogX,n=n?n:t.calcB();return(u-n*f)/r},t.prototype.calcB=function(){var t=this,r=t.y.length,n=t.calculator,f=n.sumProduct(n.y,n.LogX),e=n.sumY,u=n.sumLogX,o=n.sumOfSquareLogX;return(r*f-e*u)/(r*o-i.square(u))},t.prototype._calculateCoefficients=function(){var n=this,i,t;t=n.calcB();i=n.calcA(t);n.coefficients.push(t,i)},t.prototype.calcY=function(n){var t=this.coefficients;return Math.log(n)*t[0]+t[1]},t.prototype._concatEquation=function(n){return'y='+n[0]+'ln(x)'+(this.coefficients[1]>=0?'+':'')+n[1]},t}(r),a=function(n){function t(t,i,r){n.call(this,t,i,r);this._calculateCoefficients()}return __extends(t,n),t.prototype.calcA=function(){var t=this,f=t.y.length,n=t.calculator,e=n.sumLogY,r=n.sumOfSquareX,u=n.sumX,o=n.sumProduct(n.x,n.LogY);return Math.exp((e*r-u*o)/(f*r-i.square(u)))},t.prototype.calcB=function(){var t=this,r=t.y.length,n=t.calculator,f=n.sumLogY,e=n.sumOfSquareX,u=n.sumX,o=n.sumProduct(n.x,n.LogY);return(r*o-u*f)/(r*e-i.square(u))},t.prototype.calcY=function(n){var t=this.coefficients;return t[0]*Math.exp(t[1]*n)},t.prototype._concatEquation=function(n){return'y='+n[0]+'e<sup>'+n[1]+'x</sup>'},t}(r),v=function(n){function t(t,i,r){n.call(this,t,i,r);this._calculateCoefficients()}return __extends(t,n),t.prototype.calcA=function(n){var t=this,i=t.calculator,r=t.y.length,u=i.sumLogX,f=i.sumLogY,n=n?n:t.calcB();return Math.exp((f-n*u)/r)},t.prototype.calcB=function(){var t=this,r=t.y.length,n=t.calculator,f=n.sumProduct(n.LogX,n.LogY),u=n.sumLogX,e=n.sumLogY,o=n.sumOfSquareLogX;return(r*f-u*e)/(r*o-i.square(u))},t.prototype.calcY=function(n){var t=this.coefficients;return t[0]*Math.pow(n,t[1])},t.prototype._concatEquation=function(n){return'y='+n[0]+'x<sup>'+n[1]+'</sup>'},t}(r),o=function(t){function i(n,i,r,u){t.call(this,n,i,r);this._order=u==null?2:u;this._basis=[];this._calculateCoefficients()}return __extends(i,t),Object.defineProperty(i.prototype,"basis",{get:function(){return this._basis},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"order",{get:function(){return this._order},set:function(t){t!==this.order&&(this._order=n.asNumber(t,!0))},enumerable:!0,configurable:!0}),i.prototype._calculateCoefficients=function(){var n=this;n._coefficients.length=n.order;n._createBasis();n._normalizeAndSolveGauss()},i.prototype._createBasis=function(){var n=this.x.length,t=this.order;if(n<2)throw"Incompatible data: Less than 2 data points.";if(t<1)throw"Incompatible data: Less than 1 coefficient in the fit";if(t>n)throw"Incompatible data: Number of data points less than number of terms";},i.prototype._normalizeAndSolveGauss=function(){var n=[];if(this._computeNormalEquations(n),this._genDefValForArray(n,0),!this._solveGauss(n))throw'Incompatible data: No solution.';},i.prototype._genDefValForArray=function(n,t){var i=n.length+1;n.forEach(function(n){for(var r=0;r<i;r++)n[r]==null&&(n[r]=t)})},i.prototype._computeNormalEquations=function(n){for(var f=this,s=f.y,e=f.basis,o=f.order,h=s.length,i,r,u,t=0;t<o;t++)for(r=0,n[t]==null&&(n[t]=[]),s.forEach(function(n,i){r+=n*e[i][t]}),n[t][o]=r,i=t;i<o;i++){for(r=0,u=0;u<h;u++)r+=e[u][i]*e[u][t];n[i]==null&&(n[i]=[]);n[i][t]=r;n[t][i]=r}},i.prototype._solveGauss=function(n){var r=n.length,e=0,u=this._coefficients,f=!0,i,t;if(u.length<r||n[0].length<r+1)throw'Dimension of matrix is not correct.';if(n.some(function(i,u){var o=u,h=Math.abs(i[u]),c,s;for(t=u+1;t<r;t++)c=Math.abs(n[t][u]),h<c&&(h=c,o=t);if(h>e){for(t=u;t<=r;t++)s=n[u][t],n[u][t]=n[o][t],n[o][t]=s;for(o=u+1;o<r;o++)for(s=n[o][u]/i[u],n[o][u]=0,t=u+1;t<=r;t++)n[o][t]-=s*i[t]}else return f=!1,!0}),f)for(i=r-1;i>=0;i--){for(u[i]=n[i][r],t=i+1;t<r;t++)u[i]-=n[i][t]*u[t];u[i]=u[i]/n[i][i]}return f},i}(r),y=function(n){function t(t,i,r,u){n.call(this,t,i,r,u)}return __extends(t,n),Object.defineProperty(t.prototype,"coefficients",{get:function(){return this._coefficients.slice(0).reverse()},enumerable:!0,configurable:!0}),t.prototype.calcY=function(n){var r=this._coefficients,t=0,i=1;return r.forEach(function(r,u){u>0&&(i*=n);t+=r*i}),t},t.prototype._calculateCoefficients=function(){var i=this._coefficients,t=!1;this.order++;t&&i.pop();n.prototype._calculateCoefficients.call(this);t;this.order--},t.prototype._createBasis=function(){n.prototype._createBasis.call(this);var t=this,r=t.x,i=t.basis,u=t.order;r.forEach(function(n,t){var r;for(i[t]=[1],r=1;r<=u;r++)i[t][r]=n*i[t][r-1]})},t.prototype._concatEquation=function(n){var t='y=',r=n.length,i=this.coefficients;return n.forEach(function(n,u){var e=r-1-u,f;e===0?t+=n:e===1?(f=i[u+1]>=0?'+':'',t+=n+'x'+f):(f=i[u+1]>=0?'+':'',t+=n+'x<sup>'+e+'</sup>'+f)}),t},t}(o),p=function(n){function t(t,i,r,u){u=u==null?i.length:u;n.call(this,t,i,r,u)}return __extends(t,n),t.prototype._createBasis=function(){n.prototype._createBasis.call(this);var t=this,r=t.x,i=t.basis,u=t.order;r.forEach(function(n,t){var r,f;for(i[t]=[1],r=1;r<u;r++)f=Math.floor((r+1)/2),r%2==1?i[t].push(Math.cos(f*n)):i[t].push(Math.sin(f*n))})},t.prototype.calcY=function(n){var i=this._coefficients,t;return i.forEach(function(i,r){var f=Math.floor((r+1)/2),u;r===0?t=i:(u=f*n,t+=r%2==1?i*Math.cos(u):i*Math.sin(u))}),t},t.prototype._concatEquation=function(n){var t='y=',i=n.length,r=this.coefficients;return n.forEach(function(n,u){var e=u===i-1?'':r[u+1]>=0?'+':'',f='',o=Math.ceil(u/2);u===0?t+=n+e:(f=u%2==1?'cos':'sin',f+='('+(o===1?'':String(o))+'x)',t+=n+f+e)}),t},t}(o),u=function(n){function t(t,i,r){n.call(this,t,i,r);this._calculateCoefficients()}return __extends(t,n),t.prototype._setVal=function(n){this._val=n},t.prototype.calcY=function(){return this._val},t}(r),w=function(n){function t(t,i,r){n.call(this,t,i,r)}return __extends(t,n),t.prototype.calculateValues=function(){var n=this,t=n.xMin,f=i.min(n.y),e=i.max(n.y),r,u;return r=[t,t],u=[f,e],n._setVal(t),[u,r]},t.prototype.getEquation=function(n){var t=this.xMin;return n&&(t=n(t)),'x='+t},t}(u),b=function(n){function t(t,i,r){n.call(this,t,i,r)}return __extends(t,n),t.prototype.calculateValues=function(){var n=this,f=n.xMin,e=n.xMax,t=i.min(n.y),r,u;return r=[f,e],u=[t,t],n._setVal(t),[u,r]},t.prototype.getEquation=function(n){var t=i.min(this.y);return n&&(t=n(t)),'y='+t},t}(u),k=function(n){function t(t,i,r){n.call(this,t,i,r)}return __extends(t,n),t.prototype.calculateValues=function(){var n=this,t=n.xMax,f=i.min(n.y),e=i.max(n.y),r,u;return r=[t,t],u=[f,e],n._setVal(t),[u,r]},t.prototype.getEquation=function(n){var t=this.xMax;return n&&(t=n(t)),'x='+t},t}(u),d=function(n){function t(t,i,r){n.call(this,t,i,r)}return __extends(t,n),t.prototype.calculateValues=function(){var n=this,f=n.xMin,e=n.xMax,t=i.max(n.y),r,u;return r=[f,e],u=[t,t],n._setVal(t),[u,r]},t.prototype.getEquation=function(n){var t=i.max(this.y);return n&&(t=n(t)),'y='+t},t}(u),g=function(n){function t(t,i,r){n.call(this,t,i,r)}return __extends(t,n),t.prototype.calculateValues=function(){var n=this,t=i.avg(n.x),f=i.min(n.y),e=i.max(n.y),r,u;return r=[t,t],u=[f,e],n._setVal(t),[u,r]},t.prototype._getEquation=function(n){var t=n(i.avg(this.x));return'x='+t},t.prototype._defaultEquationFmt=function(t){return Math.abs(t)<1e5?n.prototype._defaultEquationFmt.call(this,t):''+i.round(t,2)},t}(u),nt=function(n){function t(t,i,r){n.call(this,t,i,r)}return __extends(t,n),t.prototype.calculateValues=function(){var n=this,t=i.avg(n.y),f=n.xMin,e=n.xMax,r,u;return r=[f,e],u=[t,t],n._setVal(t),[u,r]},t.prototype._getEquation=function(n){var t=n(i.avg(this.y));return'y='+t},t.prototype._defaultEquationFmt=function(t){return Math.abs(t)<1e5?n.prototype._defaultEquationFmt.call(this,t):''+i.round(t,2)},t}(u),s={TrendHelperBase:r,Linear:c,Exponential:a,Logarithmic:l,Power:v,Polynomial:y,Fourier:p,MinX:w,MinY:b,MaxX:k,MaxY:d,AverageX:g,AverageY:nt}})(i=t.analytics||(t.analytics={}))})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){var i;(function(t){'use strict';var i=function(t){function i(i){t.call(this,i);this.itemsSource==null&&(this.itemsSource=[new n.Point(0,0)])}return __extends(i,t),Object.defineProperty(i.prototype,"min",{get:function(){return this._min},set:function(t){this._min!==t&&(this._min=n.asNumber(t,!1),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"max",{get:function(){return this._max},set:function(t){this._max!==t&&(this._max=n.asNumber(t,!1),this._invalidate())},enumerable:!0,configurable:!0}),i.prototype.getValues=function(n){var t=this;return((t._xValues==null||t._yValues==null)&&t._calculateValues(),n===0)?t._yValues||null:n===1?t._xValues||null:void 0},i.prototype._initProperties=function(n){this._min=0;this._max=1;t.prototype._initProperties.call(this,n)},i.prototype._calculateValues=function(){for(var n=this,i=n.sampleCount,u=[],f=[],e=(n.max-n.min)/(i-1),r,t=0;t<i;t++)r=t===i-1?this.max:this.min+e*t,u[t]=n._calculateX(r),f[t]=n._calculateY(r);n._yValues=f;n._xValues=u},i.prototype._validateValue=function(n){return isFinite(n)?n:Number.NaN},i.prototype._calculateValue=function(n,t){var i;try{i=n(t)}catch(r){i=Number.NaN}return this._validateValue(i)},i.prototype._calculateX=function(){return 0},i.prototype._calculateY=function(){return 0},i}(t.TrendLineBase),r,u;t.FunctionSeries=i;r=function(t){function i(n){t.call(this,n)}return __extends(i,t),Object.defineProperty(i.prototype,"func",{get:function(){return this._func},set:function(t){t&&this._func!==t&&(this._func=n.asFunction(t,!1),this._invalidate())},enumerable:!0,configurable:!0}),i.prototype._calculateX=function(n){return n},i.prototype._calculateY=function(n){return this._calculateValue(this.func,n)},i.prototype.approximate=function(n){return this._calculateValue(this.func,n)},i}(i);t.YFunctionSeries=r;u=function(t){function i(n){t.call(this,n)}return __extends(i,t),Object.defineProperty(i.prototype,"xFunc",{get:function(){return this._xFunc},set:function(t){t&&this._xFunc!==t&&(this._xFunc=n.asFunction(t,!1),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"yFunc",{get:function(){return this._yFunc},set:function(t){t&&this._yFunc!==t&&(this._yFunc=n.asFunction(t,!1),this._invalidate())},enumerable:!0,configurable:!0}),i.prototype._calculateX=function(n){return this._calculateValue(this.xFunc,n)},i.prototype._calculateY=function(n){return this._calculateValue(this.yFunc,n)},i.prototype.approximate=function(t){var u=this,i=this._calculateValue(this.xFunc,t),r=this._calculateValue(this.yFunc,t);return new n.Point(i,r)},i}(i);t.ParametricFunctionSeries=u})(i=t.analytics||(t.analytics={}))})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){var i;(function(i){'use strict';(function(n){n[n.Simple=0]="Simple";n[n.Weighted=1]="Weighted";n[n.Exponential=2]="Exponential";n[n.Triangular=3]="Triangular"})(i.MovingAverageType||(i.MovingAverageType={}));var r=i.MovingAverageType,u=function(i){function u(n){i.call(this,n);this._chartType=t.ChartType.Line}return __extends(u,i),Object.defineProperty(u.prototype,"type",{get:function(){return this._type},set:function(t){t!==this._type&&(this._type=n.asEnum(t,r,!1),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"period",{get:function(){return this._period},set:function(t){t!==this._period&&(this._period=n.asNumber(t,!1,!0),this._invalidate())},enumerable:!0,configurable:!0}),u.prototype._initProperties=function(n){this._period=2;this._type=r.Simple;i.prototype._initProperties.call(this,n)},u.prototype._checkPeriod=function(){var i=this.period,t=this._originXValues;i<=1&&n.assert(!1,"period must be greater than 1.");t&&t.length&&i>=t.length&&n.assert(!1,"period must be less than itemSource's length.")},u.prototype._calculateValues=function(){var n=this,f=n._type,t="_calculate"+r[n._type],i=[],u=[];n._checkPeriod();n[t]&&n[t].call(n,i,u);n._yValues=u;n._xValues=i},u.prototype._calculateSimple=function(n,t,i){i===void 0&&(i=!1);for(var e=this,o=e._originXValues,s=e._originYValues,h=o.length,u=e._period,f=0,r=0;r<h;r++)f+=s[r],r>=u&&(f-=s[r-u]),r>=u-1?(n.push(o[r]),t.push(f/u)):i&&(n.push(o[r]),t.push(f/(r+1)))},u.prototype._calculateWeighted=function(n,t){for(var e=this,s=e._originXValues,u=e._originYValues,h=s.length,r=e._period,c=r*(r+1)/2,o=0,f=0,i=0;i<h;i++)i>0&&(o+=u[i-1]),i>r&&(o-=u[i-r-1]),i<r-1?f+=u[i]*(i+1):(f+=u[i]*r,i>r-1&&(f-=o),n.push(s[i]),t.push(f/c))},u.prototype._calculateExponential=function(n,t){for(var f=this,e=f._originXValues,o=f._originYValues,s=e.length,u=f._period,r=0,i=0;i<s;i++){if(i<=u-2){r+=o[i];i===u-2&&(r/=u-1);continue}r=r+2/(u+1)*(o[i]-r);n.push(e[i]);t.push(r)}},u.prototype._calculateTriangular=function(n,t){var o=this,r=o._period,u=[],f=[],i,s,e=0;for(o._calculateSimple(u,f,!0),i=0,s=u.length;i<s;i++)e+=f[i],i>=r&&(e-=f[i-r]),i>=r-1&&(n.push(u[i]),t.push(e/r))},u}(i.TrendLineBase);i.MovingAverage=u})(i=t.analytics||(t.analytics={}))})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){var i;(function(i){'use strict';var r=function(i){function r(n){i.call(this);this._startLabel='Start';this._relativeData=!0;this._connectorLines=!1;this._totalLabel='Total';this._getXValues=!1;this._showIntermediateTotal=!1;this._intermediateTotalPos=[];this._chartType=t.ChartType.Bar;this._initProperties(n||{});this.rendering.addHandler(this._rendering,this)}return __extends(r,i),r.prototype._initProperties=function(n){for(var t in n)this[t]&&(this[t]=n[t])},r.prototype._clearValues=function(){i.prototype._clearValues.call(this);this._xValues=null;this._yValues=null;this._wfstyle=null;this._getXValues=!0;this._intermediateTotalPos=[];this.chart&&this.chart._performBind()},Object.defineProperty(r.prototype,"relativeData",{get:function(){return!!this._relativeData},set:function(t){t!=this._relativeData&&(this._relativeData=n.asBoolean(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"start",{get:function(){return this._start},set:function(t){t!=this._start&&(this._start=n.asNumber(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"startLabel",{get:function(){return this._startLabel},set:function(t){t!=this._startLabel&&(this._startLabel=n.asString(t,!1),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"showTotal",{get:function(){return!!this._showTotal},set:function(t){t!=this._showTotal&&(this._showTotal=n.asBoolean(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"totalLabel",{get:function(){return this._totalLabel},set:function(t){t!=this._totalLabel&&(this._totalLabel=n.asString(t,!1),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"showIntermediateTotal",{get:function(){return this._showIntermediateTotal},set:function(t){t!=this._showIntermediateTotal&&(this._showIntermediateTotal=n.asBoolean(t,!1),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"intermediateTotalPositions",{get:function(){return this._intermediateTotalPositions},set:function(t){t!=this._intermediateTotalPositions&&(this._intermediateTotalPositions=n.asArray(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"intermediateTotalLabels",{get:function(){return this._intermediateTotalLabels},set:function(t){t!=this._intermediateTotalLabels&&(n.assert(t==null||n.isArray(t)||n.isString(t),'intermediateTotalLabels should be an array or a string.'),this._intermediateTotalLabels=t,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"connectorLines",{get:function(){return!!this._connectorLines},set:function(t){t!=this._connectorLines&&(this._connectorLines=n.asBoolean(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"styles",{get:function(){return this._styles},set:function(n){n!=this._styles&&(this._styles=n,this._invalidate())},enumerable:!0,configurable:!0}),r.prototype.getValues=function(t){var c=this,l=[],u,r,f,e,h,o=0,s;return u=i.prototype.getValues.call(this,t),t===0?(this._yValues||(this.relativeData?(l=[],u&&(u.reduce(function(n,t){return l.push(n+t),n+t},0),this._yValues=l)):this._yValues=u&&u.slice(),r=this._yValues,r&&r.length>0&&(this.showIntermediateTotal&&this.intermediateTotalPositions&&this.intermediateTotalPositions.length>0&&(this._intermediateTotalPos=r.slice(),this.intermediateTotalPositions.reduceRight(function(n,t){var i=t===0?r[0]:r[t-1];return r.length>t?(r.splice(t,0,i),c._intermediateTotalPos.splice(t,0,!0)):r.length===t&&(r.push(i),c._intermediateTotalPos.push(!0)),0},0)),this.start!=null&&(r.splice(0,0,this.start),this._intermediateTotalPos.splice(0,0,!1)),this.showTotal&&r&&r.push(r[r.length-1]))),this._yValues):(!this._xValues&&this._getXValues&&(this._xValues=u&&u.slice(),this._getXValues=!1,this._xValues&&this._xValues.length>1&&(h=this._xValues.length,e=this._xValues[h-1],o=Math.abs(this._xValues[h-1]-this._xValues[h-2])),this.chart&&this.chart._xlabels&&this.chart._xlabels.length&&(f=this.chart._xlabels,this.showIntermediateTotal&&this.intermediateTotalPositions&&this.intermediateTotalPositions.length>0&&(s=this.intermediateTotalLabels,s&&this.intermediateTotalPositions.reduceRight(function(t,i,r){var u='';return u=n.isString(s)?s:s[r]||'',f.length>i?f.splice(i,0,u):f.length===i&&f.push(u),o&&(e+=o,c._xValues.push(e)),0},0)),this.start!=null&&(f.splice(0,0,this.startLabel),o&&(e+=o,this._xValues.push(e))),this.showTotal&&(f.push(this.totalLabel),o&&(e+=o,this._xValues.push(e))))),this._xValues)},r.prototype._invalidate=function(){i.prototype._invalidate.call(this);this._clearValues()},r.prototype._rendering=function(n,t){var i=this;t.cancel=!0;this._wfstyle=null;var c=this.chart,l=this._getAxisY(),v=this._getAxisX(),y=l.origin||0,e=t.engine,u,o,a,f,s,h;if(this._barPlotter=c._getPlotter(this),a=this._barPlotter.rotated,this._barPlotter._getSymbolOrigin||(this._barPlotter._getSymbolOrigin=function(n,t,r){return t===0?n:i._intermediateTotalPos[t]===!0?n:t===r-1&&i.showTotal?n:i._yValues[t-1]}),this._barPlotter._getSymbolStyles||(this._barPlotter._getSymbolStyles=function(n,t){var r=i._getStyles();return n===0&&i.start!=null?r.start:i._intermediateTotalPos[n]===!0?r.intermediateTotal:n===t-1&&i.showTotal?r.total:i._yValues[n]<i._yValues[n-1]?r.falling:r.rising}),this._barPlotter.plotSeries(e,v,l,n,c,0,1),this.connectorLines){for(e.startGroup(r.CSS_CONNECTOR_LINE_GROUP),f=this._barPlotter.hitTester._map[0],h=this._yValues[0]<y,s=f[0].rect,u=1,o=f.length;u<o;u++)(this._intermediateTotalPos[u]!==!0||u===o-1)&&(this._drawConnectorLine(e,a,s,f[u].rect,h),s=f[u].rect,h=this._yValues[u]<this._yValues[u-1]);e.endGroup()}},r.prototype._getStyles=function(){if(this._wfstyle)return this._wfstyle;var u=this._chart,r=u.series.indexOf(this),t=this._getSymbolFill(r),i=this._getSymbolStroke(r),n=this.styles||{};return this._wfstyle={start:this._getStyleByKey(n,'start',t,i),intermediateTotal:this._getStyleByKey(n,'intermediateTotal',t,i),total:this._getStyleByKey(n,'total',t,i),falling:this._getStyleByKey(n,'falling','red','red'),rising:this._getStyleByKey(n,'rising','green','green')},this._wfstyle},r.prototype._getStyleByKey=function(n,t,i,r){return{fill:n[t]&&n[t].fill?n[t].fill:i,stroke:n[t]&&n[t].stroke?n[t].stroke:r}},r.prototype._drawConnectorLine=function(t,i,u,f,e){var o=new n.Point,s=new n.Point;i?e?(o.x=u.left,o.y=u.top+u.height,s.x=u.left,s.y=f.top):(o.x=u.left+u.width,o.y=u.top+u.height,s.x=u.left+u.width,s.y=f.top):e?(o.x=u.left,o.y=u.top+u.height,s.x=f.left+f.width,s.y=u.top+u.height):(o.x=u.left,o.y=u.top,s.x=f.left+f.width,s.y=u.top);t.drawLine(o.x,o.y,s.x,s.y,r.CSS_CONNECTOR_LINE,this.styles&&this.styles.connectorLines||{stroke:'black'})},r.prototype.legendItemLength=function(){return this.showTotal?3:2},r.prototype.measureLegendItem=function(t,i){var u=this._getName(i),r=new n.Size(0,0);return u&&(r=this._measureLegendItem(t,this._getName(i))),r},r.prototype.drawLegendItem=function(n,i,r){var u=this._getLegendStyles(r),f=this._getName(r);f&&this._drawLegendItem(n,i,t.ChartType.Bar,this._getName(r),u,this.symbolStyle)},r.prototype._getLegendStyles=function(n){if(n<0||this.styles===null)return null;var t=this._getStyles();return n===0?t.rising:n===1?t.falling:t.total},r.prototype._getName=function(n){var i=undefined,t;return this.name&&(this.name.indexOf(",")?(t=this.name.split(","),t&&t.length-1>=n&&(i=t[n].trim())):i=this.name),i},r.CSS_CONNECTOR_LINE_GROUP='water-fall-connector-lines',r.CSS_CONNECTOR_LINE='water-fall-connector-line',r.CSS_ENDLABEL='water-fall-end-label',r}(t.SeriesBase);i.Waterfall=r})(i=t.analytics||(t.analytics={}))})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){var i;(function(i){'use strict';var r,f,u;(function(n){n[n.InclusiveMedian=0]="InclusiveMedian";n[n.ExclusiveMedian=1]="ExclusiveMedian"})(i.QuartileCalculation||(i.QuartileCalculation={}));r=i.QuartileCalculation;f=function(i){function f(n){i.call(this);this._groupWidth=.8;this._gapWidth=.1;this._quartileCalculation=r.InclusiveMedian;this._chartType=t.ChartType.Bar;this._initProperties(n||{});this.rendering.addHandler(this._rendering,this)}return __extends(f,i),f.prototype._initProperties=function(n){for(var t in n)this[t]&&(this[t]=n[t])},f.prototype._clearValues=function(){i.prototype._clearValues.call(this)},Object.defineProperty(f.prototype,"quartileCalculation",{get:function(){return this._quartileCalculation},set:function(t){t!=this._quartileCalculation&&(this._quartileCalculation=n.asEnum(t,r,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"groupWidth",{get:function(){return this._groupWidth},set:function(t){t!=this._groupWidth&&t>=0&&t<=1&&(this._groupWidth=n.asNumber(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"gapWidth",{get:function(){return this._gapWidth},set:function(t){t!=this._gapWidth&&t>=0&&t<=1&&(this._gapWidth=n.asNumber(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"showMeanLine",{get:function(){return!!this._showMeanLine},set:function(t){t!=this._showMeanLine&&(this._showMeanLine=n.asBoolean(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"meanLineStyle",{get:function(){return this._meanLineStyle},set:function(n){n!=this._meanLineStyle&&(this._meanLineStyle=n,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"showMeanMarker",{get:function(){return!!this._showMeanMarker},set:function(t){t!=this._showMeanMarker&&(this._showMeanMarker=n.asBoolean(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"meanMarkerStyle",{get:function(){return this._meanMarkerStyle},set:function(n){n!=this._meanMarkerStyle&&(this._meanMarkerStyle=n,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"showInnerPoints",{get:function(){return!!this._showInnerPoints},set:function(t){t!=this._showInnerPoints&&(this._showInnerPoints=n.asBoolean(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"showOutliers",{get:function(){return!!this._showOutliers},set:function(t){t!=this._showOutliers&&(this._showOutliers=n.asBoolean(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),f.prototype._rendering=function(i,r){var fi=this,gt,l,pt,ni,ti,e,g,v,f,at,vt;r.cancel=!0;var a=this,ut=a.chart,pi=a.chart,h=a._getAxisX(),o=a._getAxisY(),ot=r.index,ui=r.count,y=r.engine,p=this._plotter,tt=ut.series.indexOf(a),kt=n.asType(a,t.SeriesBase),ei=this.quartileCalculation,oi=this.showOutliers,st=this.groupWidth,si=(this.gapWidth==null?.2:this.gapWidth)/2,it,rt;ot=ot||0;ui=ui||1;var yt=st/ui,dt=a.getValues(0),nt=a.getValues(1);if(dt){nt||(nt=p.dataInfo.getXVals());nt&&(gt=p.dataInfo.getDeltaX(),gt>0&&(st*=gt,yt*=gt));var ft=kt._getSymbolFill(tt),ht=kt._getAltSymbolFill(tt)||ft,et=kt._getSymbolStroke(tt),ct=kt._getAltSymbolStroke(tt)||et,lt=dt.length;if(nt!=null&&(lt=Math.min(lt,nt.length)),l=0,pt=0,p.rotated){l=h.origin||l;l<h.actualMin?l=h.actualMin:l>h.actualMax&&(l=h.actualMax);var hi=h.convert(l),vi=o.actualMin,yi=o.actualMax;for(e=0;e<lt;e++)if(g=nt?nt[e]:e,v=dt[e],p._getSymbolOrigin&&(hi=o.convert(p._getSymbolOrigin(l,e))),p._getSymbolStyles&&(f=p._getSymbolStyles(e),ft=f&&f.fill?f.fill:ft,ht=f&&f.fill?f.fill:ht,et=f&&f.stroke?f.fill:et,ct=f&&f.stroke?f.fill:ct),ni=v[0]>0?ft:ht,ti=v[0]>0?et:ct,y.fill=ni,y.stroke=ti,t._DataInfo.isValid(g)&&n.isArray(v)&&v.length>0&&t._DataInfo.isValid(v[0])){var k=g-.5*st+ot*yt,d=g-.5*st+(ot+1)*yt,ii=(d-k)*si;if(k+=ii,d-=ii,k<vi&&d<vi||k>yi&&d>yi)continue;k=o.convert(k);d=o.convert(d);var c=new u(v,ei,oi),s={min:h.convert(c.min),max:h.convert(c.max),firstQuartile:h.convert(c.firstQuartile),median:h.convert(c.median),thirdQuartile:h.convert(c.thirdQuartile),mean:h.convert(c.mean),outlierPoints:this._convertPoints(c.outlierPoints,h),innerPoints:this._convertPoints(c.innerPoints,h)},ai=new n.Rect(Math.min(s.min,s.max),Math.min(k,d),Math.abs(s.max-s.min),Math.abs(d-k)),ri=new t._RectArea(ai),bt={min:Math.min(k,d),median:(k+d)/2,max:Math.max(d,k)};ut.itemFormatter?(y.startGroup(),at=new t.HitTestInfo(ut,new n.Point((s.min+s.max)/2,bt.median),t.ChartElement.SeriesSymbol),at._setData(a,e),ut.itemFormatter(y,at,function(){fi._drawBoxWhisker(y,s,bt,it,rt,a);it=s;rt=bt}),y.endGroup()):(this._drawBoxWhisker(y,s,bt,it,rt,a),it=s,rt=bt);a._setPointIndex(e,pt);pt++;vt=new t._DataPoint(tt,e,v,g);vt.item=c;ri.tag=vt;p.hitTester.add(ri,tt)}}else{l=o.origin||l;l<o.actualMin?l=o.actualMin:l>o.actualMax&&(l=o.actualMax);var hi=o.convert(l),ci=h.actualMin,li=h.actualMax;for(e=0;e<lt;e++)if(g=nt?nt[e]:e,v=dt[e],p._getSymbolOrigin&&(hi=o.convert(p._getSymbolOrigin(l,e,lt))),p._getSymbolStyles&&(f=p._getSymbolStyles(e,lt),ft=f&&f.fill?f.fill:ft,ht=f&&f.fill?f.fill:ht,et=f&&f.stroke?f.stroke:et,ct=f&&f.stroke?f.stroke:ct),ni=v[0]>0?ft:ht,ti=v[0]>0?et:ct,y.fill=ni,y.stroke=ti,t._DataInfo.isValid(g)&&n.isArray(v)&&v.length>0&&t._DataInfo.isValid(v[0])){var w=g-.5*st+ot*yt,b=g-.5*st+(ot+1)*yt,ii=(b-w)*si;if(w+=ii,b-=ii,w<ci&&b<ci||w>li&&b>li)continue;if(w=h.convert(w),b=h.convert(b),!t._DataInfo.isValid(w)||!t._DataInfo.isValid(b))continue;var c=new u(v,ei,oi),s={min:o.convert(c.min),max:o.convert(c.max),firstQuartile:o.convert(c.firstQuartile),median:o.convert(c.median),thirdQuartile:o.convert(c.thirdQuartile),mean:o.convert(c.mean),outlierPoints:this._convertPoints(c.outlierPoints,o),innerPoints:this._convertPoints(c.innerPoints,o)},ai=new n.Rect(Math.min(w,b),Math.min(s.min,s.max),Math.abs(b-w),Math.abs(s.max-s.min)),ri=new t._RectArea(ai),wt={min:Math.min(w,b),median:(w+b)/2,max:Math.max(w,b)};ut.itemFormatter?(y.startGroup(),at=new t.HitTestInfo(ut,new n.Point(wt.median,(s.min+s.max)/2),t.ChartElement.SeriesSymbol),at._setData(a,e),ut.itemFormatter(y,at,function(){fi._drawBoxWhisker(y,wt,s,it,rt,a);it=wt;rt=s}),y.endGroup()):(this._drawBoxWhisker(y,wt,s,it,rt,a),it=wt,rt=s);a._setPointIndex(e,pt);pt++;vt=new t._DataPoint(tt,e,g,v);vt.item=c;ri.tag=vt;p.hitTester.add(ri,tt)}}}},f.prototype._convertPoints=function(n,t){return n.map(function(n){return t.convert(n)})},f.prototype._drawBoxWhisker=function(n,t,i,r,u,f){var e=f.symbolStyle,h=this.showInnerPoints,c=this.showOutliers,l=this.showMeanLine,a=this.meanLineStyle,v=this.showMeanMarker,s=this.meanMarkerStyle,y=this._plotter,o;n.startGroup('box-plot');y.rotated?(n.drawLine(t.min,(i.min+i.median)/2,t.min,(i.max+i.median)/2,null,e),n.drawLine(t.min,i.median,t.firstQuartile,i.median,null,e),n.drawRect(Math.min(t.firstQuartile,t.thirdQuartile),Math.min(i.min,i.max),Math.abs(t.thirdQuartile-t.firstQuartile),Math.abs(i.max-i.min),null,e),n.drawLine(t.median,i.min,t.median,i.max,null,e),n.drawLine(t.max,i.median,t.thirdQuartile,i.median,null,e),n.drawLine(t.max,(i.min+i.median)/2,t.max,(i.max+i.median)/2,null,e),l&&r&&u&&n.drawLine(t.mean,i.median,r.mean,u.median,'box-whisker-mean-line',a||e),v&&(o=Math.abs(i.median-i.min)/2,n.drawLine(t.mean-o,i.median-o,t.mean+o,i.median+o,null,s||e),n.drawLine(t.mean+o,i.median-o,t.mean-o,i.median+o,null,s||e)),c&&t.outlierPoints.forEach(function(t){n.drawPieSegment(t,i.median,2,0,Math.PI*2,null,e)}),h&&t.innerPoints.forEach(function(t){n.drawPieSegment(t,i.median,2,0,Math.PI*2,null,e)})):(n.drawLine((t.min+t.median)/2,i.min,(t.max+t.median)/2,i.min,null,e),n.drawLine(t.median,i.min,t.median,i.firstQuartile,null,e),n.drawRect(Math.min(t.min,t.max),Math.min(i.firstQuartile,i.thirdQuartile),Math.abs(t.max-t.min),Math.abs(i.thirdQuartile-i.firstQuartile),null,e),n.drawLine(t.min,i.median,t.max,i.median,null,e),n.drawLine(t.median,i.max,t.median,i.thirdQuartile,null,e),n.drawLine((t.min+t.median)/2,i.max,(t.max+t.median)/2,i.max,null,e),l&&r&&u&&n.drawLine(t.median,i.mean,r.median,u.mean,'box-whisker-mean-line',a||e),v&&(o=Math.abs(t.median-t.min)/2,n.drawLine(t.median-o,i.mean-o,t.median+o,i.mean+o,null,s||e),n.drawLine(t.median-o,i.mean+o,t.median+o,i.mean-o,null,s||e)),c&&i.outlierPoints.forEach(function(i){n.drawPieSegment(t.median,i,2,0,Math.PI*2,null,e)}),h&&i.innerPoints.forEach(function(i){n.drawPieSegment(t.median,i,2,0,Math.PI*2,null,e)}));n.endGroup()},f.prototype._renderLabels=function(i,r,u,f){var p=this,v=this,w=this._plotter,b=r.length,s=u.dataLabel,k=s.border,h=s.offset,d=s.connectingLine,c='dataY',y,o;for(w.rotated&&(c='dataX'),h===undefined&&(h=d?16:0),k&&(h-=2),y=0;y<b;y++){var l=r[y],e=l.tag,a=n.asType(e,t._DataPoint,!0);a&&(o=e.item,e[c]=o.min,e.yfmt=o.min,this._plotter._renderLabel(i,l,a,u,s,v,h,f),e[c]=o.firstQuartile,e.yfmt=o.firstQuartile,this._plotter._renderLabel(i,l,a,u,s,v,h,f),e[c]=o.median,e.yfmt=o.median,this._plotter._renderLabel(i,l,a,u,s,v,h,f),e[c]=o.thirdQuartile,e.yfmt=o.thirdQuartile,this._plotter._renderLabel(i,l,a,u,s,v,h,f),e[c]=o.max,e.yfmt=o.max,this._plotter._renderLabel(i,l,a,u,s,v,h,f),this.showMeanMarker&&(e[c]=o.mean,e.yfmt=o.mean,this._plotter._renderLabel(i,l,a,u,s,v,h,f)),o.showOutliers&&o.outlierPoints&&o.outlierPoints.forEach(function(n){e[c]=n;e.yfmt=n;p._plotter._renderLabel(i,l,a,u,s,v,h,f)}))}},f}(t.SeriesBase);i.BoxWhisker=f;u=function(){function n(n,t,i){this._outlierPoints=[];this._innerPoints=[];this._data=n;this._quartileCalculation=t;this._showOutliers=i;this._parse()}return Object.defineProperty(n.prototype,"showOutliers",{get:function(){return this._showOutliers},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"min",{get:function(){return this._min},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"max",{get:function(){return this._max},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"mean",{get:function(){return this._mean},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"firstQuartile",{get:function(){return this._firstQuartile},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"thirdQuartile",{get:function(){return this._thirdQuartile},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"median",{get:function(){return this._median},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"outlierPoints",{get:function(){return this._outlierPoints},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"innerPoints",{get:function(){return this._innerPoints},enumerable:!0,configurable:!0}),n.prototype._parse=function(){var t=this,u=this._data.length,n=this._data,i=0,f,e,o;this._outlierPoints=[];this._innerPoints=[];n.sort(function(n,t){return n-t});this._min=n[0];this._max=n[u-1];this._quartileCalculation===r.InclusiveMedian?(this._firstQuartile=this._quartileInc(n,.25),this._median=this._quartileInc(n,.5),this._thirdQuartile=this._quartileInc(n,.75)):(this._firstQuartile=this._quartileExc(n,.25),this._median=this._quartileExc(n,.5),this._thirdQuartile=this._quartileExc(n,.75));this._iqr=1.5*Math.abs(this._thirdQuartile-this._firstQuartile);f=this._firstQuartile-this._iqr;e=this._thirdQuartile+this._iqr;this._showOutliers?(o=this._max,this._max=this._min,this._min=o,this._data.forEach(function(n){i+=n;n<f||n>e?t._outlierPoints.push(n):(n<t._min&&(t._min=n),n>t._max&&(t._max=n))})):i=this._data.reduce(function(n,t){return n+t},0);this._innerPoints=this._data.filter(function(n){if(n>t._min&&n<t._max)return!0});this._mean=i/u},n.prototype._quartileInc=function(n,t){var f=n.length,r,i,u,e;return f<2?NaN:(r=(f-1)*t+1,i=Math.floor(r),u=n[i-1],e=r-i,u+(n[i]-u)*e)},n.prototype._quartileExc=function(n,t){var i=n.length,u,r,f,e;return i<3?NaN:(i+1)%4==0?n[(i+1)*t]:(u=(i+1)*t,r=Math.floor(u),f=n[r-1],e=u-r,f+(n[r]-f)*e)},n}();i._BoxPlot=u})(i=t.analytics||(t.analytics={}))})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){var i;(function(i){'use strict';var r,f,u,e;(function(n){n[n.FixedValue=0]="FixedValue";n[n.Percentage=1]="Percentage";n[n.StandardDeviation=2]="StandardDeviation";n[n.StandardError=3]="StandardError";n[n.Custom=4]="Custom"})(i.ErrorAmount||(i.ErrorAmount={}));r=i.ErrorAmount,function(n){n[n.Cap=0]="Cap";n[n.NoCap=1]="NoCap"}(i.ErrorBarEndStyle||(i.ErrorBarEndStyle={}));f=i.ErrorBarEndStyle,function(n){n[n.Both=0]="Both";n[n.Minus=1]="Minus";n[n.Plus=2]="Plus"}(i.ErrorBarDirection||(i.ErrorBarDirection={}));u=i.ErrorBarDirection;e=function(t){function i(n){t.call(this);this._errorAmount=r.FixedValue;this._endStyle=f.Cap;this._direction=u.Both;this._initProperties(n||{});this.rendering.addHandler(this._rendering,this)}return __extends(i,t),i.prototype._initProperties=function(n){for(var t in n)this[t]&&(this[t]=n[t])},i.prototype.getDataRect=function(t){var y=this._chart,f=this.errorAmount,h=0,c=0,v,a,e,s,l,o,u,i;if(this._paddings=[],this._calculateErrorValue(),a=this.getValues(0),!a)return t;for(l=0,v=a.length;l<v;l++){u={plus:0,minus:0};i=this._value||0;o=a[l];switch(f){case r.Custom:u=this._getCustomValue(l);this._paddings.push(u);break;case r.FixedValue:this._paddings.push({plus:i,minus:i});break;case r.Percentage:this._paddings.push({plus:o*i,minus:o*i});break;case r.StandardDeviation:this._paddings.push({plus:this._errorValue*i,minus:this._errorValue*i});break;case r.StandardError:this._paddings.push({plus:this._errorValue,minus:this._errorValue})}(isNaN(e)||e>o-u.minus)&&(e=f===r.StandardDeviation?this._mean-u.minus:o-u.minus);(isNaN(s)||s<o+u.plus)&&(s=f===r.StandardDeviation?this._mean+u.plus:o+u.plus)}return f===r.FixedValue?(h=i,c=i):f===r.Percentage?(c=s*i,h=e*i):f===r.StandardDeviation?(h=this._errorValue*i,c=this._errorValue*i):f===r.StandardError&&(h=this._errorValue,c=this._errorValue),this._showPlus&&(s+=c),this._showMinus&&(e-=h),new n.Rect(t.left,e,t.width,s-e)},i.prototype._getCustomValue=function(t){var r=this.value,i={minus:0,plus:0},u;return this._minusBindingValues!=null||this._plusBindingValues!=null?(i.minus=this._minusBindingValues&&this._minusBindingValues[t]||0,i.plus=this._plusBindingValues&&this._plusBindingValues[t]||0,i):r==null?i:(n.isArray(r)?(u=r[t],u&&u.minus&&(i.minus=u.minus),u&&u.plus&&(i.plus=u.plus)):n.isNumber(r)?(i.minus=r,i.plus=r):(r.minus&&(i.minus=r.minus),r.plus&&(i.plus=r.plus)),i)},i.prototype._calculateErrorValue=function(){var n=0,t=0,u=0,i;(this._errorAmount===r.StandardDeviation||this._errorAmount===r.StandardError)&&(i=this.getValues(0),i!=null&&(i.forEach(function(i){n+=i;t++}),u=n/t,this._mean=u,n=0,i.forEach(function(t){n+=Math.pow(t-u,2)}),this._errorValue=Math.sqrt(n/(t-1))),this._errorAmount===r.StandardError&&(this._errorValue=this._errorValue/Math.sqrt(t)))},i.prototype._clearValues=function(){this.__errorValue=null;this._mean=null;this._plusBindingValues=null;this._minusBindingValues=null;t.prototype._clearValues.call(this)},i.prototype.getValues=function(n){var i,u,f,e;return n==0&&this.errorAmount===r.Custom&&(i=this._getBinding(1),u=this._getBinding(2),(this._plusBindingValues==null||this._minusBindingValues==null)&&i&&u&&(this._cv!=null?(i&&(f=this._bindValues(this._cv.items,i),this._plusBindingValues=f.values),u&&(e=this._bindValues(this._cv.items,u),this._minusBindingValues=e.values)):this.binding!=null&&this._chart!=null&&this._chart.collectionView!=null&&(i&&(f=this._bindValues(this._chart.collectionView.items,i),this._plusBindingValues=f.values),u&&(e=this._bindValues(this._chart.collectionView.items,u),this._minusBindingValues=e.values)))),t.prototype.getValues.call(this,n)},Object.defineProperty(i.prototype,"_chart",{get:function(){return this.__chart},set:function(n){n!==this.__chart&&(this.__chart=n)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"errorBarStyle",{get:function(){return this._errorBarStyle},set:function(n){n!=this._errorBarStyle&&(this._errorBarStyle=n,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"value",{get:function(){return this._value},set:function(n){n!=this._value&&(this._value=n,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"errorAmount",{get:function(){return this._errorAmount},set:function(t){t!=this._errorAmount&&(this._errorAmount=n.asEnum(t,r,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"endStyle",{get:function(){return this._endStyle},set:function(t){t!=this._endStyle&&(this._endStyle=n.asEnum(t,f,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"direction",{get:function(){return this._direction},set:function(t){t!=this._direction&&(this._direction=n.asEnum(t,u,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"_errorValue",{get:function(){return this.__errorValue},set:function(n){n!=this.__errorValue&&(this.__errorValue=n)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"_showPlus",{get:function(){return this.direction===u.Both||this.direction===u.Plus},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"_showMinus",{get:function(){return this.direction===u.Both||this.direction===u.Minus},enumerable:!0,configurable:!0}),i.prototype._rendering=function(t,i){var u=this;i.cancel=!0;var s=this.chart,o=this._getAxisY(),h=this._getAxisX(),c=o.origin||0,e=i.engine;this._plotter.plotSeries(e,h,o,this,s,i.index,i.count,function(t){var b=u._paddings,a=u._showPlus,v=u._showMinus,l=s._isRotated(),i=u.errorBarStyle&&u.errorBarStyle['stroke-width']||2,y,c,p,w;c=l?h:o;y=c.convert(0);p=e.stroke;w=e.strokeWidth;e.stroke='black';e.strokeWidth=1;t&&t.length&&t.forEach(function(t,o){if(t.x!=null&&t.y!=null){var p=b[o],d=p&&p.minus||0,g=p&&p.plus||0,w=Math.abs(c.convert(d)-y),k=Math.abs(c.convert(g)-y),s=new n.Point(t.x,t.y),h=new n.Point(t.x,t.y);l?(u.errorAmount===r.StandardDeviation&&(t=new n.Point(c.convert(u._mean),t.y),s.x=t.x,h.x=t.x),v&&(s.x=s.x-w),a&&(h.x=h.x+k)):(u.errorAmount===r.StandardDeviation&&(t=new n.Point(t.x,c.convert(u._mean)),s.y=t.y,h.y=t.y),v&&(s.y=s.y+w),a&&(h.y=h.y-k));e.drawLine(s.x,s.y,h.x,h.y,'error-bar',u.errorBarStyle);u.endStyle===f.Cap&&(a&&(l?e.drawLine(h.x,h.y-i,h.x,h.y+i,'error-bar',u.errorBarStyle):e.drawLine(h.x-i,h.y,h.x+i,h.y,'error-bar',u.errorBarStyle)),v&&(l?e.drawLine(s.x,s.y-i,s.x,s.y+i,'error-bar',u.errorBarStyle):e.drawLine(s.x-i,s.y,s.x+i,s.y,'error-bar',u.errorBarStyle)))}});e.stroke=p;e.strokeWidth=w})},i}(t.Series);i.ErrorBar=e})(i=t.analytics||(t.analytics={}))})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={}))
/*
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    */
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},wijmo;(function(n){var t;(function(t){var i;(function(i){'use strict';var r=function(r){function u(n,t){r.call(this,n,t);this._processedData=[];this._legendLabels=[];this._level=1;this._sliceIndex=0;this._processedItem=[];this._selectionIndex=0;this.applyTemplate('wj-sunburst',null,null)}return __extends(u,r),Object.defineProperty(u.prototype,"bindingName",{get:function(){return this._bindName},set:function(t){t!=this._bindName&&(n.assert(t==null||n.isArray(t)||n.isString(t),'bindingName should be an array or a string.'),this._bindName=t,this._bindChart())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"childItemsPath",{get:function(){return this._childItemsPath},set:function(t){t!=this._childItemsPath&&(n.assert(t==null||n.isArray(t)||n.isString(t),'childItemsPath should be an array or a string.'),this._childItemsPath=t,this._bindChart())},enumerable:!0,configurable:!0}),u.prototype._initData=function(){r.prototype._initData.call(this);this._processedData=[];this._level=1;this._legendLabels=[];this._processedItem=[]},u.prototype._performBind=function(){var t=this,n;this._initData();this._cv&&(n=this._cv.items,this._cv.groups&&this._cv.groups.length?this._processedData=i.HierarchicalUtil.parseDataToHierarchical(this._cv,this.binding,this.bindingName,this.childItemsPath):n&&(this._processedData=i.HierarchicalUtil.parseDataToHierarchical(n,this.binding,this.bindingName,this.childItemsPath)),this._processedData&&this._processedData.length&&(this._sum=this._calculateValueAndLevel(this._processedData,1),this._processedData.forEach(function(n){t._legendLabels.push(n.name)})))},u.prototype._calculateValueAndLevel=function(n,t){var i=this,r=0,u=this._values,f=this._labels;return this._level<t&&(this._level=t),n.forEach(function(n){var e;n.items?(e=i._calculateValueAndLevel(n.items,t+1),n.value=e,u.push(e),f.push(n.name)):(e=i._getBindData(n,u,f,'value','name'),n.value=e);r+=e}),r},u.prototype._renderPie=function(n,t,i,r,u){var f=this._getCenter();this._sliceIndex=0;this._renderHierarchicalSlices(n,f.x,f.y,this._processedData,this._sum,t,i,r,2*Math.PI,u,1)},u.prototype._renderHierarchicalSlices=function(n,t,i,r,u,f,e,o,s,h,c){var rt=r.length,a=o,g=this.reversed==!0,nt,tt,d,l,y,p,it,w,b,k,v;for(d=(f-e)/this._level,nt=f-(this._level-c)*d,tt=e+(c-1)*d,v=0;v<rt;v++)w=t,b=i,it=n.startGroup('slice-level'+c),c===1&&(n.fill=this._getColorLight(v),n.stroke=this._getColor(v)),y=r[v],p=Math.abs(y.value),l=Math.abs(p-u)<1e-10?s:s*p/u,k=g?a-.5*l:a+.5*l,h>0&&l<s&&(w+=h*Math.cos(k),b+=h*Math.sin(k)),y.items&&this._renderHierarchicalSlices(n,w,b,y.items,p,f,e,a,l,0,c+1),this._renderSlice(n,w,b,k,this._sliceIndex,nt,tt,a,l,s),this._processedItem.push(y.item),this._sliceIndex++,g?a-=l:a+=l,n.endGroup(),this._pels.push(it)},u.prototype._getLabelsForLegend=function(){return this._legendLabels||[]},u.prototype._highlightCurrent=function(){this.selectionMode!=t.SelectionMode.None&&this._highlight(!0,this._selectionIndex)},u.prototype.hitTest=function(n,i){var u=r.prototype.hitTest.call(this,n,i),o=this._toControl(n,i);if(t.FlexChart._contains(this._rectChart,o)){var f=u.pointIndex,s=this._processedItem[f],e=new t._DataPoint(null,f,null,null);e.item=s;u._setDataPoint(e)}return u},u}(t.FlexPie);i.Sunburst=r})(i=t.hierarchical||(t.hierarchical={}))})(t=n.chart||(n.chart={}))})(wijmo||(wijmo={})),function(n){var t;(function(t){var i;(function(t){'use strict';var i=function(){function t(){}return t.parseDataToHierarchical=function(i,r,u,f){var e=[],o;return i instanceof n.collections.CollectionView&&i.groups.length>0?e=t.parseGroupCV(i,r):i.length>0&&(n.isString(u)&&u.indexOf(',')>-1&&(u=u.split(',')),f?e=t.parseItems(i,r,u,f):(o=t.ConvertFlatData(i,r,u),e=t.parseItems(o,'value',u,'items'))),e},t.parseGroupCV=function(n,t){for(var u,r=[],i=0,f=n.groups.length;i<f;i++)u=this.parseGroups(n.groups[i],t),r.push(u);return r},t.parseGroups=function(t,i){var r={},u,f,e;if(r.name=t.name,r.nameField=t.groupDescription.propertyName,r.item=t.items,t.groups&&t.groups.length)for(r.items=[],u=0,f=t.groups.length;u<f;u++)e=this.parseGroups(t.groups[u],i),r.items.push(e);else t.isBottomLevel&&(r.value=t.getAggregate(n.Aggregate.Sum,i));return r},t.parseItems=function(n,i,r,u){for(var e=[],o=n.length,f=0;f<o;f++)e.push(t.parseItem(n[f],i,r,u));return e},t.isFlatItem=function(t,i){return n.isArray(t[i])?!1:!0},t.ConvertFlatData=function(n,i,r){for(var f=[],e={},o,s=n.length,u=0;u<s;u++)o=n[u],t.ConvertFlatItem(e,o,i,r);return t.ConvertFlatToHierarchical(f,e),f},t.ConvertFlatToHierarchical=function(n,i){var r=i.flatDataOrder;r&&r.forEach(function(r){var u={},f=i[r],e;u[i.field]=r;f.flatDataOrder?(e=[],t.ConvertFlatToHierarchical(e,f),u.items=e):u.value=f;n.push(u)})},t.ConvertFlatItem=function(n,i,r,u){var e,o,f,s,h;return(e=u.slice(),o=e.shift().trim(),f=i[o],f==null)?!1:(e.length===0?(n[f]=i[r],n.flatDataOrder?n.flatDataOrder.push(f):n.flatDataOrder=[f],n.field=o):(n[f]==null&&(n[f]={},n.flatDataOrder?n.flatDataOrder.push(f):n.flatDataOrder=[f],n.field=o),s=n[f],h=t.ConvertFlatItem(s,i,r,e),h||(n[f]=i[r])),!0)},t.parseItem=function(i,r,u,f){var e={},h,l,o,c,s;return n.isArray(f)?(s=f.slice(),c=s.length?s.shift().trim():''):(s=f,c=f),n.isArray(u)?(h=u.slice(),l=h.shift().trim(),e.nameField=l,e.name=i[l],o=i[c],h.length===0?e.value=i[r]:o&&n.isArray(o)&&o.length>0?e.items=t.parseItems(o,r,h,s):e.value=i[r]||0):(e.nameField=u,e.name=i[u],o=i[c],o!=null&&n.isArray(o)&&o.length>0?e.items=t.parseItems(o,r,u,s):e.value=i[r]),e.item=i,e},t.parseFlatItem=function(n){n.items||(n.items=[])},t}();t.HierarchicalUtil=i})(i=t.hierarchical||(t.hierarchical={}))})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={}))
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},c1;(function(n){var t;(function(n){var i=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t}(wijmo.chart.FlexChart),t;n.FlexChart=i;t=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t}(wijmo.chart.FlexPie);n.FlexPie=t})(t=n.chart||(n.chart={}))})(c1||(c1={}));
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},c1;(function(n){var t;(function(t){var i;(function(i){var r=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t}(t._ControlWrapper),e,o,u,f,s,h,c;i._FlexChartBaseWrapper=r;e=function(t){function i(){t.apply(this,arguments)}return __extends(i,t),Object.defineProperty(i.prototype,"_controlType",{get:function(){return n.mvc.chart.FlexPie},enumerable:!0,configurable:!0}),i}(r);i._FlexPieWrapper=e;o=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t}(n.chart.FlexPie);i.FlexPie=o;u=function(i){function r(){i.apply(this,arguments);this._extraSeriesList=[]}return __extends(r,i),r.prototype._beforeInitializeControl=function(n){var r=this,i,u,f;n.itemsSource instanceof t.collections.RemoteCollectionView&&(i=n.itemsSource,i._isRemoteMode()&&i.isEmpty&&(u=this.control,u.beginUpdate(),f=function(){u.endUpdate();i.collectionChanged.removeHandler(f)},i.collectionChanged.addHandler(f)));r._prepareInitialOptions(n);r._seriesLength=n.series?n.series.length:0;r._prepareExtraSeriesList(n)},r.prototype._afterInitializeControl=function(n){var t=this,o,f,u=t.control,r=u.series,i,e;if(t._setPlotArea(n.axisX,u.axisX),t._setPlotArea(n.axisY,u.axisY),t._extraSeriesList&&t._extraSeriesList.length>0){for(u.beginUpdate(),i=0;i<t._seriesLength;i++)e=t._extraSeriesList[i],e&&r.splice(i,0,e);u.endUpdate()}for(i=0;i<t._seriesLength;i++)f=t._seriesRenderingList[i],f&&typeof f=="function"&&r[i].rendering.addHandler(f),t._setPlotArea(r[i].axisX,r[i].axisX),t._setPlotArea(r[i].axisY,r[i].axisY);t._selectedIndex!=null&&n.selectionMode===wijmo.chart.SelectionMode.Series&&r&&r[t._selectedIndex]&&(o=r[t._selectedIndex],u.selection=o)},r.prototype._setPlotArea=function(n,t){var i=this.control;n&&n._plotAreaIndex!=null&&(t.plotArea=i.plotAreas[n._plotAreaIndex])},r.prototype._prepareInitialOptions=function(t){var i=this;t&&(i._prepareExtraOptions(t),i._prepareAxes(t.axisX),t.axisX&&(n._addEvent(i.control.axisX.rangeChanged,t.axisX.rangeChanged),delete t.axisX.rangeChanged),t.axisY&&(i._prepareAxes(t.axisY),n._addEvent(i.control.axisY.rangeChanged,t.axisY.rangeChanged),delete t.axisY.rangeChanged),i._prepareSelection(t),i._prepareTitleContent(t),i._prepareSeriesAxes(t.series),i._preparePloteAreas(t._plotAreas))},r.prototype._preparePloteAreas=function(n){var i,u,t,r;if(n)for(i=wijmo.asArray(n),u=this.control,t=0;t<i.length;t++)r=new wijmo.chart.PlotArea,wijmo.copy(r,i[t]),u.plotAreas.push(r)},r.prototype._prepareExtraOptions=function(){throw"Should implement this method in the derived class.";},r.prototype._prepareAxes=function(n){n&&n.itemsSource&&(n.itemsSource=n.itemsSource.items||n.itemsSource)},r.prototype._prepareSelection=function(n){var t=0,i=n?n.series:undefined;if(this._selectedIndex=n?n.selectionIndex:undefined,delete n.selectionIndex,this._seriesRenderingList=[],i&&i.length)for(;t<i.length;t++)this._seriesRenderingList[t]=i[t].rendering,delete i[t].rendering},r.prototype._prepareTitleContent=function(n){if(n&&n.tooltip&&n.tooltip.content){var t=n.tooltip.content;typeof window[t]=="function"&&(n.tooltip.content=window[t])}},r.prototype._prepareSeriesAxes=function(n){var u=this,t,i,r;if(n&&n.length)for(t=0;t<n.length;t++)i=u._createAxisObj(n[t].axisX),i&&(n[t].axisX=i),r=u._createAxisObj(n[t].axisY),r&&(n[t].axisY=r)},r.prototype._createAxisObj=function(t){var e=this,i,u=["min","max","axisLine","format","itemFormatter","labelAngle","labels","majorGrid","minorGrid","origin","reversed","majorUnit","minorUnit","name","title","majorTickMarks","minorTickMarks","overlappingLabels","binding","itemsSource","_plotAreaIndex"],r,f;if(!t)return undefined;switch(t.position){case"None":case 0:i=new wijmo.chart.Axis(0);break;case"Left":case 1:i=new wijmo.chart.Axis(1);break;case"Top":case 2:i=new wijmo.chart.Axis(2);break;case"Right":case 3:i=new wijmo.chart.Axis(3);break;default:i=new wijmo.chart.Axis(4)}for(e._prepareAxes(t),r=0;r<u.length;r++)f=t[u[r]],f!=null&&(i[u[r]]=f);return n._addEvent(i.rangeChanged,t.rangeChanged),delete t.rangeChanged,i},r.prototype._prepareExtraSeriesList=function(n){var u=this,t,i=n.series?n.series.concat():null,r;if(i&&i.length){for(r=[],t=0;t<i.length;t++)i[t].extraSeriesTypeName?(i[t].bindingX||(i[t].bindingX=n.bindingX),u._extraSeriesList[t]=u._createExtraSeriesObj(i[t])):r.push(i[t]);n.series=r}},r.prototype._createExtraSeriesObj=function(n){var i,t,f=n.extraSeriesTypeName,u=["func","xFunc","yFunc"],r;for(delete n.extraSeriesTypeName,i=0;i<u.length;i++)r=n[u[i]],r&&typeof window[r]=="function"&&(n[u[i]]=window[r]);switch(f){case"TrendLine":t=new wijmo.chart.analytics.TrendLine;break;case"MovingAverage":t=new wijmo.chart.analytics.MovingAverage;break;case"YFunctionSeries":t=new wijmo.chart.analytics.YFunctionSeries;break;case"ParametricFunctionSeries":t=new wijmo.chart.analytics.ParametricFunctionSeries;break;case"Fibonacci":t=new wijmo.chart.finance.analytics.Fibonacci;break;case"FibonacciArcs":t=new wijmo.chart.finance.analytics.FibonacciArcs;break;case"FibonacciFans":t=new wijmo.chart.finance.analytics.FibonacciFans;break;case"FibonacciTimeZones":t=new wijmo.chart.finance.analytics.FibonacciTimeZones;break;case"BollingerBands":t=new wijmo.chart.finance.analytics.BollingerBands;break;case"ATR":t=new wijmo.chart.finance.analytics.ATR;break;case"CCI":t=new wijmo.chart.finance.analytics.CCI;break;case"Envelopes":t=new wijmo.chart.finance.analytics.Envelopes;break;case"Macd":t=new wijmo.chart.finance.analytics.Macd;break;case"MacdHistogram":t=new wijmo.chart.finance.analytics.MacdHistogram;break;case"Stochastic":t=new wijmo.chart.finance.analytics.Stochastic;break;case"WilliamsR":t=new wijmo.chart.finance.analytics.WilliamsR;break;case"RSI":t=new wijmo.chart.finance.analytics.RSI;break;case"Waterfall":t=new wijmo.chart.analytics.Waterfall}return wijmo.copy(t,n),t},r}(t._Initializer);i._FlexChartCoreInitializer=u;f=function(t){function i(){t.apply(this,arguments)}return __extends(i,t),Object.defineProperty(i.prototype,"_initializerType",{get:function(){return n.mvc.chart._FlexChartCoreInitializer},enumerable:!0,configurable:!0}),i}(r);i._FlexChartCoreWrapper=f;s=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype._prepareExtraOptions=function(n){var t=n.options,i,r,u={};t&&(i=t.bubbleMaxSize,r=t.bubbleMinSize,(i!=null||r!=null)&&(u.bubble={minSize:r,maxSize:i}),n.options=u)},t}(u);i._FlexChartInitializer=s;h=function(t){function i(){t.apply(this,arguments)}return __extends(i,t),Object.defineProperty(i.prototype,"_initializerType",{get:function(){return n.mvc.chart._FlexChartInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"_controlType",{get:function(){return n.mvc.chart.FlexChart},enumerable:!0,configurable:!0}),i}(f);i._FlexChartWrapper=h;c=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t}(n.chart.FlexChart);i.FlexChart=c})(i=t.chart||(t.chart={}))})(t=n.mvc||(n.mvc={}))})(c1||(c1={}));
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},c1;(function(n){var t;(function(n){var t;(function(n){var t=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t}(wijmo.chart.hierarchical.Sunburst);n.Sunburst=t})(t=n.hierarchical||(n.hierarchical={}))})(t=n.chart||(n.chart={}))})(c1||(c1={}));
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},c1;(function(n){var t;(function(t){var i;(function(i){var r;(function(r){var e=function(t){function i(){t.apply(this,arguments)}return __extends(i,t),Object.defineProperty(i.prototype,"_controlType",{get:function(){return n.mvc.chart.hierarchical.Sunburst},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"_initializerType",{get:function(){return n.mvc.chart.hierarchical._SunburstInitializer},enumerable:!0,configurable:!0}),i}(i._FlexPieWrapper),u,f;r._SunburstWrapper=e;u=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype._beforeInitializeControl=function(n){var t=n.childItemsPath;t&&t.indexOf(",")>0&&(n.childItemsPath=t.split(","))},t}(t._Initializer);r._SunburstInitializer=u;f=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t}(n.chart.hierarchical.Sunburst);r.Sunburst=f})(r=i.hierarchical||(i.hierarchical={}))})(i=t.chart||(t.chart={}))})(t=n.mvc||(n.mvc={}))})(c1||(c1={}));
/*
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    */
var wijmo;(function(n){var t;(function(t){var i;(function(t){'use strict';var i=function(){function t(t,i,r,u){this._isVisible=!0;this._buttonsVisible=!0;this._minScale=0;this._maxScale=1;this._seamless=!1;this._rsContainer=null;this._rsEle=null;this._decBtn=null;this._incBtn=null;this._rsContent=null;this._minHandler=null;this._rangeHandler=null;this._maxHandler=null;this._wrapperSliderMousedown=null;this._wrapperDocMouseMove=null;this._wrapperDocMouseup=null;this._wrapperBtnMousedown=null;this._wrapperRangeSpaceMousedown=null;this._wrapperRangeMouseleave=null;this._isTouch=!1;this._slidingInterval=null;this._rangeSliderRect=null;this._isHorizontal=!0;this._isBtnMousedown=!1;this._needSpaceClick=!1;this._hasButtons=!0;this._movingEle=null;this._movingOffset=null;this._range=null;this._startPt=null;this._minPos=0;this._maxPos=1;this.rangeChanged=new n.Event;this.rangeChanging=new n.Event;t||n.assert(!1,'The container cannot be null.');this._isTouch='ontouchstart'in window;this._needSpaceClick=i;this._hasButtons=r;n.copy(this,u);this._createSlider(t)}return Object.defineProperty(t.prototype,"buttonsVisible",{get:function(){return this._buttonsVisible},set:function(t){if(t!=this._buttonsVisible){if(this._buttonsVisible=n.asBoolean(t),!this._rsContainer||!this._hasButtons)return;this._refresh()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isHorizontal",{get:function(){return this._isHorizontal},set:function(t){if(t!=this._isHorizontal){if(this._isHorizontal=n.asBoolean(t),!this._rsContainer)return;this._invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isVisible",{get:function(){return this._isVisible},set:function(t){if(t!=this._isVisible){if(this._isVisible=n.asBoolean(t),!this._rsContainer)return;this._rsContainer.style.visibility=this._isVisible?'visible':'hidden'}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minScale",{get:function(){return this._minScale},set:function(t){t>=0&&t!=this._minScale&&(this._minScale=n.asNumber(t))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxScale",{get:function(){return this._maxScale},set:function(t){t>=0&&t!=this._maxScale&&(this._maxScale=n.asNumber(t))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"seamless",{get:function(){return this._seamless},set:function(t){t!=this._seamless&&(this._seamless=n.asBoolean(t))},enumerable:!0,configurable:!0}),t.prototype.onRangeChanged=function(n){this.rangeChanged.raise(this,n)},t.prototype.onRangeChanging=function(n){this.rangeChanging.raise(this,n)},Object.defineProperty(t.prototype,"_isSliding",{get:function(){return this._startPt!==null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_handleWidth",{get:function(){return this._minHandler.offsetWidth},enumerable:!0,configurable:!0}),t.prototype._createSlider=function(i){var r=this._isHorizontal?t._HRANGESLIDER:t._VRANGESLIDER,u=this._isHorizontal?'wj-glyph-left':'wj-glyph-down',f=this._isHorizontal?'wj-glyph-right':'wj-glyph-up';this._rsContainer=i;this._rsContainer.style.visibility=this._isVisible?'visible':'hidden';this._rsEle=n.createElement('<div class="wj-chart-rangeslider '+r+'"></div>');this._rsContainer.appendChild(this._rsEle);this._hasButtons&&(this._decBtn=n.createElement('<button class="wj-rangeslider-decbtn wj-btn wj-btn-default" type="button" tabindex="-1"><span class="'+u+' '+t._RANGESLIDER_DECBTN+'"><\/span><\/button>'),this._rsEle.appendChild(this._decBtn),this._incBtn=n.createElement('<button class="wj-rangeslider-incbtn wj-btn wj-btn-default" type="button" tabindex="-1"><span class="'+f+' '+t._RANGESLIDER_INCBTN+'"><\/span><\/button>'),this._rsEle.appendChild(this._incBtn));this._rsContent=n.createElement('<div class="wj-rangeslider-content"><div class="wj-rangeslider-rangehandle"><\/div><div class="wj-rangeslider-minhandle"><\/div><div class="wj-rangeslider-maxhandle"><\/div>');this._rsEle.appendChild(this._rsContent);this._minHandler=this._rsContent.querySelector('.'+t._RANGESLIDER_MINHANDLE);this._rangeHandler=this._rsContent.querySelector('.'+t._RANGESLIDER_RANGEHANDLE);this._maxHandler=this._rsContent.querySelector('.'+t._RANGESLIDER_MAXHANDLE);this._wrapperSliderMousedown=this._onSliderMousedown.bind(this);this._wrapperDocMouseMove=this._onDocMouseMove.bind(this);this._wrapperDocMouseup=this._onDocMouseup.bind(this);this._wrapperRangeSpaceMousedown=this._onRangeSpaceMousedown.bind(this);this._wrapperRangeMouseleave=this._onRangeMouseleave.bind(this);this._wrapperBtnMousedown=this._onBtnMousedown.bind(this);this._switchEvent(!0)},t.prototype._switchEvent=function(n){var t=n?'addEventListener':'removeEventListener',i=n?'addHandler':'removeHandler';this._rsContainer&&(this._needSpaceClick&&this._rsEle[t]('mousedown',this._wrapperRangeSpaceMousedown),this._rsEle[t]('mouseleave',this._wrapperRangeMouseleave),this._rsContent[t]('mousedown',this._wrapperSliderMousedown),this._hasButtons&&(this._decBtn[t]('mousedown',this._wrapperBtnMousedown),this._incBtn[t]('mousedown',this._wrapperBtnMousedown)),document[t]('mousemove',this._wrapperDocMouseMove),document[t]('mouseup',this._wrapperDocMouseup),'ontouchstart'in window&&(this._needSpaceClick&&this._rsEle[t]('touchstart',this._wrapperRangeSpaceMousedown),this._rsContent[t]('touchstart',this._wrapperSliderMousedown),this._hasButtons&&(this._decBtn[t]('touchstart',this._wrapperBtnMousedown),this._incBtn[t]('touchstart',this._wrapperBtnMousedown)),document[t]('touchmove',this._wrapperDocMouseMove),document[t]('touchend',this._wrapperDocMouseup)))},t.prototype._onSliderMousedown=function(i){this._isVisible&&(this._movingEle=i.srcElement||i.target,this._startPt=i instanceof MouseEvent?new n.Point(i.pageX,i.pageY):new n.Point(i.changedTouches[0].pageX,i.changedTouches[0].pageY),n.removeClass(this._minHandler,t._RANGESLIDER_HANDLE_ACTIVE),n.removeClass(this._maxHandler,t._RANGESLIDER_HANDLE_ACTIVE),this._movingOffset=n.getElementRect(this._movingEle),this._movingEle!=this._rangeHandler?(this._isHorizontal?this._movingOffset.left+=.5*this._movingEle.offsetWidth:this._movingOffset.top+=.5*this._movingEle.offsetHeight,n.addClass(this._movingEle,t._RANGESLIDER_HANDLE_ACTIVE)):this._range=this._maxPos-this._minPos,i.preventDefault())},t.prototype._onDocMouseMove=function(t){if(this._isVisible&&this._startPt){var i=t instanceof MouseEvent?new n.Point(t.pageX,t.pageY):new n.Point(t.changedTouches[0].pageX,t.changedTouches[0].pageY);this._onMove(i)}},t.prototype._onMove=function(i){var u=this,o=this._startPt,s=this._movingOffset,f=this._plotBox,e=this._range,h=this._movingEle,c=this._minHandler,y=this._rangeHandler,l=this._maxHandler,a,v,r;o&&s&&(this._isHorizontal?(a=s.left+i.x-o.x,r=(a-f.x)/f.width):(v=s.top+i.y-o.y,r=1-(v-f.y)/f.height),r<0?r=0:r>1&&(r=1),h===c?this._seamless&&this._minScale===0&&r>=this._maxPos?(u._minPos=u._maxPos,u._movingEle=l,n.removeClass(this._minHandler,t._RANGESLIDER_HANDLE_ACTIVE),n.addClass(this._maxHandler,t._RANGESLIDER_HANDLE_ACTIVE)):(r>this._maxPos-this._minScale&&(r=this._maxPos-this._minScale),r<this._maxPos-this._maxScale&&(r=this._maxPos-this._maxScale),this._minPos=r):h===l?this._seamless&&this._minScale===0&&r<=this._minPos?(u._maxPos=u._minPos,u._movingEle=c,n.removeClass(this._maxHandler,t._RANGESLIDER_HANDLE_ACTIVE),n.addClass(this._minHandler,t._RANGESLIDER_HANDLE_ACTIVE)):(r<this._minPos+this._minScale&&(r=this._minPos+this._minScale),r>this._minPos+this._maxScale&&(r=this._minPos+this._maxScale),this._maxPos=r):h===y&&(this._isHorizontal?(this._minPos=r,this._maxPos=this._minPos+e,this._maxPos>=1&&(this._maxPos=1,this._minPos=this._maxPos-e)):(this._maxPos=r,this._minPos=this._maxPos-e,this._minPos<=0&&(this._minPos=0,this._maxPos=this._minPos+e))),this._updateElesPosition(),this.onRangeChanging())},t.prototype._onDocMouseup=function(){this._isVisible&&(this._clearInterval(),this._isBtnMousedown=!1,this._startPt&&(this.onRangeChanged(),this._startPt=null,this._movingOffset=null),n.removeClass(this._minHandler,t._RANGESLIDER_HANDLE_ACTIVE),n.removeClass(this._maxHandler,t._RANGESLIDER_HANDLE_ACTIVE))},t.prototype._onRangeSpaceMousedown=function(t){var u=t instanceof MouseEvent?new n.Point(t.pageX,t.pageY):new n.Point(t.changedTouches[0].pageX,t.changedTouches[0].pageY),f=n.getElementRect(this._rsContent),r=n.getElementRect(this._rangeHandler),e=t.srcElement||t.target,i=0;(t.stopPropagation(),t.preventDefault(),e===this._rsContent||e===this._rsEle)&&(this._isHorizontal?(i=r.width/f.width,u.x<r.left?i=-1*i:u.x>r.left+r.width&&(i=1*i)):(i=r.height/f.height,u.y<r.top?i=1*i:u.y>r.top+r.height&&(i=-1*i)),i!==0&&this._doSliding(i,u))},t.prototype._onRangeMouseleave=function(n){(n.stopPropagation(),n.preventDefault(),this._isBtnMousedown)&&(this._clearInterval(),this.onRangeChanged())},t.prototype._onBtnMousedown=function(i){var u=i.srcElement||i.target,r=0;if(i.stopPropagation(),i.preventDefault(),n.hasClass(u,t._RANGESLIDER_DECBTN)){if(this._minPos===0)return;r=-.05}else if(n.hasClass(u,t._RANGESLIDER_INCBTN)){if(this._maxPos===1)return;r=.05}this._isBtnMousedown=!0;r!==0&&this._doSliding(r)},t.prototype._refresh=function(t){var r=0,i,f,u=n.getElementRect(this._rsContainer);(t&&(this._rangeSliderRect=t),this._rangeSliderRect)&&(this._hasButtons&&this._buttonsVisible?(this._decBtn.style.display='block',this._incBtn.style.display='block',r=this._isHorizontal?this._decBtn.offsetWidth+this._minHandler.offsetWidth/2:this._decBtn.offsetHeight+this._minHandler.offsetHeight/2):(this._hasButtons&&(this._decBtn.style.display='none',this._incBtn.style.display='none'),r=this._isHorizontal?this._minHandler.offsetWidth/2:this._minHandler.offsetHeight/2),i=this._getRsRect(),this._isHorizontal?(i.left-=this._minHandler.offsetWidth/2,i.width+=this._minHandler.offsetWidth,f={left:r,width:i.width-r*2}):(i.top-=this._minHandler.offsetHeight/2,i.height+=this._minHandler.offsetHeight,f={top:r,height:i.height-r*2}),n.setCss(this._rsEle,i),n.setCss(this._rsContent,f),u=n.getElementRect(this._rsContent),this._plotBox={x:u.left,y:u.top,width:u.width,height:u.height},this._updateElesPosition())},t.prototype._updateElesPosition=function(){var i=this._minHandler,o=this._rangeHandler,r=this._maxHandler,n=this._plotBox,u,f,e,t=this._isHorizontal;n&&(u=t?{left:this._minPos*n.width-.5*i.offsetWidth}:{top:(1-this._minPos)*n.height-.5*r.offsetHeight},f=t?{left:this._minPos*n.width,width:(this._maxPos-this._minPos)*n.width}:{top:(1-this._maxPos)*n.height,height:(this._maxPos-this._minPos)*n.height},e=t?{left:this._maxPos*n.width-.5*r.offsetWidth}:{top:(1-this._maxPos)*n.height-.5*i.offsetHeight},this._refreshSlider(u,f,e))},t.prototype._refreshSlider=function(t,i,r){n.setCss(this._minHandler,t);n.setCss(this._rangeHandler,i);n.setCss(this._maxHandler,r)},t.prototype._invalidate=function(){var i,r;this._rsContainer&&(i=this._isHorizontal?t._HRANGESLIDER:t._VRANGESLIDER,r=this._isHorizontal?t._VRANGESLIDER:t._HRANGESLIDER,n.removeClass(this._rsEle,r),n.addClass(this._rsEle,i),[this._rsEle,this._rsContent,this._minHandler,this._maxHandler,this._rangeHandler].forEach(function(n){n.removeAttribute("style")}),this._refresh())},t.prototype._changeRange=function(n){var t=this._maxPos-this._minPos;n<0&&this._minPos===0||n>0&&this._maxPos===1||(n<0?(this._minPos+=n,this._minPos=this._minPos<0?0:this._minPos,this._maxPos=this._minPos+t):(this._maxPos+=n,this._maxPos=this._maxPos>1?1:this._maxPos,this._minPos=this._maxPos-t),this._updateElesPosition())},t.prototype._doSliding=function(t,i){var r=n.getElementRect(this._rsContent),u=n.getElementRect(this._rangeHandler);this._clearInterval();this._startPt=new n.Point;this._changeRange(t);this.onRangeChanged();this._setSlidingInterval(t,i)},t.prototype._setSlidingInterval=function(t,i){var r=this,f,u;this._slidingInterval=window.setInterval(function(){if(i)if(f=n.getElementRect(r._rsContent),u=n.getElementRect(r._rangeHandler),r._isHorizontal){if(i.x>=u.left&&i.x<=u.left+u.width){r._clearInterval();return}}else if(i.y>=u.top&&i.y<=u.top+u.height){r._clearInterval();return}r._changeRange(t);r.onRangeChanged()},200)},t.prototype._clearInterval=function(){this._slidingInterval&&window.clearInterval(this._slidingInterval)},t.prototype._getRsRect=function(){var n=this._rangeSliderRect,t={};if(n)return['left','top','width','height'].forEach(function(i){n[i]&&(t[i]=n[i])}),t},t._HRANGESLIDER='wj-chart-hrangeslider',t._VRANGESLIDER='wj-chart-vrangeslider',t._RANGESLIDER_DECBTN='wj-rangeslider-decbtn',t._RANGESLIDER_INCBTN='wj-rangeslider-incbtn',t._RANGESLIDER_RANGEHANDLE='wj-rangeslider-rangehandle',t._RANGESLIDER_MINHANDLE='wj-rangeslider-minhandle',t._RANGESLIDER_MAXHANDLE='wj-rangeslider-maxhandle',t._RANGESLIDER_HANDLE_ACTIVE='wj-rangeslider-handle-active',t}();t._RangeSlider=i})(i=t.interaction||(t.interaction={}))})(t=n.chart||(n.chart={}))})(wijmo||(wijmo={})),function(n){var t;(function(t){var i;(function(i){'use strict';(function(n){n[n.X=0]="X";n[n.Y=1]="Y"})(i.Orientation||(i.Orientation={}));var r=i.Orientation,u=function(){function u(t,i){this._isVisible=!0;this._min=null;this._max=null;this._orientation=r.X;this._seamless=!1;this._minScale=0;this._maxScale=1;this._chart=null;this._rangeSelectorEle=null;this._rangeSlider=null;this.rangeChanged=new n.Event;t||n.assert(!1,'The FlexChart cannot be null.');this._chart=t;n.copy(this,i);this._createRangeSelector()}return Object.defineProperty(u.prototype,"isVisible",{get:function(){return this._isVisible},set:function(t){if(t!=this._isVisible){if(this._isVisible=n.asBoolean(t),!this._rangeSlider)return;this._rangeSlider.isVisible=t}},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"min",{get:function(){return this._min},set:function(t){if(t!==this._min){var i=n.asNumber(t,!0,!1),r=!1;if(i===null||i===undefined||isNaN(i)||this._max===undefined||this._max===null?(this._min=i,r=!0):i<=this._max&&(this._min=i,r=!0),!this._rangeSlider)return;r&&this._changeRange()}},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"max",{get:function(){return this._max},set:function(t){if(t!==this._max){var i=n.asNumber(t,!0,!1),r=!1;if(i===null||i===undefined||isNaN(i)?(this._max=i,r=!0):i>=this._min&&(this._max=i,r=!0),!this._rangeSlider)return;r&&this._changeRange()}},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"orientation",{get:function(){return this._orientation},set:function(t){if(t!==this._orientation){if(this._orientation=n.asEnum(t,r),!this._rangeSlider)return;this._rangeSlider.isHorizontal=t===r.X}},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"seamless",{get:function(){return this._seamless},set:function(t){if(t!==this._seamless){if(this._seamless=n.asBoolean(t,!0),!this._rangeSlider)return;this._rangeSlider.seamless=t}},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"minScale",{get:function(){return this._minScale},set:function(t){if(t<=1&&t>=0&&t!=this._minScale&&t<this._maxScale){if(this._minScale=n.asNumber(t),!this._rangeSlider)return;this._rangeSlider.minScale=n.asNumber(t);this._updateMinAndMaxWithScale(!0)}},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"maxScale",{get:function(){return this._maxScale},set:function(t){if(t<=1&&t>=0&&t!=this._maxScale&&t>this._minScale){if(this._maxScale=n.asNumber(t),!this._rangeSlider)return;this._rangeSlider.maxScale=n.asNumber(t);this._updateMinAndMaxWithScale(!0)}},enumerable:!0,configurable:!0}),u.prototype.onRangeChanged=function(n){this.rangeChanged.raise(this,n)},u.prototype.remove=function(){this._rangeSelectorEle&&(this._chart.hostElement.removeChild(this._rangeSelectorEle),this._switchEvent(!1),this._rangeSelectorEle=null,this._rangeSlider=null)},u.prototype._createRangeSelector=function(){var t=this._chart,u=t.hostElement,f=this._orientation===r.X;this._rangeSelectorEle=n.createElement('<div class="wj-chart-rangeselector-container"></div>');this._rangeSlider=new i._RangeSlider(this._rangeSelectorEle,!1,!1,{isHorizontal:f,isVisible:this._isVisible,seamless:this._seamless});u.appendChild(this._rangeSelectorEle);this._switchEvent(!0)},u.prototype._switchEvent=function(n){var t=n?'addHandler':'removeHandler';this._chart.hostElement&&(this._rangeSlider.rangeChanged[t](this._updateRange,this),this._chart.rendered[t](this._refresh,this))},u.prototype._refresh=function(){var f=this._chart.hostElement,r,u,i,e=n.getElementRect(this._rangeSelectorEle);r=f.querySelector('.'+t.FlexChart._CSS_PLOT_AREA);u=n.getElementRect(r);i=r.getBBox();i&&i.width&&i.height&&(this._adjustMinAndMax(),this._rangeSlider._refresh({left:i.x,top:u.top-e.top,width:i.width,height:i.height}))},u.prototype._adjustMinAndMax=function(){var t=this,a=t._chart,o=t._rangeSlider,f=t._min,e=t._max,i=t._orientation===r.X?a.axisX:a.axisY,s=n.isDate(i.actualMin)?i.actualMin.valueOf():i.actualMin,h=n.isDate(i.actualMax)?i.actualMax.valueOf():i.actualMax,v=h-s,u,c,l;(t._min=f===null||isNaN(f)||f===undefined||f<s||f>h?s:f,t._max=e===null||isNaN(e)||e===undefined||e<s||e>h?h:e,u=this._chart._plotRect,u)&&(this._orientation===r.X?(c=(i.convert(t._min)-u.left)/u.width,o._minPos=c,l=(i.convert(t._max)-u.left)/u.width,o._maxPos=l):(c=(u.top-i.convert(t._min))/u.height+1,o._minPos=c,l=(u.top-i.convert(t._max))/u.height+1,o._maxPos=l),this._updateMinAndMaxWithScale(!1))},u.prototype._updateMinAndMaxWithScale=function(n){var t=this._rangeSlider,i,r=!1;if(this._minScale!==0&&t._minPos+this._minScale>t._maxPos&&(i=t._minPos+this._minScale,i>1?(t._maxPos=1,t._minPos=1-this._minScale):t._maxPos=i,r=!0),this._maxScale!==1&&t._minPos+this._maxScale<t._maxPos&&(i=t._minPos+this._maxScale,i>1?(t._maxPos=1,t._minPos=1-this._maxScale):t._maxPos=i,r=!0),r&&(this._min=this._getMinAndMax().min,this._max=this._getMinAndMax().max,n)){if(!this._rangeSelectorEle)return;this._rangeSlider._refresh();this.onRangeChanged()}},u.prototype._changeRange=function(){(this._adjustMinAndMax(),this._rangeSelectorEle)&&(this._rangeSlider._refresh(),this.onRangeChanged())},u.prototype._updateRange=function(){var i=this._rangeSlider,n,t;n=this._chart;t=this._orientation===r.X?n.axisX:n.axisY;this._min=this._getMinAndMax().min;this._max=this._getMinAndMax().max;this.onRangeChanged()},u.prototype._getMinAndMax=function(){var t=this._rangeSlider,e=this._chart,i=this._orientation===r.X?e.axisX:e.axisY,n=this._chart._plotRect,u,f;return this._orientation===r.X?(u=i.convertBack(n.left+t._minPos*n.width),f=i.convertBack(n.left+t._maxPos*n.width)):(u=i.convertBack(n.top+(1-t._minPos)*n.height),f=i.convertBack(n.top+(1-t._maxPos)*n.height)),{min:u,max:f}},u}();i.RangeSelector=u})(i=t.interaction||(t.interaction={}))})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={})),function(n){var t;(function(t){var i;(function(i){var u,r,f;(function(n){n[n.Zoom=0]="Zoom";n[n.Pan=1]="Pan"})(i.MouseAction||(i.MouseAction={}));u=i.MouseAction,function(n){n[n.X=0]="X";n[n.Y=1]="Y";n[n.XY=2]="XY"}(i.InteractiveAxes||(i.InteractiveAxes={}));r=i.InteractiveAxes;f=function(){function i(t,i){this._chart=null;this._zoomEle=null;this._overlayEle=null;this._wrapperMousedown=null;this._wrapperMouseMove=null;this._wrapperMouseup=null;this._wrapperPointerdown=null;this._wrapperPointerMove=null;this._wrapperPointerup=null;this._wrapperTouchStart=null;this._wrapperTouchMove=null;this._wrapperTouchEnd=null;this._wrapperMouseWheel=null;this._startFirstPt=null;this._minX=null;this._maxX=null;this._minY=null;this._maxY=null;this._threadHold=20;this._clip={};this._selection={};this._startPointers=[];this._mvPointers=[];this._pinchStartEvents=[];this._minXRange=null;this._minYRange=null;this._innerUpdating=!1;this._lastMinX=null;this._lastMaxX=null;this._lastMinY=null;this._lastMaxY=null;this._mouseAction=u.Zoom;this._interactiveAxes=r.X;this._enable=!0;this._scaleX=1;this._scaleY=1;this._posX=0;this._posY=0;t||n.assert(!1,'The FlexChart cannot be null.');this._chart=t;n.copy(this,i);this._initialize()}return Object.defineProperty(i.prototype,"mouseAction",{get:function(){return this._mouseAction},set:function(t){t!==this._mouseAction&&(this._mouseAction=n.asEnum(t,u))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"interactiveAxes",{get:function(){return this._interactiveAxes},set:function(t){t!==this._interactiveAxes&&(this._interactiveAxes=n.asEnum(t,r))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"enable",{get:function(){return this._enable},set:function(t){t!==this._enable&&(this._enable=n.asBoolean(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"scaleX",{get:function(){return this._scaleX},set:function(t){t!==this._scaleX&&(this._scaleX=t<0?0:t>1?1:n.asNumber(t),this._seriesGroup&&this._initAxisRangeWithPosAndScale(!0))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"scaleY",{get:function(){return this._scaleY},set:function(t){t!==this._scaleY&&(this._scaleY=t<0?0:t>1?1:n.asNumber(t),this._seriesGroup&&this._initAxisRangeWithPosAndScale(!1))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"posX",{get:function(){return this._posX},set:function(t){t!==this._posX&&(this._posX=t<0?0:t>1?1:n.asNumber(t),this._seriesGroup&&this._initAxisRangeWithPosAndScale(!0))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"posY",{get:function(){return this._posY},set:function(t){t!==this._posY&&(this._posY=t<0?0:t>1?1:n.asNumber(t),this._seriesGroup&&this._initAxisRangeWithPosAndScale(!1))},enumerable:!0,configurable:!0}),i.prototype.remove=function(){this._zoomEle&&(this._chart.hostElement.removeChild(this._zoomEle),this._zoomEle=null);n.removeClass(this._chart.hostElement,i._CSS_TOUCH_DISABLED);this._switchEvent(!1);this._wrapperMousedown=null;this._wrapperMouseMove=null;this._wrapperMouseup=null;this._wrapperPointerdown=null;this._wrapperPointerMove=null;this._wrapperPointerup=null;this._wrapperTouchStart=null;this._wrapperTouchMove=null;this._wrapperTouchEnd=null;this._wrapperMouseWheel=null},i.prototype.reset=function(){var n=this._chart,t=n.axisX,i=n.axisY;this._maxX&&(t.max=this._maxX);this._minX&&(t.min=this._minX);this._maxY&&(i.max=this._maxY);this._minY&&(i.min=this._minY);this._initAxisRangeWithPosAndScale(!0);this._initAxisRangeWithPosAndScale(!1)},i.prototype._refreshChart=function(){var n=this._chart,t=n.axisX,i=n.axisY;this._minX=this._getAxisMin(t);this._maxX=this._getAxisMax(t);this._minY=this._getAxisMin(i);this._maxY=this._getAxisMax(i);this._minXRange=(this._maxX-this._minX)*.005;this._minYRange=(this._maxY-this._minY)*.005;this._initAxisRangeWithPosAndScale(!0);this._initAxisRangeWithPosAndScale(!1)},i.prototype._initialize=function(){var r=this._chart,t=r.hostElement;this._zoomEle=n.createElement('<div class="'+i._CSS_ZOOM+'"><div class="'+i._CSS_ZOOM_OVERLAY+'"></div>');this._zoomEle.style.visibility='visible';t.appendChild(this._zoomEle);n.addClass(t,i._CSS_TOUCH_DISABLED);this._overlayEle=this._zoomEle.querySelector('.'+i._CSS_ZOOM_OVERLAY);this._wrapperMousedown=this._onMousedown.bind(this);this._wrapperMouseMove=this._onMouseMove.bind(this);this._wrapperMouseup=this._onMouseup.bind(this);this._wrapperPointerdown=this._onPointerdown.bind(this);this._wrapperPointerMove=this._onPointerMove.bind(this);this._wrapperPointerup=this._onPointerup.bind(this);this._wrapperMouseWheel=this._onMouseWheel.bind(this);this._wrapperTouchStart=this._onTouchStart.bind(this);this._wrapperTouchMove=this._onTouchMove.bind(this);this._wrapperTouchEnd=this._onTouchEnd.bind(this);this._switchEvent(!0)},i.prototype._switchEvent=function(n){var i=this._chart.hostElement,t=n?'addEventListener':'removeEventListener',r=n?'addHandler':'removeHandler';i&&(i[t]('mousedown',this._wrapperMousedown),i[t]('mousemove',this._wrapperMouseMove),document[t]('mouseup',this._wrapperMouseup),'onpointerdown'in window&&(i[t]('pointerdown',this._wrapperPointerdown),i[t]('pointermove',this._wrapperPointerMove),document[t]('pointerup',this._wrapperPointerup)),i[t]('wheel',this._wrapperMouseWheel),'ontouchstart'in window&&(i[t]('touchstart',this._wrapperTouchStart),i[t]('touchmove',this._wrapperTouchMove),document[t]('touchend',this._wrapperTouchEnd)),this._chart.rendered[r](this._refresh,this))},i.prototype._refresh=function(){var e=this._chart,i=e.axisX,r=e.axisY,s=e.hostElement,o,u,f;if(this._seriesGroup=s.querySelector('.wj-series-group'),o=s.querySelector('.'+t.FlexChart._CSS_PLOT_AREA),this._plotOffset=n.getElementRect(o),this._plotBox=o.getBBox(),this._zoomEleOffset=n.getElementRect(this._zoomEle),this._overlayEle&&this._overlayEle.removeAttribute('style'),this._innerUpdating){this._innerUpdating=!1;return}u=!1;f=!1;(this._minX===null||isNaN(this._minX)||this._minX===0||this._minX===-1||this._lastMinX!==this._getAxisMin(i))&&(this._minX=this._getAxisMin(i),this._minX===null||isNaN(this._minX)||this._minX===0||this._minX===-1||(u=!0));(this._maxX===null||isNaN(this._maxX)||this._maxX===0||this._maxX===-1||this._lastMaxX!==this._getAxisMax(i))&&(this._maxX=this._getAxisMax(i),this._maxX===null||isNaN(this._maxX)||this._maxX===0||this._maxX===-1||(u=!0));(this._minY===null||isNaN(this._minY)||this._lastMinY!==this._getAxisMin(r))&&(this._minY=this._getAxisMin(r),isNaN(this._minY)||(f=!0));(this._maxY===null||isNaN(this._maxY)||this._lastMaxY!==this._getAxisMax(r))&&(this._maxY=this._getAxisMax(r),isNaN(this._maxY)||(f=!0));this._minXRange=(this._maxX-this._minX)*.005;this._minYRange=(this._maxY-this._minY)*.005;u&&this._scaleX!==null&&this._scaleX!==undefined&&this._scaleX!==1&&this._posX!==null&&this._posX!==undefined&&this._posX!==0&&this._initAxisRangeWithPosAndScale(!0);f&&this._scaleY!==null&&this._scaleY!==undefined&&this._scaleY!==1&&this._posY!==null&&this._posY!==undefined&&this._posY!==0&&this._initAxisRangeWithPosAndScale(!1)},i.prototype._onMousedown=function(n){this._enable&&(this._disabledOthersInteraction(!0),this._mouseDown(n),n.preventDefault())},i.prototype._onMouseMove=function(n){this._enable&&(this._mouseMove(n),n.preventDefault())},i.prototype._onMouseup=function(n){this._enable&&(this._mouseup(n),this._disabledOthersInteraction(!1))},i.prototype._onMouseWheel=function(n){var i=-n.deltaY,t=i>0?.05:-.05;this._enable&&(this._scaling=!0,(this._interactiveAxes===r.X||this._interactiveAxes===r.XY)&&this._updateAxisByChg(!0,t,-t),(this._interactiveAxes===r.Y||this._interactiveAxes===r.XY)&&this._updateAxisByChg(!1,t,-t),this._scaling=!1,n.preventDefault())},i.prototype._mouseDown=function(t){this._startFirstPt=this._getPoint(t);this._updatePoint(this._startFirstPt);this._mouseAction===u.Zoom?this._initOverlay():(this._seriesGroup.setAttribute('clip-path','url(#'+this._chart._plotrectId+')'),n.toggleClass(this._chart.hostElement,i._CSS_PANABLE,this._mouseAction===u.Pan))},i.prototype._mouseMove=function(t){var i;this._startFirstPt&&(i=this._getPoint(t),this._updatePoint(i),this._endPoint=new n.Point(i.x,i.y),this._mouseAction===u.Zoom?this._updateOverLay(i):(this._panning=!0,this._panningChart(i.x-this._startFirstPt.x,i.y-this._startFirstPt.y)))},i.prototype._mouseup=function(){var t=this._endPoint,r=this._chart.axisX;if(!this._startFirstPt||!t){n.removeClass(this._chart.hostElement,i._CSS_PANABLE);this._reset();return}this._mouseAction===u.Zoom?(this._zoomedChart(t),this._reset()):(this._pannedChart(t.x-this._startFirstPt.x,t.y-this._startFirstPt.y),this._reset());n.removeClass(this._chart.hostElement,i._CSS_PANABLE)},i.prototype._onPointerdown=function(n){if(this._enable){this._disabledOthersInteraction(!0);switch(n.pointerType){case"touch":this._pointerDown(n);break;case"mouse":this._mouseDown(n)}n.preventDefault()}},i.prototype._onPointerMove=function(n){if(this._enable){switch(n.pointerType){case"touch":this._pointerMove(n);break;case"mouse":this._mouseMove(n)}n.preventDefault()}},i.prototype._onPointerup=function(n){if(this._enable){switch(n.pointerType){case"touch":this._pointerUp(n);break;case"mouse":this._mouseup(n)}this._disabledOthersInteraction(!1);n.preventDefault()}},i.prototype._pointerDown=function(n){n.preventManipulation&&n.preventManipulation();this._seriesGroup.setAttribute('clip-path','url(#'+this._chart._plotrectId+')');this._startPointers.push({id:n.pointerId,x:n.pageX,y:n.pageY});this._startPointers.length===1?(this._scaling=!1,this._panning=!0):this._startPointers.length===2&&(this._panning=!1,this._scaling=!0,this._startDistance={x:this._startPointers[0].x-this._startPointers[1].x,y:this._startPointers[0].y-this._startPointers[1].y})},i.prototype._pointerMove=function(t){var u,o,h=new n.Point(t.pageX,t.pageY),f,e,s={},i={};if(t.preventManipulation&&t.preventManipulation(),this._panning){if(!this._pointInPlotArea(h))return;this._endPoint=new n.Point(t.pageX,t.pageY);this._panningChart(this._endPoint.x-this._startPointers[0].x,this._endPoint.y-this._startPointers[0].y)}else this._scaling&&(u=this._startPointers[0].id+'',o=this._startPointers[1].id+'',this._mvPointers[t.pointerId+'']={x:t.pageX,y:t.pageY},this._mvPointers[u]&&this._mvPointers[o]&&(Math.abs(this._startDistance.x)>this._threadHold&&this._interactiveAxes!==r.Y&&(f=this._mvPointers[u].x-this._plotOffset.left,e=this._startPointers[0].x-this._plotOffset.left,i.x=Math.abs((this._mvPointers[u].x-this._mvPointers[o].x)/this._startDistance.x),s.x=f-i.x*e,this._clip.x=(this._plotBox.x-f)/i.x+e,this._selection.w=this._plotBox.width/i.x),Math.abs(this._startDistance.y)>this._threadHold&&this._interactiveAxes!==r.X&&(f=this._mvPointers[u].y-this._plotOffset.top,e=this._startPointers[0].y-this._plotOffset.top,i.y=Math.abs((this._mvPointers[u].y-this._mvPointers[o].y)/this._startDistance.y),s.y=f-i.y*e,this._clip.y=(this._plotBox.y-f)/i.y+e,this._selection.h=this._plotBox.height/i.y),this._scalingChart(i,s)))},i.prototype._pointerUp=function(n){n.preventManipulation&&n.preventManipulation();this._panning?(this._endPoint&&this._pannedChart(this._endPoint.x-this._startPointers[0].x,this._endPoint.y-this._startPointers[0].y),this._reset()):this._scaling&&(this._scaledChart(n),this._reset())},i.prototype._onTouchStart=function(n){if(this._enable)return this._disabledOthersInteraction(!0),n.touches.length==1?(this._scaling=!1,this._panning=!0,this._startFirstPt=this._getPoint(n)):n.touches.length==2&&(this._pinchStartEvents=this._getTouchPair(n),this._startDistance=this._touchDistance(n),this._panning=!1,this._scaling=!0),this._seriesGroup&&this._seriesGroup.setAttribute('clip-path','url(#'+this._chart._plotrectId+')'),n.preventDefault(),!0},i.prototype._onTouchMove=function(t){if(this._enable){var i={},o={},e=t.touches[0],l=new n.Point(e.pageX,e.pageY),u,f,s,h,c;if(t.preventDefault(),this._panning){if(this._startFirstPt){if(!this._pointInPlotArea(l))return;this._endPoint=new n.Point(e.pageX,e.pageY);this._panningChart(this._endPoint.x-this._startFirstPt.x,this._endPoint.y-this._startFirstPt.y)}}else this._scaling&&(s=this._touchDistance(t),h=this._getTouchPair(t)[0],c=this._pinchStartEvents[0],Math.abs(this._startDistance.x)>this._threadHold&&this._interactiveAxes!==r.Y&&(u=h.pageX-this._plotOffset.left,f=c.pageX-this._plotOffset.left,i.x=Math.abs(s.x/this._startDistance.x),o.x=u-i.x*f,this._clip.x=(this._plotBox.x-u)/i.x+f,this._selection.w=this._plotBox.width/i.x),Math.abs(this._startDistance.y)>this._threadHold&&this._interactiveAxes!==r.X&&(u=h.pageY-this._plotOffset.top,f=c.pageY-this._plotOffset.top,i.y=Math.abs(s.y/this._startDistance.y),o.y=u-i.y*f,this._clip.y=(this._plotBox.y-u)/i.y+f,this._selection.h=this._plotBox.height/i.y),this._scalingChart(i,o));return!0}},i.prototype._onTouchEnd=function(n){if(this._enable){var t=this._endPoint;if(this._panning){if(!this._startFirstPt||!t){this._reset();return}this._pannedChart(t.x-this._startFirstPt.x,t.y-this._startFirstPt.y)}else this._scaling&&this._scaledChart(n);return this._reset(),this._disabledOthersInteraction(!1),!0}},i.prototype._initOverlay=function(){this._zoomEle.style.visibility='visible';switch(this._interactiveAxes){case r.X:this._overlayEle.style.left=this._startFirstPt.x-this._zoomEleOffset.left+'px';this._overlayEle.style.top=this._plotOffset.top-this._zoomEleOffset.top+'px';break;case r.Y:this._overlayEle.style.left=this._plotBox.x+'px';this._overlayEle.style.top=this._startFirstPt.y-this._zoomEleOffset.top+'px';break;case r.XY:this._overlayEle.style.left=this._startFirstPt.x-this._zoomEleOffset.left+'px';this._overlayEle.style.top=this._startFirstPt.y-this._zoomEleOffset.top+'px'}},i.prototype._updateOverLay=function(t){var i=this._startFirstPt.x-t.x,u=this._startFirstPt.y-t.y,f={};switch(this._interactiveAxes){case r.X:if(Math.abs(i)<this._threadHold)return;f=i<=0?{width:Math.abs(i)+'px',height:this._plotBox.height+'px'}:{left:t.x-this._zoomEleOffset.left+'px',width:i+'px',height:this._plotBox.height+'px'};break;case r.Y:if(Math.abs(u)<this._threadHold)return;f=u<=0?{height:Math.abs(u)+'px',width:this._plotBox.width+'px'}:{top:t.y-this._zoomEleOffset.top+'px',height:u+'px',width:this._plotBox.width+'px'};break;case r.XY:Math.abs(i)>=this._threadHold&&(f.width=Math.abs(i)+'px',i>0&&(f.left=t.x-this._zoomEleOffset.left+'px'));Math.abs(u)>=this._threadHold&&(f.height=Math.abs(u)+'px',u>0&&(f.top=t.y-this._zoomEleOffset.top+'px'))}n.setCss(this._overlayEle,f)},i.prototype._updatePoint=function(n){var t=this._plotOffset;n.x<t.left&&(n.x=t.left);n.x>t.left+t.width&&(n.x=t.left+t.width);n.y<t.top&&(n.y=t.top);n.y>t.top+t.height&&(n.y=t.top+t.height)},i.prototype._pointInPlotArea=function(n){var t=this._plotOffset;return n.x>=t.left&&n.x<=t.left+t.width&&n.y>=t.top&&n.y<=t.top+t.height?!0:!1},i.prototype._zoomedChart=function(n){n&&((this._interactiveAxes===r.X||this._interactiveAxes===r.XY)&&this._zoomedAxis(n,!0),(this._interactiveAxes===r.Y||this._interactiveAxes===r.XY)&&this._zoomedAxis(n,!1),this._startFirstPt=null)},i.prototype._zoomedAxis=function(n,t){var r,u,f=t?this._chart.axisX:this._chart.axisY,i=t?'x':'y',e=t?'left':'top';n&&Math.abs(this._startFirstPt[i]-n[i])>this._threadHold&&(r=f.convertBack(this._startFirstPt[i]-this._plotOffset[e]+this._plotBox[i]),u=f.convertBack(n[i]-this._plotOffset[e]+this._plotBox[i]),u-r!=0&&this._updateAxisRange(f,Math.min(r,u),Math.max(r,u)))},i.prototype._panningChart=function(n,t){var u=this._chart.axisX,f=this._chart.axisY,e=this._getTransFormGroups(),i;for(n=Math.abs(n)<this._threadHold?0:n,t=Math.abs(t)<this._threadHold?0:t,this._interactiveAxes===r.X&&(t=0),this._interactiveAxes===r.Y&&(n=0),n>0&&u.actualMin.valueOf()===this._minX&&(n=0),n<0&&u.actualMax.valueOf()===this._maxX&&(n=0),t>0&&f.actualMax.valueOf()===this._maxY&&(t=0),t<0&&f.actualMin.valueOf()===this._minY&&(t=0),i=0;i<e.length;i++)e[i].setAttribute('transform','translate('+n+','+t+')')},i.prototype._pannedChart=function(n,t){(this._interactiveAxes===r.X||this._interactiveAxes===r.XY)&&this._updateAxisByDistance(!0,n);(this._interactiveAxes===r.Y||this._interactiveAxes===r.XY)&&this._updateAxisByDistance(!1,-t)},i.prototype._scalingChart=function(n,t){var u=this._chart.axisX,f=this._chart.axisY,r,e=t.x!==undefined?t.x:0,o=t.y!==undefined?t.y:0,s,h,i;if(n)for(r=this._getTransFormGroups(),n.x!==undefined&&n.x<1&&u.actualMin.valueOf()===this._minX&&u.actualMax.valueOf()===this._maxX&&(n.x=1,e=0),n.y!==undefined&&n.y<1&&f.actualMin.valueOf()===this._minY&&f.actualMax.valueOf()===this._maxY&&(n.y=1,o=0),s=n.x!==undefined?n.x:1,h=n.y!==undefined?n.y:1,i=0;i<r.length;i++)r[i].setAttribute('transform','translate('+e+', '+o+") scale("+s+', '+h+')')},i.prototype._scaledChart=function(){var n,t,f=this._chart,i=f.axisX,u=f.axisY;this._clip&&(this._interactiveAxes!==r.Y&&this._clip.x!==undefined&&(n=Math.max(this._minX,i.convertBack(this._clip.x)),t=Math.min(this._maxX,i.convertBack(this._clip.x+this._selection.w)),n-t!=0&&this._updateAxisRange(i,n,t)),this._interactiveAxes!==r.X&&this._clip.y!==undefined&&(t=Math.min(this._maxY,u.convertBack(this._clip.y)),n=Math.max(this._minY,u.convertBack(this._clip.y+this._selection.h)),n-t!=0&&this._updateAxisRange(u,n,t)))},i.prototype._updateAxisByDistance=function(n,t){var r=n?this._chart.axisX:this._chart.axisY,u=n?this._minX:this._minY,f=n?this._maxX:this._maxY,e=r.actualMin.valueOf(),o=r.actualMax.valueOf(),i;if(t!==0){if(t>0&&u===e||t<0&&f===o){this._innerUpdating=!0;this._chart.invalidate();return}i=t/(n?this._plotBox.width:this._plotBox.height);this._updateAxisByChg(n,-i,-i)}},i.prototype._updateAxisByChg=function(n,t,i){var r=n?this._chart.axisX:this._chart.axisY,s=n?this._minX:this._minY,h=n?this._maxX:this._maxY,a=r.actualMin.valueOf(),v=r.actualMax.valueOf(),y=v-a,c=this._chart._plotRect,o=n?c.left:c.top,u=n?c.width:c.height,l=n?this._minXRange:this._minYRange,f,e;isNaN(t)||isNaN(i)||(this._panning?t<0?(f=n?r.convertBack(o+t*u):r.convertBack(o+u-t*u),f<s?(f=s,e=n?r.convertBack(r.convert(f)+u):r.convertBack(r.convert(f)-u)):e=n?r.convertBack(o+u+i*u):r.convertBack(o-i*u)):(e=n?r.convertBack(o+u+i*u):r.convertBack(o-i*u),e>h?(e=h,f=n?r.convertBack(r.convert(e)-u):r.convertBack(r.convert(e)+u)):f=n?r.convertBack(o+t*u):r.convertBack(o+u-t*u)):this._scaling&&(f=n?r.convertBack(o+t*u):r.convertBack(o+u-t*u),e=n?r.convertBack(o+u+i*u):r.convertBack(o-i*u),f<s&&(f=s),e>h&&(e=h),e-f<l&&(f=e-l)),this._updateAxisRange(r,f,e))},i.prototype._initAxisRangeWithPosAndScale=function(n){var t,i,r,u;n?(t=this._maxX-this._minX,i=t*this._scaleX,r=this._minX+this._posX*(t-i),u=this._minX+i,this._innerUpdating=!0,this._chart.axisX.min=r,this._chart.axisX.max=u,this._lastMinX=r,this._lastMaxX=u):(t=this._maxY-this._minY,i=t*this._scaleY,r=this._minY+this._posY*(t-i),u=this._minY+i,this._innerUpdating=!0,this._chart.axisY.min=r,this._chart.axisY.max=u,this._lastMinY=r,this._lastMaxY=u)},i.prototype._updateAxisRange=function(n,t,i){this._chart.beginUpdate();n.min=t;n.max=i;n===this._chart.axisX?(this._lastMinX=t,this._lastMaxX=i):(this._lastMinY=t,this._lastMaxY=i);this._innerUpdating=!0;this._chart.endUpdate()},i.prototype._reset=function(){this._scaling=!1;this._panning=!1;this._startDistance=0;this._startFirstPt=null;this._pinchStartEvents=[];this._startPointers=[];this._mvPointers=[];this._endPoint=null;this._clip={};this._selection={}},i.prototype._getAxisMin=function(t){return n.isDate(t.actualMin)?t.actualMin.valueOf():t.actualMin},i.prototype._getAxisMax=function(t){return n.isDate(t.actualMax)?t.actualMax.valueOf():t.actualMax},i.prototype._getTransFormGroups=function(){var n=this._seriesGroup.querySelectorAll('g[clip-path]');return n.length===0&&(n=this._seriesGroup.querySelectorAll('g')),n},i.prototype._disabledOthersInteraction=function(t){var f=this._chart.hostElement,u,r;if(f!==null&&f!==undefined)for(u=f.querySelectorAll('.wj-chart-linemarker-container'),r=0;r<u.length;r++)t?n.addClass(u[r],i._CSS_BLOCK_INTERACTION):n.removeClass(u[r],i._CSS_BLOCK_INTERACTION)},i.prototype._getPoint=function(t){return t instanceof MouseEvent?new n.Point(t.pageX,t.pageY):new n.Point(t.changedTouches[0].pageX,t.changedTouches[0].pageY)},i.prototype._getTouchPair=function(t){var i=[];return n.isArray(t)?(i[0]=t[0],i[1]=t[1]):t.type==='touchend'?t.touches.length===1?(i[0]=t.touches[0],i[1]=t.changedTouches[0]):t.touches.length===0&&(i[0]=t.changedTouches[0],i[1]=t.changedTouches[1]):(i[0]=t.touches[0],i[1]=t.touches[1]),i},i.prototype._touchDistance=function(n){var t=this._getTouchPair(n),i=0,r=0;return t[0]&&t[0].pageX!==undefined&&t[1]&&t[1].pageX!==undefined&&(i=t[0].pageX-t[1].pageX),t[0]&&t[0].pageY!==undefined&&t[1]&&t[1].pageY!==undefined&&(r=t[0].pageY-t[1].pageY),{x:i,y:r}},i._CSS_ZOOM='wj-zoom',i._CSS_ZOOM_OVERLAY='wj-zoom-overlay',i._CSS_PANABLE='wj-panable',i._CSS_TOUCH_DISABLED='wj-flexchart-touch-disabled',i._CSS_BLOCK_INTERACTION='wj-block-other-interaction',i}();i.ChartGestures=f})(i=t.interaction||(t.interaction={}))})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={}))
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},c1;(function(n){var t;(function(n){var t;(function(n){var i=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.initialize=function(n){wijmo.copy(this,n)},t.prototype._copy=function(n,t){return n==="rangeChanged"?(typeof t=="function"&&this.rangeChanged.addHandler(t),!0):!1},t}(wijmo.chart.interaction.RangeSelector),t;n.RangeSelector=i;t=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t}(wijmo.chart.interaction.ChartGestures);n.ChartGestures=t})(t=n.interaction||(n.interaction={}))})(t=n.chart||(n.chart={}))})(c1||(c1={}));
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},c1;(function(n){var t;(function(t){var i;(function(t){var i;(function(t){var r=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t}(n.chart.interaction.RangeSelector),i;t.RangeSelector=r;i=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t}(n.chart.interaction.ChartGestures);t.ChartGestures=i})(i=t.interaction||(t.interaction={}))})(i=t.chart||(t.chart={}))})(t=n.mvc||(n.mvc={}))})(c1||(c1={}));
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},c1;(function(n){var t;(function(n){var t=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.initialize=function(n){var t=n.content;typeof window[t]=="function"&&(n.content=window[t]);wijmo.copy(this,n)},t.prototype._copy=function(n,t){return n==="positionChanged"?(typeof t=="function"&&this.positionChanged.addHandler(t),!0):!1},t}(wijmo.chart.LineMarker);n.LineMarker=t})(t=n.chart||(n.chart={}))})(c1||(c1={}));
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},c1;(function(n){var t;(function(t){var i;(function(t){var i=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t}(n.chart.LineMarker);t.LineMarker=i})(i=t.chart||(t.chart={}))})(t=n.mvc||(n.mvc={}))})(c1||(c1={}));
/*
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    */
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},wijmo;(function(n){var t;(function(t){var i;(function(i){'use strict';var e,u,r,o,f,s,h,c,l,a,v,y;(function(n){n[n.DataIndex=0]="DataIndex";n[n.DataCoordinate=1]="DataCoordinate";n[n.Relative=2]="Relative";n[n.Absolute=3]="Absolute"})(i.AnnotationAttachment||(i.AnnotationAttachment={}));e=i.AnnotationAttachment,function(n){n[n.Center=0]="Center";n[n.Top=1]="Top";n[n.Bottom=2]="Bottom";n[n.Left=4]="Left";n[n.Right=8]="Right"}(i.AnnotationPosition||(i.AnnotationPosition={}));u=i.AnnotationPosition;r=function(){function i(n){this._resetDefaultValue();n&&this._copy(this,n)}return i.prototype._copy=function(n,t){for(var i in t)i in n&&this._processOptions(i,n,t)},i.prototype._processOptions=function(n,t,i){t[n]=i[n]},i.prototype._resetDefaultValue=function(){var i=this;i._attachment=e.Absolute;i._point=new t.DataPoint(0,0);i._seriesIndex=0;i._pointIndex=0;i._position=u.Center;i._offset=new n.Point(0,0);i._isVisible=!0;i._tooltip=''},Object.defineProperty(i.prototype,"attachment",{get:function(){return this._attachment},set:function(t){t!==this._attachment&&(this._attachment=n.asEnum(t,e),this._repaint())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"point",{get:function(){return this._point},set:function(n){n.x!=null&&n.y!=null&&(n.x!==this._point.x||n.y!==this._point.y)&&(this._point=n,this._repaint())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"seriesIndex",{get:function(){return this._seriesIndex},set:function(t){t!==this._seriesIndex&&(this._seriesIndex=n.asNumber(t,!1,!0),this._repaint())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"pointIndex",{get:function(){return this._pointIndex},set:function(t){t!==this._pointIndex&&(this._pointIndex=n.asNumber(t,!1,!0),this._repaint())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"position",{get:function(){return this._position},set:function(n){n!==this._position&&(this._position=n,this._repaint())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"offset",{get:function(){return this._offset},set:function(n){n.x!=null&&n.y!=null&&(n.x!==this._offset.x||n.y!==this._offset.y)&&(this._offset=n,this._repaint())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"style",{get:function(){return this._style==null&&(this._style={}),this._style},set:function(n){n!==this._style&&(this._style=n,this._repaint())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isVisible",{get:function(){return this._isVisible},set:function(t){t!==this._isVisible&&(this._isVisible=n.asBoolean(t,!1),this._toggleVisibility(t))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"tooltip",{get:function(){return this._tooltip},set:function(n){n!==this._tooltip&&(this._tooltip=n)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"name",{get:function(){return this._name},set:function(n){n!==this._name&&(this._name=n)},enumerable:!0,configurable:!0}),i.prototype._toggleVisibility=function(n){var t=n?'visible':'hidden';this._element&&this._element.setAttribute('visibility',t)},i.prototype._getCSSClass=function(){return i._CSS_ANNOTATION},i.prototype.render=function(n){var r=this,u;r._element=n.startGroup(r._getCSSClass());n.fill='#88bde6';n.strokeWidth=1;n.stroke='#000000';r._render(n);n.endGroup();r._element[i._DATA_KEY]=this;r._isVisible?r._attachment===e.DataIndex&&(u=r._layer._chart.series[r._seriesIndex],u&&(u.visibility===t.SeriesVisibility.Legend||u.visibility===t.SeriesVisibility.Hidden)&&r._toggleVisibility(!1)):r._toggleVisibility(!1)},i.prototype._render=function(){this._element=null},i.prototype.destroy=function(){},i.prototype._repaint=function(){this._layer&&this._layer._renderAnnotation(this)},i.prototype._convertPoint=function(t){var i=this,a=i._attachment,r=new n.Point,u,f,c,s,o,h,l;i._layer&&i._layer._chart&&(u=i._layer._chart,f=u._plotRect);switch(a){case e.DataIndex:if(!u.series||u.series.length<=i.seriesIndex)break;if(o=u.series[i.seriesIndex],h=o._getItem(i.pointIndex),!h)break;c=o.axisX||u.axisX;s=o.axisY||u.axisY;l=h[o.bindingX]||h.x;typeof l=='string'&&(l=i.pointIndex);r.x=i._convertDataToLen(f.width,c,l);r.y=i._convertDataToLen(f.height,s,h[o._getBinding(0)]||s.actualMin+.25,!0);break;case e.DataCoordinate:c=u.axisX;s=u.axisY;r.x=i._convertDataToLen(f.width,c,t.x);r.y=i._convertDataToLen(f.height,s,t.y,!0);break;case e.Relative:r.x=f.width*t.x;r.y=f.height*t.y;break;case e.Absolute:default:r.x=t.x;r.y=t.y}return r},i.prototype._convertDataToLen=function(n,t,i,r){r===void 0&&(r=!1);var u=t.min==null?t.actualMin:t.min,f=t.max==null?t.actualMax:t.max;return r?n*(1-(i-u)/(f-u)):n*(i-u)/(f-u)},i.prototype._renderCenteredText=function(n,t,i,r,u,f){var e,o;this._isValidPoint(i)&&(u?t.drawStringRotated(n,i,i,u,r,f):t.drawString(n,i,r,f),e=this._element.querySelector('text'),e&&(o=e.getBBox(),e.setAttribute('x',(i.x-o.width/2).toFixed(1)),e.setAttribute('y',(i.y+o.height/6).toFixed(1))))},i.prototype._adjustOffset=function(n,t){n.x=n.x+t.x;n.y=n.y+t.y},i.prototype._getOffset=function(t){var i=this._getPositionOffset(t);return new n.Point(this._offset.x+i.x,this._offset.y+i.y)},i.prototype._getPositionOffset=function(t){var i=new n.Point(0,0),r=this.position,f=this._getSize(t);return(r&u.Top)===u.Top?i.y-=f.height/2:(r&u.Bottom)===u.Bottom&&(i.y+=f.height/2),(r&u.Left)===u.Left?i.x-=f.width/2:(r&u.Right)===u.Right&&(i.x+=f.width/2),i},i.prototype._getSize=function(){return new n.Size},i.prototype._isValidPoint=function(n){return isFinite(n.x)&&isFinite(n.y)},i.prototype._measureString=function(n,t,i){var r=n,u;return r._textGroup&&r._textGroup.parentNode==null?(r._svg.appendChild(r._textGroup),u=r.measureString(t,i,null,this.style),r.endRender()):u=r.measureString(t,i,null,this.style),u},i._DATA_KEY='wj-chart-annotation',i._CSS_ANNOTATION='wjchart-annotation',i._CSS_ANNO_TEXT='anno-text',i._CSS_ANNO_SHAPE='anno-shape',i}();i.AnnotationBase=r;o=function(t){function i(n){t.call(this,n)}return __extends(i,t),i.prototype._resetDefaultValue=function(){t.prototype._resetDefaultValue.call(this);this._text='';this.position=u.Top},i.prototype._getCSSClass=function(){return t.prototype._getCSSClass.call(this)+' '+i._CSS_TEXT},Object.defineProperty(i.prototype,"text",{get:function(){return this._text},set:function(n){var t=this;n!==t._text&&(t._text=n,t._repaint())},enumerable:!0,configurable:!0}),i.prototype._render=function(n){var t=this,i=t._convertPoint(t.point),u;u=t._getOffset(n);t._adjustOffset(i,u);t._renderCenteredText(t._text,n,i,r._CSS_ANNO_TEXT,null,t.style)},i.prototype._getSize=function(t){return t?this._measureString(t,this._text,r._CSS_ANNO_TEXT):new n.Size},i._CSS_TEXT='wjchart-anno-text',i}(r);i.Text=o;f=function(n){function t(t){n.call(this,t)}return __extends(t,n),t.prototype._resetDefaultValue=function(){n.prototype._resetDefaultValue.call(this);this._content=''},t.prototype._getCSSClass=function(){return n.prototype._getCSSClass.call(this)+' '+t._CSS_SHAPE},Object.defineProperty(t.prototype,"content",{get:function(){return this._content},set:function(n){var t=this;n!==t._content&&(t._content=n,t._repaint())},enumerable:!0,configurable:!0}),t.prototype._render=function(n){var t=this;t._shapeContainer=n.startGroup();n.stroke='#000';t._renderShape(n);n.stroke=null;n.endGroup();t._content&&t._renderText(n)},t.prototype._getContentCenter=function(){return this.point},t.prototype._renderShape=function(){},t.prototype._renderText=function(n){var t=this,i,u;(i=t._convertPoint(t._getContentCenter()),t._isValidPoint(i))&&(u=t._getOffset(),t._adjustOffset(i,u),t._renderCenteredText(t._content,n,i,r._CSS_ANNO_TEXT))},t._CSS_SHAPE='wjchart-anno-shape',t}(r);i.Shape=f;s=function(t){function i(n){t.call(this,n)}return __extends(i,t),Object.defineProperty(i.prototype,"width",{get:function(){return this._width},set:function(t){t!==this._width&&(this._width=n.asNumber(t,!1,!0),this._repaint())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return this._height},set:function(t){t!==this._height&&(this._height=n.asNumber(t,!1,!0),this._repaint())},enumerable:!0,configurable:!0}),i.prototype._resetDefaultValue=function(){t.prototype._resetDefaultValue.call(this);this._width=100;this._height=80},i.prototype._getCSSClass=function(){return t.prototype._getCSSClass.call(this)+' '+i._CSS_ELLIPSE},i.prototype._renderShape=function(n){t.prototype._renderShape.call(this,n);var i=this,u=i._convertPoint(i.point),f=i._width,e=i._height,o=i._getOffset();i._adjustOffset(u,o);i._isValidPoint(u)&&n.drawEllipse(u.x,u.y,f/2,e/2,r._CSS_ANNO_SHAPE,i.style)},i.prototype._getSize=function(){return new n.Size(this.width,this.height)},i._CSS_ELLIPSE='wjchart-anno-ellipse',i}(f);i.Ellipse=s;h=function(t){function i(n){t.call(this,n)}return __extends(i,t),Object.defineProperty(i.prototype,"width",{get:function(){return this._width},set:function(t){t!==this._width&&(this._width=n.asNumber(t,!1,!0),this._repaint())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return this._height},set:function(t){t!==this._height&&(this._height=n.asNumber(t,!1,!0),this._repaint())},enumerable:!0,configurable:!0}),i.prototype._resetDefaultValue=function(){t.prototype._resetDefaultValue.call(this);this._width=100;this._height=80},i.prototype._getCSSClass=function(){return t.prototype._getCSSClass.call(this)+' '+i._CSS_RECTANGLE},i.prototype._renderShape=function(n){t.prototype._renderShape.call(this,n);var i=this,u=i._convertPoint(i.point),f=i._width,e=i._height,o=i._getOffset();i._adjustOffset(u,o);i._isValidPoint(u)&&n.drawRect(u.x-f/2,u.y-e/2,i._width,i._height,r._CSS_ANNO_SHAPE,i.style)},i.prototype._getSize=function(){return new n.Size(this.width,this.height)},i._CSS_RECTANGLE='wjchart-anno-rectangle',i}(f);i.Rectangle=h;c=function(i){function f(n){i.call(this,n)}return __extends(f,i),Object.defineProperty(f.prototype,"start",{get:function(){return this._start},set:function(n){var t=this;n.x!=null&&n.y!=null&&(n.x!==t._start.x||n.y!==t._start.y)&&(t._start=n,t._repaint())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"end",{get:function(){return this._end},set:function(n){var t=this;n.x!=null&&n.y!=null&&(n.x!==t._end.x||n.y!==t._end.y)&&(t._end=n,t._repaint())},enumerable:!0,configurable:!0}),f.prototype._resetDefaultValue=function(){i.prototype._resetDefaultValue.call(this);this._start=new t.DataPoint(0,0);this._end=new t.DataPoint(0,0);this.position=u.Top},f.prototype._getCSSClass=function(){return i.prototype._getCSSClass.call(this)+' '+f._CSS_LINE},f.prototype._getContentCenter=function(){var n=this.start,i=this.end;return new t.DataPoint((n.x+i.x)/2,(n.y+i.y)/2)},f.prototype._renderShape=function(n){i.prototype._renderShape.call(this,n);var t=this,u=t._convertPoint(t._start),f=t._convertPoint(t._end),e;t._cS=u;t._cE=f;e=t._getOffset();t._adjustOffset(u,e);t._adjustOffset(f,e);t._isValidPoint(u)&&t._isValidPoint(f)&&n.drawLine(u.x,u.y,f.x,f.y,r._CSS_ANNO_SHAPE,t.style)},f.prototype._getSize=function(){var t=this._cS,i=this._cE;return new n.Size(Math.abs(t.x-i.x),Math.abs(t.y-i.y))},f.prototype._renderText=function(n){var t=this,u,f,e=t._cS,o=t._cE,i;(u=t._convertPoint(t._getContentCenter()),f=t._getOffset(),t._adjustOffset(u,f),t._isValidPoint(u))&&(i=Math.atan2(o.y-e.y,o.x-e.x)*180/Math.PI,i=i<-90?i+180:i>90?i-180:i,t._renderCenteredText(t.content,n,u,r._CSS_ANNO_TEXT,i))},f.prototype._renderCenteredText=function(n,t,r,u,f,e){if(f!=null){var h,c,o,s;o=this._measureString(t,n,u).height/2;s=f*Math.PI/180;h=o*Math.sin(s);c=o*Math.cos(s);r.x=r.x+h;r.y=r.y-c}i.prototype._renderCenteredText.call(this,n,t,r,u,f,e)},f._CSS_LINE='wjchart-anno-line',f}(f);i.Line=c;l=function(i){function u(n){i.call(this,n)}return __extends(u,i),u.prototype._processOptions=function(t,r,u){var e=this,f;t==='points'?(f=u[t],n.isArray(f)&&f.forEach(function(n){e.points.push(n)})):i.prototype._processOptions.call(this,t,r,u)},Object.defineProperty(u.prototype,"points",{get:function(){return this._points},enumerable:!0,configurable:!0}),u.prototype._resetDefaultValue=function(){var t=this;i.prototype._resetDefaultValue.call(this);t._points=new n.collections.ObservableArray;t._points.collectionChanged.addHandler(function(){t._element&&t._repaint()})},u.prototype._getCSSClass=function(){return i.prototype._getCSSClass.call(this)+' '+u._CSS_POLYGON},u.prototype._getContentCenter=function(){for(var i=this.points,r=i.length,u=0,f=0,n=0;n<r;n++)u+=i[n].x,f+=i[n].y;return new t.DataPoint(u/r,f/r)},u.prototype._renderShape=function(n){i.prototype._renderShape.call(this,n);for(var t=this,e=[],o=[],s=t._points,h=s.length,u,c=t._getOffset(),f=0;f<h;f++){if(u=t._convertPoint(s[f]),!t._isValidPoint(u))return;t._adjustOffset(u,c);e.push(u.x);o.push(u.y)}n.drawPolygon(e,o,r._CSS_ANNO_SHAPE,t.style)},u.prototype._getSize=function(){for(var o=this,r,u,f,e,t,h=o._points.length,s=[].map.call(o._points,function(n){return o._convertPoint(n)}),i=0;i<h;i++){if(t=s[i],i===0){r=u=t.x;f=e=t.y;continue}t.x<r?r=t.x:t.x>u&&(u=t.x);t.y<f?f=t.y:t.y>e&&(e=t.y)}return new n.Size(u-r,e-f)},u._CSS_POLYGON='wjchart-anno-polygon',u}(f);i.Polygon=l;a=function(t){function i(n){t.call(this,n)}return __extends(i,t),Object.defineProperty(i.prototype,"radius",{get:function(){return this._radius},set:function(t){t!==this._radius&&(this._radius=n.asNumber(t,!1,!0),this._repaint())},enumerable:!0,configurable:!0}),i.prototype._resetDefaultValue=function(){t.prototype._resetDefaultValue.call(this);this._radius=100},i.prototype._getCSSClass=function(){return t.prototype._getCSSClass.call(this)+' '+i._CSS_CIRCLE},i.prototype._renderShape=function(n){t.prototype._renderShape.call(this,n);var i=this,u=i._convertPoint(i.point),f=i._getOffset();i._adjustOffset(u,f);i._isValidPoint(u)&&n.drawPieSegment(u.x,u.y,i.radius,0,360,r._CSS_ANNO_SHAPE,i.style)},i.prototype._getSize=function(){var t=this.radius*2;return new n.Size(t,t)},i._CSS_CIRCLE='wjchart-anno-circle',i}(f);i.Circle=a;v=function(t){function i(n){t.call(this,n)}return __extends(i,t),Object.defineProperty(i.prototype,"length",{get:function(){return this._length},set:function(t){t!==this._length&&(this._length=n.asNumber(t,!1,!0),this._repaint())},enumerable:!0,configurable:!0}),i.prototype._resetDefaultValue=function(){t.prototype._resetDefaultValue.call(this);this._length=100},i.prototype._getCSSClass=function(){return t.prototype._getCSSClass.call(this)+' '+i._CSS_SQUARE},i.prototype._renderShape=function(n){t.prototype._renderShape.call(this,n);var i=this,u=i._convertPoint(i.point),f=i.length,e=i._getOffset();i._adjustOffset(u,e);i._isValidPoint(u)&&n.drawRect(u.x-f/2,u.y-f/2,f,f,r._CSS_ANNO_SHAPE,i.style)},i.prototype._getSize=function(){return new n.Size(this.length,this.length)},i._CSS_SQUARE='wjchart-anno-square',i}(f);i.Square=v;y=function(t){function i(n){t.call(this,n)}return __extends(i,t),Object.defineProperty(i.prototype,"width",{get:function(){return this._width},set:function(t){t!==this._width&&(this._width=n.asNumber(t,!1,!0),this._repaint())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return this._height},set:function(t){t!==this._height&&(this._height=n.asNumber(t,!1,!0),this._repaint())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"href",{get:function(){return this._href},set:function(n){n!==this._href&&(this._href=n,this._repaint())},enumerable:!0,configurable:!0}),i.prototype._resetDefaultValue=function(){t.prototype._resetDefaultValue.call(this);this._width=100;this._height=100;this._href=''},i.prototype._getCSSClass=function(){return t.prototype._getCSSClass.call(this)+' '+i._CSS_IMAGE},i.prototype._renderShape=function(n){t.prototype._renderShape.call(this,n);var i=this,r=i._convertPoint(i.point),u=i._href,f=i.width,e=i.height,o=i._getOffset();u.length>0&&i._isValidPoint(r)&&(i._adjustOffset(r,o),n.drawImage(u,r.x-f/2,r.y-e/2,f,e));i._applyStyle(i._element,i.style)},i.prototype._getSize=function(){return new n.Size(this.width,this.height)},i.prototype._applyStyle=function(n,t){if(t)for(var i in t)n.setAttribute(this._deCase(i),t[i])},i.prototype._deCase=function(n){return n.replace(/[A-Z]/g,function(n){return'-'+n.toLowerCase()})},i._CSS_IMAGE='wjchart-anno-image',i}(f);i.Image=y})(i=t.annotation||(t.annotation={}))})(t=n.chart||(n.chart={}))})(wijmo||(wijmo={})),function(n){var t;(function(t){var i;(function(i){'use strict';var r=function(){function r(t,i){var r=this;r._init(t);r._renderGroup();r._bindTooltip();i&&n.isArray(i)&&i.forEach(function(t){var i=t.type||'Circle',u;n.chart.annotation[i]&&(u=new n.chart.annotation[i](t),r._items.push(u))})}return r.prototype._init=function(t){var i=this;i._items=new n.collections.ObservableArray;i._items.collectionChanged.addHandler(i._itemsChanged,i);i._chart=t;i._forceTTShowing=!1;i._annoTTShowing=!1;i._engine=t._currentRenderEngine;t.rendered.addHandler(i._renderAnnotations,i);t.lostFocus.addHandler(i._lostFocus,i)},r.prototype._lostFocus=function(n){this._toggleTooltip(this._tooltip,n,this._chart.hostElement)},Object.defineProperty(r.prototype,"items",{get:function(){return this._items},enumerable:!0,configurable:!0}),r.prototype.getItem=function(n){var t=this.getItems(n);return t.length>0?t[0]:null},r.prototype.getItems=function(n){var i=[],t;if(this._items.length===0||!n||n==='')return i;for(t=0;t<this._items.length;t++)n===this._items[t].name&&i.push(this._items[t]);return i},r.prototype._bindTooltip=function(){var i=this,r=i._chart.hostElement,u=i._tooltip,f;u||(u=i._tooltip=new t.ChartTooltip,f=n.Tooltip.prototype.hide,n.Tooltip.prototype.hide=function(){i._forceTTShowing||f.call(u)});r&&(r.addEventListener('click',function(n){i._toggleTooltip(u,n,r)}),r.addEventListener('mousemove',function(n){i._showTooltip()&&i._toggleTooltip(u,n,r)}))},r.prototype._showTooltip=function(){return!this._chart.isTouching},r.prototype._toggleTooltip=function(t,i,r){var u=this,f=u._getAnnotation(i.target,r);if(f&&f.tooltip)u._forceTTShowing=!0,u._annoTTShowing=!0,t.show(u._layerEle,f.tooltip,new n.Rect(i.clientX,i.clientY,5,5));else{if(!u._annoTTShowing)return;u._annoTTShowing=!1;u._forceTTShowing=!1;t.hide()}},r.prototype._getAnnotation=function(n,t){var r=this._getAnnotationElement(n,t);return r==null?null:r[i.AnnotationBase._DATA_KEY]},r.prototype._getAnnotationElement=function(t,r){if(!t||!r)return null;var u=t.parentNode;return n.hasClass(t,i.AnnotationBase._CSS_ANNOTATION)?t:u==null||u===document.body||u===document||u===r?null:this._getAnnotationElement(u,r)},r.prototype._itemsChanged=function(t,i){var u=i.action,r=i.item;switch(u){case n.collections.NotifyCollectionChangedAction.Add:case n.collections.NotifyCollectionChangedAction.Change:r._layer=this;this._renderAnnotation(r);break;case n.collections.NotifyCollectionChangedAction.Remove:this._destroyAnnotation(r)}},r.prototype._renderAnnotations=function(){var t=this.items,i=t.length,n;for(this._renderGroup(),n=0;n<i;n++)this._renderAnnotation(t[n])},r.prototype._renderGroup=function(){var n=this,i=n._engine,t=n._chart._plotRect;t&&(n._layerEle&&n._layerEle.parentNode!=null||(n._plotrectId='plotRect'+(1e6*Math.random()).toFixed(),i.addClipRect({left:0,top:0,width:t.width,height:t.height},n._plotrectId),n._layerEle=i.startGroup(r._CSS_Layer,n._plotrectId),n._layerEle.setAttribute('transform','translate('+t.left+', '+t.top+')'),i.endGroup()))},r.prototype._renderAnnotation=function(n){this._layerEle&&(n._element&&n._element.parentNode==this._layerEle&&this._layerEle.removeChild(n._element),n.render(this._engine),this._layerEle.appendChild(n._element))},r.prototype._destroyAnnotations=function(){for(var t=this.items,i=t.length,n=0;n<i;n++)this._destroyAnnotation(t[n])},r.prototype._destroyAnnotation=function(n){this._layerEle&&this._layerEle.removeChild(n._element);n.destroy()},r._CSS_Layer='wj-chart-annotationlayer',r}();i.AnnotationLayer=r})(i=t.annotation||(t.annotation={}))})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={}))
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},c1;(function(n){var t;(function(n){var t;(function(n){var t=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t}(wijmo.chart.annotation.AnnotationLayer);n.AnnotationLayer=t})(t=n.annotation||(n.annotation={}))})(t=n.chart||(n.chart={}))})(c1||(c1={}));
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},c1;(function(n){var t;(function(t){var i;(function(t){var i;(function(t){var i=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t}(n.chart.annotation.AnnotationLayer);t.AnnotationLayer=i})(i=t.annotation||(t.annotation={}))})(i=t.chart||(t.chart={}))})(t=n.mvc||(n.mvc={}))})(c1||(c1={}));
/*
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    */
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},wijmo;(function(n){var t;(function(t){var i;(function(i){var u,r,e;(function(n){n[n.Linear=0]="Linear";n[n.Swing=1]="Swing";n[n.EaseInQuad=2]="EaseInQuad";n[n.EaseOutQuad=3]="EaseOutQuad";n[n.EaseInOutQuad=4]="EaseInOutQuad";n[n.EaseInCubic=5]="EaseInCubic";n[n.EaseOutCubic=6]="EaseOutCubic";n[n.EaseInOutCubic=7]="EaseInOutCubic";n[n.EaseInQuart=8]="EaseInQuart";n[n.EaseOutQuart=9]="EaseOutQuart";n[n.EaseInOutQuart=10]="EaseInOutQuart";n[n.EaseInQuint=11]="EaseInQuint";n[n.EaseOutQuint=12]="EaseOutQuint";n[n.EaseInOutQuint=13]="EaseInOutQuint";n[n.EaseInSine=14]="EaseInSine";n[n.EaseOutSine=15]="EaseOutSine";n[n.EaseInOutSine=16]="EaseInOutSine";n[n.EaseInExpo=17]="EaseInExpo";n[n.EaseOutExpo=18]="EaseOutExpo";n[n.EaseInOutExpo=19]="EaseInOutExpo";n[n.EaseInCirc=20]="EaseInCirc";n[n.EaseOutCirc=21]="EaseOutCirc";n[n.EaseInOutCirc=22]="EaseInOutCirc";n[n.EaseInBack=23]="EaseInBack";n[n.EaseOutBack=24]="EaseOutBack";n[n.EaseInOutBack=25]="EaseInOutBack";n[n.EaseInBounce=26]="EaseInBounce";n[n.EaseOutBounce=27]="EaseOutBounce";n[n.EaseInOutBounce=28]="EaseInOutBounce";n[n.EaseInElastic=29]="EaseInElastic";n[n.EaseOutElastic=30]="EaseOutElastic";n[n.EaseInOutElastic=31]="EaseInOutElastic"})(i.Easing||(i.Easing={}));u=i.Easing,function(n){n[n.All=0]="All";n[n.Point=1]="Point";n[n.Series=2]="Series"}(i.AnimationMode||(i.AnimationMode={}));r=i.AnimationMode;e=function(){function i(i,r){this._play=!0;var u=this,f=i.hostElement,e=new n.Size(f.offsetWidth,f.offsetHeight);u._chart=i;u._updateEventArgs=[];i instanceof t.FlexPie?u._animation=new h(i,u._updateEventArgs):(u._animation=n.chart.radar&&n.chart.radar.FlexRadar&&i instanceof n.chart.radar.FlexRadar?new c(i,u._updateEventArgs):new s(i,u._updateEventArgs),u._chartType=i.chartType);r&&u._initOptions(r);i.beginUpdate();window.setTimeout(function(){i.rendered.addHandler(u._playAnimation,u);i.endUpdate()},0);u._setCV(i.collectionView);window.addEventListener('resize',function(){var t=new n.Size(f.offsetWidth,f.offsetHeight);e.equals(t)||(u._play=!1,e=t)})}return i.prototype._initOptions=function(n){n.duration&&(this.duration=n.duration);n.easing&&(this.easing=n.easing);n.animationMode&&(this.animationMode=n.animationMode)},i.prototype._setCV=function(n){this._cv=n;this._animation._clearState()},Object.defineProperty(i.prototype,"animationMode",{get:function(){return this._animation.animationMode},set:function(n){var t=this._animation.animationMode;n!==t&&(this._animation.animationMode=n)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"easing",{get:function(){return this._animation.easing},set:function(n){var t=this._animation.easing;n!==t&&(this._animation.easing=n)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"duration",{get:function(){return this._animation.duration},set:function(n){var t=this._animation.duration;n!==t&&(this._animation.duration=n)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"axisAnimation",{get:function(){return this._animation.axisAnimation},set:function(n){var t=this._animation.axisAnimation;n!==t&&(this._animation.axisAnimation=n)},enumerable:!0,configurable:!0}),i.prototype._playAnimation=function(){var n=this,t=n._chart,i=t.chartType;n._cv!==t.collectionView&&n._setCV(t.collectionView);n._chartType!=null&&n._chartType!==i&&(n._chartType=i,n._animation._clearState());n._play?n._animation.playAnimation():n._play=!0},i.prototype.animate=function(){var n=this._chart,t;n&&(t=n.itemsSource,n.beginUpdate(),n.itemsSource=null,n.itemsSource=t,n.endUpdate())},i}();i.ChartAnimation=e;var o=function(){function t(n){this._axisAnimation=!0;this._chart=n;this._timers=[]}return Object.defineProperty(t.prototype,"animationMode",{get:function(){return this._animationMode||r.All},set:function(t){t!==this._animationMode&&(this._clearState(),this._animationMode=n.asEnum(t,r,!1))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"easing",{get:function(){return this._easing==null?u.Swing:this._easing},set:function(t){t!==this._easing&&(this._easing=n.asEnum(t,u,!1))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"duration",{get:function(){return this._duration||400},set:function(t){t!==this._duration&&(this._duration=n.asNumber(t,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"axisAnimation",{get:function(){return!!this._axisAnimation},set:function(t){t!==this._axisAnimation&&(this._axisAnimation=n.asBoolean(t,!1))},enumerable:!0,configurable:!0}),t.prototype.playAnimation=function(){},t.prototype._clearState=function(){this._previousState&&(this._previousState=null);this._currentState&&(this._currentState=null)},t.prototype._setInitState=function(n,t,i){var r=f.parseAttrs(t,i);f.setElementAttr(n,r,0)},t.prototype._getAnimation=function(n,t){return n[t]||(n[t]=[]),n[t]},t.prototype._toggleVisibility=function(n,t){t?f.playAnimation(n,{opacity:0},{opacity:1},null,u.Swing,100):n.setAttribute('opacity','0')},t.prototype._toggleDataLabelVisibility=function(n){var t=this._chart.hostElement,i=t&&t.querySelector('.wj-data-labels');i&&this._toggleVisibility(i,n)},t.prototype._playAnimation=function(t){var r=this,i=this,o=i.duration,e=i.easing,s=t.length,u;i._toggleDataLabelVisibility(!1);u=i._getDurationAndDelay(t.length,o);this._timers&&this._timers.length&&(this._timers.forEach(function(n){return window.clearInterval(n)}),this._timers.length=0);t.forEach(function(t,o){var h;t&&(h=window.setTimeout(function(){var h;t.forEach(function(t,c){if(t&&t.ele){if(o===s-1&&c===0){var l=t.done;t.done=function(){i._toggleDataLabelVisibility(!0);l&&l()}}n.isArray(t.ele)?(h=f.playAnimations(t.ele,t.from,t.to,t.done,e,u.duration),r._timers=r._timers.concat.apply(h)):(h=f.playAnimation(t.ele,t.from,t.to,t.done,e,u.duration),r._timers.push(h))}})},u.delay*o),r._timers.push(h))})},t.prototype._getDurationAndDelay=function(n,t){var i={duration:t,delay:0};return n>1&&(this._previousState?(i.duration=t/n,i.delay=t/n):(i.duration=t*.5,i.delay=t*.5/(n-1))),i},t}(),h=function(n){function t(t,i){n.call(this,t,i);t.selectionChanged.addHandler(this._selectionChanged,this)}return __extends(t,n),t.prototype._selectionChanged=function(){this._isSelectionChanged=!0},t.prototype._clearState=function(){n.prototype._clearState.call(this);this._isSelectionChanged=!1},t.prototype._getElementRotate=function(n){var t=n.getAttribute('transform'),i;return t&&t.indexOf('rotate')>-1?(t=t.replace('rotate(','').replace(')',''),t=t.indexOf(',')>-1?t.split(',').map(function(n){return+n}):t.split(' ').map(function(n){return+n})):(i=this._chart._areas[0].center,t=[0,i.x,i.y]),t},t.prototype._getDurationAndDelay=function(n,t){var u=this.animationMode,i={duration:t,delay:0};return u===r.Point&&n>1&&(i.duration=t/n,i.delay=t/n),i},t.prototype.playAnimation=function(){n.prototype.playAnimation.call(this);var i=this,t=[];i._playPieAnimation(t);t.length&&i._playAnimation(t)},t.prototype._playPieAnimation=function(n){var t=this,i=t._chart,r=!0;if(t._previousState=t._currentState,t._currentState={areas:i._areas,pels:i._pels,rotate:i._pels.length&&t._getElementRotate(i._pels[0].parentNode)},t._previousState&&(r=!1),t._isSelectionChanged){i.isAnimated||t._playSelectPieAnimation(n);t._isSelectionChanged=!1;return}r?t._playLoadPieAnimation(n):t._playUpdatePieAnimation(n)},t.prototype._playSelectPieAnimation=function(n){if(this._previousState!=null){var t=this,i=t._chart._pels[0].parentNode,r=t._previousState.rotate,u=t._getElementRotate(i),h,f,e,o=r[0],s=u[0];o!==s&&(o-s>180?u[0]+=360:s-o>180&&(r[0]+=360),h=t._getAnimation(n,0),f={rotate:r},e={rotate:u},t._setInitState(i,f,e),h.push({ele:i,from:f,to:e}))}},t.prototype._playUpdatePieAnimation=function(n){var h=this,v=h._chart,u=h._previousState,c=v._areas,e=v._pels,o=u.areas.length,l=c.length,y=Math.max(l,o),p=h._getAnimation(n,0),i,r,t,a,s=0;if(l!==0&&o!==0)for(h._playSelectPieAnimation(n),i=0;i<y;i++)r={},i<l&&i<o&&(t=c[0],i===0&&(s=t.angle),o===1?e[i].childNodes[0].setAttribute('d',f.getPathDescOfPie(t.center.x,t.center.y,t.radius,s,Math.PI*2,t.innerRadius||0)):e[i].childNodes[0].setAttribute('d',u.pels[i].childNodes[0].getAttribute('d'))),i<l?(t=c[i],r.to={pie:[t.center.x,t.center.y,t.radius,t.angle,t.sweep,t.innerRadius||0]},r.ele=e[i].childNodes[0]):(t=c[0],a=u.pels[i],r.to={pie:[t.center.x,t.center.y,t.radius,s+Math.PI*2,0,t.innerRadius||0]},e[0].parentNode.appendChild(a),r.done=function(n){return function(){n.parentNode.removeChild(n)}}(a),r.ele=a.childNodes[0]),i<o?(t=u.areas[i],r.from={pie:[t.center.x,t.center.y,t.radius,t.angle,t.sweep,t.innerRadius||0]}):(e[i].childNodes[0].setAttribute('d',f.getPathDescOfPie(t.center.x,t.center.y,t.radius,Math.PI*2+s,0,t.innerRadius||0)),t=u.areas[0],r.from={pie:[t.center.x,t.center.y,t.radius,Math.PI*2+s,0,t.innerRadius||0]}),p.push(r)},t.prototype._playLoadPieAnimation=function(n){var t=this,i=t._chart,f=t.animationMode,u=i._areas,e=i._pels;e.forEach(function(i,e){var h=i.childNodes[0],c,o={},s={};h&&(f===r.Point?(t._parsePathByAngle(u[e],o,s),c=t._getAnimation(n,e)):(t._parsePathByRadius(u[e],o,s),c=t._getAnimation(n,0)),t._setInitState(h,o,s),c.push({ele:h,from:o,to:s}))})},t.prototype._parsePathByRadius=function(n,t,i){var r,u,f=n.center.x,e=n.center.y,h=n.radius,o=n.angle,s=n.sweep,c=n.innerRadius;r=[f,e,0,o,s,0];u=[f,e,h,o,s,c||0];t.pie=r;i.pie=u},t.prototype._parsePathByAngle=function(n,t,i){var r,u,f=n.center.x,e=n.center.y,o=n.radius,s=n.angle,c=n.sweep,h=n.innerRadius;r=[f,e,o,s,0,h||0];u=[f,e,o,s,c,h||0];t.pie=r;t['stroke-width']=0;i.pie=u;i['stroke-width']=1},t}(o),s=function(i){function e(n,t){i.call(this,n,t)}return __extends(e,i),e.prototype._clearState=function(){i.prototype._clearState.call(this);var n=this;n._prevAxesStates&&(n._prevAxesStates=null);n._currAxesStates&&(n._currAxesStates=null)},e.prototype.playAnimation=function(){i.prototype.playAnimation.call(this);var t=this,y=!0,c=t._chart,b=n.chart.finance&&n.chart.finance.FinancialChart&&c instanceof n.chart.finance.FinancialChart,p=c.series,w=p.length,r,h,o,l,v,a,u,f,s,e=[];for(t._previousState=t._currentState,t._previousXVal=t._currentXVal,t._currentState=[],t._addStart=0,t._removeStart=0,t._currentXVal=c._xlabels.slice(),t._previousState&&t._previousState.length&&(y=!1,a=t._previousState,v=a.length,u=t._previousXVal,f=t._currentXVal,u.length>2&&f.length>2&&(r=f.indexOf(u[0]),r>0&&r<f.length-2?f[r+1]===u[1]&&f[r+2]===u[2]&&(t._addStart=r):(r=u.indexOf(f[0]),r>0&&r<u.length-2&&u[r+1]===f[1]&&u[r+2]===f[2]&&(t._removeStart=r)))),r=0;r<w;r++)if(h=p[r],l=h._getChartType()!=null?h._getChartType():c._getChartType(),o=t._getChartType(l),t._currentState.push({seriesType:l,ele:h.hostElement}),b)t._playDefaultAnimation(e,r);else{if(s=a&&a[r],o==='Default'){t._playDefaultAnimation(e,r);continue}if(y||s&&s.seriesType!==l)t._playLoadAnimation(e,r,o);else if(t._playUpdateAnimation(e,r,o,h,s&&s.ele||null),r===w-1&&r<v-1)for(r++;r<=v-1;r++)t._playUpdateAnimation(e,r,o,null,s.ele)}t._adjustAnimations(o,e);e.length&&t._playAnimation(e);t.axisAnimation&&t._playAxesAnimation()},e.prototype._playAxesAnimation=function(){var t=this,u=t._chart.axes,e=u.length,i,r,f;for(t._prevAxesStates=t._currAxesStates,t._currAxesStates=[],r=0;r<e;r++)i=u[r],t._currAxesStates.push({ele:i.hostElement,vals:i._vals,axis:i,maxValue:n.isDate(i.actualMax)?i.actualMax.getTime():i.actualMax,minValue:n.isDate(i.actualMin)?i.actualMin.getTime():i.actualMin});if(t._prevAxesStates)for(f=Math.max(t._prevAxesStates.length,t._currAxesStates.length),r=0;r<f;r++)t._playAxisAnimation(t._prevAxesStates[r],t._currAxesStates[r])},e.prototype._playAxisAnimation=function(n,t){var i=this,r,u=[],f=[];t&&t.maxValue-t.minValue&&(r=i._parseAxisState(t),i._convertAxisAnimation(u,r.major,t.axis,n.maxValue,n.minValue),i._convertAxisAnimation(u,r.minor,t.axis,n.maxValue,n.minValue));n&&n.maxValue-n.minValue&&(r=i._parseAxisState(n),i._convertAxisAnimation(f,r.major,n.axis),i._convertAxisAnimation(f,r.minor,n.axis));u&&f&&i._combineAxisAnimations(u,f);i._playCurrAxisAnimation(u);i._playPrevAxisAnimation(f)},e.prototype._combineAxisAnimations=function(n,t){for(var u=this,f=t.length,r,i=f-1;i>=0;i--)(r=t[i],r.text)&&n.some(function(n){if(n.text&&n.text===r.text)return u._combineAxisAnimation(n,r),t.splice(i,1),!0})},e.prototype._combineAxisAnimation=function(n,t){var i=this;['label','majorGrid','tick'].forEach(function(r){n[r]&&t[r]&&i._resetExistAxisAttrs(n[r],t[r])})},e.prototype._resetExistAxisAttrs=function(n,t){var u=n.ele,f=t.ele,i={},r={};['x','y','x1','x2','y1','y2'].forEach(function(n){var t=u.getAttribute(n),e=f.getAttribute(n);t!==e&&(i[n]=e,r[n]=t)});n.calcPos=i;n.elePos=r},e.prototype._convertAxisAnimation=function(n,i,r,u,f){var o=this,s=r.hostElement,e,h=r.axisType==t.AxisType.Y;i.forEach(function(t){var i=r.convert(t.val,u,f);isNaN(i)||(e={},t.majorGrid&&(e.majorGrid=o._getAxisAnimationAttrs(t.majorGrid,s,i,h)),t.label&&(e.label=o._getAxisAnimationAttrs(t.label,s,i,h),e.text=t.label.innerHTML||t.label.textContent),t.tick&&(e.tick=o._getAxisAnimationAttrs(t.tick,s,i,h)),n.push(e))})},e.prototype._getAxisAnimationAttrs=function(n,t,i,r){var u,e,f;return u={ele:n,parent:t,elePos:{},calcPos:{}},n.nodeName==='text'?(e=r?'y':'x',f=Number(n.getAttribute(e)),u.elePos[e]=f,u.calcPos[e]=i):(e=r?'y1':'x1',f=Number(n.getAttribute(e)),r?(u.elePos={y1:f,y2:f},u.calcPos={y1:i,y2:i}):(u.elePos={x1:f,x2:f},u.calcPos={x1:i,x2:i})),u.elePos.opacity=1,u.calcPos.opacity=0,u},e.prototype._playCurrAxisAnimation=function(n){var t=this.duration;n&&n.length!==0&&n.forEach(function(n){['majorGrid','label','tick'].forEach(function(i){var r=n[i];if(r){var h=r.parent,e=r.ele,o=r.elePos,s=r.calcPos;f.playAnimation(e,s,o,null,u.Swing,t)}})})},e.prototype._playPrevAxisAnimation=function(n){var t=this.duration;n&&n.length!==0&&n.forEach(function(n){['majorGrid','label','tick'].forEach(function(i){var r=n[i];if(r){var o=r.parent,e=r.ele,s=r.elePos,h=r.calcPos;o.appendChild(e);f.playAnimation(e,s,h,function(){e.parentNode===o&&o.removeChild(e)},u.Swing,t)}})})},e.prototype._parseAxisState=function(i){if(i==null)return null;var e=i.vals,u=i.axis,l=u.axisType==t.AxisType.Y,a=i.ele,f=a.childNodes,r=0,o=e.major,s=e.minor,v=e.hasLbls,h=[],c=[];return o&&o.forEach(function(i,e){var s={},o,c=!!v[e];h.push(s);s.val=i;o=f[r];u.majorGrid&&n.hasClass(o,t.FlexChart._CSS_GRIDLINE)&&(s.majorGrid=o,r++,o=f[r]);l?(c&&o&&u.majorTickMarks!==t.TickMark.None&&n.hasClass(o,t.FlexChart._CSS_TICK)&&(s.tick=o,r++,o=f[r]),c&&o&&(n.hasClass(o,t.FlexChart._CSS_LABEL)||o.querySelector('.'+t.FlexChart._CSS_LABEL))&&(s.label=o,r++)):(c&&o&&(n.hasClass(o,t.FlexChart._CSS_LABEL)||o.querySelector('.'+t.FlexChart._CSS_LABEL))&&(s.label=o,r++,o=f[r]),c&&o&&u.majorTickMarks!==t.TickMark.None&&n.hasClass(o,t.FlexChart._CSS_TICK)&&(s.tick=o,r++))}),s&&s.forEach(function(i){var o={},e;c.push(o);o.val=i;e=f[r];u.minorTickMarks!==t.TickMark.None&&n.hasClass(e,t.FlexChart._CSS_TICK_MINOR)&&(o.tick=e,r++,e=f[r]);u.minorGrid&&n.hasClass(e,t.FlexChart._CSS_GRIDLINE_MINOR)&&(o.majorGrid=e,r++)}),{major:h,minor:c}},e.prototype._playLoadAnimation=function(n,t,i){this['_playLoad'+i+'Animation'](n,t)},e.prototype._playUpdateAnimation=function(n,t,i,r,u){r==null||u==null?r==null?this['_play'+i+'RemoveAnimation'](n,u):this['_play'+i+'AddAnimation'](n,r):this['_play'+i+'MoveAnimation'](n,r,u)},e.prototype._adjustAnimations=function(n,t){var r=t.length,i;if(n==='Column'||n==='Bar')for(i=r-1;i>=0;i--)t[i]==null&&t.splice(i,1)},e.prototype._getChartType=function(n){var i='Default',r=this._chart._isRotated();switch(n){case t.ChartType.Scatter:case t.ChartType.Bubble:case t.ChartType.Candlestick:case t.ChartType.HighLowOpenClose:i='Scatter';break;case t.ChartType.Column:case t.ChartType.Bar:i=r?'Bar':'Column';break;case t.ChartType.Line:case t.ChartType.LineSymbols:case t.ChartType.Area:case t.ChartType.Spline:case t.ChartType.SplineSymbols:case t.ChartType.SplineArea:i='Line';break;default:i='Default'}return i},e.prototype._playLoadLineAnimation=function(n,t){var i=this,e=i._chart.series[t],u=i.animationMode,o=e.hostElement,f;u===r.Point?i._playDefaultAnimation(n,t):(f=u===r.All?i._getAnimation(n,0):i._getAnimation(n,t),[].slice.call(o.childNodes).forEach(function(n){i._setLineRiseDiveAnimation(f,n,!0)}))},e.prototype._setLineRiseDiveAnimation=function(n,t,i){var b=this,u=this,k=u._chart,r=t.nodeName,s=[],y=[],h=u._chart._plotRect,d=h.top+h.height,g=h.left,c,l,a={},v={},p,f,e,o,w;if(r==='g'){[].slice.call(t.childNodes).forEach(function(t){b._setLineRiseDiveAnimation(n,t,i)});return}if(r==='polyline'||r==='polygon'){for(o=t.points,p=o.length||o.numberOfItems,f=0;f<p;f++)e=o[f]||o.getItem(f),k.rotated?s.push({x:g,y:e.y}):s.push({x:e.x,y:d}),y.push({x:e.x,y:e.y});a[r]=s;v[r]=y}else r==='ellipse'&&(u._toggleVisibility(t,!1),i&&(w=function(){u._toggleVisibility(t,!0)}));c=i?a:v;l=i?v:a;u._setInitState(t,c,l);n.push({ele:t,from:c,to:l,done:w})},e.prototype._setLineMoveAnimation=function(n,t,i,r,u){if(t!=null&&i!=null){var f=this,v=t.nodeName,l=[],a=[],y={},p={},o,w,h,s,b,c,e,d,k;for(k=v==='polygon',h=t.points,c=i.points,o=h.length||h.numberOfItems,s=c.length||c.numberOfItems,d=Math.max(o,s),e=0;e<d;e++)e<o&&(w=h[e]||h.getItem(e),l.push({x:w.x,y:w.y})),e<s&&(b=c[e]||c.getItem(e),a.push({x:b.x,y:b.y}));f._addStart?(f._adjustStartLinePoints(f._addStart,l,h),o+=f._addStart):f._removeStart&&(f._adjustStartLinePoints(f._removeStart,a,c),s+=f._removeStart);s>o?f._adjustEndLinePoints(s,o,l,h,k):s<o&&f._adjustEndLinePoints(o,s,a,c,k);y[v]=l;p[v]=a;f._setInitState(r,y,p);n.push({ele:r,from:y,to:p,done:u})}},e.prototype._adjustStartLinePoints=function(n,t,i){for(var r=i[0]||i.getItem(0);n;)t.splice(0,0,{x:r.x,y:r.y}),n--},e.prototype._adjustEndLinePoints=function(n,t,i,r,u){var e,o,f;for(u&&(r.length>=3||r.numberOfItems>=3)?(o=i.pop(),e=i.pop(),f=r[r.length-3]||r.getItem(r.numberOfItems-3)):f=r[r.length-1]||r.getItem(r.numberOfItems-1);n>t;)i.push({x:f.x,y:f.y}),t++;u&&o&&e&&(i.push(e),i.push(o))},e.prototype._playLineRemoveAnimation=function(n,t){var r=this,e=r._chart,u=e.series[0].hostElement.parentNode,i=r._getAnimation(n,0),f;u.appendChild(t);[].slice.call(t.childNodes).forEach(function(n){r._setLineRiseDiveAnimation(i,n,!1)});i.length&&(f=i[0].done,i[0].done=function(){t&&t.parentNode===u&&u.removeChild(t);f&&f()})},e.prototype._playLineAddAnimation=function(n,t){var i=this,r=t.hostElement,u=this._getAnimation(n,0);[].slice.call(r.childNodes).forEach(function(n){i._setLineRiseDiveAnimation(u,n,!0)})},e.prototype._playLineMoveAnimation=function(n,t,i){var r=this,l=r._chart,c=r._getAnimation(n,0),u=[],o,s,h,f,e;o=t.hostElement;h=[].slice.call(i.childNodes);s=[].slice.call(o.childNodes);s.forEach(function(n,t){e=n.nodeName;f=h[t];e==='g'?[].slice.call(n.nodeChilds).forEach(function(n){f&&(u.push(n),r._toggleVisibility(n,!1))}):e==='polygon'||e==='polyline'?r._setLineMoveAnimation(c,f,n,n,t===0?function(){u.forEach(function(n){r._toggleVisibility(n,!0)});u=null}:null):f&&(u.push(n),r._toggleVisibility(n,!1))})},e.prototype._playLoadColumnAnimation=function(n,t){this._playLoadBarAnimation(n,t,!0)},e.prototype._playLoadBarAnimation=function(n,t,i){i===void 0&&(i=!1);var u=this,o=u._chart.series[t],f=u.animationMode,s=o.hostElement,e;e=[].slice.call(s.childNodes);e.forEach(function(e,o){var s,h=e.nodeName;s=f===r.Point?u._getAnimation(n,o):f===r.Series?u._getAnimation(n,t):u._getAnimation(n,0);h==='g'?[].slice.call(e.childNodes).forEach(function(n){u._setLoadBarAnimation(s,n,i)}):u._setLoadBarAnimation(s,e,i)})},e.prototype._setBarAnimation=function(n,t,i,r,u){this._setInitState(t,i,r);n.push({ele:t,from:i,to:r,done:u})},e.prototype._setLoadBarAnimation=function(n,t,i,r,u){r===void 0&&(r=!1);var s=this,f=i?'height':'width',h=i?'y':'x',v=t.getAttribute(f),y=t.getAttribute(h),p=i?'top':'left',a=s._chart._plotRect,c,l,e={},o={};e[f]=0;o[f]=Number(v);i&&(e[h]=a[f]+a[p],o[h]=Number(y));c=r?o:e;l=r?e:o;t.nodeName==='g'?[].slice.call(t.childNodes).forEach(function(t){s._setBarAnimation(n,t,c,l,u)}):s._setBarAnimation(n,t,c,l,u)},e.prototype._setMoveBarAnimation=function(n,t,i){var r={},u={};t!=null&&i!=null&&(['width','height','x','y','top','left'].forEach(function(n){var f=t.getAttribute(n),e=i.getAttribute(n);f!==e&&(r[n]=Number(f),u[n]=Number(e))}),this._setInitState(i,r,u),n.push({ele:i,from:r,to:u}))},e.prototype._playColumnRemoveAnimation=function(n,t){this._playBarRemoveAnimation(n,t,!0)},e.prototype._playColumnAddAnimation=function(n,t){this._playBarAddAnimation(n,t,!0)},e.prototype._playColumnMoveAnimation=function(n,t,i){this._playBarMoveAnimation(n,t,i,!0)},e.prototype._playBarRemoveAnimation=function(n,t,i){i===void 0&&(i=!1);var r=this,o=r._chart,u=o.series[0].hostElement.parentNode,f=r._getAnimation(n,0),e;u.appendChild(t);e=[].slice.call(t.childNodes);e.forEach(function(n){r._setLoadBarAnimation(f,n,i,!0)});f.length&&(f[0].done=function(){t&&t.parentNode===u&&u.removeChild(t)})},e.prototype._playBarAddAnimation=function(n,t,i){var e=this,r,u,f;i===void 0&&(i=!1);r=t.hostElement;u=this._getAnimation(n,2);f=[].slice.call(r.childNodes);f.forEach(function(n){e._setLoadBarAnimation(u,n,i,!1)})},e.prototype._playBarMoveAnimation=function(n,t,i,r){var u,v,c,h,f,e,s,l,o,a;if(r===void 0&&(r=!1),u=this,v=u._chart,c=t.hostElement,f=[].slice.call(i.childNodes),u._addStart)for(o=0,e=f[0];o<u._addStart;)f.splice(0,0,e),o++;if(u._removeStart)for(o=0,e=f[f.length-1];o<u._removeStart;)a=f.shift(),f.push(a),o++;s=f.length;h=[].slice.call(c.childNodes);l=h.length;h.forEach(function(t,i){var o;if(i<s){if(e=f[i],i<u._addStart?(o=u._getAnimation(n,2),u._setLoadBarAnimation(o,t,r,!1)):i>=s-u._removeStart?(o=u._getAnimation(n,2),u._setLoadBarAnimation(o,t,r,!1),o=u._getAnimation(n,0),u._removeBarAnimation(o,t,e,r)):(o=u._getAnimation(n,1),u._setMoveBarAnimation(o,e,t)),i===l-1&&i<s-1)for(o=u._getAnimation(n,0),i++;i<s;i++)e=f[i],u._removeBarAnimation(o,t,e,r)}else o=u._getAnimation(n,2),u._setLoadBarAnimation(o,t,r,!1)})},e.prototype._removeBarAnimation=function(n,t,i,r){var u=t.parentNode;u.appendChild(i);this._setLoadBarAnimation(n,i,r,!0,function(n){return function(){n.parentNode&&n.parentNode===u&&u.removeChild(n)}}(i))},e.prototype._playLoadScatterAnimation=function(n,t){var i=this,e=i._chart,u=e.series[t],o=i.animationMode,h=u.hostElement,f=u._xValues||e._xvals,s;f.length===0&&(f=u._pointIndexes);s=[].slice.call(h.childNodes);s.forEach(function(u,e){var s;s=o===r.Point?i._getScatterAnimation(n,f[e]):o===r.Series?i._getAnimation(n,t):i._getAnimation(n,0);i._setLoadScatterAnimation(s,u,!1)})},e.prototype._setLoadScatterAnimation=function(n,t,i,r){var s=this,e,o,u,f;if(i===void 0&&(i=!1),u={},f={},t.nodeName==='g'){[].slice.call(t.childNodes).forEach(function(t){s._setLoadScatterAnimation(n,t,i,r)});return}['rx','ry','stroke-width'].forEach(function(n){var i=t.getAttribute(n);u[n]=0;f[n]=Number(i)});e=i?f:u;o=i?u:f;this._setInitState(t,e,o);n.push({ele:t,from:e,to:o,done:r})},e.prototype._setUpdateScatterAnimation=function(n,t,i,r){var u={},f={};['cx','cy'].forEach(function(n){var r=t.getAttribute(n),e=i.getAttribute(n);r!==e&&(u[n]=Number(r),f[n]=Number(e))});this._setInitState(i,u,f);n.push({ele:i,from:u,to:f,done:r})},e.prototype._getScatterAnimation=function(n,t){var i=this._getScatterAnimationIndex(n,t);return n[i]||(n[i]=[]),n[i]},e.prototype._getScatterAnimationIndex=function(n,t){var u=this._chart,i=u.axisX,r=i.min==null?i.actualMin:i.min,f=i.max==null?i.actualMax:i.max;return Math.ceil((t-r)/((f-r)/20))},e.prototype._playScatterRemoveAnimation=function(n,t){var i=this,e=i._chart,r=e.series[0].hostElement.parentNode,u=i._getAnimation(n,0),f;r.appendChild(t);f=[].slice.call(t.childNodes);f.forEach(function(n){i._setLoadScatterAnimation(u,n,!0)});u.length&&(u[0].done=function(){t&&t.parentNode===r&&r.removeChild(t)})},e.prototype._playScatterAddAnimation=function(n,t){var r=this,u=t.hostElement,f=this._getAnimation(n,0),i;i=[].slice.call(u.childNodes);i.forEach(function(n){r._setLoadScatterAnimation(f,n,!1)})},e.prototype._playScatterMoveAnimation=function(n,t,i){var r=this,v=r._chart,e=r._getAnimation(n,0),c,h,u,f,s,l,o,a;if(c=t.hostElement,u=[].slice.call(i.childNodes),r._addStart)for(o=0,f=u[0];o<r._addStart;)u.splice(0,0,f),o++;if(r._removeStart)for(o=0,f=u[u.length-1];o<r._removeStart;)a=u.shift(),u.push(a),o++;s=u.length;h=[].slice.call(c.childNodes);l=h.length;h.forEach(function(n,t){if(t<s){if(t<r._addStart?r._setLoadScatterAnimation(e,n,!1):t>=s-r._removeStart?(r._setLoadScatterAnimation(e,n,!1),f=u[t],r._removeScatterAnimation(e,n,f)):(f=u[t],r._setUpdateScatterAnimation(e,f,n)),t===l-1&&t<s-1)for(t++;t<s;t++)f=u[t],r._removeScatterAnimation(e,n,f)}else r._setLoadScatterAnimation(e,n,!1)})},e.prototype._removeScatterAnimation=function(n,t,i){var r=t.parentNode;r.appendChild(i);this._setLoadScatterAnimation(n,i,!0,function(n){return function(){n.parentNode&&n.parentNode===r&&r.removeChild(n)}}(i))},e.prototype._playDefaultAnimation=function(t,i){var f=this._chart,c=f.series[i],u=c.hostElement,e=f._plotRect,l=f._currentRenderEngine,s=u.getAttribute('clip-path'),o='clipPath'+(1e6*Math.random()).toFixed(),r,h;l.addClipRect(new n.Rect(e.left,e.top,0,e.height),o);u.setAttribute('clip-path','url(#'+o+')');r=f.hostElement.querySelector('#'+o);h=this._getAnimation(t,0);h.push({ele:r.querySelector('rect'),from:{width:0},to:{width:e.width},done:function(){u&&(s?u.setAttribute('clip-path',s):u.removeAttribute('clip-path'),r&&r.parentNode&&r.parentNode.removeChild(r))}})},e}(o),c=function(n){function t(t,i){n.call(this,t,i)}return __extends(t,n),t.prototype._getDurationAndDelay=function(t,i){var u=n.prototype._getDurationAndDelay.call(this,t,i);return this.animationMode===r.Point&&(u.duration=i/t,u.delay=i/t),u},t.prototype._playAxesAnimation=function(){},t.prototype._getChartType=function(t){var i=n.prototype._getChartType.call(this,t);return i==='Bar'&&(i='Column'),i},t.prototype._playLoadLineAnimation=function(n,t){var i=this,l=i._chart,u=i._chart.series[t],f=u._xValues||l._xvals,s=i.animationMode,e=u.hostElement,h,c,o;s===r.Point?(f.length===0&&(f=u._pointIndexes),o=[].slice.call(e.childNodes),c=o.length-e.querySelectorAll('ellipse').length,o.forEach(function(t,r){i._setRadarLinePointAnimation(n,t,r,f,c)})):(h=s===r.All?i._getAnimation(n,0):i._getAnimation(n,t),[].slice.call(e.childNodes).forEach(function(n){i._setLineRiseDiveAnimation(h,n,!0)}))},t.prototype._setRadarLinePointAnimation=function(n,t,i,r,u){var e=this,d=e._chart,s=t.nodeName,g=[],nt=[],w=[],h=[],tt=d._center,o=[],it=!1,c={},l={},v,f,b,a,k,y,p,rt=0;if(s==='polyline'||s==='polygon'){for(a=t.points,v=a.length||a.numberOfItems,f=0;f<v;f++)p=e._getScatterAnimationIndex(n,r[f]),o[p]||(o[p]=[]),o[p].push(f),b=a[f]||a.getItem(f),g.push({x:tt.x,y:tt.y}),nt.push({x:b.x,y:b.y});for(f=0,v=o.length;f<v;f++)o[f]&&(y=e._getAnimation(n,rt),w=h.length?h.slice():g.slice(),h=w.slice(),o[f].forEach(function(n){var t=nt[n];h[n]={x:t.x,y:t.y}}),c={},l={},c[s]=w,l[s]=h,it||(e._setInitState(t,c,l),it=!0),y.push({ele:t,from:c,to:l,done:k}),rt++)}else if(s==='ellipse'){if(f=i-(u||0),f<0)return;y=d._isPolar?e._getScatterAnimation(n,r[f]):e._getScatterAnimation(n,f);e._toggleVisibility(t,!1);k=function(){e._toggleVisibility(t,!0)};y.push({ele:t,from:c,to:l,done:k})}},t.prototype._setLineRiseDiveAnimation=function(n,t,i){var e=this,b=e._chart,r=t.nodeName,a=[],v=[],y=b._center,o,s,h={},c={},p,u,l,f,w;if(r==='polyline'||r==='polygon'){for(f=t.points,p=f.length||f.numberOfItems,u=0;u<p;u++)l=f[u]||f.getItem(u),a.push({x:y.x,y:y.y}),v.push({x:l.x,y:l.y});h[r]=a;c[r]=v}else r==='ellipse'&&(e._toggleVisibility(t,!1),i&&(w=function(){e._toggleVisibility(t,!0)}));o=i?h:c;s=i?c:h;e._setInitState(t,o,s);n.push({ele:t,from:o,to:s,done:w})},t.prototype._parsePathByRadius=function(n,t,i){var r,u,f=n.center.x,e=n.center.y,h=n.radius,o=n.angle,s=n.sweep,c=n.innerRadius;r=[f,e,0,o,s,0];u=[f,e,h,o,s,c||0];t.pie=r;i.pie=u},t.prototype._playUpdateAnimation=function(t,i,r,u,f){if(r==='Bar'||r==='Column'){if(u==null)return;this._playLoadBarAnimation(t,i,!1)}else n.prototype._playUpdateAnimation.call(this,t,i,r,u,f)},t.prototype._playLoadBarAnimation=function(n,t,i){i===void 0&&(i=!1);var u=this,f=u._chart,s=f.series[t],h=f._areas[t],e=u.animationMode,c=s.hostElement,o;o=[].slice.call(c.childNodes);o.forEach(function(i,f){var c,o={},s={},l;c=e===r.Point?u._getAnimation(n,f):e===r.Series?u._getAnimation(n,t):u._getAnimation(n,0);l=h[f];u._parsePathByRadius(l,o,s);u._setInitState(i,o,s);c.push({ele:i,from:o,to:s})})},t}(s),f=function(){function t(){}return t.playAnimations=function(n,i,r,f,e,o,s){e===void 0&&(e=u.Swing);var l=n.length,h=0,c=[];return n.forEach(function(n,u){var a=t.playAnimation(n,i[u],r[u],function(){h===l-1&&f&&f();h++},e,o,s);c.push(a)}),c},t.playAnimation=function(n,i,r,f,e,o,s){e===void 0&&(e=u.Swing);var h=t.parseAttrs(i,r);return t.animate(function(i){t.setElementAttr(n,h,i)},f,e,o,s)},t.setElementAttr=function(n,i,r){var u;for(var f in i)u=i[f],t.calcValue(u,r),n.setAttribute(f,u.getValue(u.value,r))},t.getPathDescOfPie=function(t,i,r,u,f,e){var v,h,c,l,s,a,y,p,o;return e===void 0&&(e=0),v=!1,f>=Math.PI*2&&(v=!0,f=Math.PI*2-.001),h=new n.Point(t,i),h.x+=r*Math.cos(u),h.y+=r*Math.sin(u),c=u+f,l=new n.Point(t,i),l.x+=r*Math.cos(c),l.y+=r*Math.sin(c),e&&(s=new n.Point(t,i),s.x+=e*Math.cos(c),s.y+=e*Math.sin(c),a=new n.Point(t,i),a.x+=e*Math.cos(u),a.y+=e*Math.sin(u)),y=' 0 0,1 ',p=' 0 0,0 ',Math.abs(f)>Math.PI&&(y=' 0 1,1 ',p=' 0 1,0 '),o='M '+h.x.toFixed(3)+','+h.y.toFixed(3),o+=' A '+r.toFixed(3)+','+r.toFixed(3)+y,o+=l.x.toFixed(3)+','+l.y.toFixed(3),e?(o+=v?' M '+s.x.toFixed(3)+','+s.y.toFixed(3):' L '+s.x.toFixed(3)+','+s.y.toFixed(3),o+=' A '+e.toFixed(3)+','+e.toFixed(3)+p,o+=a.x.toFixed(3)+','+a.y.toFixed(3)):o+=' L '+t.toFixed(3)+','+i.toFixed(3),v||(o+=' z'),o},t.parseAttrs=function(n,i){var u={};for(var r in n)if(i[r]!=null)switch(r){case'polyline':u.points=t.parseAttr(n[r],i[r],function(n,t){if(t===1){for(var f,u,i,r;n.length>1;)if(i=n[0],r=n[1],i.x===r.x&&i.y===r.y)n.splice(1,1);else{i=null;r=null;break}for(f=n.length,u=f-1;u>=0;u--)if(i=r,r=n[u],i)if(i.x===r.x&&i.y===r.y)n.pop();else break}return n.map(function(n){return n.x+','+n.y}).join(' ')});break;case'polygon':u.points=t.parseAttr(n[r],i[r],function(n,t){if(t===1){for(var f,u,i,r,e=n.pop(),o=n.pop();n.length>1;)if(i=n[0],r=n[1],i.x===r.x&&i.y===r.y)n.splice(1,1);else{i=null;r=null;break}for(f=n.length,u=f-1;u>=0;u--)if(i=r,r=n[u],i)if(i.x===r.x&&i.y===i.y)n.splice(u,1);else break;n.push(o);n.push(e)}return n.map(function(n){return n.x+','+n.y}).join(' ')});break;case'd':u[r]=t.parseAttr(n[r],i[r],function(n){return n.map(function(n){return typeof n=='string'?n:n['0']+','+n['1']}).join(' ')});break;case'pie':u.d=t.parseAttr(n[r],i[r],function(n){return t.getPathDescOfPie.apply(t,n)});break;case'rotate':u.transform=t.parseAttr(n[r],i[r],function(n){return'rotate('+n.join(' ')+')'});break;case'width':case'height':case'rx':case'ry':case'stroke-width':u[r]=t.parseAttr(n[r],i[r],function(n){return Math.abs(n)});break;default:u[r]=t.parseAttr(n[r],i[r])}return u},t.animate=function(t,i,r,f,e){r===void 0&&(r=u.Swing);f===void 0&&(f=400);e===void 0&&(e=16);n.asFunction(t);n.asNumber(f,!1,!0);n.asNumber(e,!1,!0);var o=0,s=setInterval(function(){var h=Date.now(),n=o/f;n=l[u[r]](n);t(n);o+=e;o>=f&&(clearInterval(s),(n<1||n>1)&&t(1),i&&i())},e);return s},t.calcValue=function(i,r){var u=i.from,f=i.diff,e=i.value;n.isNumber(u)?i.value=f===0?u:u+f*r:n.isArray(u)&&t.parseArrayAttr(e,u,f,function(n,t){return typeof n=='number'?n+t*r:n})},t.parseAttr=function(i,r,u){var f,e,o,s;return n.isArray(i)&&n.isArray(r)?(f=i,e=r,o=[],s=f.slice(),t.parseArrayAttr(o,f,e,function(n,t){return n===t?0:t-n})):(f=Number(i),e=Number(r),s=f,o=e-f),{from:f,to:e,value:s,diff:o,getValue:u||function(n){return n}}},t.parseArrayAttr=function(t,i,r,u){i.forEach(function(i,f){var o,s={},h=[],e=r[f];n.isNumber(i)||typeof i=='string'?t[f]=u(i,e):n.isArray(i)?(i.forEach(function(n,t){h[t]=u(i[t],e[t])}),t[f]=h):(o=Object.getOwnPropertyNames(i),o.forEach(function(n){s[n]=u(i[n],e[n])}),t[f]=s)})},t}(),l=function(){function n(){}return n.Linear=function(n){return n},n.Swing=function(n){var t=1.70158;return(n/=.5)<1?.5*n*n*(((t*=1.525)+1)*n-t):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},n.EaseInQuad=function(n){return n*n},n.EaseOutQuad=function(n){return n*(2-n)},n.EaseInOutQuad=function(n){return n<.5?2*n*n:-1+(4-2*n)*n},n.EaseInCubic=function(n){return n*n*n},n.EaseOutCubic=function(n){return--n*n*n+1},n.EaseInOutCubic=function(n){return n<.5?4*n*n*n:(n-1)*(2*n-2)*(2*n-2)+1},n.EaseInQuart=function(n){return n*n*n*n},n.EaseOutQuart=function(n){return 1- --n*n*n*n},n.EaseInOutQuart=function(n){return n<.5?8*n*n*n*n:1-8*--n*n*n*n},n.EaseInQuint=function(n){return n*n*n*n*n},n.EaseOutQuint=function(n){return 1+--n*n*n*n*n},n.EaseInOutQuint=function(n){return n<.5?16*n*n*n*n*n:1+16*--n*n*n*n*n},n.EaseInSine=function(n){return-Math.cos(n*(Math.PI/2))+1},n.EaseOutSine=function(n){return Math.sin(n*(Math.PI/2))},n.EaseInOutSine=function(n){return-.5*(Math.cos(Math.PI*n)-1)},n.EaseInExpo=function(n){return n==0?0:Math.pow(2,10*(n-1))},n.EaseOutExpo=function(n){return n==1?1:-Math.pow(2,-10*n)+1},n.EaseInOutExpo=function(n){return n==!!n?n:(n/=.5)<1?.5*Math.pow(2,10*(n-1)):.5*(-Math.pow(2,-10*--n)+2)},n.EaseInCirc=function(n){return-(Math.sqrt(1-n*n)-1)},n.EaseOutCirc=function(n){return Math.sqrt(1-Math.pow(n-1,2))},n.EaseInOutCirc=function(n){return(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1)},n.EaseInBack=function(n){var t=1.70158;return n*n*((t+1)*n-t)},n.EaseOutBack=function(n){var t=1.70158;return n=n-1,n*n*((t+1)*n+t)+1},n.EaseInOutBack=function(n){var t=1.70158;return(n/=.5)<1?.5*n*n*(((t*=1.525)+1)*n-t):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},n.EaseInBounce=function(t){return 1-n.EaseOutBounce(1-t)},n.EaseOutBounce=function(n){var t=7.5625;return n<1/2.75?t*n*n:n<2/2.75?t*(n-=1.5/2.75)*n+.75:n<2.5/2.75?t*(n-=2.25/2.75)*n+.9375:t*(n-=2.625/2.75)*n+.984375},n.EaseInOutBounce=function(t){return t<.5?n.EaseInBounce(t*2)*.5:n.EaseOutBounce(t*2-1)*.5+.5},n.EaseInElastic=function(n){return n==!!n?n:-(Math.pow(2,10*(n-=1))*Math.sin((n-.075)*2*Math.PI/.3))},n.EaseOutElastic=function(n){return n==!!n?n:Math.pow(2,-10*n)*Math.sin((n-.075)*2*Math.PI/.3)+1},n.EaseInOutElastic=function(n){return n==!!n?n:(n=n*2,n<1)?-.5*Math.pow(2,10*(n-=1))*Math.sin((n-.1125)*2*Math.PI/.45):Math.pow(2,-10*(n-=1))*Math.sin((n-.1125)*2*Math.PI/.45)*.5+1},n}()})(i=t.animation||(t.animation={}))})(t=n.chart||(n.chart={}))})(wijmo||(wijmo={}))
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},c1;(function(n){var t;(function(n){var t;(function(n){var t=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t}(wijmo.chart.animation.ChartAnimation);n.ChartAnimation=t})(t=n.animation||(n.animation={}))})(t=n.chart||(n.chart={}))})(c1||(c1={}));
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},c1;(function(n){var t;(function(t){var i;(function(t){var i;(function(t){var i=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t}(n.chart.animation.ChartAnimation);t.ChartAnimation=i})(i=t.animation||(t.animation={}))})(i=t.chart||(t.chart={}))})(t=n.mvc||(n.mvc={}))})(c1||(c1={}));
/*
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    */
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},wijmo;wijmo.culture.FlexGrid={groupHeaderFormat:'{name}: <b>{value}</b> ({count:n0} items)'},function(n){var t;(function(t){'use strict';(function(n){n[n.None=0]="None";n[n.Column=1]="Column";n[n.Row=2]="Row";n[n.All=3]="All"})(t.HeadersVisibility||(t.HeadersVisibility={}));var i=t.HeadersVisibility,r=function(r){function u(u,f){var e=this,s,h,o;r.call(this,u,null,!0);this._szClient=new n.Size(0,0);this._ptScrl=new n.Point(0,0);this._cellPadding=3;this._autoGenCols=!0;this._autoClipboard=!0;this._readOnly=!1;this._indent=14;this._autoSizeMode=t.AutoSizeMode.Both;this._hdrVis=i.All;this._alSorting=!0;this._alAddNew=!1;this._alDelete=!1;this._alResizing=t.AllowResizing.Columns;this._alDragging=t.AllowDragging.Columns;this._alMerging=t.AllowMerging.None;this._ssHdr=i.None;this._shSort=!0;this._shGroups=!0;this._shAlt=!0;this._shErr=!0;this._valEdt=!0;this._deferResizing=!1;this._pSel=!0;this._pOutline=!0;this._vt=0;this.itemsSourceChanged=new n.Event;this.scrollPositionChanged=new n.Event;this.selectionChanging=new n.Event;this.selectionChanged=new n.Event;this.loadingRows=new n.Event;this.loadedRows=new n.Event;this.updatingLayout=new n.Event;this.updatedLayout=new n.Event;this.resizingColumn=new n.Event;this.resizedColumn=new n.Event;this.autoSizingColumn=new n.Event;this.autoSizedColumn=new n.Event;this.draggingColumn=new n.Event;this.draggedColumn=new n.Event;this.resizingRow=new n.Event;this.resizedRow=new n.Event;this.autoSizingRow=new n.Event;this.autoSizedRow=new n.Event;this.draggingRow=new n.Event;this.draggedRow=new n.Event;this.groupCollapsedChanging=new n.Event;this.groupCollapsedChanged=new n.Event;this.sortingColumn=new n.Event;this.sortedColumn=new n.Event;this.beginningEdit=new n.Event;this.prepareCellForEdit=new n.Event;this.cellEditEnding=new n.Event;this.cellEditEnded=new n.Event;this.rowEditStarting=new n.Event;this.rowEditStarted=new n.Event;this.rowEditEnding=new n.Event;this.rowEditEnded=new n.Event;this.rowAdded=new n.Event;this.deletingRow=new n.Event;this.deletedRow=new n.Event;this.copying=new n.Event;this.copied=new n.Event;this.pasting=new n.Event;this.pasted=new n.Event;this.pastingCell=new n.Event;this.pastedCell=new n.Event;this.formatItem=new n.Event;this.updatingView=new n.Event;this.updatedView=new n.Event;this._mappedColumns=null;s=this.hostElement;n.isIE()&&(s.style.borderRadius='0px');h=this.getTemplate();this.applyTemplate('wj-control wj-flexgrid wj-content',h,{_root:'root',_eSz:'sz',_eCt:'cells',_fCt:'fcells',_eTL:'tl',_eBL:'bl',_eCHdr:'ch',_eRHdr:'rh',_eCFtr:'cf',_eTLCt:'tlcells',_eBLCt:'blcells',_eCHdrCt:'chcells',_eCFtrCt:'cfcells',_eRHdrCt:'rhcells',_eMarquee:'marquee',_eFocus:'focus'});o=this._getDefaultRowHeight();this.deferUpdate(function(){e._rows=new t.RowCollection(e,o);e._cols=new t.ColumnCollection(e,o*4);e._hdrRows=new t.RowCollection(e,o);e._hdrCols=new t.ColumnCollection(e,Math.round(o*1.25));e._ftrRows=new t.RowCollection(e,o);e._gpTL=new t.GridPanel(e,t.CellType.TopLeft,e._hdrRows,e._hdrCols,e._eTLCt);e._gpCHdr=new t.GridPanel(e,t.CellType.ColumnHeader,e._hdrRows,e._cols,e._eCHdrCt);e._gpRHdr=new t.GridPanel(e,t.CellType.RowHeader,e._rows,e._hdrCols,e._eRHdrCt);e._gpCells=new t.GridPanel(e,t.CellType.Cell,e._rows,e._cols,e._eCt);e._gpBL=new t.GridPanel(e,t.CellType.BottomLeft,e._ftrRows,e._hdrCols,e._eBLCt);e._gpCFtr=new t.GridPanel(e,t.CellType.ColumnFooter,e._ftrRows,e._cols,e._eCFtrCt);e._hdrRows.push(new t.Row);e._hdrCols.push(new t.Column);e._hdrCols[0].align='center';e._cf=new t.CellFactory;e._keyHdl=new t._KeyboardHandler(e);e._mouseHdl=new t._MouseHandler(e);e._edtHdl=new t._EditHandler(e);e._selHdl=new t._SelectionHandler(e);e._addHdl=new t._AddNewHandler(e);e._mrgMgr=new t.MergeManager(e);e._bndSortConverter=e._sortConverter.bind(e);e._bndScroll=e._scroll.bind(e);e.initialize(f)});this.addEventListener(this._root,'scroll',function(){e._updateScrollPosition()&&(e.finishEditing(),e._updateContent(!0))})}return __extends(u,r),u.prototype._handleResize=function(){r.prototype._handleResize.call(this);this._rcBounds=null},Object.defineProperty(u.prototype,"headersVisibility",{get:function(){return this._hdrVis},set:function(t){t!=this._hdrVis&&(this._hdrVis=n.asEnum(t,i),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"stickyHeaders",{get:function(){return this._stickyHdr},set:function(t){t!=this._stickyHdr&&(this._stickyHdr=n.asBoolean(t),this._updateStickyHeaders(),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"preserveSelectedState",{get:function(){return this._pSel},set:function(t){this._pSel=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"preserveOutlineState",{get:function(){return this._pOutline},set:function(t){this._pOutline=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"_virtualizationThreshold",{get:function(){return this._vt},set:function(t){this._vt=n.asNumber(t)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"autoGenerateColumns",{get:function(){return this._autoGenCols},set:function(t){this._autoGenCols=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"autoClipboard",{get:function(){return this._autoClipboard},set:function(t){this._autoClipboard=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"columnLayout",{get:function(){for(var c,o,r,i,f,s=u._getSerializableProperties(t.Column),l=new t.Column,h=[],e=0;e<this.columns.length;e++){for(c=this.columns[e],o={},r=0;r<s.length;r++)i=s[r],f=c[i],f!=l[i]&&n.isPrimitive(f)&&i!='size'&&(o[i]=f);h.push(o)}return JSON.stringify({columns:h})},set:function(t){var i=JSON.parse(n.asString(t));if(!i||i.columns==null)throw'Invalid columnLayout data.';this.columns.clear();this.initialize(i)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(t){t!=this._readOnly&&(this._readOnly=n.asBoolean(t),this.finishEditing(),this.invalidate(!0),this._addHdl.updateNewRowTemplate(),n.toggleClass(this.hostElement,'wj-state-readonly',this.isReadOnly))},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"imeEnabled",{get:function(){return this._imeHdl!=null},set:function(n){n!=this.imeEnabled&&(this._imeHdl&&(this._imeHdl.dispose(),this._imeHdl=null),n&&(this._imeHdl=new t._ImeHandler(this)))},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"allowResizing",{get:function(){return this._alResizing},set:function(i){this._alResizing=n.asEnum(i,t.AllowResizing)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"deferResizing",{get:function(){return this._deferResizing},set:function(t){this._deferResizing=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"autoSizeMode",{get:function(){return this._autoSizeMode},set:function(i){this._autoSizeMode=n.asEnum(i,t.AutoSizeMode)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"allowSorting",{get:function(){return this._alSorting},set:function(t){this._alSorting=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"allowAddNew",{get:function(){return this._alAddNew},set:function(t){t!=this._alAddNew&&(this._alAddNew=n.asBoolean(t),this._addHdl.updateNewRowTemplate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"newRowAtTop",{get:function(){return this._addHdl.newRowAtTop},set:function(t){this._addHdl.newRowAtTop=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"allowDelete",{get:function(){return this._alDelete},set:function(t){t!=this._alDelete&&(this._alDelete=n.asBoolean(t))},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"allowMerging",{get:function(){return this._alMerging},set:function(i){i!=this._alMerging&&(this._alMerging=n.asEnum(i,t.AllowMerging),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"showSelectedHeaders",{get:function(){return this._ssHdr},set:function(t){t!=this._ssHdr&&(this._ssHdr=n.asEnum(t,i),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"showMarquee",{get:function(){return!this._eMarquee.style.display},set:function(t){if(t!=this.showMarquee){var i=this._eMarquee.style;i.visibility='collapse';i.display=n.asBoolean(t)?'':'none';this.invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"showSort",{get:function(){return this._shSort},set:function(t){t!=this._shSort&&(this._shSort=n.asBoolean(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"showGroups",{get:function(){return this._shGroups},set:function(t){t!=this._shGroups&&(this._shGroups=n.asBoolean(t),this._bindGrid(!1))},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"showAlternatingRows",{get:function(){return this._shAlt},set:function(t){t!=this._shAlt&&(this._shAlt=n.asBoolean(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"showErrors",{get:function(){return this._shErr},set:function(t){t!=this._shErr&&(this._shErr=n.asBoolean(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"validateEdits",{get:function(){return this._valEdt},set:function(t){this._valEdt=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"groupHeaderFormat",{get:function(){return this._gHdrFmt},set:function(t){t!=this._gHdrFmt&&(this._gHdrFmt=n.asString(t),this._bindGrid(!1))},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"allowDragging",{get:function(){return this._alDragging},set:function(i){i!=this._alDragging&&(this._alDragging=n.asEnum(i,t.AllowDragging),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"itemsSource",{get:function(){return this._items},set:function(t){var i;t!=this._items&&(this._cv&&(i=n.tryCast(this._cv,n.collections.CollectionView),i&&i.sortConverter==this._bndSortConverter&&(i.sortConverter=null),this._cv.currentChanged.removeHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.removeHandler(this._cvCollectionChanged,this),this._cv=null),this._items=t,this._cv=this._getCollectionView(t),this._lastCount=0,this._cv&&(this._cv.currentChanged.addHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.addHandler(this._cvCollectionChanged,this),i=n.tryCast(this._cv,n.collections.CollectionView),i&&!i.sortConverter&&(i.sortConverter=this._bndSortConverter)),this._bindGrid(!0),this.onItemsSourceChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"collectionView",{get:function(){return this._cv},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"childItemsPath",{get:function(){return this._childItemsPath},set:function(t){t!=this._childItemsPath&&(n.assert(t==null||n.isArray(t)||n.isString(t),'childItemsPath should be an array or a string.'),this._childItemsPath=t,this._bindGrid(!0))},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"cells",{get:function(){return this._gpCells},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"columnHeaders",{get:function(){return this._gpCHdr},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"columnFooters",{get:function(){return this._gpCFtr},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"rowHeaders",{get:function(){return this._gpRHdr},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"topLeftCells",{get:function(){return this._gpTL},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"bottomLeftCells",{get:function(){return this._gpBL},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"rows",{get:function(){return this._rows},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"columns",{get:function(){return this._cols},enumerable:!0,configurable:!0}),u.prototype.getColumn=function(n){return this.columns.getColumn(n)},Object.defineProperty(u.prototype,"frozenRows",{get:function(){return this.rows.frozen},set:function(n){this.rows.frozen=n},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"frozenColumns",{get:function(){return this.columns.frozen},set:function(n){this.columns.frozen=n},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"sortRowIndex",{get:function(){return this._sortRowIndex},set:function(t){t!=this._sortRowIndex&&(this._sortRowIndex=n.asNumber(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"scrollPosition",{get:function(){return this._ptScrl.clone()},set:function(n){var t=this._root,i=-n.x;if(this.rightToLeft)switch(u._getRtlMode()){case'rev':i=t.scrollWidth-t.clientWidth+n.x;break;case'neg':i=n.x;break;default:i=-n.x}t.scrollLeft=i;t.scrollTop=-n.y},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"clientSize",{get:function(){return this._szClient},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"controlRect",{get:function(){return this._rcBounds||(this._rcBounds=n.getElementRect(this._root)),this._rcBounds},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"scrollSize",{get:function(){return new n.Size(this._gpCells.width,this._heightBrowser)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"viewRange",{get:function(){return this._gpCells.viewRange},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"cellFactory",{get:function(){return this._cf},set:function(i){i!=this._cf&&(this._cf=n.asType(i,t.CellFactory,!1),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(t){t!=this._itemFormatter&&(this._itemFormatter=n.asFunction(t),this.invalidate())},enumerable:!0,configurable:!0}),u.prototype.getCellData=function(n,t,i){return this.cells.getCellData(n,t,i)},u.prototype.getCellBoundingRect=function(n,t,i){return this.cells.getCellBoundingRect(n,t,i)},u.prototype.setCellData=function(n,t,i,r,u){return r===void 0&&(r=!0),u===void 0&&(u=!0),this.cells.setCellData(n,t,i,r,u)},u.prototype.hitTest=function(i,r){return n.isNumber(i)&&n.isNumber(r)&&(i=new n.Point(i,r)),new t.HitTestInfo(this,i)},u.prototype.getClipString=function(i){var r='',h=!0,s=!0,u,f,e,o;if(!i){i=this.selection;switch(this.selectionMode){case t.SelectionMode.Row:case t.SelectionMode.RowRange:i.col=0;i.col2=this.columns.length-1;break;case t.SelectionMode.ListBox:for(i.col=0,i.col2=this.columns.length-1,u=0;u<this.rows.length;u++)this.rows[u].isSelected&&this.rows[u].isVisible&&(i.row=i.row2=u,r&&(r+='\n'),r+=this.getClipString(i));return r}}for(i=n.asType(i,t.CellRange),f=i.topRow;f<=i.bottomRow;f++)if(this.rows[f].isVisible)for(h||(r+='\n'),h=!1,e=i.leftCol,s=!0;e<=i.rightCol;e++)this.columns[e].isVisible&&(s||(r+='\t'),s=!1,o=this.cells.getCellData(f,e,!0).toString(),o=o.replace(/\t/g,' '),r+=o);return r},u.prototype.setClipString=function(i,r){var y=r==null,e,s,l,u,h,o;if(!r){r=this.selection;switch(this.selectionMode){case t.SelectionMode.Row:case t.SelectionMode.RowRange:case t.SelectionMode.ListBox:r.col=0;r.col2=this.columns.length-1}}r=n.asType(r,t.CellRange);i=n.asString(i).replace(/\r\n/g,'\n').replace(/\r/g,'\n');i&&i[i.length-1]=='\n'&&(i=i.substring(0,i.length-1));y&&!r.isSingleCell&&(i=this._expandClipString(i,r));e=new t.CellRange(r.topRow,r.leftCol);this.beginUpdate();var f=r.topRow,a=i.split('\n'),v=!1,c;for(s=0;s<a.length&&f<this.rows.length;s++,f++){if(!this.rows[f].isVisible){s--;continue}for(l=a[s].split('\t'),u=r.leftCol,h=0;h<l.length&&u<this.columns.length;h++,u++){if(!this.columns[u].isVisible){h--;continue}if(!this.columns[u].isReadOnly&&!this.rows[f].isReadOnly){if(c=new t.CellRangeEventArgs(this.cells,new t.CellRange(f,u),l[h]),this.onPastingCell(c)&&this.cells.setCellData(f,u,c.data)){this.onPastedCell(c);v=!0}e.row2=Math.max(e.row2,f);e.col2=Math.max(e.col2,u)}}}this.endUpdate();v&&(o=n.tryCast(this.collectionView,'IEditableCollectionView'),o&&o.currentItem==o.currentAddItem?o.editItem(o.currentItem):this.collectionView&&this.collectionView.refresh());this.select(e)},u.prototype._expandClipString=function(n,t){var s,r,u,i,f;if(!n)return n;var h=n.split('\n'),o=h.length,e=0,c=[];for(i=0;i<o;i++){if(s=h[i].split('\t'),c.push(s),i>1&&s.length!=e)return n;e=s.length}if(r=t.rowSpan,u=t.columnSpan,(r>1||u>1)&&(r==1&&(r=o),u==1&&(u=e),u%e==0&&r%o==0))for(n='',i=0;i<r;i++)for(f=0;f<u;f++)i>0&&f==0&&(n+='\n'),f>0&&(n+='\t'),n+=c[i%o][f%e];return n},u.prototype.focus=function(){var t,i;if(this.activeEditor){this.activeEditor.focus();return}if(n.getActiveElement()!=this._eFocus){if(t=this.hostElement.getBoundingClientRect(),t.bottom>0&&t.right>0&&t.top<innerHeight&&t.left<innerWidth){n.setCss(this._eFocus,{top:Math.max(0,-t.top),left:Math.max(0,-t.left)});this._eFocus.focus();return}if(i=this.cells.hostElement.querySelector('.wj-cell.wj-state-selected'),i){i.focus();return}r.prototype.focus.call(this)}},u.prototype.containsFocus=function(){var n=this._edtHdl?this._edtHdl._lbx:null;return r.prototype.containsFocus.call(this)||n!=null&&n.containsFocus()},u.prototype.dispose=function(){this.finishEditing(!0);this.itemsSource=null;r.prototype.dispose.call(this)},u.prototype.refresh=function(n){n===void 0&&(n=!0);r.prototype.refresh.call(this,n);this.finishEditing();n&&(this._updateColumnTypes(),this.scrollPosition=this._ptScrl);this.refreshCells(n)},u.prototype.refreshCells=function(n,t,i){this.isUpdating||(n?this._updateLayout():this._updateContent(t,i))},u.prototype.autoSizeColumn=function(n,t,i){t===void 0&&(t=!1);i===void 0&&(i=4);this.autoSizeColumns(n,n,t,i)},u.prototype.autoSizeColumns=function(i,r,f,e){var c=this;f===void 0&&(f=!1);e===void 0&&(e=4);var s=0,l=f?this.topLeftCells:this.columnHeaders,o=f?this.rowHeaders:this.cells,h=this.viewRange,a,v;i=i==null?0:n.asInt(i);r=r==null?o.columns.length-1:n.asInt(r);n.asBoolean(f);n.asNumber(e);h.row=Math.max(0,h.row-1e3);h.row2=Math.min(h.row2+1e3,this.rows.length-1);this.finishEditing()&&this.deferUpdate(function(){var p=document.createElement('div'),y,n,w;for(p.setAttribute(u._WJS_MEASURE,'true'),p.style.visibility='hidden',o.hostElement.appendChild(p),y=i;y<=r&&y>-1&&y<o.columns.length;y++){if(s=0,c.autoSizeMode&t.AutoSizeMode.Headers)for(n=0;n<l.rows.length;n++)l.rows[n].isVisible&&(w=c._getDesiredWidth(l,n,y,p),s=Math.max(s,w));if(c.autoSizeMode&t.AutoSizeMode.Cells)for(v=null,n=h.row;n<=h.row2&&n>-1&&n<o.rows.length;n++)o.rows[n].isVisible&&(!f&&y==o.columns.firstVisibleIndex&&o.rows.maxGroupLevel>-1?(w=c._getDesiredWidth(o,n,y,p),s=Math.max(s,w)):(a=o.getCellData(n,y,!0),a!=v&&(v=a,w=c._getDesiredWidth(o,n,y,p),s=Math.max(s,w))));o.columns[y].width=s+e+2}p.parentElement.removeChild(p)})},u.prototype.autoSizeRow=function(n,t,i){t===void 0&&(t=!1);i===void 0&&(i=0);this.autoSizeRows(n,n,t,i)},u.prototype.autoSizeRows=function(i,r,f,e){var h=this;f===void 0&&(f=!1);e===void 0&&(e=0);var s=0,c=f?this.topLeftCells:this.rowHeaders,o=f?this.columnHeaders:this.cells;f=n.asBoolean(f);e=n.asNumber(e);i=i==null?0:n.asInt(i);r=r==null?o.rows.length-1:n.asInt(r);this.finishEditing()&&this.deferUpdate(function(){var l=document.createElement('div'),f,n,a;for(l.setAttribute(u._WJS_MEASURE,'true'),l.style.visibility='hidden',o.hostElement.appendChild(l),f=i;f<=r&&f>-1&&f<o.rows.length;f++){if(s=0,h.autoSizeMode&t.AutoSizeMode.Headers)for(n=0;n<c.columns.length;n++)c.columns[n].renderSize>0&&(a=h._getDesiredHeight(c,f,n,l),s=Math.max(s,a));if(h.autoSizeMode&t.AutoSizeMode.Cells)for(n=0;n<o.columns.length;n++)o.columns[n].renderSize>0&&(a=h._getDesiredHeight(o,f,n,l),s=Math.max(s,a));o.rows[f].height=s+e}l.parentElement.removeChild(l)})},Object.defineProperty(u.prototype,"treeIndent",{get:function(){return this._indent},set:function(t){t!=this._indent&&(this._indent=n.asNumber(t,!1,!0),this.columns.onCollectionChanged())},enumerable:!0,configurable:!0}),u.prototype.collapseGroupsToLevel=function(i){if(this.finishEditing()){var r=this.rows;r.deferUpdate(function(){for(var f,u=0;u<r.length;u++)f=n.tryCast(r[u],t.GroupRow),f&&(f.isCollapsed=f.level>=i)})}},Object.defineProperty(u.prototype,"selectionMode",{get:function(){return this._selHdl.selectionMode},set:function(i){i!=this.selectionMode&&(this._selHdl.selectionMode=n.asEnum(i,t.SelectionMode),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"selection",{get:function(){return this._selHdl.selection.clone()},set:function(n){this._selHdl.selection=n},enumerable:!0,configurable:!0}),u.prototype.select=function(n,t){t===void 0&&(t=!0);this._selHdl.select(n,t)},u.prototype.getSelectedState=function(n,t){return this.cells.getSelectedState(n,t,null)},Object.defineProperty(u.prototype,"selectedRows",{get:function(){var i=[],r,n;if(this.selectionMode==t.SelectionMode.ListBox)for(n=0;n<this.rows.length;n++)this.rows[n].isSelected&&i.push(this.rows[n]);else if(this.rows.length)for(r=this.selection,n=r.topRow;n>-1&&n<=r.bottomRow;n++)i.push(this.rows[n]);return i},set:function(i){var r=this;n.assert(this.selectionMode==t.SelectionMode.ListBox,'This property can be set only in ListBox mode.');i=n.asArray(i);this.deferUpdate(function(){for(var u,f,n=0,t=!0;n<r.rows.length;n++)u=r.rows[n],f=i&&i.indexOf(u)>-1,f&&t&&(t=!1,r.select(n,r.selection.col)),u.isSelected=f})},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"selectedItems",{get:function(){for(var n=this.selectedRows,t=0;t<n.length;t++)n[t]=n[t].dataItem;return n},set:function(i){var r=this;n.assert(this.selectionMode==t.SelectionMode.ListBox,'This property can be set only in ListBox mode.');i=n.asArray(i);this.deferUpdate(function(){for(var u,f,n=0,t=!0;n<r.rows.length;n++)u=r.rows[n],f=i&&i.indexOf(u.dataItem)>-1,f&&t&&(t=!1,r.select(n,r.selection.col)),u.isSelected=f})},enumerable:!0,configurable:!0}),u.prototype.scrollIntoView=function(t,i){var u,h;this._maxOffsetY==null&&this._updateLayout();var r=this.scrollPosition,c=this._szClient.width,f=this._szClient.height-this._gpCFtr.rows.getTotalSize(),e=this.cells._getFrozenPos();if(t=n.asInt(t),t>-1&&t<this._rows.length&&t>=this._rows.frozen){var s=this._rows[t],a=this.cells.height>f?Math.round(s.pos/(this.cells.height-f)*100)/100:0,v=Math.round(this._maxOffsetY*a),o=s.pos-v,l=o+s.renderSize-1;l>f-r.y&&(r.y=Math.max(-o,f-l));o-e.y<-r.y&&(r.y=-(o-e.y))}return(i=n.asInt(i),i>-1&&i<this._cols.length&&i>=this._cols.frozen&&(u=this._cols[i],h=u.pos+u.renderSize-1,h>-r.x+c&&(r.x=Math.max(-u.pos,c-h)),u.pos-e.x<-r.x&&(r.x=-(u.pos-e.x))),!r.equals(this._ptScrl))?(this.scrollPosition=r,!0):!1},u.prototype.isRangeValid=function(n){return n.isValid&&n.bottomRow<this.rows.length&&n.rightCol<this.columns.length},u.prototype.startEditing=function(n,t,i,r){return n===void 0&&(n=!0),this._edtHdl.startEditing(n,t,i,r)},u.prototype.finishEditing=function(n){return n===void 0&&(n=!1),this._edtHdl.finishEditing(n)},Object.defineProperty(u.prototype,"activeEditor",{get:function(){return this._edtHdl.activeEditor},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"editRange",{get:function(){return this._edtHdl.editRange},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"mergeManager",{get:function(){return this._mrgMgr},set:function(i){i!=this._mrgMgr&&(this._mrgMgr=n.asType(i,t.MergeManager,!0),this.invalidate())},enumerable:!0,configurable:!0}),u.prototype.getMergedRange=function(n,t,i,r){return r===void 0&&(r=!0),this._mrgMgr?this._mrgMgr.getMergedRange(n,t,i,r):null},u.prototype.onItemsSourceChanged=function(n){this.itemsSourceChanged.raise(this,n)},u.prototype.onScrollPositionChanged=function(n){this.scrollPositionChanged.raise(this,n)},u.prototype.onSelectionChanging=function(n){return this.selectionChanging.raise(this,n),!n.cancel},u.prototype.onSelectionChanged=function(n){this.selectionChanged.raise(this,n)},u.prototype.onLoadingRows=function(n){return this.loadingRows.raise(this,n),!n.cancel},u.prototype.onLoadedRows=function(n){this.loadedRows.raise(this,n)},u.prototype.onUpdatingLayout=function(n){return this.updatingLayout.raise(this,n),!n.cancel},u.prototype.onUpdatedLayout=function(n){this.updatedLayout.raise(this,n)},u.prototype.onResizingColumn=function(n){return this.resizingColumn.raise(this,n),!n.cancel},u.prototype.onResizedColumn=function(n){this.resizedColumn.raise(this,n)},u.prototype.onAutoSizingColumn=function(n){return this.autoSizingColumn.raise(this,n),!n.cancel},u.prototype.onAutoSizedColumn=function(n){this.autoSizedColumn.raise(this,n)},u.prototype.onDraggingColumn=function(n){return this.draggingColumn.raise(this,n),!n.cancel},u.prototype.onDraggedColumn=function(n){this.draggedColumn.raise(this,n)},u.prototype.onResizingRow=function(n){return this.resizingRow.raise(this,n),!n.cancel},u.prototype.onResizedRow=function(n){this.resizedRow.raise(this,n)},u.prototype.onAutoSizingRow=function(n){return this.autoSizingRow.raise(this,n),!n.cancel},u.prototype.onAutoSizedRow=function(n){this.autoSizedRow.raise(this,n)},u.prototype.onDraggingRow=function(n){return this.draggingRow.raise(this,n),!n.cancel},u.prototype.onDraggedRow=function(n){this.draggedRow.raise(this,n)},u.prototype.onGroupCollapsedChanging=function(n){return this.groupCollapsedChanging.raise(this,n),!n.cancel},u.prototype.onGroupCollapsedChanged=function(n){this.groupCollapsedChanged.raise(this,n)},u.prototype.onSortingColumn=function(n){return this.sortingColumn.raise(this,n),!n.cancel},u.prototype.onSortedColumn=function(n){this.sortedColumn.raise(this,n)},u.prototype.onBeginningEdit=function(n){return this.beginningEdit.raise(this,n),!n.cancel},u.prototype.onPrepareCellForEdit=function(n){this.prepareCellForEdit.raise(this,n)},u.prototype.onCellEditEnding=function(n){return this.cellEditEnding.raise(this,n),!n.cancel&&!n.stayInEditMode},u.prototype.onCellEditEnded=function(n){this.cellEditEnded.raise(this,n)},u.prototype.onRowEditStarting=function(n){this.rowEditStarting.raise(this,n)},u.prototype.onRowEditStarted=function(n){this.rowEditStarted.raise(this,n)},u.prototype.onRowEditEnding=function(n){this.rowEditEnding.raise(this,n)},u.prototype.onRowEditEnded=function(n){this.rowEditEnded.raise(this,n)},u.prototype.onRowAdded=function(n){this.rowAdded.raise(this,n)},u.prototype.onDeletingRow=function(n){return this.deletingRow.raise(this,n),!n.cancel},u.prototype.onDeletedRow=function(n){this.deletedRow.raise(this,n)},u.prototype.onCopying=function(n){return this.copying.raise(this,n),!n.cancel},u.prototype.onCopied=function(n){this.copied.raise(this,n)},u.prototype.onPasting=function(n){return this.pasting.raise(this,n),!n.cancel},u.prototype.onPasted=function(n){this.pasted.raise(this,n)},u.prototype.onPastingCell=function(n){return this.pastingCell.raise(this,n),!n.cancel},u.prototype.onPastedCell=function(n){this.pastedCell.raise(this,n)},u.prototype.onFormatItem=function(n){this.formatItem.raise(this,n)},u.prototype.onUpdatingView=function(n){return this.updatingView.raise(this,n),!n.cancel},u.prototype.onUpdatedView=function(n){this.updatedView.raise(this,n)},u.prototype._getDefaultRowHeight=function(){var f=this.hostElement,t=document.body,i=null,r,e,u;if(t&&!n.contains(t,f)){for(r=f;r;r=r.parentElement)i=r;i&&t.appendChild(i)}return e=n.createElement('<div class="wj-cell">123</div>',f),u=e.scrollHeight+2,f.removeChild(e),i&&t.removeChild(i),(u<=6||isNaN(u)||!t)&&(u=28),u},u.prototype._getCollectionView=function(t){return n.asCollectionView(t)},u.prototype._getDesiredWidth=function(n,t,i,r){var u=this.getMergedRange(n,t,i),f;return this.cellFactory.updateCell(n,t,i,r,u),r.style.width='',f=r.offsetWidth,u&&u.columnSpan>1?f/u.columnSpan:f},u.prototype._getDesiredHeight=function(n,t,i,r){var u=this.getMergedRange(n,t,i),f;return this.cellFactory.updateCell(n,t,i,r,u),r.style.height='',f=r.offsetHeight,u&&u.rowSpan>1?f/u.rowSpan:f},u.prototype._getSortRowIndex=function(){return this._sortRowIndex!=null?this._sortRowIndex:this.columnHeaders.rows.length-1},u.prototype._sortConverter=function(n,t,i,r){var u,o,f,e;if(r){if(this._mappedColumns=null,this.collectionView)for(o=this.collectionView.sortDescriptions,f=0;f<o.length;f++)u=this.columns.getColumn(o[f].property),u&&u.dataMap&&(this._mappedColumns||(this._mappedColumns={}),this._mappedColumns[u.binding]=u.dataMap);this._mouseHdl._htDown&&this._mouseHdl._htDown.col>-1&&(u=this.columns[this._mouseHdl._htDown.col],this._mappedColumns&&u.dataMap&&(this._mappedColumns[u.binding]=u.dataMap))}return this._mappedColumns&&(e=this._mappedColumns[n.property],e&&e.sortByDisplayValues&&(i=e.getDisplayValue(i))),i},u.prototype._bindGrid=function(i){var r=this;this.deferUpdate(function(){var f,s,h,e,o,c,l,u;if(r._lastCount==0&&r._cv&&r._cv.items&&r._cv.items.length&&(i=!0),f=[],r.preserveSelectedState&&r.selectionMode==t.SelectionMode.ListBox)for(u=0;u<r.rows.length;u++)s=r.rows[u],s.isSelected&&s.dataItem&&f.push(s.dataItem);if(r.preserveOutlineState&&n.isFunction(window.Map)&&r.rows.maxGroupLevel>-1)for(h=new Map,u=0;u<r.rows.length;u++)e=r.rows[u],e instanceof t.GroupRow&&e.isCollapsed&&e.dataItem&&(o=e.dataItem,o instanceof n.collections.CollectionViewGroup&&(o=o._path),h.set(o,!0));if(i&&r.columns.deferUpdate(function(){r._bindColumns()}),r.rows.deferUpdate(function(){r._bindRows()}),c=0,f.length)for(u=0;u<r.rows.length&&c<f.length;u++)f.indexOf(r.rows[u].dataItem)>-1&&(r.rows[u].isSelected=!0,c++);if(r.selectionMode==t.SelectionMode.ListBox&&c==0)for(l=r.selection,u=l.topRow;u<=l.bottomRow&&u>-1&&u<r.rows.length;u++)r.rows[u].isSelected=!0;h&&r.rows.deferUpdate(function(){for(var f,i,u=0;u<r.rows.length;u++)f=r.rows[u],f instanceof t.GroupRow&&(i=f.dataItem,i instanceof n.collections.CollectionViewGroup&&(i=i._path),h.get(i)&&(f.isCollapsed=!0))});!r._lastCount&&r._cv&&r._cv.items&&(r._lastCount=r._cv.items.length)});this.collectionView&&this._cvCurrentChanged(this.collectionView,n.EventArgs.empty)},u.prototype._cvCollectionChanged=function(i,r){var u;if(this.autoGenerateColumns&&this.columns.length==0){this._bindGrid(!0);return}if(this.childItemsPath&&r.action!=n.collections.NotifyCollectionChangedAction.Change){this._bindGrid(!1);return}switch(r.action){case n.collections.NotifyCollectionChangedAction.Change:this.invalidate();return;case n.collections.NotifyCollectionChangedAction.Add:if(r.index==this.collectionView.items.length-1){u=this.rows.length;this.rows[u-1]instanceof t._NewRowTemplate&&u--;this.rows.insert(u,new t.Row(r.item));return}n.assert(!1,'added item should be the last one.');break;case n.collections.NotifyCollectionChangedAction.Remove:if(u=this._findRow(r.item),u>-1){this.rows.removeAt(u);this._cvCurrentChanged(i,r);return}n.assert(!1,'removed item not found in grid.')}this._bindGrid(!1)},u.prototype._cvCurrentChanged=function(){if(this.collectionView){var i=this.selection,r=i.row>-1&&i.row<this.rows.length?this.rows[i.row].dataItem:null;r instanceof n.collections.CollectionViewGroup&&(r=null);r!=this.collectionView.currentItem&&(i.row=i.row2=this._getRowIndex(this.collectionView.currentPosition),this.select(i,!1),this.selectionMode!=t.SelectionMode.None&&this.scrollIntoView(i.row,-1))}},u.prototype._getRowIndex=function(n){var r,n,i;if(this.collectionView){if(n>-1){for(r=this.collectionView.items[n];n<this.rows.length;n++)if(this.rows[n].dataItem===r)return n;return-1}return this.rows.length==1&&this.rows[0]instanceof t._NewRowTemplate?0:(n=this.selection.row,i=n>-1?this.rows[n]:null,i&&(i instanceof t.GroupRow||i.dataItem==null)?n:-1)}return this.selection.row},u.prototype._getCvIndex=function(n){if(n>-1&&this.collectionView){var t=this.rows[n].dataItem;for(n=Math.min(n,this.collectionView.items.length);n>-1;n--)if(this.collectionView.items[n]===t)return n}return-1},u.prototype._findRow=function(n){for(var t=0;t<this.rows.length;t++)if(this.rows[t].dataItem==n)return t;return-1},u.prototype._updateLayout=function(){var p=new n.CancelEventArgs,h,l,o,a,c;if(this.onUpdatingLayout(p)){var t=this._hdrVis&i.Row?this._hdrCols.getTotalSize():0,r=this._hdrVis&i.Column?this._hdrRows.getTotalSize():0,e=this._ftrRows.getTotalSize(),s=this._rows.getTotalSize()+e;s<1&&(s=1);this._heightBrowser=Math.min(s,u._getMaxSupportedCssHeight());this._maxOffsetY=Math.max(0,s-this._heightBrowser);this.cells.hostElement&&(h=n.createElement('<div class="wj-cell"></div>',this.cells.hostElement),l=getComputedStyle(h),this._cellPadding=parseInt(this.rightToLeft?l.paddingRight:l.paddingLeft),h.parentElement.removeChild(h));o=this._heightBrowser+r-e;this.rightToLeft?(n.setCss(this._eTL,{right:0,top:0,width:t,height:r}),n.setCss(this._eCHdr,{right:t,top:0,height:r}),n.setCss(this._eRHdr,{right:0,top:r,width:t}),n.setCss(this._eCt,{right:t,top:r,width:this._gpCells.width,height:this._heightBrowser}),n.setCss(this._fCt,{right:t,top:r}),n.setCss(this._eBL,{right:0,top:o,width:t,height:e}),n.setCss(this._eCFtr,{right:t,top:o,height:e})):(n.setCss(this._eTL,{left:0,top:0,width:t,height:r}),n.setCss(this._eCHdr,{left:t,top:0,height:r}),n.setCss(this._eRHdr,{left:0,top:r,width:t}),n.setCss(this._eCt,{left:t,top:r,width:this._gpCells.width,height:this._heightBrowser}),n.setCss(this._fCt,{left:t,top:r}),n.setCss(this._eBL,{left:0,top:o,width:t,height:e}),n.setCss(this._eCFtr,{left:t,top:o,height:e}));this._stickyHdr&&this._updateStickyHeaders();a=[this._eTL,this._eBL,this._eCHdr,this._eCFtr,this._eRHdr,this._eMarquee];this._useFrozenDiv()&&(this.frozenRows||this.frozenColumns)&&this.showMarquee?n.setCss(a,{zIndex:1}):n.setCss(a,{zIndex:''});var f=this._root,v=f.offsetWidth-f.clientWidth,y=f.offsetHeight-f.clientHeight;n.setCss(this._eSz,{width:t+v+this._gpCells.width,height:r+y+this._heightBrowser});c=null;this.columns._updateStarSizes(f.clientWidth-t)&&(c=f.clientWidth,n.setCss(this._eCt,{width:this._gpCells.width}));this._szClient=new n.Size(f.clientWidth-t,f.clientHeight-r);this._rcBounds=null;this._updateScrollHandler();this._updateContent(!1);v=f.offsetWidth-f.clientWidth;y=f.offsetHeight-f.clientHeight;n.setCss(this._eSz,{width:t+v+this._gpCells.width,height:r+y+this._heightBrowser});this._szClient=new n.Size(f.clientWidth-t,f.clientHeight-r);c&&c!=f.clientWidth&&this.columns._updateStarSizes(f.clientWidth-t)&&(n.setCss(this._eCt,{width:this._gpCells.width}),this._updateContent(!1));n.setCss([this._eCHdr,this._eCFtr,this._fCt],{width:this._szClient.width});n.setCss([this._eRHdr,this._fCt],{height:this._szClient.height});e&&(o=Math.min(o,this._szClient.height+r-e),n.setCss([this._eBL,this._eCFtr],{top:o}));this.onUpdatedLayout(p)}},u.prototype._updateStickyHeaders=function(){var r=!1,o=0,f,t,i,e;if(this._stickyHdr){for(f=0,t=null,i=this.hostElement;i;i=i.parentElement)e=i.getBoundingClientRect(),t==null&&(t=e.top),f=Math.max(f,e.top);t=Math.max(0,f-t-1);o=-t;r=t>0}this._eTL.style.top=this._eCHdr.style.top=r?-o+'px':'';n.toggleClass(this._eTL,u._WJS_STICKY,r);n.toggleClass(this._eCHdr,u._WJS_STICKY,r)},u.prototype._updateScrollHandler=function(){var n=this._stickyHdr||this._clipToScreen();n!=this._scrollHandlerAttached&&(this._scrollHandlerAttached=n,n?this.addEventListener(window,'scroll',this._bndScroll,!0):this.removeEventListener(window,'scroll',this._bndScroll,!0))},u.prototype._clipToScreen=function(){var n=this.hostElement;return this.rows.length>u._MIN_VIRT_ROWS&&n.parentElement==document.body&&n.clientHeight==n.scrollHeight},u.prototype._scroll=function(t){var i=this;n.contains(t.target,this.hostElement)&&(this._clipToScreen()&&(this._afScrl&&cancelAnimationFrame(this._afScrl),this._afScrl=requestAnimationFrame(function(){i.finishEditing();i._updateContent(!0);i._afScrl=null})),this._stickyHdr&&(this._toSticky&&cancelAnimationFrame(this._toSticky),this._toSticky=requestAnimationFrame(function(){var t=new n.CancelEventArgs;if(i.onUpdatingLayout(t)){i._updateStickyHeaders();i.onUpdatedLayout(t)}i._toSticky=null})))},u.prototype._updateScrollPosition=function(){var t=this._root,f=t.scrollTop,i=t.scrollLeft,r;return(this.rightToLeft&&u._getRtlMode()=='rev'&&(i=t.scrollWidth-t.clientWidth-i),r=new n.Point(-Math.abs(i),-f),!this._ptScrl.equals(r))?(this._ptScrl=r,this.onScrollPositionChanged(),!0):!1},u.prototype._updateContent=function(t,r){var a=this,v=this.containsFocus(),y=n.contains(this.columnHeaders.hostElement,n.getActiveElement()),o=new n.CancelEventArgs,s,e,u;if(this.onUpdatingView(o)){if(this._offsetY=0,this._heightBrowser>this._szClient.height&&(s=Math.round(-this._ptScrl.y/(this._heightBrowser-this._szClient.height)*100)/100,this._offsetY=Math.round(this._maxOffsetY*s)),this._updateScrollPosition(),this._gpCells._updateContent(t,r,this._offsetY),this._hdrVis&i.Column&&(!r||this._ssHdr&i.Column)&&this._gpCHdr._updateContent(t,r,0),this._hdrVis&i.Row&&(!r||this._ssHdr&i.Row)&&this._gpRHdr._updateContent(t,r,this._offsetY),this._hdrVis&&!r&&this._gpTL._updateContent(t,r,0),this._gpCFtr.rows.length&&(this._gpBL._updateContent(t,r,0),this._gpCFtr._updateContent(t,r,0)),this.showMarquee)if(e=this._selHdl._sel,u=this._eMarquee,this.isRangeValid(e)){var f=this._getMarqueeRect(e),h=u.firstChild,c=u.offsetWidth-h.offsetWidth,l=u.offsetHeight-h.offsetHeight;n.setCss(u,{left:f.left+this.cells.hostElement.offsetLeft-c/2,top:f.top+this.cells.hostElement.offsetTop-l/2,width:f.width+c,height:f.height+l,visibility:f.width>0&&f.height>0?'':'collapse'})}else n.setCss(u,{left:0,top:0,width:0,height:0,visibility:'collapse'});this._updateFrozenCells();v&&!r&&setTimeout(function(){a.focus()},10);this._rcBounds=null;this.onUpdatedView(o)}},u.prototype._useFrozenDiv=function(){return n.isIE()||n.isFirefox()||n.isMobile()},u.prototype._updateFrozenCells=function(){var i,t;if(this._useFrozenDiv()&&(n.setText(this._fCt,null),!this.activeEditor&&(this.frozenRows||this.frozenColumns)))for(i=this._eCt.querySelectorAll('.wj-frozen'),t=0;t<i.length;t++)this._fCt.appendChild(i[t].cloneNode(!0))},u.prototype._getMarqueeRect=function(i){var s=this.getMergedRange(this.cells,i.topRow,i.leftCol)||new t.CellRange(i.topRow,i.leftCol),h=this.getMergedRange(this.cells,i.bottomRow,i.rightCol)||new t.CellRange(i.bottomRow,i.rightCol),r=this.cells.getCellBoundingRect(s.topRow,s.leftCol,!0),f=this.cells.getCellBoundingRect(h.bottomRow,h.rightCol,!0),o,e,u;return this.rows.frozen&&(o=Math.min(this.rows.length,this.rows.frozen),u=this.cells.getCellBoundingRect(o-1,0,!0),i.topRow>=o&&r.top<u.bottom&&(r.top=u.bottom),i.bottomRow>=o&&f.bottom<u.bottom&&(f.height=u.bottom-f.top)),this.columns.frozen&&(e=Math.min(this.columns.length,this.columns.frozen),u=this.cells.getCellBoundingRect(0,e-1,!0),this.rightToLeft?(i.leftCol>=e&&r.right>u.left&&(r.left=u.left-r.width),i.rightCol>=e&&f.left>u.left&&(f.left=u.left)):(i.leftCol>=e&&r.left<u.right&&(r.left=u.right),i.rightCol>=e&&f.right<u.right&&(f.width=u.right-f.left))),this.rightToLeft?new n.Rect(f.left,r.top,r.right-f.left,f.bottom-r.top):new n.Rect(r.left,r.top,f.right-r.left,f.bottom-r.top)},u.prototype._bindColumns=function(){for(var i,f,e,o,s,r=0;r<this.columns.length;r++)i=this.columns[r],i._getFlag(t.RowColFlags.AutoGenerated)&&(this.columns.removeAt(r),r--);var c=this.collectionView,u=c?c.sourceCollection:null,h=u&&u.length?u[0]:null;if(h&&this.autoGenerateColumns)for(f in h)for(e=null,o=0;o<u.length&&o<1e3&&e==null;o++)e=u[o][f],n.isPrimitive(e)&&(i=new t.Column,i._setFlag(t.RowColFlags.AutoGenerated,!0),i.binding=i.name=f,i.header=n.toHeaderCase(f),i.dataType=n.getType(e),i.dataType==n.DataType.Number&&(i.width=80),s=Object.getOwnPropertyDescriptor(h,f),!s||s.writable||n.isFunction(s.set)||i._setFlag(t.RowColFlags.ReadOnly,!0),this.columns.push(i));this._updateColumnTypes()},u.prototype._updateColumnTypes=function(){var u=this.collectionView,f,r,i,t;if(n.hasItems(u))for(f=u.items[0],r=this.columns,i=0;i<r.length;i++)t=r[i],t.dataType==null&&t._binding&&(t.dataType=n.getType(t._binding.getValue(f)))},u.prototype._getBindingColumn=function(n,t,i){return i},u.prototype._bindRows=function(){var f=new n.CancelEventArgs,i,r,u,t;if(this.onLoadingRows(f)){if(this.rows.clear(),i=this.collectionView,i&&i.items)if(r=i.items,u=i.groups,this.childItemsPath)for(t=0;t<r.length;t++)this._addNode(r,t,0);else if(u!=null&&u.length>0&&this.showGroups)for(t=0;t<u.length;t++)this._addGroup(u[t]);else for(t=0;t<r.length;t++)this._addBoundRow(r,t);this.onLoadedRows(f)}},u.prototype._addBoundRow=function(n,i){this.rows.push(new t.Row(n[i]))},u.prototype._addNode=function(i,r,u){var e=new t.GroupRow,o=this.childItemsPath,c=n.isArray(o)?o[u]:o,h=i[r],s=h[c],f;if(e.dataItem=h,e.level=u,this.rows.push(e),s)for(f=0;f<s.length;f++)this._addNode(s,f,u+1)},u.prototype._addGroup=function(n){var r=new t.GroupRow,u,i;if(r.level=n.level,r.dataItem=n,this.rows.push(r),n.isBottomLevel)for(u=n.items,i=0;i<u.length;i++)this._addBoundRow(u,i);else for(i=0;i<n.groups.length;i++)this._addGroup(n.groups[i])},u._getSerializableProperties=function(n){var f=[],u,i,t,r;for(n=n.prototype;n!=Object.prototype;n=Object.getPrototypeOf(n))for(u=Object.getOwnPropertyNames(n),i=0;i<u.length;i++)t=u[i],r=Object.getOwnPropertyDescriptor(n,t),r&&r.set&&r.get&&t[0]!='_'&&!t.match(/disabled|required/)&&f.push(t);return f},u.prototype._copy=function(i,r){var f,u,e;if(i=='columns'){for(this.columns.clear(),f=n.asArray(r),u=0;u<f.length;u++)e=new t.Column,n.copy(e,f[u]),this.columns.push(e);return!0}return!1},u.prototype._isInputElement=function(n){if(n instanceof HTMLElement){var t=n.tagName.match(/^(input|select|textarea|button|a)$/i);return t&&t.length>0}return!1},u.prototype._wantsInput=function(n){return!this.activeEditor&&this._isInputElement(n)&&!n.getAttribute('wj-part')},u._getMaxSupportedCssHeight=function(){var n;if(!u._maxCssHeight){var i=1e6,t=document.createElement('div');for(t.style.visibility='hidden',document.body.appendChild(t),n=i;n<=6e7;n+=5e5){if(t.style.height=n+'px',t.offsetHeight!=n)break;i=n}document.body.removeChild(t);u._maxCssHeight=i}return u._maxCssHeight},u._getRtlMode=function(){var t,i,r;return u._rtlMode||(t=n.createElement('<div dir="rtl" style="visibility:hidden;width:100px;height:100px;overflow:auto"><div style="width:2000px;height:2000px"><\/div><\/div>'),document.body.appendChild(t),i=t.scrollLeft,t.scrollLeft=-1e3,r=t.scrollLeft,document.body.removeChild(t),u._rtlMode=r<0?'neg':i>0?'rev':'std'),u._rtlMode},u._WJS_STICKY='wj-state-sticky',u._WJS_MEASURE='wj-state-measuring',u._MIN_VIRT_ROWS=200,u.controlTemplate='<div style="position:relative;width:100%;height:100%;overflow:hidden;max-width:inherit;max-height:inherit"><div wj-part="focus" tabIndex="0" style="position:absolute;opacity:0;pointer-events:none;left:-10px;top:-10px"><\/div><div wj-part="root" style="position:absolute;width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch;max-width:inherit;max-height:inherit;boxSizing:content-box"><div wj-part="cells" class="wj-cells" style="position:absolute"><\/div><div wj-part="marquee" class="wj-marquee" style="display:none;pointer-events:none"><div style="width:100%;height:100%"><\/div><\/div><\/div><div wj-part="fcells" style="position:absolute;pointer-events:none;overflow:hidden"><\/div><div wj-part="rh" style="position:absolute;overflow:hidden;outline:none"><div wj-part="rhcells" class="wj-rowheaders" style="position:relative"><\/div><\/div><div wj-part="cf" style=";position:absolute;overflow:hidden;outline:none"><div wj-part="cfcells" class="wj-colfooters" style="position:relative"><\/div><\/div><div wj-part="ch" style="position:absolute;overflow:hidden;outline:none"><div wj-part="chcells" class="wj-colheaders" style="position:relative"><\/div><\/div><div wj-part="bl" style="position:absolute;overflow:hidden;outline:none"><div wj-part="blcells" class="wj-bottomleft" style="position:relative"><\/div><\/div><div wj-part="tl" style="position:absolute;overflow:hidden;outline:none"><div wj-part="tlcells" class="wj-topleft" style="position:relative"><\/div><\/div><div wj-part="sz" style="position:relative;visibility:hidden"><\/div><\/div>',u}(n.Control);t.FlexGrid=r})(t=n.grid||(n.grid={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var i=function(i){function r(r,u,f){i.call(this);this._p=n.asType(r,t.GridPanel);this._rng=n.asType(u,t.CellRange);this._data=f}return __extends(r,i),Object.defineProperty(r.prototype,"panel",{get:function(){return this._p},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"range",{get:function(){return this._rng.clone()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"row",{get:function(){return this._rng.row},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"col",{get:function(){return this._rng.col},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"data",{get:function(){return this._data},set:function(n){this._data=n},enumerable:!0,configurable:!0}),r}(n.CancelEventArgs),r,u;t.CellRangeEventArgs=i;r=function(t){function i(i,r,u){t.call(this,i,r);this._cell=n.asType(u,HTMLElement)}return __extends(i,t),Object.defineProperty(i.prototype,"cell",{get:function(){return this._cell},enumerable:!0,configurable:!0}),i}(i);t.FormatItemEventArgs=r;u=function(t){function i(){t.apply(this,arguments)}return __extends(i,t),Object.defineProperty(i.prototype,"stayInEditMode",{get:function(){return this._stayInEditMode},set:function(t){this._stayInEditMode=n.asBoolean(t)},enumerable:!0,configurable:!0}),i}(i);t.CellEditEndingEventArgs=u})(t=n.grid||(n.grid={}))}(wijmo||(wijmo={})),function(n){var t;(function(t){'use strict';(function(n){n[n.None=0]="None";n[n.Cell=1]="Cell";n[n.ColumnHeader=2]="ColumnHeader";n[n.RowHeader=3]="RowHeader";n[n.TopLeft=4]="TopLeft";n[n.ColumnFooter=5]="ColumnFooter";n[n.BottomLeft=6]="BottomLeft"})(t.CellType||(t.CellType={}));var i=t.CellType,r=function(){function r(i,u,f,e,o){this._offsetY=0;this._g=n.asType(i,t.FlexGrid);this._ct=n.asInt(u);this._rows=n.asType(f,t.RowCollection);this._cols=n.asType(e,t.ColumnCollection);this._e=n.asType(o,HTMLElement);this._vrb=new t.CellRange;r._evtBlur||(r._evtBlur=document.createEvent('HTMLEvents'),r._evtBlur.initEvent('blur',!0,!1))}return Object.defineProperty(r.prototype,"grid",{get:function(){return this._g},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"cellType",{get:function(){return this._ct},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"viewRange",{get:function(){return this._getViewRange()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"width",{get:function(){return this._cols.getTotalSize()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this._rows.getTotalSize()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"rows",{get:function(){return this._rows},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"columns",{get:function(){return this._cols},enumerable:!0,configurable:!0}),r.prototype.getCellData=function(r,u,f){var s=this._rows[n.asNumber(r,!1,!0)],h,o=null,e,c,l,a;if(n.isString(u)&&(u=this._cols.indexOf(u),u<0))throw'Invalid column name or binding.';if(h=this._cols[n.asNumber(u,!1,!0)],e=this._g?this._g._getBindingColumn(this,r,h):h,!e.binding||!s.dataItem||s.dataItem instanceof n.collections.CollectionViewGroup?s._ubv&&(o=s._ubv[h._hash]):o=e._binding.getValue(s.dataItem),o==null)switch(this._ct){case i.ColumnHeader:(r==this._rows.length-1||e!=h)&&(o=e.header);break;case i.ColumnFooter:e.aggregate!=n.Aggregate.None&&s instanceof t.GroupRow&&(c=this._g.collectionView,c&&(l=n.tryCast(c,n.collections.CollectionView),o=l?l.getAggregate(e.aggregate,e.binding):n.getAggregate(e.aggregate,c.items,e.binding)));break;case i.Cell:e.aggregate!=n.Aggregate.None&&s instanceof t.GroupRow&&(a=n.tryCast(s.dataItem,n.collections.CollectionViewGroup),a&&(o=a.getAggregate(e.aggregate,e.binding,this._g.collectionView)))}return f&&(this.cellType==i.Cell&&e.dataMap&&(o=e.dataMap.getDisplayValue(o)),o=o!=null?n.Globalize.format(o,e.format):''),o},r.prototype.setCellData=function(t,r,u,f,e){var s,v,o,c,y,h,p,a,k;if(f===void 0&&(f=!0),e===void 0&&(e=!0),s=this._rows[n.asNumber(t,!1,!0)],n.isString(r)&&(r=this._cols.indexOf(r),r<0))throw'Invalid column name or binding.';if(v=this._cols[n.asNumber(r,!1,!0)],o=this._g?this._g._getBindingColumn(this,t,v):v,this._ct==i.Cell){if(o.dataMap&&u!=null&&(o.isRequired||u!=''&&u!=null))if(c=o.dataMap,y=c.getKeyValue(u),y==null){if(!c.isEditable||c.displayMemberPath!=c.selectedValuePath)return!1}else u=y;if(h=n.DataType.Object,o.dataType?h=o.dataType:(p=this.getCellData(t,r,!1),h=n.getType(p)),n.isBoolean(o.isRequired))if(o.isRequired||u!==''&&u!==null){if(o.isRequired&&(u===''||u===null))return!1}else u=null,f=!1;if(f&&(u=n.changeType(u,h,o.format),h!=n.DataType.Object&&n.getType(u)!=h))return!1}if(s.dataItem&&o.binding){var w=o._binding,l=s.dataItem,b=w.getValue(l);if(u!==b&&!n.DateTime.equals(u,b)&&(w.setValue(l,u),a=this._g.collectionView,a instanceof n.collections.CollectionView&&l!=a.currentEditItem)){k=new n.collections.NotifyCollectionChangedEventArgs(n.collections.NotifyCollectionChangedAction.Change,l,a.items.indexOf(l));a.onCollectionChanged(k)}}else s._ubv||(s._ubv={}),s._ubv[v._hash]=u;return e&&this._g&&this._g.invalidate(),!0},r.prototype.getCellBoundingRect=function(t,i,r){var o=this.rows[t],s=this.columns[i],u=new n.Rect(s.pos,o.pos,s.renderSize,o.renderSize),f,e;return this._g.rightToLeft&&(u.left=this.hostElement.clientWidth-u.right,n.isIE()||(f=this.hostElement.parentElement,u.left-=f.offsetWidth-f.clientWidth)),r||(e=this.hostElement.getBoundingClientRect(),u.left+=e.left,u.top+=e.top-this._offsetY),t<this.rows.frozen&&(u.top-=this._g.scrollPosition.y),i<this.columns.frozen&&(u.left-=this._g.scrollPosition.x*(this._g.rightToLeft?-1:1)),u},r.prototype.getCellElement=function(t,i){var u=this.getCellBoundingRect(t,i),r=document.elementFromPoint(u.left+u.width/2,u.top+u.height/2);if(r)while(r&&!n.hasClass(r,'wj-cell'))r=r.parentElement;return r},r.prototype.getSelectedState=function(n,r,u){var e=this._g,o=e.selectionMode,f=e._selHdl._sel;if(o!=t.SelectionMode.None)switch(this._ct){case i.Cell:if(u||(u=e.getMergedRange(this,n,r)),u){if(u.contains(f.row,f.col))return e.showMarquee?t.SelectedState.None:t.SelectedState.Cursor;if(u.intersects(f))return t.SelectedState.Selected}return f.row==n&&f.col==r?e.showMarquee?t.SelectedState.None:t.SelectedState.Cursor:e.rows[n].isSelected||e.columns[r].isSelected?t.SelectedState.Selected:(f=e._selHdl._adjustSelection(f),o==t.SelectionMode.ListBox)?t.SelectedState.None:f.containsRow(n)&&f.containsColumn(r)?t.SelectedState.Selected:t.SelectedState.None;case i.ColumnHeader:if(e.showSelectedHeaders&t.HeadersVisibility.Column&&(e.columns[r].isSelected||f.containsColumn(r)||f.intersectsColumn(u))&&(u&&(n=u.bottomRow),n==this.rows.length-1))return t.SelectedState.Selected;break;case i.RowHeader:if(e.showSelectedHeaders&t.HeadersVisibility.Row&&(e.rows[n].isSelected||f.containsRow(n)||f.intersectsRow(u))&&(u&&(r=u.rightCol),r==this.columns.length-1))return t.SelectedState.Selected}return t.SelectedState.None},Object.defineProperty(r.prototype,"hostElement",{get:function(){return this._e},enumerable:!0,configurable:!0}),r.prototype._getOffsetY=function(){return this._offsetY},r.prototype._updateContent=function(u,f,e){var o,h,d,v=this._g,c=this._rows,y=this._cols,p=this._ct,w,b,l,s,k,tt,a;if((p==i.ColumnHeader||p==i.ColumnFooter||p==i.RowHeader)&&(w=v._ptScrl,b=this._e.style,p==i.RowHeader?b.top=w.y+'px':v.rightToLeft?b.right=w.x+'px':b.left=w.x+'px'),this._offsetY!=e&&(u=!1,this._offsetY=e),l=this._getViewRange(),c.length<=v._virtualizationThreshold?s=new t.CellRange(0,0,c.length-1,y.length-1):(s=l.clone(),s.isValid&&v.isTouching&&(k=6,s.row=Math.max(l.row-k,c.frozen),s.row2=Math.min(l.row2+k,c.length-1),s.col=Math.max(l.col-1,y.frozen),s.col2=Math.min(l.col2+1,y.length-1))),!u||f||!this._vrb.contains(l)||c.frozen||y.frozen){if(u&&s.equals(this._vrb)||(f=!1),!u){var g=n.getActiveElement(),nt=n.contains(this._e,g)?g:null,it=this._g.cellFactory;for(a=0;a<this._e.childElementCount;a++)it.disposeCell(this._e.children[a]);n.setText(this._e,null);nt&&nt.dispatchEvent(r._evtBlur);this._rowIdx=[]}for(u&&this._ct!=i.TopLeft&&this._reorderCells(s,this._vrb),this._vru=l,this._vrb=s,h=0,this._rowIdx=[],o=s.topRow;o<=s.bottomRow&&o>-1;o++)this._rowIdx.push(h),h=this._renderRow(o,s,!1,f,h);for(this._rowIdx.push(h),o=s.topRow;o<=s.bottomRow&&o>-1;o++)h=this._renderRow(o,s,!0,f,h);for(o=0;o<c.frozen&&o<c.length;o++)h=this._renderRow(o,s,!1,f,h);for(o=0;o<c.frozen&&o<c.length;o++)h=this._renderRow(o,s,!0,f,h);for(tt=this._e.childElementCount,a=h;a<tt;a++)d=this._e.children[a],d.style.display='none'}},r.prototype._reorderCells=function(n,i){var h,r,s,c,f,l,e,o,u;if(this._rowIdx&&!(this._rows.frozen>0)&&!(this._cols.frozen>0)&&n.columnSpan==i.columnSpan&&n.rowSpan==i.rowSpan&&i.isValid&&n.isValid&&n.intersects(i)&&(n.row!=i.row&&(r=n.row-i.row,s=Math.max(1,n.rowSpan-1),r!=0&&Math.abs(r)<s&&(r>0&&(u=this._createRange(0,this._rowIdx[r]),this._e.appendChild(u.extractContents())),r<0&&(h=this._rowIdx.length-1,u=this._createRange(this._rowIdx[h+r],this._rowIdx[h]),this._e.insertBefore(u.extractContents(),this._e.firstChild)))),n.col!=i.col&&(r=n.col-i.col,s=Math.max(1,n.columnSpan-1),r!=0&&Math.abs(r)<s)))for(c=this._e.childElementCount,f=0;f<this._rowIdx.length-1;f++)l=this.rows[n.topRow+f],l instanceof t.GroupRow||(e=this._rowIdx[f],o=this._rowIdx[f+1],r>0&&e+r<=c&&(u=this._createRange(e,e+r),this._e.insertBefore(u.extractContents(),this._e.children[o])),r<0&&o+r-1>=0&&(u=this._createRange(o+r-1,o-1),this._e.insertBefore(u.extractContents(),this._e.children[e])))},r.prototype._createRange=function(n,t){var i=document.createRange();return i.setStart(this._e,n),i.setEnd(this._e,t),i},r.prototype._renderRow=function(n,t,i,r,u){var f;if(this.rows[n].renderSize<=0)return u;if(i)for(f=0;f<this.columns.frozen&&f<this.columns.length;f++)u=this._renderCell(n,f,t,r,u);else for(f=t.leftCol;f<=t.rightCol&&f>-1;f++)u=this._renderCell(n,f,t,r,u);return u},r.prototype._renderCell=function(i,r,u,f,e){var l=this._g,h=l.getMergedRange(this,i,r),s,o,c;if(h){for(s=Math.max(u.row,h.row);s<i;s++)if(this.rows[s].isVisible)return e;for(s=Math.max(u.col,h.col);s<r;s++)if(this.columns[s].isVisible)return e}return this.columns[r].renderSize<=0&&(!h||h.getRenderSize(this).width<=0)?e:(o=this._e.childNodes[e++],o&&f)?(c=this.getSelectedState(i,r,h),n.toggleClass(o,'wj-state-selected',c==t.SelectedState.Cursor),n.toggleClass(o,'wj-state-multi-selected',c==t.SelectedState.Selected),e):(o||(o=document.createElement('div'),o.tabIndex=0,this._e.appendChild(o)),l.cellFactory.updateCell(this,i,r,o,h),e)},r.prototype._getViewRange=function(){var e=this._g,l=e._ptScrl,r=this._rows,u=this._cols,n=new t.CellRange(0,0,r.length-1,u.length-1),o,f;if(this._ct==i.Cell||this._ct==i.RowHeader){var h=-l.y+this._offsetY,a=e._szClient.height,s=Math.min(r.frozen,r.length-1);s>0&&(f=r[s-1].pos,h+=f,a-=f);n.row=Math.min(r.length-1,Math.max(r.frozen,r.getItemAt(h+1)));n.row2=r.getItemAt(h+a);e._clipToScreen()&&(o=e.hostElement.getBoundingClientRect(),o.top<0&&(n.row=Math.max(n.row,r.getItemAt(-o.top)-1)),o.bottom>innerHeight&&(n.row2=Math.min(n.row2,r.getItemAt(-o.top+innerHeight)+1)))}if(this._ct==i.Cell||this._ct==i.ColumnHeader){var c=-l.x,v=e._szClient.width,s=Math.min(u.frozen,u.length-1);s>0&&(f=u[s-1].pos,c+=f,v-=f);n.col=Math.min(u.length-1,Math.max(u.frozen,u.getItemAt(c+1)));n.col2=u.getItemAt(c+v)}return r.length<=r.frozen&&(n.row=n.row2=-1),u.length<=u.frozen&&(n.col=n.col2=-1),n},r.prototype._getFrozenPos=function(){var r=this._rows.frozen,u=this._cols.frozen,t=r>0?this._rows[r-1]:null,i=u>0?this._cols[u-1]:null,f=t?t.pos+t.renderSize:0,e=i?i.pos+i.renderSize:0;return new n.Point(e,f)},r}();t.GridPanel=r})(t=n.grid||(n.grid={}))}(wijmo||(wijmo={})),function(n){var t;(function(t){'use strict';var i=function(){function i(){}return i.prototype.updateCell=function(r,u,f,e,o,s){var h=r.grid,y=r.cellType,d=r.rows,g=r.columns,a=d[u],nt=g[f],rt=u,ft=f,p=a instanceof t.GroupRow?a:null,gt=a instanceof t._NewRowTemplate?a:null,ni=nt.renderWidth,ti=a.renderHeight,l='wj-cell',v={display:''},at=s!=!1,vt,ot,pt,tt,st,ii,ht,k,ri,wt,ct,w,bt,kt,b,dt,ut,lt,it,oi,ui,o,fi;s!=!1&&e.firstElementChild&&(e.childNodes.length!=1||e.firstElementChild.type!='checkbox')&&(n.setText(e,null),at=!1);o&&!o.isSingleCell&&(u=o.row,f=o.col,rt=o.row2,ft=o.col2,a=d[u],nt=g[f],p=n.tryCast(a,t.GroupRow),vt=o.getRenderSize(r),ti=vt.height,ni=vt.width);var c=h._getBindingColumn(r,u,nt),ei=c.dataType==n.DataType.Boolean&&!c.dataMap,et=nt.pos,yt=a.pos;if(h._useFrozenDiv()&&y==t.CellType.Cell&&!h.editRange?(u<d.frozen&&f>=g.frozen&&(et+=h._ptScrl.x),f<g.frozen&&u>=d.frozen&&(yt+=h._ptScrl.y)):(u<d.frozen&&(yt-=h._ptScrl.y),f<g.frozen&&(et-=h._ptScrl.x)),h.rightToLeft?v.right=et+'px':v.left=et+'px',v.top=yt-r._getOffsetY()+'px',v.width=ni+'px',v.height=ti+'px',y==t.CellType.Cell?(p&&(l+=' wj-group'),h.showAlternatingRows&&u%2!=0&&(l+=' wj-alt'),(u<d.frozen||f<g.frozen)&&(l+=' wj-frozen',at=!1),gt&&(l+=' wj-new'),a.cssClass&&(l+=' '+a.cssClass),c.cssClass&&(l+=' '+c.cssClass)):(l+=' wj-header',h.showAlternatingRows&&u%2!=0&&(l+=' wj-header-alt')),ot=h.collectionView,ot&&h.showErrors&&a.dataItem)if(y==t.CellType.Cell)tt=ot.getError,n.isFunction(tt)&&(e.title='',pt=tt(a.dataItem,c.binding),pt&&(l+=' wj-state-invalid',e.title=pt));else if(y==t.CellType.RowHeader&&(tt=ot.getError,n.isFunction(tt)))for(st=0;st<h.columns.length;st++)if(ii=h._getBindingColumn(r,u,h.columns[st]),tt(a.dataItem,ii.binding)){l+=' wj-state-invalid';break}ht=r.getSelectedState(u,f,o);ht!=t.SelectedState.None&&y==t.CellType.Cell&&!ei&&h.editRange&&h.editRange.contains(u,f)&&(ht=t.SelectedState.None);switch(ht){case t.SelectedState.Cursor:l+=' wj-state-selected';break;case t.SelectedState.Selected:l+=' wj-state-multi-selected'}if(rt==d.frozen-1&&(l+=' wj-frozen-row'),ft==g.frozen-1&&(l+=' wj-frozen-col'),(nt.wordWrap||a.wordWrap)&&(l+=' wj-wrap'),at&&l==e.className&&(k=e.style,k.top==v.top&&k.width==v.width&&k.height==v.height&&(h.rightToLeft&&k.right==v.right||!h.rightToLeft&&k.left==v.left))){k.display&&(k.display='');return}v.textAlign=c.getAlignment();y==t.CellType.Cell&&h.rows.maxGroupLevel>-1&&(v.paddingLeft=v.paddingRight='',f==h.columns.firstVisibleIndex&&h.treeIndent&&(ri=p?Math.max(0,p.level):h.rows.maxGroupLevel+1,wt=h.treeIndent*ri+h._cellPadding,h.rightToLeft?v.paddingRight=wt+'px':v.paddingLeft=wt+'px'));s!=!1&&(ct=r.getCellData(u,f,!1),w=r.getCellData(u,f,!0),y==t.CellType.Cell&&f==h.columns.firstVisibleIndex&&p&&p.hasChildren&&!this._isEditingCell(h,u,f)?(w||(w=p.getGroupHeader()),e.innerHTML=this._getTreeIcon(p)+' '+w,v.textAlign=''):y==t.CellType.ColumnHeader&&c.currentSort&&h.showSort&&(rt==h._getSortRowIndex()||c!=nt)?(l+=' wj-sort-'+(c.currentSort=='+'?'asc':'desc'),e.innerHTML=n.escapeHtml(w)+'&nbsp;'+this._getSortIcon(c)):y!=t.CellType.RowHeader||f!=h.rowHeaders.columns.length-1||w?y!=t.CellType.Cell||c.dataType!=n.DataType.Boolean||c.dataMap||p&&!n.isBoolean(ct)?y==t.CellType.Cell&&this._isEditingCell(h,u,f)?(dt=c.inputType,c.inputType||(dt=c.dataType==n.DataType.Number&&!c.dataMap?'tel':'text'),c.dataMap||c.mask||(ut=r.getCellData(u,f,!1),n.isNumber(ut)&&(lt=c.format,lt&&ut!=Math.round(ut)&&(lt=c.format.replace(/([a-z])(\d*)(.*)/ig,'$0112$3')),w=n.Globalize.formatNumber(ut,lt,!0))),e.innerHTML='<input type="'+dt+'" class="wj-grid-editor wj-form-control">',it=e.children[0],it.value=w,it.required=c.getIsRequired(),it.style.textAlign=c.getAlignment(),v.padding='0px',c.mask&&(oi=new n._MaskProvider(it,c.mask)),h._edtHdl._edt=it):y==t.CellType.Cell&&(a.isContentHtml||c.isContentHtml)?e.innerHTML=w:n.setText(e,w):(b=e.firstChild,b instanceof HTMLInputElement&&b.type=='checkbox'||(e.innerHTML='<input type="checkbox" class="wj-cell-check"/>',b=e.firstChild),b.checked=ct==!0?!0:!1,b.indeterminate=ct==null,b.disabled=!h._edtHdl._allowEditing(u,f),b.disabled&&(b.style.cursor='default'),h.editRange&&h.editRange.contains(u,f)&&(h._edtHdl._edt=b)):(bt=h.collectionView,kt=bt?bt.currentEditItem:null,kt&&a.dataItem==kt?e.innerHTML='<span class="wj-glyph-pencil"></span>':n.tryCast(a,t._NewRowTemplate)&&(e.innerHTML='<span class="wj-glyph-asterisk"></span>')),y==t.CellType.Cell&&n.input&&c.dataMap&&c.showDropDown!==!1&&h._edtHdl._allowEditing(u,f)&&(i._ddIcon||(i._ddIcon=n.createElement('<div class="'+i._WJC_DROPDOWN+'"><span class="wj-glyph-down"></span></div>')),ui=i._ddIcon.cloneNode(!0),e.appendChild(ui)));switch(y){case t.CellType.RowHeader:e.removeAttribute('draggable');p||gt||(h.allowDragging&t.AllowDragging.Rows)==0||!a.allowDragging||e.setAttribute('draggable','true');break;case t.CellType.ColumnHeader:e.removeAttribute('draggable');(h.allowDragging&t.AllowDragging.Columns)!=0&&nt.allowDragging&&e.setAttribute('draggable','true')}if(e.className!=l&&(e.className=l),n.setCss(e,v),h.itemFormatter&&h.itemFormatter(r,u,f,e),h.formatItem.hasHandlers){o=i._fmtRng;o?o.setRange(u,f,rt,ft):o=i._fmtRng=new t.CellRange(u,f,rt,ft);fi=new t.FormatItemEventArgs(r,o,e);h.onFormatItem(fi)}},i.prototype.disposeCell=function(){},i.prototype.getEditorValue=function(n){var t=n._edtHdl._edt;return t instanceof HTMLInputElement?t.type=='checkbox'?t.checked:t.value:null},i.prototype._isEditingCell=function(n,t,i){return n.editRange&&n.editRange.contains(t,i)},i.prototype._getTreeIcon=function(n){var t='wj-glyph-'+(n.isCollapsed?'':'down-')+(n.grid.rightToLeft?'left':'right');return'<span class="'+i._WJC_COLLAPSE+' '+t+'"></span>'},i.prototype._getSortIcon=function(n){return'<span class="wj-glyph-'+(n.currentSort=='+'?'up':'down')+'"></span>'},i._WJC_COLLAPSE='wj-elem-collapse',i._WJC_DROPDOWN='wj-elem-dropdown',i}();t.CellFactory=i})(t=n.grid||(n.grid={}))}(wijmo||(wijmo={})),function(n){var t;(function(t){'use strict';var i=function(){function t(n,t,i,r){n===void 0&&(n=-1);t===void 0&&(t=-1);i===void 0&&(i=n);r===void 0&&(r=t);this.setRange(n,t,i,r)}return t.prototype.setRange=function(t,i,r,u){t===void 0&&(t=-1);i===void 0&&(i=-1);r===void 0&&(r=t);u===void 0&&(u=i);this._row=n.asInt(t);this._col=n.asInt(i);this._row2=n.asInt(r);this._col2=n.asInt(u)},Object.defineProperty(t.prototype,"row",{get:function(){return this._row},set:function(t){this._row=n.asInt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"col",{get:function(){return this._col},set:function(t){this._col=n.asInt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"row2",{get:function(){return this._row2},set:function(t){this._row2=n.asInt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"col2",{get:function(){return this._col2},set:function(t){this._col2=n.asInt(t)},enumerable:!0,configurable:!0}),t.prototype.clone=function(){return new t(this._row,this._col,this._row2,this._col2)},Object.defineProperty(t.prototype,"rowSpan",{get:function(){return Math.abs(this._row2-this._row)+1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnSpan",{get:function(){return Math.abs(this._col2-this._col)+1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"topRow",{get:function(){return Math.min(this._row,this._row2)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottomRow",{get:function(){return Math.max(this._row,this._row2)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"leftCol",{get:function(){return Math.min(this._col,this._col2)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rightCol",{get:function(){return Math.max(this._col,this._col2)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isValid",{get:function(){return this._row>-1&&this._col>-1&&this._row2>-1&&this._col2>-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isSingleCell",{get:function(){return this._row==this._row2&&this._col==this._col2},enumerable:!0,configurable:!0}),t.prototype.contains=function(i,r){var u=n.tryCast(i,t);if(u)return u.topRow>=this.topRow&&u.bottomRow<=this.bottomRow&&u.leftCol>=this.leftCol&&u.rightCol<=this.rightCol;if(n.isInt(i)&&n.isInt(r))return i>=this.topRow&&i<=this.bottomRow&&r>=this.leftCol&&r<=this.rightCol;throw'contains expects a CellRange or row/column indices.';},t.prototype.containsRow=function(t){return n.asInt(t)>=this.topRow&&t<=this.bottomRow},t.prototype.containsColumn=function(t){return n.asInt(t)>=this.leftCol&&t<=this.rightCol},t.prototype.intersects=function(n){return this.intersectsRow(n)&&this.intersectsColumn(n)},t.prototype.intersectsRow=function(n){return n&&!(this.bottomRow<n.topRow||this.topRow>n.bottomRow)},t.prototype.intersectsColumn=function(n){return n&&!(this.rightCol<n.leftCol||this.leftCol>n.rightCol)},t.prototype.getRenderSize=function(t){var u=new n.Size(0,0),i,r;if(this.isValid){for(i=this.topRow;i<=this.bottomRow;i++)u.height+=t.rows[i].renderSize;for(r=this.leftCol;r<=this.rightCol;r++)u.width+=t.columns[r].renderSize}return u},t.prototype.equals=function(n){return n instanceof t&&this._row==n._row&&this._col==n._col&&this._row2==n._row2&&this._col2==n._col2},t}();t.CellRange=i})(t=n.grid||(n.grid={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var i,u,r,e,o,f,s,h;(function(n){n[n.Visible=1]="Visible";n[n.AllowResizing=2]="AllowResizing";n[n.AllowDragging=4]="AllowDragging";n[n.AllowMerging=8]="AllowMerging";n[n.AllowSorting=16]="AllowSorting";n[n.AutoGenerated=32]="AutoGenerated";n[n.Collapsed=64]="Collapsed";n[n.ParentCollapsed=128]="ParentCollapsed";n[n.Selected=256]="Selected";n[n.ReadOnly=512]="ReadOnly";n[n.HtmlContent=1024]="HtmlContent";n[n.WordWrap=2048]="WordWrap";n[n.RowDefault=3]="RowDefault";n[n.ColumnDefault=23]="ColumnDefault"})(t.RowColFlags||(t.RowColFlags={}));i=t.RowColFlags;u=function(){function r(){this._list=null;this._pos=0;this._idx=-1}return Object.defineProperty(r.prototype,"visible",{get:function(){return this._getFlag(i.Visible)},set:function(n){this._setFlag(i.Visible,n)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isVisible",{get:function(){return this._getFlag(i.Visible)?this._getFlag(i.ParentCollapsed)&&!(this instanceof t._NewRowTemplate)?!1:!0:!1},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"pos",{get:function(){return this._list&&this._list._update(),this._pos},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"index",{get:function(){return this._list&&this._list._update(),this._idx},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"size",{get:function(){return this._sz},set:function(t){t!=this._sz&&(this._sz=n.asNumber(t,!0),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"renderSize",{get:function(){if(!this.isVisible)return 0;var n=this._sz,t=this._list;return(n==null||n<0)&&t!=null?Math.round(t.defaultSize):(t!=null&&(t.minSize!=null&&n<t.minSize&&(n=t.minSize),t.maxSize!=null&&n>t.maxSize&&(n=t.maxSize)),this._szMin!=null&&n<this._szMin&&(n=this._szMin),this._szMax!=null&&n>this._szMax&&(n=this._szMax),Math.round(n))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"allowResizing",{get:function(){return this._getFlag(i.AllowResizing)},set:function(n){this._setFlag(i.AllowResizing,n)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"allowDragging",{get:function(){return this._getFlag(i.AllowDragging)},set:function(n){this._setFlag(i.AllowDragging,n)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"allowMerging",{get:function(){return this._getFlag(i.AllowMerging)},set:function(n){this._setFlag(i.AllowMerging,n)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isSelected",{get:function(){return this._getFlag(i.Selected)},set:function(n){if(this._setFlag(i.Selected,n,!0)){var t=this.grid;t&&t.refreshCells(!1,!0,!0)}},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isReadOnly",{get:function(){return this._getFlag(i.ReadOnly)},set:function(n){this._setFlag(i.ReadOnly,n)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isContentHtml",{get:function(){return this._getFlag(i.HtmlContent)},set:function(n){this.isContentHtml!=n&&(this._setFlag(i.HtmlContent,n),this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"wordWrap",{get:function(){return this._getFlag(i.WordWrap)},set:function(n){this._setFlag(i.WordWrap,n)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"cssClass",{get:function(){return this._cssClass},set:function(t){t!=this._cssClass&&(this._cssClass=n.asString(t),this.grid&&this.grid.invalidate(!1))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"grid",{get:function(){return this._list?this._list._g:null},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"collectionView",{get:function(){return this.grid?this.grid.collectionView:null},enumerable:!0,configurable:!0}),r.prototype.onPropertyChanged=function(){this._list&&(this._list._dirty=!0,this.grid.invalidate())},r.prototype._getFlag=function(n){return(this._f&n)!=0},r.prototype._setFlag=function(n,t,i){return t!=this._getFlag(n)?(this._f=t?this._f|n:this._f&~n,i||this.onPropertyChanged(),!0):!1},r}();t.RowCol=u;r=function(r){function u(t){r.call(this);this._f=i.ColumnDefault;this._hash=u._ctr.toString(36);u._ctr++;t&&n.copy(this,t)}return __extends(u,r),Object.defineProperty(u.prototype,"name",{get:function(){return this._name},set:function(n){this._name=n},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"dataType",{get:function(){return this._type},set:function(t){this._type!=t&&(this._type=n.asEnum(t,n.DataType),this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"isRequired",{get:function(){return this._required},set:function(t){this._required=n.asBoolean(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"required",{get:function(){return n._deprecated('required','isRequired'),this.isRequired},set:function(t){n._deprecated('required','isRequired');this.isRequired=t},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"showDropDown",{get:function(){return this._showDropDown},set:function(t){t!=this._showDropDown&&(this._showDropDown=n.asBoolean(t,!0),this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"dropDownCssClass",{get:function(){return this._ddCssClass},set:function(t){this._ddCssClass=n.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"inputType",{get:function(){return this._inpType},set:function(t){this._inpType=n.asString(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"mask",{get:function(){return this._mask},set:function(t){this._mask=n.asString(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"binding",{get:function(){return this._binding?this._binding.path:null},set:function(t){var r,i,u;t!=this.binding&&(r=n.asString(t),this._binding=r?new n.Binding(r):null,!this._type&&this.grid&&this._binding&&(i=this.grid.collectionView,i&&i.sourceCollection&&i.sourceCollection.length&&(u=i.sourceCollection[0],this._type=n.getType(this._binding.getValue(u)))),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"sortMemberPath",{get:function(){return this._bindingSort?this._bindingSort.path:null},set:function(t){if(t!=this.sortMemberPath){var i=n.asString(t);this._bindingSort=i?new n.Binding(i):null;this.onPropertyChanged()}},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"width",{get:function(){return this._szStar!=null?this._szStar:this.size},set:function(t){u._parseStarSize(t)!=null?(this._szStar=t,this.onPropertyChanged()):(this._szStar=null,this.size=n.asNumber(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"minWidth",{get:function(){return this._szMin},set:function(t){t!=this._szMin&&(this._szMin=n.asNumber(t,!0,!0),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"maxWidth",{get:function(){return this._szMax},set:function(t){t!=this._szMax&&(this._szMax=n.asNumber(t,!0,!0),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"renderWidth",{get:function(){return this.renderSize},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"align",{get:function(){return this._align},set:function(n){this._align!=n&&(this._align=n,this.onPropertyChanged())},enumerable:!0,configurable:!0}),u.prototype.getAlignment=function(){var t=this._align;if(t==null&&(t='',!this._map))switch(this._type){case n.DataType.Boolean:t='center';break;case n.DataType.Number:t='right'}return t},u.prototype.getIsRequired=function(){return this._required!=null?this._required:this.dataType==n.DataType.String?this.dataMap!=null||this._mask&&this._mask.length>0:!0},Object.defineProperty(u.prototype,"header",{get:function(){return this._hdr?this._hdr:this.binding},set:function(n){this._hdr!=n&&(this._hdr=n,this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"dataMap",{get:function(){return this._map},set:function(i){this._map!=i&&(this._map&&this._map.mapChanged.removeHandler(this.onPropertyChanged,this),n.isArray(i)&&(i=new t.DataMap(i,null,null)),this._map=n.asType(i,t.DataMap,!0),this._map&&this._map.mapChanged.addHandler(this.onPropertyChanged,this),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"format",{get:function(){return this._fmt},set:function(n){this._fmt!=n&&(this._fmt=n,this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"allowSorting",{get:function(){return this._getFlag(i.AllowSorting)},set:function(n){this._setFlag(i.AllowSorting,n)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"currentSort",{get:function(){var t,n;if(this.grid&&this.grid.collectionView&&this.grid.collectionView.canSort)for(t=this.grid.collectionView.sortDescriptions,n=0;n<t.length;n++)if(t[n].property==this._getBindingSort())return t[n].ascending?'+':'-';return null},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"aggregate",{get:function(){return this._agg!=null?this._agg:n.Aggregate.None},set:function(t){t!=this._agg&&(this._agg=n.asEnum(t,n.Aggregate),this.onPropertyChanged())},enumerable:!0,configurable:!0}),u.prototype._getBindingSort=function(){return this.sortMemberPath?this.sortMemberPath:this.binding?this.binding:null},u._parseStarSize=function(t){if(n.isString(t)&&t.length>0&&t[t.length-1]=='*'){var i=t.length==1?1:t.substr(0,t.length-1)*1;if(i>0&&!isNaN(i))return i}return null},u._ctr=0,u}(u);t.Column=r;e=function(n){function t(t){n.call(this);this._f=i.ColumnDefault;this._data=t}return __extends(t,n),Object.defineProperty(t.prototype,"dataItem",{get:function(){return this._data},set:function(n){this._data=n},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.size},set:function(n){this.size=n},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderHeight",{get:function(){return this.renderSize},enumerable:!0,configurable:!0}),t}(u);t.Row=e;o=function(r){function u(){r.call(this);this._level=-1;this.isReadOnly=!0}return __extends(u,r),Object.defineProperty(u.prototype,"level",{get:function(){return this._level},set:function(t){n.asInt(t);t!=this._level&&(this._level=t,this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"hasChildren",{get:function(){if(this.grid!=null&&this._list!=null){this._list._update();var i=this.index<this._list.length-1?this._list[this.index+1]:null,r=n.tryCast(i,u),f=n.tryCast(i,t._NewRowTemplate);return i&&f==null&&(r==null||r.level>this.level)}return!0},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"isCollapsed",{get:function(){return this._getFlag(i.Collapsed)},set:function(t){n.asBoolean(t);t!=this.isCollapsed&&this._list!=null&&this._setCollapsed(t)},enumerable:!0,configurable:!0}),u.prototype.getGroupHeader=function(){var u=this.grid,o=u.groupHeaderFormat?u.groupHeaderFormat:n.culture.FlexGrid.groupHeaderFormat,r=n.tryCast(this.dataItem,n.collections.CollectionViewGroup),s;if(r&&o){var f=r.groupDescription.propertyName,i=r.name,t=u.columns.getColumn(f),e=this.isContentHtml;return t&&(e=e||t.isContentHtml,t.header&&(f=t.header),t.dataMap?i=t.dataMap.getDisplayValue(i):t.format&&(i=n.Globalize.format(i,t.format))),s=r.getAggregate(n.Aggregate.CntAll,null,u.collectionView),n.format(o,{name:n.escapeHtml(f),value:e?i:n.escapeHtml(i),level:r.level,count:s})}return''},u.prototype._setCollapsed=function(r){var c=this,f=this.grid,o=f.rows,h=this.getCellRange(),s=new t.CellRangeEventArgs(f.cells,new t.CellRange(this.index,-1)),e;f.onGroupCollapsedChanging(s);if(!s.cancel){f.deferUpdate(function(){c._setFlag(i.Collapsed,r);for(var t=h.topRow+1;t<=h.bottomRow&&t>-1&&t<o.length;t++)o[t]._setFlag(i.ParentCollapsed,r),e=n.tryCast(o[t],u),e!=null&&e.isCollapsed&&(t=e.getCellRange().bottomRow)});f.onGroupCollapsedChanged(s)}},u.prototype.getCellRange=function(){for(var f,e=this._list,o=this.index,r=e.length-1,i=o+1;i<=r;i++)if(f=n.tryCast(e[i],u),f!=null&&f.level<=this.level){r=i-1;break}return new t.CellRange(o,0,r,this.grid.columns.length-1)},u}(e);t.GroupRow=o;f=function(i){function r(r,u){i.call(this);this._frozen=0;this._szDef=28;this._szTot=0;this._dirty=!1;this._g=n.asType(r,t.FlexGrid);this._szDef=n.asNumber(u,!1,!0)}return __extends(r,i),Object.defineProperty(r.prototype,"defaultSize",{get:function(){return this._szDef},set:function(t){this._szDef!=t&&(this._szDef=n.asNumber(t,!1,!0),this._dirty=!0,this._g.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"frozen",{get:function(){return this._frozen},set:function(t){t!=this._frozen&&(this._frozen=n.asNumber(t,!1,!0),this._dirty=!0,this._g.invalidate())},enumerable:!0,configurable:!0}),r.prototype.isFrozen=function(n){return n<this.frozen},Object.defineProperty(r.prototype,"minSize",{get:function(){return this._szMin},set:function(t){t!=this._szMin&&(this._szMin=n.asNumber(t,!0,!0),this._dirty=!0,this._g.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"maxSize",{get:function(){return this._szMax},set:function(t){t!=this._szMax&&(this._szMax=n.asNumber(t,!0,!0),this._dirty=!0,this._g.invalidate())},enumerable:!0,configurable:!0}),r.prototype.getTotalSize=function(){return this._update(),this._szTot},r.prototype.getItemAt=function(n){if(this._update(),n<=0&&this.length>0)return 0;for(var u=0,i=this.length-1,t,r;u<=i;)if(t=u+i>>>1,r=this[t],r._pos>n)i=t-1;else if(r._pos+r.renderSize<n)u=t+1;else{while(t>0&&!this[t].visible)t--;while(t<this.length-1&&!this[t].visible)t++;return t}return i},r.prototype.getNextCell=function(n,i,r){var u;switch(i){case t.SelMove.Next:for(u=n+1;u<this.length;u++)if(this[u].renderSize>0)return u;break;case t.SelMove.Prev:for(u=n-1;u>=0;u--)if(this[u].renderSize>0)return u;break;case t.SelMove.End:for(u=this.length-1;u>=0;u--)if(this[u].renderSize>0)return u;break;case t.SelMove.Home:for(u=0;u<this.length;u++)if(this[u].renderSize>0)return u;break;case t.SelMove.NextPage:return u=this.getItemAt(this[n].pos+r),u<0?this.getNextCell(n,t.SelMove.End,r):u==n&&u<this.length-1?u+1:u;case t.SelMove.PrevPage:return u=this.getItemAt(this[n].pos-r),u<0?this.getNextCell(n,t.SelMove.Home,r):u==n&&u>0?u-1:u}return n},r.prototype.canMoveElement=function(n,i){var u,f,r;if(i==n||n<0||n>=this.length||i>=this.length)return!1;for(i<0&&(i=this.length-1),u=Math.min(n,i),f=Math.max(n,i),r=u;r<=f;r++)if(!this[r].allowDragging)return!1;return this[i]instanceof t._NewRowTemplate?!1:!0},r.prototype.moveElement=function(n,t){if(this.canMoveElement(n,t)){var i=this[n];this.removeAt(n);t<0&&(t=this.length);this.insert(t,i)}},r.prototype.onCollectionChanged=function(t){t===void 0&&(t=n.collections.NotifyCollectionChangedEventArgs.reset);this._dirty=!0;this._g.invalidate();i.prototype.onCollectionChanged.call(this,t)},r.prototype.push=function(n){return n._list=this,i.prototype.push.call(this,n)},r.prototype.splice=function(n,t,r){return r&&(r._list=this),i.prototype.splice.call(this,n,t,r)},r.prototype.beginUpdate=function(){this._update();i.prototype.beginUpdate.call(this)},r.prototype._update=function(){var i,n,t;if(this._dirty&&!this.isUpdating){for(this._dirty=!1,i=0,t=0;t<this.length;t++)n=this[t],n._idx=t,n._list=this,n._pos=i,i+=n.renderSize;return this._szTot=i,!0}return!1},r}(n.collections.ObservableArray);t.RowColCollection=f;s=function(n){function t(){n.apply(this,arguments);this._firstVisible=-1}return __extends(t,n),t.prototype.getColumn=function(n){var t=this.indexOf(n);return t>-1?this[t]:null},t.prototype.indexOf=function(t){var i;if(t instanceof r)return n.prototype.indexOf.call(this,t);for(i=0;i<this.length;i++)if(this[i].name==t)return i;for(i=0;i<this.length;i++)if(this[i].binding==t)return i;return-1},Object.defineProperty(t.prototype,"firstVisibleIndex",{get:function(){return this._update(),this._firstVisible},enumerable:!0,configurable:!0}),t.prototype._update=function(){if(n.prototype._update.call(this)){this._firstVisible=-1;for(var t=0;t<this.length;t++)if(this[t].visible){this._firstVisible=t;break}return!0}return!1},t.prototype._updateStarSizes=function(n){for(var u,t,e=0,f,i=0;i<this.length;i++)t=this[i],t.isVisible&&(t._szStar?(e+=r._parseStarSize(t._szStar),f=t):n-=t.renderWidth);if(f){for(u=n,i=0;i<this.length;i++)t=this[i],t.isVisible&&t._szStar&&(t==f&&u>0?t._sz=u:(t._sz=Math.max(0,Math.round(r._parseStarSize(t._szStar)/e*n)),u-=t.renderWidth));return this._dirty=!0,this._update(),!0}return!1},t}(f);t.ColumnCollection=s;h=function(t){function i(){t.apply(this,arguments);this._maxLevel=-1}return __extends(i,t),Object.defineProperty(i.prototype,"maxGroupLevel",{get:function(){return this._update(),this._maxLevel},enumerable:!0,configurable:!0}),i.prototype._update=function(){var i,r;if(t.prototype._update.call(this)){for(this._maxLevel=-1,i=0;i<this.length;i++)r=n.tryCast(this[i],o),r&&r.level>this._maxLevel&&(this._maxLevel=r.level);return!0}return!1},i}(f);t.RowCollection=h})(t=n.grid||(n.grid={}))}(wijmo||(wijmo={})),function(n){var t;(function(i){'use strict';var r=function(){function r(t,u){var f,h,a,v;if(this._row=-1,this._col=-1,this._edge=0,t instanceof i.FlexGrid)f=this._g=t;else if(t instanceof i.GridPanel)this._p=t,f=this._g=this._p.grid;else throw'First parameter should be a FlexGrid or GridPanel.';u=n.mouseToPage(u);this._pt=u.clone();var y=f.controlRect,p=f._szClient,tt=f.topLeftCells,it=f._eTL,w=f.headersVisibility,b=i.HeadersVisibility,s=w&b.Row?tt.columns.getTotalSize():0,c=w&b.Column?tt.rows.getTotalSize():0,k=w&b.Column?c+it.offsetTop:0,d=f._eBL,rt=d.offsetHeight;if(u.x=Math.max(0,u.x-y.left),u.y=Math.max(0,u.y-y.top),this._g.rightToLeft&&(u.x=y.width-u.x),!this._p&&u.x>=0&&u.y>=it.offsetTop&&p&&u.x<=p.width+s&&u.y<=p.height+k&&(this._p=u.y<=k?u.x<=s?f.topLeftCells:f.columnHeaders:u.y<=d.offsetTop?u.x<=s?f.rowHeaders:f.cells:u.x<=s?f.bottomLeftCells:f.columnFooters),this._p!=null){var g=this._p.rows,nt=this._p.columns,e=this._p.cellType,o=i.CellType,l=this._p._getFrozenPos(),ut=e==o.TopLeft||e==o.ColumnHeader?c:e==o.BottomLeft||e==o.ColumnFooter?rt:g.getTotalSize(),ft=e==o.TopLeft||e==o.BottomLeft||e==o.RowHeader?s:nt.getTotalSize();if(e==o.RowHeader||e==o.Cell?(u.y-=c,(u.y>l.y||l.y<=0)&&(u.y-=f._ptScrl.y,u.y+=this._p._getOffsetY())):(e==o.BottomLeft||e==o.ColumnFooter)&&(u.y-=d.offsetTop),(e==o.ColumnHeader||e==o.Cell||e==o.ColumnFooter)&&(u.x-=s,(u.x>l.x||l.x<=0)&&(u.x-=f._ptScrl.x)),(e==o.ColumnHeader||e==o.TopLeft)&&(u.y-=k-c),this._row=u.y>ut?-1:g.getItemAt(u.y),this._col=u.x>ft?-1:nt.getItemAt(u.x),this._row<0||this._col<0){this._p=null;return}this._edge=0;h=r._SZEDGE[this._g.isTouching?1:0];this._col>-1&&(a=nt[this._col],u.x-a.pos<=h&&(this._edge|=1),a.pos+a.renderSize-u.x<=h&&(this._edge|=4));this._row>-1&&(v=g[this._row],u.y-v.pos<=h&&(this._edge|=2),v.pos+v.renderSize-u.y<=h&&(this._edge|=8))}}return Object.defineProperty(r.prototype,"point",{get:function(){return this._pt},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"cellType",{get:function(){return this._p?this._p.cellType:t.CellType.None},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"panel",{get:function(){return this._p},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"row",{get:function(){return this._row},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"col",{get:function(){return this._col},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"range",{get:function(){return new i.CellRange(this._row,this._col)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"edgeLeft",{get:function(){return(this._edge&1)!=0},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"edgeTop",{get:function(){return(this._edge&2)!=0},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"edgeRight",{get:function(){return(this._edge&4)!=0},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"edgeBottom",{get:function(){return(this._edge&8)!=0},enumerable:!0,configurable:!0}),r._SZEDGE=[5,30],r}();i.HitTestInfo=r})(t=n.grid||(n.grid={}))}(wijmo||(wijmo={})),function(n){var t;(function(t){'use strict';(function(n){n[n.None=0]="None";n[n.Cells=1]="Cells";n[n.ColumnHeaders=2]="ColumnHeaders";n[n.RowHeaders=4]="RowHeaders";n[n.AllHeaders=6]="AllHeaders";n[n.All=7]="All"})(t.AllowMerging||(t.AllowMerging={}));var i=t.AllowMerging,r=function(){function r(n){this._g=n}return r.prototype.getMergedRange=function(r,u,f,e){var c,g,b,v,y,nt,k,p,w;e===void 0&&(e=!0);var o,l,h=r.cellType,s=r.columns,a=r.rows,d=a[u],tt=s[f];if(d instanceof t._NewRowTemplate)return null;if(d instanceof t.GroupRow&&d.dataItem instanceof n.collections.CollectionViewGroup){if(o=new t.CellRange(u,f),tt.aggregate==n.Aggregate.None){while(o.col>0&&s[o.col-1].aggregate==n.Aggregate.None&&o.col!=s.frozen)o.col--;while(o.col2<s.length-1&&s[o.col2+1].aggregate==n.Aggregate.None&&o.col2+1!=s.frozen)o.col2++}while(o.col<f&&!s[o.col].visible)o.col++;return o.isSingleCell?null:o}c=!1;switch(this._g.allowMerging){case i.None:c=!0;break;case i.Cells:c=h!=t.CellType.Cell;break;case i.ColumnHeaders:c=h!=t.CellType.ColumnHeader&&h!=t.CellType.TopLeft;break;case i.RowHeaders:c=h!=t.CellType.RowHeader&&h!=t.CellType.TopLeft;break;case i.AllHeaders:c=h==t.CellType.Cell}if(c)return null;if(s[f].allowMerging){for(o=new t.CellRange(u,f),g=0,b=a.length-1,u>=a.frozen?e&&(h==t.CellType.Cell||h==t.CellType.RowHeader)&&(l=r._getViewRange(),g=l.topRow,b=l.bottomRow):b=a.frozen-1,v=u-1;v>=g&&this._mergeCell(r,v,f,u,f);v--)o.row=v;for(y=u+1;y<=b&&this._mergeCell(r,u,f,y,f);y++)o.row2=y;while(o.row<u&&!a[o.row].visible)o.row++;if(!o.isSingleCell)return o}if(a[u].allowMerging){for(o=new t.CellRange(u,f),nt=0,k=s.length-1,f>=s.frozen?e&&(h==t.CellType.Cell||h==t.CellType.ColumnHeader)&&(l=r._getViewRange(),nt=l.leftCol,k=l.rightCol):k=s.frozen-1,p=f-1;p>=nt&&this._mergeCell(r,u,p,u,f);p--)o.col=p;for(w=f+1;w<=k&&this._mergeCell(r,u,f,u,w);w++)o.col2=w;while(o.col<f&&!s[o.col].visible)o.col++;if(!o.isSingleCell)return o}return null},r.prototype._mergeCell=function(n,i,r,u,f){var e=n.rows[i],o=n.rows[u];return e instanceof t.GroupRow||e instanceof t._NewRowTemplate||o instanceof t.GroupRow||o instanceof t._NewRowTemplate?!1:i!=u&&n.rows.isFrozen(i)!=n.rows.isFrozen(u)?!1:r!=f&&n.columns.isFrozen(r)!=n.columns.isFrozen(f)?!1:i!=u&&(r>0&&(e.allowMerging&&this._mergeCell(n,i,r-1,i,r)||o.allowMerging&&this._mergeCell(n,u,r-1,u,r))||f<n.columns.length-1&&(e.allowMerging&&this._mergeCell(n,i,f,i,f+1)||o.allowMerging&&this._mergeCell(n,u,f,u,f+1)))?!1:n.getCellData(i,r,!0)!=n.getCellData(u,f,!0)?!1:!0},r}();t.MergeManager=r})(t=n.grid||(n.grid={}))}(wijmo||(wijmo={})),function(n){var t;(function(t){'use strict';var i=function(){function t(t,i,r){var f,u;if(this.mapChanged=new n.Event,n.isArray(t)&&!i&&!r){for(f=[],u=0;u<t.length;u++)f.push({value:t[u]});t=f;i=r='value'}this._cv=n.asCollectionView(t);this._keyPath=n.asString(i,!1);this._displayPath=n.asString(r,!1);this._cv.collectionChanged.addHandler(this.onMapChanged,this)}return Object.defineProperty(t.prototype,"sortByDisplayValues",{get:function(){return this._sortByKey!=!0},set:function(t){this._sortByKey=!n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collectionView",{get:function(){return this._cv},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedValuePath",{get:function(){return this._keyPath},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"displayMemberPath",{get:function(){return this._displayPath},enumerable:!0,configurable:!0}),t.prototype.getKeyValue=function(n){var t=this._indexOf(n,this._displayPath,!1);return t>-1?this._cv.sourceCollection[t][this._keyPath]:null},t.prototype.getDisplayValue=function(n){var t=this._indexOf(n,this._keyPath,!0);return t>-1?this._cv.sourceCollection[t][this._displayPath]:n},t.prototype.getDisplayValues=function(){var i=[],t,n;if(this._cv&&this._displayPath)for(t=this._cv.items,n=0;n<t.length;n++)i.push(t[n][this._displayPath]);return i},t.prototype.getKeyValues=function(){var i=[],t,n;if(this._cv&&this._keyPath)for(t=this._cv.items,n=0;n<t.length;n++)i.push(t[n][this._keyPath]);return i},Object.defineProperty(t.prototype,"isEditable",{get:function(){return this._editable},set:function(t){this._editable=n.asBoolean(t)},enumerable:!0,configurable:!0}),t.prototype.onMapChanged=function(n){this.mapChanged.raise(this,n)},t.prototype._indexOf=function(n,t,i){var u=-1,e=-1,r,s,f;if(this._cv&&t){var o=n!=null?n.toString():'',h=i?o:o.toLowerCase(),c=this._cv.sourceCollection;for(r=0;r<c.length;r++)if(s=c[r],f=s[t],f==n?u=r:i||f.length!=h.length||f.toLowerCase()!=h?f!=null&&f.toString()==o&&(u=r):u=r,u==r){if(!this._cv.filter||this._cv.filter(s))return u;e<0&&(e=u)}}return e},t}();t.DataMap=i})(t=n.grid||(n.grid={}))}(wijmo||(wijmo={})),function(n){var t;(function(t){'use strict';var r,f,i,u;(function(n){n[n.None=0]="None";n[n.Cell=1]="Cell";n[n.CellRange=2]="CellRange";n[n.Row=3]="Row";n[n.RowRange=4]="RowRange";n[n.ListBox=5]="ListBox"})(t.SelectionMode||(t.SelectionMode={}));r=t.SelectionMode,function(n){n[n.None=0]="None";n[n.Selected=1]="Selected";n[n.Cursor=2]="Cursor"}(t.SelectedState||(t.SelectedState={}));f=t.SelectedState,function(n){n[n.None=0]="None";n[n.Next=1]="Next";n[n.Prev=2]="Prev";n[n.NextPage=3]="NextPage";n[n.PrevPage=4]="PrevPage";n[n.Home=5]="Home";n[n.End=6]="End";n[n.NextCell=7]="NextCell";n[n.PrevCell=8]="PrevCell"}(t.SelMove||(t.SelMove={}));i=t.SelMove;u=function(){function u(n){this._sel=new t.CellRange(0,0);this._mode=r.CellRange;this._g=n}return Object.defineProperty(u.prototype,"selectionMode",{get:function(){return this._mode},set:function(n){var u,i,f,e;if(n!=this._mode){if(n==r.ListBox||this._mode==r.ListBox)for(u=this._g.rows,i=0;i<u.length;i++)f=u[i],e=n==r.ListBox?this._sel.containsRow(i):!1,f._setFlag(t.RowColFlags.Selected,e,!0);switch(n){case r.None:this._sel.setRange(-1,-1);break;case r.Cell:this._sel.row2=this._sel.row;this._sel.col2=this._sel.col;break;case r.Row:this._sel.row2=this._sel.row}this._mode=n;this._g.invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"selection",{get:function(){return this._sel},set:function(n){this.select(n)},enumerable:!0,configurable:!0}),u.prototype.select=function(i,u){var h,c,o,l;u===void 0&&(u=!0);n.isNumber(i)&&n.isNumber(u)&&(i=new t.CellRange(i,u),u=!0);i=n.asType(i,t.CellRange);var f=this._g,a=this._sel,e=i,s=!1;switch(f.selectionMode){case r.Cell:i.row2=i.row;i.col2=i.col;break;case r.Row:i.row2=i.row;break;case r.ListBox:s=!0}if(h=e.equals(a),s&&e.row>-1&&!f.rows[e.row].isSelected&&(h=!1),h){u&&f.scrollIntoView(e.row,e.col);return}if(c=new t.CellRangeEventArgs(f.cells,e),f.onSelectionChanging(c)){if(s){for(o=0;o<f.rows.length;o++)f.rows[o]._setFlag(t.RowColFlags.Selected,e.containsRow(o),!0);f.refreshCells(!1,!0,!0)}e.row=Math.min(e.row,f.rows.length-1);e.row2=Math.min(e.row2,f.rows.length-1);this._sel=e;f.refreshCells(!1,!0,!0);u&&f.scrollIntoView(e.row,e.col);f.collectionView&&(l=f._getCvIndex(e.row),f.collectionView.moveCurrentToPosition(l));f.onSelectionChanged(c)}},u.prototype.moveSelection=function(n,r,u){var e,f,h=this._g,l=h.rows,c=h.columns,o=this._getReferenceCell(n,r,u),s=Math.max(0,h._szClient.height-h.columnHeaders.height),a;r==i.NextCell?(f=c.getNextCell(o.col,i.Next,s),e=o.row,f==o.col&&(e=l.getNextCell(e,i.Next,s),e>o.row&&(f=c.getNextCell(0,i.Next,s),f=c.getNextCell(f,i.Prev,s))),h.select(e,f)):r==i.PrevCell?(f=c.getNextCell(o.col,i.Prev,s),e=o.row,f==o.col&&(e=l.getNextCell(e,i.Prev,s),e<o.row&&(f=c.getNextCell(c.length-1,i.Prev,s),f=c.getNextCell(f,i.Next,s))),h.select(e,f)):(e=l.getNextCell(o.row,n,s),f=c.getNextCell(o.col,r,s),u?(a=h._selHdl._sel,h.select(new t.CellRange(e,f,a.row2,a.col2))):h.select(e,f))},u.prototype._getReferenceCell=function(n,t){var f=this._g,u=f._selHdl._sel,r=f.getMergedRange(f.cells,u.row,u.col);if(!r||r.isSingleCell)return u;r=r.clone();switch(n){case i.Next:case i.NextCell:r.row=r.bottomRow;break;case i.None:r.row=u.row}switch(t){case i.Next:case i.NextCell:r.col=r.rightCol;break;case i.None:r.col=u.col}return r},u.prototype._adjustSelection=function(n){switch(this._mode){case r.Cell:return new t.CellRange(n.row,n.col,n.row,n.col);case r.Row:return new t.CellRange(n.row,0,n.row,this._g.columns.length-1);case r.RowRange:case r.ListBox:return new t.CellRange(n.row,0,n.row2,this._g.columns.length-1)}return n},u}();t._SelectionHandler=u})(t=n.grid||(n.grid={}))}(wijmo||(wijmo={})),function(n){var t;(function(t){'use strict';var i=function(){function i(n){this._g=n;n.addEventListener(n.hostElement,'keypress',this._keypress.bind(this));n.addEventListener(n.hostElement,'keydown',this._keydown.bind(this))}return i.prototype._keydown=function(i){var r=this._g,o=r.selection,f=i.ctrlKey||i.metaKey,u=i.shiftKey,y=i.target,s=!0,v,l,a;if(r.isRangeValid(o)&&!i.defaultPrevented){if(r._wantsInput(i.target))return;if(r.activeEditor&&r._edtHdl._keydown(i))return;var c=n.tryCast(r.rows[o.row],t.GroupRow),e=n.tryCast(r.collectionView,'IEditableCollectionView'),h=i.keyCode;if(r.autoClipboard){if(f&&(h==67||h==45)){if(l=new t.CellRangeEventArgs(r.cells,o),r.onCopying(l)){v=r.getClipString();n.Clipboard.copy(v);r.onCopied(l)}i.stopPropagation();return}if(f&&h==86||u&&h==45){r.isReadOnly||(l=new t.CellRangeEventArgs(r.cells,o),r.onPasting(l)&&n.Clipboard.paste(function(n){r.setClipString(n);r.onPasted(l)}));i.stopPropagation();return}}if(r.rightToLeft)switch(h){case n.Key.Left:h=n.Key.Right;break;case n.Key.Right:h=n.Key.Left}switch(h){case 65:f?r.select(new t.CellRange(0,0,r.rows.length-1,r.columns.length-1)):s=!1;break;case n.Key.Left:o.isValid&&o.col==0&&c!=null&&!c.isCollapsed&&c.hasChildren?c.isCollapsed=!0:this._moveSel(t.SelMove.None,f?t.SelMove.Home:t.SelMove.Prev,u);break;case n.Key.Right:o.isValid&&o.col==0&&c!=null&&c.isCollapsed?c.isCollapsed=!1:this._moveSel(t.SelMove.None,f?t.SelMove.End:t.SelMove.Next,u);break;case n.Key.Up:if(i.altKey&&r._edtHdl._toggleListBox(this._g.selection))break;this._moveSel(f?t.SelMove.Home:t.SelMove.Prev,t.SelMove.None,u);break;case n.Key.Down:if(i.altKey&&r._edtHdl._toggleListBox(this._g.selection))break;this._moveSel(f?t.SelMove.End:t.SelMove.Next,t.SelMove.None,u);break;case n.Key.PageUp:this._moveSel(t.SelMove.PrevPage,t.SelMove.None,u);break;case n.Key.PageDown:this._moveSel(t.SelMove.NextPage,t.SelMove.None,u);break;case n.Key.Home:this._moveSel(f?t.SelMove.Home:t.SelMove.None,t.SelMove.Home,u);break;case n.Key.End:this._moveSel(f?t.SelMove.End:t.SelMove.None,t.SelMove.End,u);break;case n.Key.Tab:this._moveSel(t.SelMove.None,u?t.SelMove.PrevCell:t.SelMove.NextCell,!1);break;case n.Key.Enter:this._moveSel(u?t.SelMove.Prev:t.SelMove.Next,t.SelMove.None,!1);!u&&e&&e.currentEditItem!=null&&r._edtHdl._commitRowEdits();break;case n.Key.Escape:if(e&&(e.currentAddItem||e.currentEditItem)){a=new t.CellRangeEventArgs(r.cells,r.selection);a.cancel=!0;r.onRowEditEnding(a);e.currentAddItem&&e.cancelNew();e.currentEditItem&&e.cancelEdit();r.onRowEditEnded(a)}r._mouseHdl.resetMouseState();break;case n.Key.Delete:case n.Key.Back:s=this._deleteSel();break;case n.Key.F2:s=this._startEditing(!0,i);break;case n.Key.F4:s=r._edtHdl._toggleListBox(this._g.selection);break;case n.Key.Space:s=this._startEditing(!0,i);s&&setTimeout(function(){var t=r.activeEditor;t&&(t.type=='checkbox'?(t.checked=!t.checked,r.finishEditing()):n.setSelectionRange(t,t.value.length))});break;default:s=!1}s&&(r.focus(),i.preventDefault(),i.stopPropagation())}},i.prototype._keypress=function(t){var i=this._g;i._wantsInput(t.target)||(i.activeEditor?i._edtHdl._keypress(t):t.charCode>n.Key.Space&&this._startEditing(!1,t)&&i.activeEditor&&setTimeout(function(){var r=i.activeEditor;r&&r.type!='checkbox'&&(r.value=String.fromCharCode(t.charCode),n.setSelectionRange(r,1),r.dispatchEvent(i._edtHdl._evtInput),i._edtHdl._keypress(t))}),t.stopPropagation())},i.prototype._moveSel=function(n,i,r){this._g.selectionMode!=t.SelectionMode.None&&this._g._selHdl.moveSelection(n,i,r)},i.prototype._deleteSel=function(){var i=this._g,f=n.tryCast(i.collectionView,'IEditableCollectionView'),u=i.selection,o=i.rows,e=[],h,c,r,s,l,a;if(i.allowDelete&&!i.isReadOnly&&(f==null||f.canRemove&&!f.isAddingNew&&!f.isEditingItem))switch(i.selectionMode){case t.SelectionMode.CellRange:if(u.leftCol==0&&u.rightCol==i.columns.length-1)for(r=u.topRow;r>-1&&r<=u.bottomRow;r++)e.push(o[r]);break;case t.SelectionMode.ListBox:for(r=0;r<o.length;r++)o[r].isSelected&&e.push(o[r]);break;case t.SelectionMode.Row:u.topRow>-1&&e.push(o[u.topRow]);break;case t.SelectionMode.RowRange:for(r=u.topRow;r>-1&&r<=u.bottomRow;r++)e.push(o[r])}if(e.length>0){for(f&&f.beginUpdate(),i.beginUpdate(),h=new t.CellRange,c=new t.CellRangeEventArgs(i.cells,h),r=e.length-1;r>=0;r--)if(s=e[r],h.row=h.row2=s.index,i.onDeletingRow(c)){f&&s.dataItem?f.remove(s.dataItem):i.rows.removeAt(s.index);i.onDeletedRow(c)}return i.endUpdate(),f&&f.endUpdate(),i.selectionMode==t.SelectionMode.ListBox&&(l=i.selection.row,l>-1&&l<i.rows.length&&(i.rows[l].isSelected=!0)),i.childItemsPath&&i.collectionView&&i.collectionView.refresh(),!0}return!i.isReadOnly&&e.length==0&&u.isSingleCell&&(a=i._getBindingColumn(i.cells,u.row,i.columns[u.col]),!a.getIsRequired()&&i.getCellData(u.row,u.col,!0)&&this._startEditing(!1,c,u.row,u.col))?(i.setCellData(u.row,u.col,'',!0),i.finishEditing(!0),i.invalidate(),!0):!1},i.prototype._startEditing=function(n,t,i,r){return this._g._edtHdl.startEditing(n,i,r,!0,t)},i}();t._KeyboardHandler=i})(t=n.grid||(n.grid={}))}(wijmo||(wijmo={})),function(n){var t;(function(t){'use strict';var i=4,r,e,u,f;(function(n){n[n.None=0]="None";n[n.Columns=1]="Columns";n[n.Rows=2]="Rows";n[n.Both=3]="Both";n[n.ColumnsAllCells=n.Columns|i]="ColumnsAllCells";n[n.RowsAllCells=n.Rows|i]="RowsAllCells";n[n.BothAllCells=n.Both|i]="BothAllCells"})(t.AllowResizing||(t.AllowResizing={}));r=t.AllowResizing,function(n){n[n.None=0]="None";n[n.Headers=1]="Headers";n[n.Cells=2]="Cells";n[n.Both=3]="Both"}(t.AutoSizeMode||(t.AutoSizeMode={}));e=t.AutoSizeMode,function(n){n[n.None=0]="None";n[n.Columns=1]="Columns";n[n.Rows=2]="Rows";n[n.Both=3]="Both"}(t.AllowDragging||(t.AllowDragging={}));u=t.AllowDragging;f=function(){function f(t){var r=this,i=t.hostElement,u,f;this._g=t;t.addEventListener(i,'mousedown',function(i){if(!i.defaultPrevented&&i.button==0){if(t._wantsInput(i.target)){var e=t.hitTest(i);e.panel==t.cells&&t.select(e.range);return}n.closest(i.target,'.wj-flexgrid')==r._g.hostElement&&(t.addEventListener(document,'mousemove',u),t.addEventListener(document,'mouseup',f),r._mousedown(i))}});u=function(n){r._mousemove(n)};f=function(n){t.removeEventListener(document,'mousemove');t.removeEventListener(document,'mouseup');r._mouseup(n)};t.addEventListener(i,'mousemove',this._hover.bind(this));t.addEventListener(i,'dblclick',this._dblclick.bind(this));t.addEventListener(i,'selectstart',function(n){n.target.tagName!='INPUT'&&n.preventDefault()});t.addEventListener(i,'wheel',function(i){var r=t.cells.hostElement.parentElement;r.scrollHeight>r.offsetHeight&&(i.deltaY<0&&r.scrollTop==0||i.deltaY>0&&r.scrollTop+r.offsetHeight>=r.scrollHeight)&&n.closest(i.target,'.wj-flexgrid')==t.hostElement&&(i.preventDefault(),i.stopPropagation())});t.addEventListener(i,'dragstart',this._dragstart.bind(this));t.addEventListener(i,'dragover',this._dragover.bind(this));t.addEventListener(i,'dragleave',this._dragover.bind(this));t.addEventListener(i,'drop',this._drop.bind(this));t.addEventListener(i,'dragend',this._dragend.bind(this));this._dvMarker=n.createElement('<div class="wj-marker">&nbsp;</div>')}return f.prototype.resetMouseState=function(){var n,t;this._dragSource&&(this._dragSource.style.opacity=1);this._showDragMarker(null);n=this._g.hostElement;n&&(n.style.cursor='default');t=this._g;t.removeEventListener(document,'mousemove');t.removeEventListener(document,'mouseup');this._htDown=null;this._lbSelRows=null;this._szRowCol=null;this._szArgs=null;this._dragSource=null},f.prototype._mousedown=function(i){var r=this._g,f,o,s,e,h;if(r._rcBounds=null,f=r.hitTest(i),o=f.cellType,o==t.CellType.None){r.finishEditing();return}if((o!=t.CellType.Cell||!r.editRange||!r.editRange.contains(f.range))&&(s=n.getActiveElement(),i.target!=s||!r._isInputElement(i.target))){if(i.target!=s&&r.focus(),this._htDown=f,this._eMouse=i,this._szRowCol!=null){this._handleResizing(i);return}switch(o){case t.CellType.Cell:i.ctrlKey&&r.selectionMode==t.SelectionMode.ListBox&&this._startListBoxSelection(f.row);this._mouseSelect(i,i.shiftKey);break;case t.CellType.RowHeader:(this._g.allowDragging&u.Rows)==0&&(i.ctrlKey&&r.selectionMode==t.SelectionMode.ListBox&&this._startListBoxSelection(f.row),this._mouseSelect(i,i.shiftKey))}if(o==t.CellType.Cell&&r.rows.maxGroupLevel>-1&&(e=n.tryCast(r.rows[f.row],t.GroupRow),h=n.closest(i.target,'.'+t.CellFactory._WJC_COLLAPSE),e&&h)){i.ctrlKey?r.collapseGroupsToLevel(e.isCollapsed?e.level+1:e.level):e.isCollapsed=!e.isCollapsed;this.resetMouseState();i.preventDefault();return}}},f.prototype._mousemove=function(n){var i=this;if(this._htDown!=null)if(setTimeout(function(){n.which&&i._g.containsFocus()||i.resetMouseState()}),this._eMouse=n,this._szRowCol)this._handleResizing(n);else switch(this._htDown.cellType){case t.CellType.Cell:this._mouseSelect(n,!0);break;case t.CellType.RowHeader:(this._g.allowDragging&u.Rows)==0&&this._mouseSelect(n,!0)}},f.prototype._mouseup=function(n){var i,r,u,f;this._dragSource&&this._g.isTouching||(i=this._htDown,!i||i.cellType!=t.CellType.TopLeft||this._szArgs||n.defaultPrevented?this._szArgs?this._finishResizing(n):this._handleSort(n):(r=this._g,u=r.hitTest(n),u.panel==i.panel&&u.row==i.row&&u.col==i.col&&(f=r.getMergedRange(i.panel,i.row,i.col)||u.range,f.row==0&&f.col==0&&r.select(new t.CellRange(0,0,r.rows.length-1,r.columns.length-1)))),this.resetMouseState())},f.prototype._dblclick=function(n){var u=this._g,e=u.hitTest(n),o=e.cellType,l=u.selection,s=e.range,f,h,c;if(!n.defaultPrevented){if(e.edgeRight&&u.allowResizing&r.Columns){if(o==t.CellType.ColumnHeader||o==t.CellType.Cell&&u.allowResizing&i){for(n.preventDefault(),n.ctrlKey&&l.containsColumn(e.col)&&(s=l),h=s.leftCol;h<=s.rightCol;h++)if(u.columns[h].allowResizing&&(f=new t.CellRangeEventArgs(u.cells,new t.CellRange(-1,h)),u.onAutoSizingColumn(f)&&u.onResizingColumn(f))){u.autoSizeColumn(h);u.onResizedColumn(f);u.onAutoSizedColumn(f)}}else if(o==t.CellType.TopLeft&&u.topLeftCells.columns[e.col].allowResizing&&(n.preventDefault(),f=new t.CellRangeEventArgs(u.topLeftCells,new t.CellRange(-1,e.col)),u.onAutoSizingColumn(f)&&u.onResizingColumn(f))){u.autoSizeColumn(e.col,!0);u.onAutoSizedColumn(f);u.onResizedColumn(f)}this.resetMouseState();return}if(e.edgeBottom&&u.allowResizing&r.Rows){if(o==t.CellType.RowHeader||o==t.CellType.Cell&&u.allowResizing&i){for(n.ctrlKey&&l.containsRow(e.row)&&(s=l),c=s.topRow;c<=s.bottomRow;c++)if(u.rows[c].allowResizing&&(f=new t.CellRangeEventArgs(u.cells,new t.CellRange(c,-1)),u.onAutoSizingRow(f)&&u.onResizingRow(f))){u.autoSizeRow(c);u.onResizedRow(f);u.onAutoSizedRow(f)}}else if(o==t.CellType.TopLeft&&u.topLeftCells.rows[e.row].allowResizing&&(f=new t.CellRangeEventArgs(u.topLeftCells,new t.CellRange(e.row,-1)),u.onAutoSizingRow(f)&&u.onResizingRow(f))){u.autoSizeRow(e.row,!0);u.onResizedRow(f);u.onAutoSizedRow(f)}this.resetMouseState()}}},f.prototype._hover=function(n){if(this._htDown==null){var u=this._g,f=u.hitTest(n),s=f.panel,e=f.cellType,o='default';this._szRowCol=null;(e==t.CellType.ColumnHeader||e==t.CellType.TopLeft||e==t.CellType.Cell&&u.allowResizing&i)&&f.edgeRight&&(u.allowResizing&r.Columns)!=0&&(this._szRowCol=this._getResizeCol(f));(e==t.CellType.RowHeader||e==t.CellType.TopLeft||e==t.CellType.Cell&&u.allowResizing&i)&&f.edgeBottom&&(u.allowResizing&r.Rows)!=0&&(this._szRowCol=this._getResizeRow(f));this._szRowCol instanceof t.Column?o='col-resize':this._szRowCol instanceof t.Row&&(o='row-resize');this._szStart=this._szRowCol?this._szRowCol.renderSize:0;u.hostElement.style.cursor=o}},f.prototype._getResizeCol=function(n){for(var i,r=n.panel.columns,f=r[n.col],u=n.col+1;u<r.length;u++)if(i=r[u],i.visible){i.size<1&&(f=i);break}if(n.col==r.length-1&&(n.cellType==t.CellType.TopLeft||n.cellType==t.CellType.RowHeader))for(r=this._g.columns,u=0;u<r.length;u++)if(i=r[u],i.visible){i.size<1&&(f=i);break}return f.allowResizing?f:null},f.prototype._getResizeRow=function(n){for(var i,r=n.panel.rows,f=r[n.row],u=n.row+1;u<r.length;u++)if(i=r[u],i.visible){i.size<1&&(f=i);break}if(n.row==r.length-1&&(n.cellType==t.CellType.TopLeft||n.cellType==t.CellType.ColumnHeader))for(r=this._g.rows,u=0;u<r.length;u++)if(i=r[u],i.visible){i.size<1&&(f=i);break}return f.allowResizing?f:null},f.prototype._mouseSelect=function(i,r){var f=this,u;this._htDown&&this._htDown.panel&&this._g.selectionMode!=t.SelectionMode.None&&(u=new t.HitTestInfo(this._htDown.panel,i),this._handleSelection(u,r),this._g._isInputElement(i.target)||i.preventDefault(),!n.isIE9()&&i.button>=0&&(u=new t.HitTestInfo(this._g,i),u.cellType!=t.CellType.Cell&&u.cellType!=t.CellType.RowHeader&&setTimeout(function(){f._mouseSelect(f._eMouse,r)},100)))},f.prototype._handleResizing=function(n){var u;if(n.preventDefault(),this._szRowCol instanceof t.Column){var i=this._g,e=n.clientX+pageXOffset,r=Math.round(Math.max(f._SZ_MIN,this._szStart+(e-this._htDown.point.x)*(i.rightToLeft?-1:1)));this._szRowCol.renderSize!=r&&(this._szArgs==null&&(u=i.rowHeaders.columns.indexOf(this._szRowCol)>-1?i.rowHeaders:i.cells,this._szArgs=new t.CellRangeEventArgs(u,new t.CellRange(-1,this._szRowCol.index))),this._szArgs.cancel=!1,i.onResizingColumn(this._szArgs)&&(i.deferResizing||i.isTouching?this._showResizeMarker(r):this._szRowCol.width=r))}if(this._szRowCol instanceof t.Row){var i=this._g,o=n.clientY+pageYOffset,r=Math.round(Math.max(f._SZ_MIN,this._szStart+(o-this._htDown.point.y)));this._szRowCol.renderSize!=r&&(this._szArgs==null&&(u=i.columnHeaders.rows.indexOf(this._szRowCol)>-1?i.columnHeaders:i.cells,this._szArgs=new t.CellRangeEventArgs(u,new t.CellRange(this._szRowCol.index,-1))),this._szArgs.cancel=!1,i.onResizingRow(this._szArgs)&&(i.deferResizing||i.isTouching?this._showResizeMarker(r):this._szRowCol.height=r))}},f.prototype._dragstart=function(n){var i=this._g,r=this._htDown,f,e;r&&(this._dragSource=null,this._szRowCol||(f=new t.CellRangeEventArgs(i.cells,r.range),r.cellType==t.CellType.ColumnHeader&&i.allowDragging&u.Columns&&r.col>-1&&i.columns[r.col].allowDragging?i.onDraggingColumn(f)&&(this._dragSource=n.target):r.cellType==t.CellType.RowHeader&&i.allowDragging&u.Rows&&r.row>-1&&i.rows[r.row].allowDragging&&(e=i.rows[r.row],e instanceof t.GroupRow||e instanceof t._NewRowTemplate||i.onDraggingRow(f)&&(this._dragSource=n.target))),this._dragSource&&n.dataTransfer?(n.dataTransfer.effectAllowed='move',n.dataTransfer.setData('text',''),this._dragSource.style.opacity=.5,n.stopPropagation(),i.beginUpdate()):n.preventDefault())},f.prototype._dragend=function(){this._g.endUpdate();this.resetMouseState()},f.prototype._dragover=function(n){var r=this._g,i=r.hitTest(n),u=!1;this._htDown&&i.cellType==this._htDown.cellType&&(i.cellType==t.CellType.ColumnHeader?u=r.columns.canMoveElement(this._htDown.col,i.col):i.cellType==t.CellType.RowHeader&&(u=r.rows.canMoveElement(this._htDown.row,i.row)));u?(n.dataTransfer.dropEffect='move',n.preventDefault(),this._showDragMarker(i)):this._showDragMarker(null)},f.prototype._drop=function(n){var i=this._g,r=i.hitTest(n),f=new t.CellRangeEventArgs(i.cells,r.range),u;if(this._htDown&&r.cellType==this._htDown.cellType)if(u=i.selection,r.cellType==t.CellType.ColumnHeader){i.columns.moveElement(this._htDown.col,r.col);i.select(u.row,r.col);i.onDraggedColumn(f)}else if(r.cellType==t.CellType.RowHeader){i.rows.moveElement(this._htDown.row,r.row);i.select(r.row,u.col);i.onDraggedRow(f)}this.resetMouseState()},f.prototype._showResizeMarker=function(i){var f=this._g,e=this._dvMarker,r,u;e.parentElement||f.cells.hostElement.appendChild(e);u=this._szArgs.panel.cellType;this._szRowCol instanceof t.Column?(r={display:'',left:this._szRowCol.pos+i-1,top:0,right:'',bottom:0,width:3,height:'',zIndex:1e3},f.rightToLeft&&(r.left=e.parentElement.clientWidth-r.left-r.width),(u==t.CellType.TopLeft||u==t.CellType.RowHeader)&&(r.left-=f.topLeftCells.hostElement.offsetWidth)):(r={left:0,top:this._szRowCol.pos+i-1,right:0,bottom:'',width:'',height:3,zIndex:1e3},(u==t.CellType.TopLeft||u==t.CellType.ColumnHeader)&&(r.top-=f.topLeftCells.hostElement.offsetHeight));n.setCss(e,r)},f.prototype._showDragMarker=function(i){var f=this._g,u=this._dvMarker,r,e,o;if(!i){u.parentElement&&u.parentElement.removeChild(u);this._rngTarget=null;return}if(!i.range.equals(this._rngTarget)){this._rngTarget=i.range;u.parentElement||i.panel.hostElement.appendChild(u);r={display:'',left:0,top:0,width:6,height:6};switch(i.cellType){case t.CellType.ColumnHeader:r.height=i.panel.height;e=f.columns[i.col];r.left=e.pos-r.width/2;i.col>this._htDown.col&&(r.left+=e.renderWidth);f.rightToLeft&&(r.left=u.parentElement.clientWidth-r.left-r.width);break;case t.CellType.RowHeader:r.width=i.panel.width;o=f.rows[i.row];r.top=o.pos-r.height/2;i.row>this._htDown.row&&(r.top+=o.renderHeight)}n.setCss(u,r)}},f.prototype._finishResizing=function(n){var r=this._g,s=r.selection,c=this._eMouse.ctrlKey,i=this._szArgs,l=n.clientX+pageXOffset,a=n.clientY+pageYOffset,u,h,e,o;if(i&&!i.cancel&&i.col>-1){u=i.col;h=Math.round(Math.max(f._SZ_MIN,this._szStart+(l-this._htDown.point.x)*(this._g.rightToLeft?-1:1)));i.panel.columns[u].width=Math.round(h);r.onResizedColumn(i);if(c&&this._htDown.cellType==t.CellType.ColumnHeader&&s.containsColumn(u))for(e=s.leftCol;e<=s.rightCol;e++)if(r.columns[e].allowResizing&&e!=u&&(i=new t.CellRangeEventArgs(r.cells,new t.CellRange(-1,e)),r.onResizingColumn(i))){r.columns[e].size=r.columns[u].size;r.onResizedColumn(i)}}if(i&&!i.cancel&&i.row>-1){u=i.row;h=Math.round(Math.max(f._SZ_MIN,this._szStart+(a-this._htDown.point.y)));i.panel.rows[u].height=Math.round(h);r.onResizedRow(i);if(c&&this._htDown.cellType==t.CellType.RowHeader&&s.containsRow(u))for(o=s.topRow;o<=s.bottomRow;o++)if(r.rows[o].allowResizing&&o!=u&&(i=new t.CellRangeEventArgs(r.cells,new t.CellRange(o,-1)),r.onResizingRow(i))){r.rows[o].size=r.rows[u].size;r.onResizedRow(i)}}},f.prototype._startListBoxSelection=function(n){var i=this._g.rows,t;for(this._lbSelState=!i[n].isSelected,this._lbSelRows={},t=0;t<i.length;t++)i[t].isSelected&&(this._lbSelRows[t]=!0)},f.prototype._handleSelection=function(n,i){var r=this._g,o=r.rows,e=r._selHdl._sel,f=new t.CellRange(n.row,n.col),s,u,h,c;if(n.row>-1&&n.col>-1)if(this._lbSelRows!=null){for(s=!1,f=new t.CellRange(n.row,n.col,this._htDown.row,this._htDown.col),u=0;u<o.length;u++)if(h=f.containsRow(u)?this._lbSelState:this._lbSelRows[u]!=null,h!=o[u].isSelected&&(c=new t.CellRangeEventArgs(r.cells,new t.CellRange(u,e.col,u,e.col2)),r.onSelectionChanging(c))){o[u]._setFlag(t.RowColFlags.Selected,h,!0);s=!0;r.onSelectionChanged(c)}s&&r.refreshCells(!1,!0,!0);r.scrollIntoView(n.row,n.col)}else n.cellType==t.CellType.RowHeader&&(f.col=0,f.col2=r.columns.length-1),i&&(f.row2=e.row2,f.col2=e.col2),r.select(f)},f.prototype._handleSort=function(i){var u=this._g,o=u.collectionView,r=u.hitTest(i),s,a,h,e;if(this._htDown&&r.cellType==this._htDown.cellType&&r.col==this._htDown.col&&r.cellType==t.CellType.ColumnHeader&&!r.edgeRight&&r.col>-1&&o&&o.canSort&&u.allowSorting){var c=u.getMergedRange(r.panel,r.row,r.col),v=c?c.row2:r.row,l=u.columns[r.col],f=u._getBindingColumn(r.panel,r.row,l);if((v==u._getSortRowIndex()||l!=f)&&(s=f.currentSort,a=s!='+',f.allowSorting&&f.binding)){if(!s&&i.ctrlKey)return;if(h=new t.CellRangeEventArgs(u.columnHeaders,new t.CellRange(-1,r.col)),u.onSortingColumn(h)){e=o.sortDescriptions;i.ctrlKey?e.clear():e.splice(0,e.length,new n.collections.SortDescription(f._getBindingSort(),a));u.onSortedColumn(h)}}}},f._SZ_MIN=0,f}();t._MouseHandler=f})(t=n.grid||(n.grid={}))}(wijmo||(wijmo={})),function(n){var t;(function(t){'use strict';var i=function(){function i(i){var r=this;this._fullEdit=!1;this._list=null;this._g=i;this._evtInput=document.createEvent('HTMLEvents');this._evtInput.initEvent('input',!0,!1);i.selectionChanging.addHandler(function(n,t){var u;if(r.finishEditing()){if(u=i._selHdl._sel.row,u!=t.row){var f=i.rows.length,e=u>-1&&u<f?i.rows[u].dataItem:null,o=t.row>-1&&t.row<f?i.rows[t.row].dataItem:null;e!=o&&r._commitRowEdits()}}else t.cancel=!0});i.lostFocus.addHandler(function(){if(!r._g.containsFocus()){var t=n.getActiveElement();t&&getComputedStyle(t).position=='fixed'||r._commitRowEdits()}});i.addEventListener(i.hostElement,'mousedown',function(u){var o,e,f,s;if(!u.defaultPrevented&&u.button==0&&!i._mouseHdl._szRowCol)if(o=i.selection,e=i.hitTest(u),r._htDown=null,e.cellType!=t.CellType.Cell&&e.cellType!=t.CellType.None)r._lbx&&n.contains(r._lbx.hostElement,u.target)||r._commitRowEdits();else if(e.cellType!=t.CellType.None){if(f=n.tryCast(u.target,HTMLInputElement),f&&f.type=='checkbox'&&n.hasClass(f,'wj-cell-check')&&n.closest(f,'.wj-flexgrid')==i.hostElement&&(f!=r.activeEditor?(u.preventDefault(),r.startEditing(!1,e.row,e.col)&&(f=r.activeEditor,f&&f.type=='checkbox'&&(f.checked=!f.checked,f.focus(),r.finishEditing()))):r.finishEditing()),s=document.elementFromPoint(u.clientX,u.clientY),n.closest(s,'.'+t.CellFactory._WJC_DROPDOWN)){r._toggleListBox(u,e.range);r._htDown=null;u.preventDefault();return}f==null&&e.row==o.row&&e.col==o.col&&(r._htDown=e)}},!0);i.addEventListener(i.hostElement,'click',function(n){var t,u;r._htDown&&!r.activeEditor&&(t=i.hitTest(n),t.range.equals(r._htDown.range)&&r.startEditing(!0,t.row,t.col,!0,n));r._htDown||r.activeEditor||(t=i.hitTest(n),(t.row<i.rows.frozen||t.col<i.columns.frozen)&&(u=n.target,u instanceof HTMLInputElement&&u.type=='checkbox'&&i._updateFrozenCells()))},!0)}return i.prototype.startEditing=function(i,r,u,f,e){var o,h,c,l,a,v,y,s;if((i===void 0&&(i=!0),i=n.asBoolean(i),o=this._g,r=n.asNumber(r,!0,!0),u=n.asNumber(u,!0,!0),r==null&&(r=o.selection.row),u==null&&(u=o.selection.col),f==null&&(f=!0),!this._allowEditing(r,u))||(h=o.getMergedRange(o.cells,r,u),h||(h=new t.CellRange(r,u)),c=o.rows[r].dataItem,o.select(h,!0),!o.rows[r]||c!=o.rows[r].dataItem))return!1;if(h.equals(this._rng))return!0;if(this.activeEditor&&!this.finishEditing()||(l=new t.CellRangeEventArgs(o.cells,h,e),!o.onBeginningEdit(l)))return!1;if(a=n.tryCast(o.collectionView,'IEditableCollectionView'),a){if(c=o.rows[r].dataItem,v=c!=a.currentEditItem,v)o.onRowEditStarting(l);if(a.editItem(c),v)o.onRowEditStarted(l)}if(this._fullEdit=i,this._rng=h,this._list=null,y=o.columns[u].dataMap,y&&(this._list=y.getDisplayValues(c)),o.refresh(!1),s=this._edt,s){s.type=='checkbox'?this._fullEdit=!1:f&&n.setSelectionRange(s,0,s.value.length);o.onPrepareCellForEdit(l);s=this._edt;s&&f&&s.focus()}return!0},i.prototype.finishEditing=function(i){var e,h,l,a,o,s;if(i===void 0&&(i=!1),e=this._edt,!e)return this._removeListBox(),!0;var r=this._g,f=this._rng,u=new t.CellEditEndingEventArgs(r.cells,f),c=this._g.containsFocus();if(c&&(h=n.Control.getControl(n.closest(n.getActiveElement(),'.wj-control')),h&&h!=this._g))h.onLostFocus(u);if(u.cancel=i,!i&&r.validateEdits&&(l=this._getValidationError(),l&&(n.toggleClass(e.parentElement,'wj-state-invalid',!0),e.parentElement.title=l,u.cancel=u.stayInEditMode=!0)),!r.onCellEditEnding(u)&&u.stayInEditMode)return c?setTimeout(function(){e.select()}):e.select(),!1;if(!u.cancel)for(u.data=r.cells.getCellData(f.topRow,f.leftCol,!1),a=r.cellFactory.getEditorValue(r),o=f.topRow;o<=f.bottomRow&&o<r.rows.length;o++)for(s=f.leftCol;s<=f.rightCol&&s<r.columns.length;s++)r.cells.setCellData(o,s,a,!0);this._edt=null;this._rng=null;this._list=null;this._removeListBox();r.refresh(!1);c&&r.focus();r.onCellEditEnded(u);return!0},Object.defineProperty(i.prototype,"activeEditor",{get:function(){return this._edt},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"editRange",{get:function(){return this._rng},enumerable:!0,configurable:!0}),i.prototype._getValidationError=function(){var t=this._g,e=t.collectionView,o=e?e.getError:null,c;if(n.isFunction(o)){var f=this._rng,i=t._getBindingColumn(t.cells,f.row,t.columns[f.col]),l=i.binding,s=i.dataType,r=t.rows[f.row].dataItem,u=t.cellFactory.getEditorValue(t),h=null;if(u=n.changeType(u,s,i.format),n.getType(u)==s&&r)return c=i._binding.getValue(r),i._binding.setValue(r,u),h=o(r,l),i._binding.setValue(r,c),h}return null},i.prototype._allowEditing=function(n,i){var r=this._g,u;return r.isReadOnly||r.selectionMode==t.SelectionMode.None?!1:n<0||n>=r.rows.length||r.rows[n].isReadOnly||!r.rows[n].isVisible?!1:i<0||i>=r.columns.length?!1:(u=r._getBindingColumn(r.cells,n,r.columns[i]),u&&(u.isReadOnly||!u.isVisible))?!1:!0},i.prototype._commitRowEdits=function(){var i,r,u;if(this.finishEditing()&&(i=this._g,r=n.tryCast(i.collectionView,'IEditableCollectionView'),r&&r.currentEditItem)){u=new t.CellRangeEventArgs(i.cells,i.selection);i.onRowEditEnding(u);r.commitEdit();i.onRowEditEnded(u)}},i.prototype._keydown=function(t){switch(t.keyCode){case n.Key.F2:return this._fullEdit=!this._fullEdit,t.preventDefault(),!0;case n.Key.F4:return this._toggleListBox(t),t.preventDefault(),!0;case n.Key.Space:var i=this._edt;return i&&i.type=='checkbox'&&(i.checked=!i.checked,this.finishEditing(),t.preventDefault()),!0;case n.Key.Enter:case n.Key.Tab:return t.preventDefault(),!this.finishEditing();case n.Key.Escape:return t.preventDefault(),this.finishEditing(!0),!0;case n.Key.Up:case n.Key.Down:case n.Key.Left:case n.Key.Right:case n.Key.PageUp:case n.Key.PageDown:case n.Key.Home:case n.Key.End:if(this._lbx)return this._keydownListBox(t);if(t.altKey)switch(t.keyCode){case n.Key.Up:case n.Key.Down:return this._toggleListBox(t),t.preventDefault(),!0}if(!this._fullEdit&&this.finishEditing())return!1}return!0},i.prototype._keydownListBox=function(t){var i=!0;if(this._lbx)switch(t.keyCode){case n.Key.Up:t.altKey?this._toggleListBox(t):this._lbx.selectedIndex>0&&this._lbx.selectedIndex--;break;case n.Key.Down:t.altKey?this._toggleListBox(t):this._lbx.selectedIndex++;break;case n.Key.Home:case n.Key.PageUp:this._lbx.selectedIndex=0;break;case n.Key.End:case n.Key.PageDown:this._lbx.selectedIndex=this._lbx.collectionView.items.length-1;break;default:i=!1}return i?(t.preventDefault(),!0):!1},i.prototype._keypress=function(t){var i=this._edt,f,u,r;if(i&&i.type!='checkbox'&&t.target==i&&this._list&&this._list.length>0&&t.charCode>=32)for(f=i.selectionStart,u=i.value.substr(0,f),t.target==i&&(f++,u+=String.fromCharCode(t.charCode)),u=u.toLowerCase(),r=0;r<this._list.length;r++)if(this._list[r].toLowerCase().indexOf(u)==0){i.value=this._list[r];n.setSelectionRange(i,f,this._list[r].length);i.dispatchEvent(this._evtInput);t.preventDefault();break}},i.prototype._toggleListBox=function(t,i){var r=this._g,u,f;return(i||(i=r.selection),this._lbx&&(this._removeListBox(),r.selection.contains(i)))?(r.activeEditor?r.activeEditor.focus():r.containsFocus()||r.focus(),!0):(u=r.isTouching,f=r._getBindingColumn(r.cells,i.row,r.columns[i.col]),!n.input||!f.dataMap||f.showDropDown===!1)?!1:!n.input||!this.startEditing(!0,i.row,i.col,!u,t)?!1:(this._lbx=this._createListBox(),this._lbx.showSelection(),u&&this._lbx.focus(),!0)},i.prototype._createListBox=function(){var u=this,t=this._g,r=this._rng,e=t.rows[r.row],o=t._getBindingColumn(t.cells,r.row,t.columns[r.col]),f=document.createElement('div'),i=new n.input.ListBox(f);return n.addClass(f,'wj-dropdown-panel'),i.maxHeight=e.renderHeight*4,i.itemsSource=o.dataMap.getDisplayValues(e.dataItem),i.selectedValue=t.activeEditor?t.activeEditor.value:t.getCellData(r.row,r.col,!0),n.addClass(f,o.dropDownCssClass),i.addEventListener(i.hostElement,'click',function(){u._removeListBox();u.finishEditing()}),i.lostFocus.addHandler(function(){u._removeListBox()}),i.selectedIndexChanged.addHandler(function(){var i=t.activeEditor;i&&(i.value=u._lbx.selectedValue,i.dispatchEvent(u._evtInput),n.setSelectionRange(i,0,i.value.length))}),n.showPopup(f,t.getCellBoundingRect(r.row,r.col)),i},i.prototype._removeListBox=function(){this._lbx&&(n.hidePopup(this._lbx.hostElement,!0),this._lbx.dispose(),this._lbx=null)},i}();t._EditHandler=i})(t=n.grid||(n.grid={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var r=function(){function r(n){this._nrt=new i;this._g=n;this._keydownBnd=this._keydown.bind(this);this._attach()}return Object.defineProperty(r.prototype,"newRowAtTop",{get:function(){return this._top},set:function(t){t!=this.newRowAtTop&&(this._top=n.asBoolean(t),this.updateNewRowTemplate())},enumerable:!0,configurable:!0}),r.prototype.updateNewRowTemplate=function(){var o=n.tryCast(this._g.collectionView,'IEditableCollectionView'),u=this._g,i=u.rows,s=o&&o.canAddNew&&u.allowAddNew&&!u.isReadOnly,r=i.indexOf(this._nrt),h=this._top?0:i.length-1,e=!1,f;!s&&r>-1?(f=u.selection,f.row==r&&u.select(f.row-1,f.col),i.removeAt(r)):s&&(r<0?e=!0:r!=h&&(i.removeAt(r),e=!0),e&&(this._top?i.insert(0,this._nrt):i.push(this._nrt)),this._nrt&&this._nrt._setFlag(t.RowColFlags.ParentCollapsed,!1))},r.prototype._attach=function(){var n=this._g;n&&(n.beginningEdit.addHandler(this._beginningEdit,this),n.pastingCell.addHandler(this._beginningEdit,this),n.rowEditEnded.addHandler(this._rowEditEnded,this),n.loadedRows.addHandler(this.updateNewRowTemplate,this),n.hostElement.addEventListener('keydown',this._keydownBnd,!0))},r.prototype._detach=function(){var n=this._g;n&&(n.beginningEdit.removeHandler(this._beginningEdit),n.pastingCell.removeHandler(this._beginningEdit),n.rowEditEnded.removeHandler(this._rowEditEnded),n.loadedRows.removeHandler(this.updateNewRowTemplate),n.hostElement.removeEventListener('keydown',this._keydownBnd,!0))},r.prototype._keydown=function(t){t.defaultPrevented||t.keyCode!=n.Key.Escape||this._g.activeEditor==null&&this._top&&this._nrt.dataItem&&(this._nrt.dataItem=null,this._g.invalidate())},r.prototype._beginningEdit=function(t,r){var e,u,f;if(!r.cancel&&(e=this._g.rows[r.row],n.tryCast(e,i)&&(u=n.tryCast(this._g.collectionView,'IEditableCollectionView'),u&&u.canAddNew)))if(this._top){if(this._nrt.dataItem==null){var f=null,o=u.sourceCollection,s=u.newItemCreator;f=n.isFunction(s)?s():o&&o.length?new o[0].constructor:{};this._nrt.dataItem=f}}else{f=u.currentAddItem&&u.currentAddItem==e.dataItem?u.currentAddItem:u.addNew();u.moveCurrentTo(f);this.updateNewRowTemplate();this._g.refresh(!0);this._g.onRowAdded(r);r.cancel&&u.cancelNew()}},r.prototype._rowEditEnded=function(t,i){var u=this,r=n.tryCast(this._g.collectionView,'IEditableCollectionView'),f=this._nrt.dataItem,o,e;if(r)if(r.isAddingNew)r.commitNew();else if(f&&!i.cancel){this._nrt.dataItem=null;o=r.addNew();for(e in f)o[e]=f[e];this._g.onRowAdded(i);i.cancel?r.cancelNew():r.commitNew();setTimeout(function(){u._g.select(0,u._g.columns.firstVisibleIndex);u.updateNewRowTemplate()},20)}},r}(),i;t._AddNewHandler=r;i=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t}(t.Row);t._NewRowTemplate=i})(t=n.grid||(n.grid={}))}(wijmo||(wijmo={})),function(n){var t;(function(t){'use strict';var i=function(){function t(t){this._tbx=n.createElement('<input class="wj-grid-editor wj-form-control" wj-part="ime-target"/>');this._cssHidden={opacity:'0',pointerEvents:'none',position:'absolute',left:-10,top:-10,width:0};n.setCss(this._tbx,this._cssHidden);this._g=t;this._g.cells.hostElement.parentElement.appendChild(this._tbx);this._updateImeFocus();var t=this._g,i=t.hostElement;t.addEventListener(this._tbx,'compositionstart',this._compositionstart.bind(this));t.addEventListener(this._tbx,'keydown',this._keydown.bind(this));t.addEventListener(i,'blur',this._updateImeFocus.bind(this),!0);t.addEventListener(i,'focus',this._updateImeFocus.bind(this),!0);t.addEventListener(i,'mousedown',this._mousedown.bind(this),!0);t.addEventListener(i,'mouseup',this._mouseup.bind(this),!0);t.cellEditEnded.addHandler(this._cellEditEnded,this);t.selectionChanged.addHandler(this._updateImeFocus,this)}return t.prototype.dispose=function(){var n=this._g,t=n.hostElement;n.removeEventListener(this._tbx,'compositionstart');n.removeEventListener(t,'blur');n.removeEventListener(t,'focus');n.removeEventListener(t,'mousedown');n.removeEventListener(t,'mouseup');n.cellEditEnded.removeHandler(this._cellEditEnded);n.selectionChanged.removeHandler(this._updateImeFocus);this._tbx.parentElement&&this._tbx.parentElement.removeChild(this._tbx)},t.prototype._cellEditEnded=function(){n.setCss(this._tbx,this._cssHidden);this._tbx.value=''},t.prototype._compositionstart=function(){var t=this._g,i,r,u;t.activeEditor==null&&(i=t._selHdl.selection,t.startEditing(!1,i.row,i.col,!1)&&(r=t.getCellBoundingRect(i.row,i.col),u=t.cells.hostElement,n.setCss(this._tbx,{opacity:'',pointerEvents:'',left:t.columns[i.col].pos+u.offsetLeft,top:t.rows[i.row].pos+u.offsetTop,width:r.width-1,height:r.height-1}),t._edtHdl._edt=this._tbx))},t.prototype._keydown=function(t){switch(t.keyCode){case n.Key.Up:case n.Key.Down:case n.Key.PageUp:case n.Key.PageDown:this._g._keyHdl._keydown(t)}},t.prototype._mousedown=function(){this._mouseDown=!0;this._updateImeFocus()},t.prototype._mouseup=function(){this._mouseDown=!1;this._updateImeFocus()},t.prototype._updateImeFocus=function(){var i=this._g,t,r;!i.containsFocus()||i.activeEditor||i.isTouching||this._mouseDown||(t=this._tbx,this._enableIme()?(t.disabled=!1,t.select()):t.disabled||(t.disabled=!0,r=n.getActiveElement(),r instanceof HTMLElement&&r.blur(),i.focus()))},t.prototype._enableIme=function(){var i=this._g,t=i.selection;return t.row<0||t.col<0||!i._edtHdl._allowEditing(t.row,t.col)?!1:i.columns[t.col].dataType==n.DataType.Boolean?!1:!0},t}();t._ImeHandler=i})(t=n.grid||(n.grid={}))}(wijmo||(wijmo={}))
/*
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    */
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},JSZip=window.JSZip,wijmo;typeof JSZip!='undefined'&&JSZip||typeof require!='function'||(JSZip=window.require('node-zip')),function(n){var t;(function(t){'use strict';var u=function(){function u(){}return u.load=function(t){var o=Date.now(),f=new DOMParser,r=new JSZip,u={sheets:[],zipTime:Date.now()-o},s=Date.now(),i,e;for(n.assert(r.loadAsync==null,"Please use JSZip 2.5, if want to load the excel file synchronously."),r=r.load(t,{base64:!0}),(i=r.file('xl/sharedStrings.xml'))&&this._getSharedString(f.parseFromString(i.asText(),'application/xml')),(i=r.file('docProps/core.xml'))&&this._getCoreSetting(f.parseFromString(i.asText(),'application/xml'),u),(i=r.file('xl/workbook.xml'))&&this._getWorkbook(f.parseFromString(i.asText(),'application/xml'),u),(i=r.file('xl/theme/theme1.xml'))&&this._getTheme(f.parseFromString(i.asText(),'application/xml')),(i=r.file('xl/styles.xml'))&&this._getStyle(f.parseFromString(i.asText(),'application/xml')),u.styles=this._styles,(i=r.file('xl/vbaProject.bin'))&&(u.reservedContent==null&&(u.reservedContent={}),u.reservedContent.macros=i.asUint8Array()),e=u.sheets.length;e--;)i=r.file('xl/worksheets/sheet'+(e+1)+'.xml'),this._getSheet(f.parseFromString(i.asText(),'application/xml'),e,u);return u.processTime=Date.now()-s,u},u.loadAsync=function(t){var f=this,h=Date.now(),o=new i,e=new DOMParser,s=new JSZip,u={sheets:[]};return n.assert(s.loadAsync!=null,"Please use JSZip 3.0, if you want to load the excel file asynchrounously."),s.loadAsync(t,{base64:!0}).then(function(n){var i=[],t=n.file('xl/sharedStrings.xml'),s;t&&i.push(t.async('string').then(function(n){f._getSharedString(e.parseFromString(n,'application/xml'))}));t=n.file('xl/theme/theme1.xml');t&&i.push(t.async('string').then(function(t){f._getTheme(e.parseFromString(t,'application/xml'));var i=n.file('xl/styles.xml');i&&i.async('string').then(function(n){f._getStyle(e.parseFromString(n,'application/xml'));u.styles=f._styles})}));t=n.file('xl/workbook.xml');t&&i.push(t.async('string').then(function(n){f._getWorkbook(e.parseFromString(n,'application/xml'),u)}));s=new r(i);s.then(function(){var t=[],i,s;t.push(n.file('docProps/core.xml').async('string').then(function(n){f._getCoreSetting(e.parseFromString(n,'application/xml'),u)}));i=n.file('xl/vbaProject.bin');i&&t.push(i.async('uint8array').then(function(n){u.reservedContent==null&&(u.reservedContent={});u.reservedContent.macros=n}));n.folder('xl/worksheets').forEach(function(n,i){var r=f._getSheetIndex(i.name);t.push(i.async('string').then(function(n){f._getSheet(e.parseFromString(n,'application/xml'),r-1,u)}))});s=new r(t);s.then(function(){u.processTime=Date.now()-h;o.resolve(u)})})}),o},u.save=function(n){var t=Date.now(),f=this._saveWorkbookToZip(n),i,u,r;return t=Date.now()-t,i='',i=this._macroEnabled?'application/vnd.ms-excel.sheet.macroEnabled.12;':'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;',u=Date.now(),r=f.generate({compression:'DEFLATE'}),{base64:r,zipTime:Date.now()-u,processTime:t,href:function(){return'data:'+i+'base64,'+r}}},u.saveAsync=function(n,t){var r=this._saveWorkbookToZip(n,!0),i=r.generateAsync({type:'base64',compression:'DEFLATE'});return t&&i.catch(t),i},u._saveWorkbookToZip=function(t,i){var v,e,l,o,s,h;i===void 0&&(i=!1);var y=Date.now(),r=new XMLSerializer,u=new JSZip;i?n.assert(u.generateAsync!=null,"Please use JSZip 3.0, if you want to save the excel file asynchrounously."):n.assert(u.generateAsync==null,"Please use JSZip 2.5, if want to save the excel file synchronously.");u.folder('_rels').file('.rels',this._xmlDescription+r.serializeToString(this._generateRelsDoc()));var a=u.folder('docProps'),f=u.folder('xl'),c=r.serializeToString(this._generateThemeDoc());for(n.isIE()&&(c=c.replace(this._docRegExp,'')),f.folder('theme').file('theme1.xml',this._xmlDescription+c),this._macroEnabled=!!(t.reservedContent&&t.reservedContent.macros),this._macroEnabled&&f.file('vbaProject.bin',t.reservedContent.macros),v=f.folder('worksheets'),e=r.serializeToString(this._generateCoreDoc(t)),n.isIE()&&(e=e.replace(this._docRegExp,'')),a.file('core.xml',this._xmlDescription+e),this._sharedStrings=[[],0],this._styles=new Array(1),this._borders=new Array(1),this._fonts=new Array(1),this._fills=new Array(2),this._contentTypes=[],this._props=[],this._xlRels=[],this._worksheets=[],l=t.sheets.length;l--;)this._generateWorkSheet(l,t,r,v);return o=r.serializeToString(this._generateStyleDoc()),n.isIE()&&(o=o.replace(this._docRegExp,'')),f.file('styles.xml',this._xmlDescription+o),u.file('[Content_Types].xml',this._xmlDescription+r.serializeToString(this._generateContentTypesDoc())),a.file('app.xml',this._xmlDescription+r.serializeToString(this._generateAppDoc(t))),f.folder('_rels').file('workbook.xml.rels',this._xmlDescription+r.serializeToString(this._generateWorkbookRels())),s=r.serializeToString(this._generateSharedStringsDoc()),n.isIE()&&(s=s.replace(this._docRegExp,'')),f.file('sharedStrings.xml',this._xmlDescription+s),h=r.serializeToString(this._generateWorkbook(t)),n.isIE()&&(h=h.replace(this._docRegExp,'')),f.file('workbook.xml',this._xmlDescription+h),u},u._getSharedString=function(n){var u=n.querySelectorAll('sst>si'),t=u.length-1,i,r;for(this._sharedStrings=[];t>=0;){for(i=0,r=u[t].querySelectorAll('t'),this._sharedStrings[t]='';i<r.length;)this._sharedStrings[t]+=r[i].textContent,i++;t--}},u._getCoreSetting=function(n,t){t.creator=n.querySelector('creator')?n.querySelector('creator').textContent:'';t.lastModifiedBy=n.querySelector('lastModifiedBy')?n.querySelector('lastModifiedBy').textContent:'';t.created=n.querySelector('created')?new Date(n.querySelector('created').textContent):null;t.modified=n.querySelector('modified')?new Date(n.querySelector('modified').textContent):null},u._getWorkbook=function(n,t){var u=n.querySelector('workbookView')?n.querySelector('workbookView').getAttribute('activeTab'):null,r,i,f,e;for(t.activeWorksheet=u!=null?+u:0,r=n.querySelectorAll('sheets>sheet'),i=r.length-1;i>=0;)f=r[i].getAttribute('name'),e=r[i].getAttribute('state')!=='hidden',t.sheets.unshift({name:f,visible:e,cols:[],columns:[],rows:[]}),i--},u._getTheme=function(n){this._colorThemes=[];this._colorThemes[0]=n.querySelector('themeElements>clrScheme>lt1>sysClr').getAttribute('lastClr');this._colorThemes[1]=n.querySelector('themeElements>clrScheme>dk1>sysClr').getAttribute('lastClr');this._colorThemes[2]=n.querySelector('themeElements>clrScheme>lt2>srgbClr').getAttribute('val');this._colorThemes[3]=n.querySelector('themeElements>clrScheme>dk2>srgbClr').getAttribute('val');this._colorThemes[4]=n.querySelector('themeElements>clrScheme>accent1>srgbClr').getAttribute('val');this._colorThemes[5]=n.querySelector('themeElements>clrScheme>accent2>srgbClr').getAttribute('val');this._colorThemes[6]=n.querySelector('themeElements>clrScheme>accent3>srgbClr').getAttribute('val');this._colorThemes[7]=n.querySelector('themeElements>clrScheme>accent4>srgbClr').getAttribute('val');this._colorThemes[8]=n.querySelector('themeElements>clrScheme>accent5>srgbClr').getAttribute('val');this._colorThemes[9]=n.querySelector('themeElements>clrScheme>accent6>srgbClr').getAttribute('val')},u._getStyle=function(t){var l=t.querySelectorAll('numFmts>numFmt'),i=l.length-1,r,o,s,h,c,u,e,a,f,v,y;for(this._styles=[];i>=0;)r=l[i],this._numFmts[+r.getAttribute('numFmtId')]=r.getAttribute('formatCode'),i--;for(o=t.querySelectorAll('fonts>font'),s=[],i=o.length-1;i>=0;)r=o[i],s[i]={bold:r.querySelector('b')!=null,italic:r.querySelector('i')!=null,underline:r.querySelector('u')!=null,size:Math.round(+r.querySelector('sz').getAttribute('val')*96/72),family:r.querySelector('name').getAttribute('val'),color:this._getColor(r,!1)},i--;for(h=t.querySelectorAll('fills>fill'),i=h.length-1,c=[];i>=0;)c[i]=this._getColor(h[i],!0),i--;for(u=t.querySelectorAll('cellXfs>xf'),i=u.length-1;i>=0;)f=+u[i].getAttribute('numFmtId'),e=this._numFmts[f],a=e?/[hsmy\:]/i.test(e)?'date':e.indexOf('0')>-1?'number':e==='@'?'string':'unknown':'unknown',f=+u[i].getAttribute('fontId'),v=f>0?s[f]:null,f=+u[i].getAttribute('fillId'),y=f>1?c[f]:null,this._styles.unshift({formatCode:e,type:a,font:v,fillColor:y,hAlign:u[i].querySelector('alignment')!=null?n.xlsx.Workbook._parseStringToHAlign(u[i].querySelector('alignment').getAttribute('horizontal')):null,wordWrap:u[i].querySelector('alignment')!=null?u[i].querySelector('alignment').getAttribute('wrapText')==='1':null}),i--},u._getSheet=function(n,t,i){var tt=[],b,it=n.querySelectorAll('mergeCells>mergeCell'),l,o,s,rt,r,a,ht,h,d,ut,ft,et,e,u,p,ct,g,ot,v,w,f,y,nt,st,k,c;if(it.length>0)for(u=it.length-1;u>=0;)b=it[u].getAttribute('ref').split(':'),b.length===2&&tt.unshift({topRow:+b[0].match(/\d*/g).join('')-1,leftCol:this._alphaNum(b[0].match(/[a-zA-Z]*/g)[0]),bottomRow:+b[1].match(/\d*/g).join('')-1,rightCol:this._alphaNum(b[1].match(/[a-zA-Z]*/g)[0])}),u--;if(this._getsBaseSharedFormulas(n),l=i.sheets[t],o=n.querySelector('dimension')?n.querySelector('dimension').getAttribute('ref'):null,!o||(o=o.substr(o.indexOf(':')+1),l.maxCol=this._alphaNum(o.match(/[a-zA-Z]*/g)[0])+1,l.maxRow=+o.match(/\d*/g).join('')),s=n.querySelectorAll('cols>col'),rt=[],s.length>0)for(h=s.length-1;h>=0;h--)for(ht=this._parseCharWidthToPixel(+s[h].getAttribute('width')),r=null,s[h].hasAttribute('style')&&(r=this._styles[+s[h].getAttribute('style')]||{type:'General',formatCode:null}),a=null,r&&(r.font||r.fillColor||r.hAlign||r.formatCode&&r.formatCode!=='General')&&(a={format:!r.formatCode||r.formatCode==='General'?null:r.formatCode,font:r.font,fill:{color:r.fillColor},hAlign:r.hAlign,wordWrap:r.wordWrap}),k=+s[h].getAttribute('min')-1;k<+s[h].getAttribute('max');k++)rt[k]={visible:s[h].getAttribute('hidden')!=='1',autoWidth:s[h].getAttribute('bestFit')==='1',width:ht,style:a};for(l.cols=l.columns=rt,d=n.querySelector('pane'),!d||d.getAttribute('state')==='frozen'&&(ut=d.getAttribute('ySplit'),ft=d.getAttribute('xSplit'),l.frozenPane={rows:ut?+ut:NaN,columns:ft?+ft:NaN}),et=n.querySelector('sheetPr>outlinePr'),l.summaryBelow=et?et.getAttribute('summaryBelow')!=='0':!0,e=n.querySelectorAll('sheetData>row'),u=e.length-1;u>=0;){for(p=l.rows[+e[u].getAttribute('r')-1]={visible:!0,groupLevel:NaN,cells:[]},e[u].hasAttribute('hidden')&&(p.visible=e[u].getAttribute('hidden')!=='1'),e[u].getAttribute('customHeight')==='1'&&(ct=+e[u].getAttribute('ht'),p.height=ct*96/72),e[u].getAttribute('customFormat')==='1'?(r=this._styles[+e[u].getAttribute('s')]||{type:'General',formatCode:null},a=r.font||r.fillColor||r.hAlign||r.formatCode&&r.formatCode!=='General'?{format:!r.formatCode||r.formatCode==='General'?null:r.formatCode,font:r.font,fill:{color:r.fillColor},hAlign:r.hAlign,wordWrap:r.wordWrap}:null):a=null,p.style=a,g=e[u].getAttribute('outlineLevel'),p.groupLevel=g&&g!==''?+g:NaN,p.collapsed=e[u].getAttribute('collapsed')==='1',ot=e[u].querySelectorAll('row>c'),v=ot.length-1;v>=0;){w=ot[v];r=this._styles[+w.getAttribute('s')]||{type:'General',formatCode:null};a=r.font||r.fillColor||r.hAlign||r.formatCode&&r.formatCode!=='General'?{format:!r.formatCode||r.formatCode==='General'?null:r.formatCode,font:r.font,fill:{color:r.fillColor},hAlign:r.hAlign,wordWrap:r.wordWrap}:null;o=w.getAttribute('t')||r.type;f=w.querySelector('v');!f||(f=f.textContent);y=w.querySelector('f');nt=null;st=null;!y||(y.textContent?y=y.textContent:(nt=y.getAttribute('si'),nt&&(st=w.getAttribute('r'),y=this._getSharedFormula(nt,st))));o!=='str'&&(f=f?+f:'');k=this._alphaNum(w.getAttribute('r').match(/[a-zA-Z]*/g)[0]);switch(o){case's':f=this._sharedStrings[f];break;case'b':f=f===1;break;case'date':f=f?this._convertDate(f):''}p.cells[k]={value:f,isDate:o==='date',formula:this._unescapeXML(y),style:a};v--}u--}for(v=0;v<tt.length;v++)c=tt[v],i.sheets[t].rows[c.topRow].cells[c.leftCol].rowSpan=c.bottomRow-c.topRow+1,i.sheets[t].rows[c.topRow].cells[c.leftCol].colSpan=c.rightCol-c.leftCol+1},u._generateRelsDoc=function(){var t=document.implementation.createDocument(this._relationshipsNS,'Relationships',null),n=t.createElementNS(this._relationshipsNS,'Relationship');return n.setAttribute('Id','rId3'),n.setAttribute('Type','http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties'),n.setAttribute('Target','docProps/app.xml'),t.documentElement.appendChild(n),n=t.createElementNS(this._relationshipsNS,'Relationship'),n.setAttribute('Id','rId2'),n.setAttribute('Type','http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties'),n.setAttribute('Target','docProps/core.xml'),t.documentElement.appendChild(n),n=t.createElementNS(this._relationshipsNS,'Relationship'),n.setAttribute('Id','rId1'),n.setAttribute('Type','http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument'),n.setAttribute('Target','xl/workbook.xml'),t.documentElement.appendChild(n),t},u._generateThemeDoc=function(){var n=document.implementation.createDocument('','',null),t=n.createElement('a:theme'),i,r,u,f,e,o;return t.setAttribute('xmlns:a','http://schemas.openxmlformats.org/drawingml/2006/main'),t.setAttribute('name','Office Theme'),i=n.createElement('a:themeElements'),r=this._generateClrScheme(n),i.appendChild(r),u=this._generateFontScheme(n),i.appendChild(u),f=this._generateFmtScheme(n),i.appendChild(f),t.appendChild(i),e=n.createElement('a:objectDefaults'),t.appendChild(e),o=n.createElement('a:extraClrSchemeLst'),t.appendChild(o),n.appendChild(t),n},u._generateClrScheme=function(n){var r=n.createElement('a:clrScheme'),i,t;return r.setAttribute('name','Office'),i=n.createElement('a:dk1'),t=n.createElement('a:sysClr'),t.setAttribute('val','windowText'),t.setAttribute('lastClr','000000'),i.appendChild(t),r.appendChild(i),i=n.createElement('a:lt1'),t=n.createElement('a:sysClr'),t.setAttribute('val','window'),t.setAttribute('lastClr','FFFFFF'),i.appendChild(t),r.appendChild(i),i=n.createElement('a:dk2'),t=n.createElement('a:srgbClr'),t.setAttribute('val','1F497D'),i.appendChild(t),r.appendChild(i),i=n.createElement('a:lt2'),t=n.createElement('a:srgbClr'),t.setAttribute('val','EEECE1'),i.appendChild(t),r.appendChild(i),i=n.createElement('a:accent1'),t=n.createElement('a:srgbClr'),t.setAttribute('val','4F81BD'),i.appendChild(t),r.appendChild(i),i=n.createElement('a:accent2'),t=n.createElement('a:srgbClr'),t.setAttribute('val','C0504D'),i.appendChild(t),r.appendChild(i),i=n.createElement('a:accent3'),t=n.createElement('a:srgbClr'),t.setAttribute('val','9BBB59'),i.appendChild(t),r.appendChild(i),i=n.createElement('a:accent4'),t=n.createElement('a:srgbClr'),t.setAttribute('val','8064A2'),i.appendChild(t),r.appendChild(i),i=n.createElement('a:accent5'),t=n.createElement('a:srgbClr'),t.setAttribute('val','4BACC6'),i.appendChild(t),r.appendChild(i),i=n.createElement('a:accent6'),t=n.createElement('a:srgbClr'),t.setAttribute('val','F79646'),i.appendChild(t),r.appendChild(i),i=n.createElement('a:hlink'),t=n.createElement('a:srgbClr'),t.setAttribute('val','0000FF'),i.appendChild(t),r.appendChild(i),i=n.createElement('a:folHlink'),t=n.createElement('a:srgbClr'),t.setAttribute('val','800080'),i.appendChild(t),r.appendChild(i),r},u._generateFontScheme=function(n){var r=n.createElement('a:fontScheme'),i,t;return r.setAttribute('name','Office'),i=n.createElement('a:majorFont'),t=n.createElement('a:latin'),t.setAttribute('typeface','Cambria'),i.appendChild(t),t=n.createElement('a:ea'),t.setAttribute('typeface',''),i.appendChild(t),t=n.createElement('a:cs'),t.setAttribute('typeface',''),i.appendChild(t),t=n.createElement('a:font'),t.setAttribute('script','Jpan'),t.setAttribute('typeface','ＭＳ Ｐゴシック'),i.appendChild(t),t=n.createElement('a:font'),t.setAttribute('script','Hang'),t.setAttribute('typeface','맑은 고딕'),i.appendChild(t),t=n.createElement('a:font'),t.setAttribute('script','Hans'),t.setAttribute('typeface','宋体'),i.appendChild(t),t=n.createElement('a:font'),t.setAttribute('script','Hant'),t.setAttribute('typeface','新細明體'),i.appendChild(t),t=n.createElement('a:font'),t.setAttribute('script','Arab'),t.setAttribute('typeface','Times New Roman'),i.appendChild(t),t=n.createElement('a:font'),t.setAttribute('script','Hebr'),t.setAttribute('typeface','Times New Roman'),i.appendChild(t),t=n.createElement('a:font'),t.setAttribute('script','Hebr'),t.setAttribute('typeface','Times New Roman'),i.appendChild(t),t=n.createElement('a:font'),t.setAttribute('script','Thai'),t.setAttribute('typeface','Tahoma'),i.appendChild(t),t=n.createElement('a:font'),t.setAttribute('script','Ethi'),t.setAttribute('typeface','Nyala'),i.appendChild(t),t=n.createElement('a:font'),t.setAttribute('script','Beng'),t.setAttribute('typeface','Vrinda'),i.appendChild(t),t=n.createElement('a:font'),t.setAttribute('script','Gujr'),t.setAttribute('typeface','Shruti'),i.appendChild(t),t=n.createElement('a:font'),t.setAttribute('script','Khmr'),t.setAttribute('typeface','MoolBoran'),i.appendChild(t),t=n.createElement('a:font'),t.setAttribute('script','Knda'),t.setAttribute('typeface','Tunga'),i.appendChild(t),t=n.createElement('a:font'),t.setAttribute('script','Guru'),t.setAttribute('typeface','Raavi'),i.appendChild(t),t=n.createElement('a:font'),t.setAttribute('script','Cans'),t.setAttribute('typeface','Euphemia'),i.appendChild(t),t=n.createElement('a:font'),t.setAttribute('script','Cher'),t.setAttribute('typeface','Plantagenet Cherokee'),i.appendChild(t),t=n.createElement('a:font'),t.setAttribute('script','Yiii'),t.setAttribute('typeface','Microsoft Yi Baiti'),i.appendChild(t),t=n.createElement('a:font'),t.setAttribute('script','Tibt'),t.setAttribute('typeface','Microsoft Himalaya'),i.appendChild(t),t=n.createElement('a:font'),t.setAttribute('script','Thaa'),t.setAttribute('typeface','MV Boli'),i.appendChild(t),t=n.createElement('a:font'),t.setAttribute('script','Deva'),t.setAttribute('typeface','Mangal'),i.appendChild(t),t=n.createElement('a:font'),t.setAttribute('script','Telu'),t.setAttribute('typeface','Gautami'),i.appendChild(t),t=n.createElement('a:font'),t.setAttribute('script','Taml'),t.setAttribute('typeface','Latha'),i.appendChild(t),t=n.createElement('a:font'),t.setAttribute('script','Syrc'),t.setAttribute('typeface','Estrangelo Edessa'),i.appendChild(t),t=n.createElement('a:font'),t.setAttribute('script','Orya'),t.setAttribute('typeface','Kalinga'),i.appendChild(t),t=n.createElement('a:font'),t.setAttribute('script','Mlym'),t.setAttribute('typeface','Kartika'),i.appendChild(t),t=n.createElement('a:font'),t.setAttribute('script','Laoo'),t.setAttribute('typeface','DokChampa'),i.appendChild(t),t=n.createElement('a:font'),t.setAttribute('script','Sinh'),t.setAttribute('typeface','Iskoola Pota'),i.appendChild(t),t=n.createElement('a:font'),t.setAttribute('script','Mong'),t.setAttribute('typeface','Mongolian Baiti'),i.appendChild(t),t=n.createElement('a:font'),t.setAttribute('script','Viet'),t.setAttribute('typeface','Times New Roman'),i.appendChild(t),t=n.createElement('a:font'),t.setAttribute('script','Uigh'),t.setAttribute('typeface','Microsoft Uighur'),i.appendChild(t),t=n.createElement('a:font'),t.setAttribute('script','Geor'),t.setAttribute('typeface','Sylfaen'),i.appendChild(t),r.appendChild(i),i=n.createElement('a:minorFont'),t=n.createElement('a:latin'),t.setAttribute('typeface','Calibri'),i.appendChild(t),t=n.createElement('a:ea'),t.setAttribute('typeface',''),i.appendChild(t),t=n.createElement('a:cs'),t.setAttribute('typeface',''),i.appendChild(t),t=n.createElement('a:font'),t.setAttribute('script','Jpan'),t.setAttribute('typeface','ＭＳ Ｐゴシック'),i.appendChild(t),t=n.createElement('a:font'),t.setAttribute('script','Hang'),t.setAttribute('typeface','맑은 고딕'),i.appendChild(t),t=n.createElement('a:font'),t.setAttribute('script','Hans'),t.setAttribute('typeface','宋体'),i.appendChild(t),t=n.createElement('a:font'),t.setAttribute('script','Hant'),t.setAttribute('typeface','新細明體'),i.appendChild(t),t=n.createElement('a:font'),t.setAttribute('script','Arab'),t.setAttribute('typeface','Arial'),i.appendChild(t),t=n.createElement('a:font'),t.setAttribute('script','Hebr'),t.setAttribute('typeface','Arial'),i.appendChild(t),t=n.createElement('a:font'),t.setAttribute('script','Hebr'),t.setAttribute('typeface','Times New Roman'),i.appendChild(t),t=n.createElement('a:font'),t.setAttribute('script','Thai'),t.setAttribute('typeface','Tahoma'),i.appendChild(t),t=n.createElement('a:font'),t.setAttribute('script','Ethi'),t.setAttribute('typeface','Nyala'),i.appendChild(t),t=n.createElement('a:font'),t.setAttribute('script','Beng'),t.setAttribute('typeface','Vrinda'),i.appendChild(t),t=n.createElement('a:font'),t.setAttribute('script','Gujr'),t.setAttribute('typeface','Shruti'),i.appendChild(t),t=n.createElement('a:font'),t.setAttribute('script','Khmr'),t.setAttribute('typeface','DaunPenh'),i.appendChild(t),t=n.createElement('a:font'),t.setAttribute('script','Knda'),t.setAttribute('typeface','Tunga'),i.appendChild(t),t=n.createElement('a:font'),t.setAttribute('script','Guru'),t.setAttribute('typeface','Raavi'),i.appendChild(t),t=n.createElement('a:font'),t.setAttribute('script','Cans'),t.setAttribute('typeface','Euphemia'),i.appendChild(t),t=n.createElement('a:font'),t.setAttribute('script','Cher'),t.setAttribute('typeface','Plantagenet Cherokee'),i.appendChild(t),t=n.createElement('a:font'),t.setAttribute('script','Yiii'),t.setAttribute('typeface','Microsoft Yi Baiti'),i.appendChild(t),t=n.createElement('a:font'),t.setAttribute('script','Tibt'),t.setAttribute('typeface','Microsoft Himalaya'),i.appendChild(t),t=n.createElement('a:font'),t.setAttribute('script','Thaa'),t.setAttribute('typeface','MV Boli'),i.appendChild(t),t=n.createElement('a:font'),t.setAttribute('script','Deva'),t.setAttribute('typeface','Mangal'),i.appendChild(t),t=n.createElement('a:font'),t.setAttribute('script','Telu'),t.setAttribute('typeface','Gautami'),i.appendChild(t),t=n.createElement('a:font'),t.setAttribute('script','Taml'),t.setAttribute('typeface','Latha'),i.appendChild(t),t=n.createElement('a:font'),t.setAttribute('script','Syrc'),t.setAttribute('typeface','Estrangelo Edessa'),i.appendChild(t),t=n.createElement('a:font'),t.setAttribute('script','Orya'),t.setAttribute('typeface','Kalinga'),i.appendChild(t),t=n.createElement('a:font'),t.setAttribute('script','Mlym'),t.setAttribute('typeface','Kartika'),i.appendChild(t),t=n.createElement('a:font'),t.setAttribute('script','Laoo'),t.setAttribute('typeface','DokChampa'),i.appendChild(t),t=n.createElement('a:font'),t.setAttribute('script','Sinh'),t.setAttribute('typeface','Iskoola Pota'),i.appendChild(t),t=n.createElement('a:font'),t.setAttribute('script','Mong'),t.setAttribute('typeface','Mongolian Baiti'),i.appendChild(t),t=n.createElement('a:font'),t.setAttribute('script','Viet'),t.setAttribute('typeface','Arial'),i.appendChild(t),t=n.createElement('a:font'),t.setAttribute('script','Uigh'),t.setAttribute('typeface','Microsoft Uighur'),i.appendChild(t),t=n.createElement('a:font'),t.setAttribute('script','Geor'),t.setAttribute('typeface','Sylfaen'),i.appendChild(t),r.appendChild(i),r},u._generateFmtScheme=function(n){var t=n.createElement('a:fmtScheme'),i,r,u,f;return t.setAttribute('name','Office'),i=this._generateFillScheme(n),t.appendChild(i),r=this._generateLineStyles(n),t.appendChild(r),u=this._generateEffectScheme(n),t.appendChild(u),f=this._generateBgFillScheme(n),t.appendChild(f),t},u._generateFillScheme=function(n){var h=n.createElement('a:fillStyleLst'),u=n.createElement('a:solidFill'),t=n.createElement('a:schemeClr'),f,i,e,r,o,s;return t.setAttribute('val','phClr'),u.appendChild(t),h.appendChild(u),u=n.createElement('a:gradFill'),u.setAttribute('rotWithShape','1'),f=n.createElement('a:gsLst'),i=n.createElement('a:gs'),i.setAttribute('pos','0'),t=n.createElement('a:schemeClr'),t.setAttribute('val','phClr'),e=n.createElement('a:tint'),e.setAttribute('val','50000'),t.appendChild(e),r=n.createElement('a:satMod'),r.setAttribute('val','300000'),t.appendChild(r),i.appendChild(t),f.appendChild(i),i=n.createElement('a:gs'),i.setAttribute('pos','35000'),t=n.createElement('a:schemeClr'),t.setAttribute('val','phClr'),e=n.createElement('a:tint'),e.setAttribute('val','37000'),t.appendChild(e),r=n.createElement('a:satMod'),r.setAttribute('val','300000'),t.appendChild(r),i.appendChild(t),f.appendChild(i),i=n.createElement('a:gs'),i.setAttribute('pos','100000'),t=n.createElement('a:schemeClr'),t.setAttribute('val','phClr'),e=n.createElement('a:tint'),e.setAttribute('val','15000'),t.appendChild(e),r=n.createElement('a:satMod'),r.setAttribute('val','350000'),t.appendChild(r),i.appendChild(t),f.appendChild(i),u.appendChild(f),o=n.createElement('a:lin'),o.setAttribute('ang','16200000'),o.setAttribute('scaled','1'),u.appendChild(o),h.appendChild(u),u=n.createElement('a:gradFill'),u.setAttribute('rotWithShape','1'),f=n.createElement('a:gsLst'),i=n.createElement('a:gs'),i.setAttribute('pos','0'),t=n.createElement('a:schemeClr'),t.setAttribute('val','phClr'),s=n.createElement('a:shade'),s.setAttribute('val','51000'),t.appendChild(s),r=n.createElement('a:satMod'),r.setAttribute('val','130000'),t.appendChild(r),i.appendChild(t),f.appendChild(i),i=n.createElement('a:gs'),i.setAttribute('pos','80000'),t=n.createElement('a:schemeClr'),t.setAttribute('val','phClr'),s=n.createElement('a:shade'),s.setAttribute('val','93000'),t.appendChild(e),r=n.createElement('a:satMod'),r.setAttribute('val','130000'),t.appendChild(r),i.appendChild(t),f.appendChild(i),i=n.createElement('a:gs'),i.setAttribute('pos','100000'),t=n.createElement('a:schemeClr'),t.setAttribute('val','phClr'),s=n.createElement('a:shade'),s.setAttribute('val','94000'),t.appendChild(s),r=n.createElement('a:satMod'),r.setAttribute('val','135000'),t.appendChild(r),i.appendChild(t),f.appendChild(i),u.appendChild(f),o=n.createElement('a:lin'),o.setAttribute('ang','16200000'),o.setAttribute('scaled','0'),u.appendChild(o),h.appendChild(u),h},u._generateLineStyles=function(n){var f=n.createElement('a:lnStyleLst'),t=n.createElement('a:ln'),r,i,e,o,u;return t.setAttribute('w','9525'),t.setAttribute('cap','flat'),t.setAttribute('cmpd','sng'),t.setAttribute('algn','ctr'),r=n.createElement('a:solidFill'),i=n.createElement('a:schemeClr'),i.setAttribute('val','phClr'),e=n.createElement('a:shade'),e.setAttribute('val','95000'),i.appendChild(e),o=n.createElement('a:satMod'),o.setAttribute('val','105000'),i.appendChild(o),r.appendChild(i),t.appendChild(r),u=n.createElement('a:prstDash'),u.setAttribute('val','solid'),t.appendChild(u),f.appendChild(t),t=n.createElement('a:ln'),t.setAttribute('w','25400'),t.setAttribute('cap','flat'),t.setAttribute('cmpd','sng'),t.setAttribute('algn','ctr'),r=n.createElement('a:solidFill'),i=n.createElement('a:schemeClr'),i.setAttribute('val','phClr'),r.appendChild(i),t.appendChild(r),u=n.createElement('a:prstDash'),u.setAttribute('val','solid'),t.appendChild(u),f.appendChild(t),t=n.createElement('a:ln'),t.setAttribute('w','38100'),t.setAttribute('cap','flat'),t.setAttribute('cmpd','sng'),t.setAttribute('algn','ctr'),r=n.createElement('a:solidFill'),i=n.createElement('a:schemeClr'),i.setAttribute('val','phClr'),r.appendChild(i),t.appendChild(r),u=n.createElement('a:prstDash'),u.setAttribute('val','solid'),t.appendChild(u),f.appendChild(t),f},u._generateEffectScheme=function(n){var o=n.createElement('a:effectStyleLst'),i=n.createElement('a:effectStyle'),u=n.createElement('a:effectLst'),t=n.createElement('a:outerShdw'),r,e,h,c,f,s,a,l;return t.setAttribute('blurRad','40000'),t.setAttribute('dist','23000'),t.setAttribute('dir','5400000'),t.setAttribute('rotWithShape','0'),r=n.createElement('a:srgbClr'),r.setAttribute('val','000000'),e=n.createElement('a:alpha'),e.setAttribute('val','38000'),r.appendChild(e),t.appendChild(r),u.appendChild(t),i.appendChild(u),o.appendChild(i),i=n.createElement('a:effectStyle'),u=n.createElement('a:effectLst'),t=n.createElement('a:outerShdw'),t.setAttribute('blurRad','40000'),t.setAttribute('dist','23000'),t.setAttribute('dir','5400000'),t.setAttribute('rotWithShape','0'),r=n.createElement('a:srgbClr'),r.setAttribute('val','000000'),e=n.createElement('a:alpha'),e.setAttribute('val','35000'),r.appendChild(e),t.appendChild(r),u.appendChild(t),i.appendChild(u),o.appendChild(i),u.appendChild(t),i.appendChild(u),o.appendChild(i),i=n.createElement('a:effectStyle'),u=n.createElement('a:effectLst'),t=n.createElement('a:outerShdw'),t.setAttribute('blurRad','40000'),t.setAttribute('dist','23000'),t.setAttribute('dir','5400000'),t.setAttribute('rotWithShape','0'),r=n.createElement('a:srgbClr'),r.setAttribute('val','000000'),e=n.createElement('a:alpha'),e.setAttribute('val','35000'),r.appendChild(e),t.appendChild(r),u.appendChild(t),i.appendChild(u),h=n.createElement('a:scene3d'),c=n.createElement('a:camera'),c.setAttribute('prst','orthographicFront'),f=n.createElement('a:rot'),f.setAttribute('lat','0'),f.setAttribute('lon','0'),f.setAttribute('rev','0'),c.appendChild(f),h.appendChild(c),s=n.createElement('a:lightRig'),s.setAttribute('rig','threePt'),s.setAttribute('dir','t'),f=n.createElement('a:rot'),f.setAttribute('lat','0'),f.setAttribute('lon','0'),f.setAttribute('rev','1200000'),s.appendChild(f),h.appendChild(s),i.appendChild(h),a=n.createElement('a:sp3d'),l=n.createElement('a:bevelT'),l.setAttribute('w','63500'),l.setAttribute('h','25400'),a.appendChild(l),i.appendChild(a),o.appendChild(i),o},u._generateBgFillScheme=function(n){var c=n.createElement('a:bgFillStyleLst'),f=n.createElement('a:solidFill'),t=n.createElement('a:schemeClr'),o,i,u,r,h,s,e;return t.setAttribute('val','phClr'),f.appendChild(t),c.appendChild(f),f=n.createElement('a:gradFill'),f.setAttribute('rotWithShape','1'),o=n.createElement('a:gsLst'),i=n.createElement('a:gs'),i.setAttribute('pos','0'),t=n.createElement('a:schemeClr'),t.setAttribute('val','phClr'),u=n.createElement('a:tint'),u.setAttribute('val','40000'),t.appendChild(u),r=n.createElement('a:satMod'),r.setAttribute('val','350000'),t.appendChild(r),i.appendChild(t),o.appendChild(i),i=n.createElement('a:gs'),i.setAttribute('pos','40000'),t=n.createElement('a:schemeClr'),t.setAttribute('val','phClr'),u=n.createElement('a:tint'),u.setAttribute('val','45000'),t.appendChild(u),h=n.createElement('a:shade'),h.setAttribute('val','99000'),t.appendChild(h),r=n.createElement('a:satMod'),r.setAttribute('val','350000'),t.appendChild(r),i.appendChild(t),o.appendChild(i),i=n.createElement('a:gs'),i.setAttribute('pos','100000'),t=n.createElement('a:schemeClr'),t.setAttribute('val','phClr'),u=n.createElement('a:tint'),u.setAttribute('val','20000'),t.appendChild(u),r=n.createElement('a:satMod'),r.setAttribute('val','255000'),t.appendChild(r),i.appendChild(t),o.appendChild(i),f.appendChild(o),s=n.createElement('a:path'),s.setAttribute('path','circle'),e=n.createElement('a:fillToRect'),e.setAttribute('b','180000'),e.setAttribute('r','50000'),e.setAttribute('t','-80000'),e.setAttribute('l','50000'),s.appendChild(e),f.appendChild(s),c.appendChild(f),f=n.createElement('a:gradFill'),f.setAttribute('rotWithShape','1'),o=n.createElement('a:gsLst'),i=n.createElement('a:gs'),i.setAttribute('pos','0'),t=n.createElement('a:schemeClr'),t.setAttribute('val','phClr'),u=n.createElement('a:tint'),u.setAttribute('val','80000'),t.appendChild(u),r=n.createElement('a:satMod'),r.setAttribute('val','300000'),t.appendChild(r),i.appendChild(t),o.appendChild(i),i=n.createElement('a:gs'),i.setAttribute('pos','100000'),t=n.createElement('a:schemeClr'),t.setAttribute('val','phClr'),h=n.createElement('a:shade'),h.setAttribute('val','30000'),t.appendChild(u),r=n.createElement('a:satMod'),r.setAttribute('val','200000'),t.appendChild(r),i.appendChild(t),o.appendChild(i),f.appendChild(o),s=n.createElement('a:path'),s.setAttribute('path','circle'),e=n.createElement('a:fillToRect'),e.setAttribute('b','50000'),e.setAttribute('r','50000'),e.setAttribute('t','50000'),e.setAttribute('l','50000'),s.appendChild(e),f.appendChild(s),c.appendChild(f),c},u._generateCoreDoc=function(n){var i=document.implementation.createDocument('','',null),t=i.createElement('cp:coreProperties'),f,e,r,u;return t.setAttribute('xmlns:cp','http://schemas.openxmlformats.org/package/2006/metadata/core-properties'),t.setAttribute('xmlns:dc','http://purl.org/dc/elements/1.1/'),t.setAttribute('xmlns:dcterms','http://purl.org/dc/terms/'),t.setAttribute('xmlns:dcmitype','http://purl.org/dc/dcmitype/'),t.setAttribute('xmlns:xsi','http://www.w3.org/2001/XMLSchema-instance'),f=i.createElement('dc:creator'),!n.creator||(f.textContent=n.creator),t.appendChild(f),e=i.createElement('cp:lastModifiedBy'),!n.lastModifiedBy||(e.textContent=n.lastModifiedBy),t.appendChild(e),r=i.createElement('dcterms:created'),r.setAttribute('xsi:type','dcterms:W3CDTF'),r.textContent=(n.created||new Date).toISOString(),t.appendChild(r),u=i.createElement('dcterms:modified'),u.setAttribute('xsi:type','dcterms:W3CDTF'),u.textContent=(n.modified||new Date).toISOString(),t.appendChild(u),i.appendChild(t),i},u._generateSheetGlobalSetting=function(n,t,i,r){var l=i.rows&&i.rows[0]&&i.rows[0].cells?i.rows[0].cells.length:0,o,s,h,c,f,u,e;n.documentElement.setAttribute('xmlns:r','http://schemas.openxmlformats.org/officeDocument/2006/relationships');n.documentElement.setAttribute('xmlns:mc','http://schemas.openxmlformats.org/markup-compatibility/2006');n.documentElement.setAttribute('mc:Ignorable','x14ac');n.documentElement.setAttribute('xmlns:x14ac','http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac');o=n.createElementNS(this._workbookNS,'sheetPr');s=n.createElementNS(this._workbookNS,'outlinePr');s.setAttribute('summaryBelow','0');o.appendChild(s);n.documentElement.appendChild(o);h=n.createElementNS(this._workbookNS,'dimension');h.setAttribute('ref','A1'+(l>0?':'+this._numAlpha(l-1)+i.rows.length:''));n.documentElement.appendChild(h);c=n.createElementNS(this._workbookNS,'sheetViews');f=n.createElementNS(this._workbookNS,'sheetView');f.setAttribute('workbookViewId','0');t===r.activeWorksheet&&f.setAttribute('tabSelected','1');i.frozenPane&&(i.frozenPane.rows!==0||i.frozenPane.columns!==0)&&(u=n.createElementNS(this._workbookNS,'pane'),u.setAttribute('state','frozen'),u.setAttribute('activePane',i.frozenPane.rows!==0&&i.frozenPane.columns!==0?'bottomRight':i.frozenPane.rows!==0?'bottomLeft':'topRight'),u.setAttribute('topLeftCell',this._numAlpha(i.frozenPane.columns)+(i.frozenPane.rows+1)),u.setAttribute('ySplit',i.frozenPane.rows.toString()),u.setAttribute('xSplit',i.frozenPane.columns.toString()),f.appendChild(u));c.appendChild(f);n.documentElement.appendChild(c);e=n.createElementNS(this._workbookNS,'sheetFormatPr');e.setAttribute('defaultRowHeight','15');e.setAttribute('x14ac:dyDescent','0.25');n.documentElement.appendChild(e)},u._generateCell=function(n,t,i,r,u,f,e){var o=n.createElementNS(this._workbookNS,'c'),s,h;return o.setAttribute('r',this._numAlpha(i)+(t+1)),o.setAttribute('s',r.toString()),!u||o.setAttribute('t',u),!e||(s=n.createElementNS(this._workbookNS,'f'),s.setAttribute('ca','1'),s.textContent=e,o.appendChild(s)),f!=null&&(h=n.createElementNS(this._workbookNS,'v'),h.textContent=f,o.appendChild(h)),o},u._generateMergeSetting=function(n,t){var r=n.createElementNS(this._workbookNS,'mergeCells'),i,u;for(r.setAttribute('count',t.length.toString()),i=0;i<t.length;i++)u=n.createElementNS(this._workbookNS,'mergeCell'),u.setAttribute('ref',t[i].join(':')),r.appendChild(u);return r},u._generateStyleDoc=function(){var ut='http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac',n=document.implementation.createDocument(this._workbookNS,'styleSheet',null),i,u,f,t,e,y,s,d,h,g,c,nt,p,o,w,l,tt,a,it,b,rt;n.documentElement.setAttribute('xmlns:mc','http://schemas.openxmlformats.org/markup-compatibility/2006');n.documentElement.setAttribute('mc:Ignorable','x14ac');n.documentElement.setAttribute('xmlns:x14ac',ut);var k=0,ft=0,v=n.createElementNS(this._workbookNS,'numFmts'),r=n.createElementNS(this._workbookNS,'fonts');for(r.setAttribute('x14ac:knownFonts','1'),r.appendChild(this._generateFontStyle(n,{},!0)),i=n.createElementNS(this._workbookNS,'fills'),i.appendChild(this._generateFillStyle(n,'none',null)),i.appendChild(this._generateFillStyle(n,'gray125',null)),u=n.createElementNS(this._workbookNS,'borders'),u.appendChild(this._generateBorderStyle(n,{})),f=n.createElementNS(this._workbookNS,'cellXfs'),f.appendChild(this._generateCellXfs(n,0,0,0,0,{}));k<this._styles.length;)t=this._styles[k],!t||(t=JSON.parse(t),e=0,t.format&&t.format!=='General'&&(e=this._numFmts.indexOf(t.format),e<0&&(e=164+ft,y=n.createElementNS(this._workbookNS,'numFmt'),y.setAttribute('formatCode',t.format),y.setAttribute('numFmtId',e.toString()),v.appendChild(y),ft++)),s=0,t.borders&&(d=JSON.stringify(t.borders),s=this._borders.indexOf(d),s<0&&(s=this._borders.push(d)-1,u.appendChild(this._generateBorderStyle(n,t.borders)))),h=0,t.font&&(g=JSON.stringify(t.font),h=this._fonts.indexOf(g),h<0&&(h=this._fonts.push(g)-1,r.appendChild(this._generateFontStyle(n,t.font)))),c=0,t.fill&&t.fill.color&&(nt=JSON.stringify(t.fill),c=this._fills.indexOf(nt),c<0&&(c=this._fills.push(nt)-1,i.appendChild(this._generateFillStyle(n,'solid',t.fill.color)))),f.appendChild(this._generateCellXfs(n,e,s,h,c,t))),k++;return v.setAttribute('count',v.childElementCount.toString()),n.documentElement.appendChild(v),r.setAttribute('count',r.childElementCount.toString()),n.documentElement.appendChild(r),i.setAttribute('count',i.childElementCount.toString()),n.documentElement.appendChild(i),u.setAttribute('count',u.childElementCount.toString()),n.documentElement.appendChild(u),p=n.createElementNS(this._workbookNS,'cellStyleXfs'),o=n.createElementNS(this._workbookNS,'xf'),o.setAttribute('numFmtId','0'),o.setAttribute('borderId','0'),o.setAttribute('fillId','0'),o.setAttribute('fontId','0'),p.appendChild(o),p.setAttribute('count','1'),n.documentElement.appendChild(p),f.setAttribute('count',f.childElementCount.toString()),n.documentElement.appendChild(f),w=n.createElementNS(this._workbookNS,'cellStyles'),l=n.createElementNS(this._workbookNS,'cellStyle'),l.setAttribute('name','Normal'),l.setAttribute('xfId','0'),l.setAttribute('builtinId','0'),w.appendChild(l),w.setAttribute('count','1'),n.documentElement.appendChild(w),tt=n.createElementNS(this._workbookNS,'dxfs'),tt.setAttribute('count','0'),n.documentElement.appendChild(tt),a=n.createElementNS(this._workbookNS,'tableStyles'),a.setAttribute('count','0'),a.setAttribute('defaultTableStyle','TableStyleMedium2'),a.setAttribute('defaultPivotStyle','PivotStyleLight16'),n.documentElement.appendChild(a),it=n.createElementNS(this._workbookNS,'extLst'),b=n.createElementNS(this._workbookNS,'ext'),b.setAttribute('uri','{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}'),rt=n.createElementNS(ut,'x14:slicerStyles'),rt.setAttribute('defaultSlicerStyle','SlicerStyleLight1'),b.appendChild(rt),it.appendChild(b),n.documentElement.appendChild(it),n},u._generateBorderStyle=function(n,t){var e=n.createElementNS(this._workbookNS,'border'),r,u,i,f;for(r in{left:0,right:0,top:0,bottom:0,diagonal:0})u=n.createElementNS(this._workbookNS,r),t[r]&&(i=t[r].color,i=i?i[0]==='#'?i.substring(1):i:'',i.length===6&&(i='FF'+i),i||(i='FF000000'),u.setAttribute('style',t[r].style),f=n.createElementNS(this._workbookNS,'color'),f.setAttribute('rgb',i),u.appendChild(f)),e.appendChild(u);return e},u._generateFontStyle=function(n,t,i){var r,u,e,c,f,o,s,h;return i===void 0&&(i=!1),r=n.createElementNS(this._workbookNS,'font'),t.bold&&(u=n.createElementNS(this._workbookNS,'b'),r.appendChild(u)),t.italic&&(u=n.createElementNS(this._workbookNS,'i'),r.appendChild(u)),t.underline&&(u=n.createElementNS(this._workbookNS,'u'),r.appendChild(u)),e=n.createElementNS(this._workbookNS,'sz'),c=Math.round(t.size*72/96)||this._defaultFontSize,e.setAttribute('val',c.toString()),r.appendChild(e),f=n.createElementNS(this._workbookNS,'color'),t.color?f.setAttribute('rgb','FF'+(t.color[0]==='#'?t.color.substring(1):t.color)):f.setAttribute('theme','1'),r.appendChild(f),o=n.createElementNS(this._workbookNS,'name'),o.setAttribute('val',t.family||this._defaultFontName),r.appendChild(o),s=n.createElementNS(this._workbookNS,'family'),s.setAttribute('val','2'),r.appendChild(s),i&&(h=n.createElementNS(this._workbookNS,'scheme'),h.setAttribute('val','minor'),r.appendChild(h)),r},u._generateFillStyle=function(n,t,i){var e=n.createElementNS(this._workbookNS,'fill'),r=n.createElementNS(this._workbookNS,'patternFill'),u,f;return r.setAttribute('patternType',t),!i||(u=n.createElementNS(this._workbookNS,'fgColor'),u.setAttribute('rgb','FF'+(i[0]==='#'?i.substring(1):i)),r.appendChild(u),f=n.createElementNS(this._workbookNS,'bgColor'),f.setAttribute('indexed','64'),r.appendChild(f)),e.appendChild(r),e},u._generateCellXfs=function(n,t,i,r,u,f){var e=n.createElementNS(this._workbookNS,'xf'),o;return e.setAttribute('xfId','0'),e.setAttribute('numFmtId',t.toString()),t>0&&e.setAttribute('applyNumberFormat','1'),e.setAttribute('borderId',i.toString()),i>0&&e.setAttribute('applyBorder','1'),e.setAttribute('fontId',r.toString()),r>0&&e.setAttribute('applyFont','1'),e.setAttribute('fillId',u.toString()),u>0&&e.setAttribute('applyFill','1'),(f.hAlign||f.vAlign||f.indent||f.wordWrap)&&(o=n.createElementNS(this._workbookNS,'alignment'),f.hAlign&&o.setAttribute('horizontal',f.hAlign),f.vAlign&&o.setAttribute('vertical',f.vAlign),f.indent&&o.setAttribute('indent',f.indent),f.wordWrap&&o.setAttribute('wrapText','1'),e.setAttribute('applyAlignment','1'),e.appendChild(o)),e},u._generateContentTypesDoc=function(){var t=document.implementation.createDocument(this._contentTypesNS,'Types',null),i,n,r;for(this._macroEnabled&&(i=t.createElementNS(this._contentTypesNS,'Default'),i.setAttribute('Extension','bin'),i.setAttribute('ContentType','application/vnd.ms-office.vbaProject'),t.documentElement.appendChild(i)),i=t.createElementNS(this._contentTypesNS,'Default'),i.setAttribute('Extension','rels'),i.setAttribute('ContentType','application/vnd.openxmlformats-package.relationships+xml'),t.documentElement.appendChild(i),i=t.createElementNS(this._contentTypesNS,'Default'),i.setAttribute('Extension','xml'),i.setAttribute('ContentType','application/xml'),t.documentElement.appendChild(i),n=t.createElementNS(this._contentTypesNS,'Override'),n.setAttribute('PartName','/xl/workbook.xml'),n.setAttribute('ContentType',this._macroEnabled?'application/vnd.ms-excel.sheet.macroEnabled.main+xml':'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml'),t.documentElement.appendChild(n),r=0;r<this._contentTypes.length;r++)t.documentElement.appendChild(this._contentTypes[r]);return n=t.createElementNS(this._contentTypesNS,'Override'),n.setAttribute('PartName','/xl/theme/theme1.xml'),n.setAttribute('ContentType','application/vnd.openxmlformats-officedocument.theme+xml'),t.documentElement.appendChild(n),n=t.createElementNS(this._contentTypesNS,'Override'),n.setAttribute('PartName','/xl/styles.xml'),n.setAttribute('ContentType','application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml'),t.documentElement.appendChild(n),n=t.createElementNS(this._contentTypesNS,'Override'),n.setAttribute('PartName','/xl/sharedStrings.xml'),n.setAttribute('ContentType','application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml'),t.documentElement.appendChild(n),n=t.createElementNS(this._contentTypesNS,'Override'),n.setAttribute('PartName','/docProps/core.xml'),n.setAttribute('ContentType','application/vnd.openxmlformats-package.core-properties+xml'),t.documentElement.appendChild(n),n=t.createElementNS(this._contentTypesNS,'Override'),n.setAttribute('PartName','/docProps/app.xml'),n.setAttribute('ContentType','application/vnd.openxmlformats-officedocument.extended-properties+xml'),t.documentElement.appendChild(n),t},u._generateAppDoc=function(n){var i='http://schemas.openxmlformats.org/officeDocument/2006/extended-properties',u='http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes',t=document.implementation.createDocument(i,'Properties',null),k=t.createElementNS(i,'Application'),s,h,c,r,f,e,l,a,o,d,v,y,p,w,b;for(k.textContent=n.application||'wijmo.xlsx',t.documentElement.appendChild(k),s=t.createElementNS(i,'DocSecurity'),s.textContent='0',t.documentElement.appendChild(s),h=t.createElementNS(i,'ScaleCrop'),h.textContent='false',t.documentElement.appendChild(h),c=t.createElementNS(i,'HeadingPairs'),r=t.createElementNS(u,'vt:vector'),r.setAttribute('size','2'),r.setAttribute('baseType','variant'),f=t.createElementNS(u,'vt:variant'),e=t.createElementNS(u,'vt:lpstr'),e.textContent='Worksheets',f.appendChild(e),r.appendChild(f),f=t.createElementNS(u,'vt:variant'),l=t.createElementNS(u,'vt:i4'),l.textContent=n.sheets.length,f.appendChild(l),r.appendChild(f),c.appendChild(r),t.documentElement.appendChild(c),a=t.createElementNS(i,'TitlesOfParts'),r=t.createElementNS(u,'vt:vector'),r.setAttribute('size',this._props.length.toString()),r.setAttribute('baseType','lpstr'),o=0;o<this._props.length;o++)e=t.createElementNS(u,'vt:lpstr'),e.textContent=this._props[o],r.appendChild(e);return a.appendChild(r),t.documentElement.appendChild(a),d=t.createElementNS(i,'Manager'),t.documentElement.appendChild(d),v=t.createElementNS(i,'Company'),v.textContent=n.company||'GrapeCity, Inc.',t.documentElement.appendChild(v),y=t.createElementNS(i,'LinksUpToDate'),y.textContent='false',t.documentElement.appendChild(y),p=t.createElementNS(i,'SharedDoc'),p.textContent='false',t.documentElement.appendChild(p),w=t.createElementNS(i,'HyperlinksChanged'),w.textContent='false',t.documentElement.appendChild(w),b=t.createElementNS(i,'AppVersion'),b.textContent='1.0',t.documentElement.appendChild(b),t},u._generateWorkbookRels=function(){for(var n,t=document.implementation.createDocument(this._relationshipsNS,'Relationships',null),i=0;i<this._xlRels.length;i++)t.documentElement.appendChild(this._xlRels[i]);return n=t.createElementNS(this._relationshipsNS,'Relationship'),n.setAttribute('Id','rId'+(this._xlRels.length+1)),n.setAttribute('Type','http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings'),n.setAttribute('Target','sharedStrings.xml'),t.documentElement.appendChild(n),n=t.createElementNS(this._relationshipsNS,'Relationship'),n.setAttribute('Id','rId'+(this._xlRels.length+2)),n.setAttribute('Type','http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles'),n.setAttribute('Target','styles.xml'),t.documentElement.appendChild(n),n=t.createElementNS(this._relationshipsNS,'Relationship'),n.setAttribute('Id','rId'+(this._xlRels.length+3)),n.setAttribute('Type','http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme'),n.setAttribute('Target','theme/theme1.xml'),t.documentElement.appendChild(n),this._macroEnabled&&(n=t.createElementNS(this._relationshipsNS,'Relationship'),n.setAttribute('Id','rId'+(this._xlRels.length+4)),n.setAttribute('Type','http://schemas.microsoft.com/office/2006/relationships/vbaProject'),n.setAttribute('Target','vbaProject.bin'),t.documentElement.appendChild(n)),t},u._generateWorkbook=function(n){var t=document.implementation.createDocument(this._workbookNS,'workbook',null),r,f,e,i,o,u,s;for(t.documentElement.setAttribute('xmlns:r','http://schemas.openxmlformats.org/officeDocument/2006/relationships'),r=t.createElementNS(this._workbookNS,'fileVersion'),r.setAttribute('appName','xl'),r.setAttribute('lastEdited','5'),r.setAttribute('lowestEdited','5'),r.setAttribute('rupBuild','9303'),t.documentElement.appendChild(r),f=t.createElementNS(this._workbookNS,'workbookPr'),f.setAttribute('defaultThemeVersion','124226'),t.documentElement.appendChild(f),e=t.createElementNS(this._workbookNS,'bookViews'),i=t.createElementNS(this._workbookNS,'workbookView'),i.setAttribute('windowHeight','8505'),i.setAttribute('windowWidth','18195'),i.setAttribute('yWindow','60'),i.setAttribute('xWindow','480'),n.activeWorksheet!=null&&i.setAttribute('activeTab',n.activeWorksheet.toString()),e.appendChild(i),t.documentElement.appendChild(e),o=t.createElementNS(this._workbookNS,'sheets'),u=0;u<this._worksheets.length;u++)o.appendChild(this._worksheets[u]);return t.documentElement.appendChild(o),s=t.createElementNS(this._workbookNS,'calcPr'),s.setAttribute('fullCalcOnLoad','1'),t.documentElement.appendChild(s),t},u._generateWorkSheet=function(i,r,u,f){var d,b,w,a,lt,rt,v,pt,wt,ut,o,vt,g,yt,c,p,at,y,h,l,e,st,ft,s,et,nt,k,tt,ht,ct,ot,it;if(d=i+1,b=r.sheets[i],w=b.columns||b.cols,!b)throw'Worksheet should not be empty!';for(a=document.implementation.createDocument(this._workbookNS,'worksheet',null),this._generateSheetGlobalSetting(a,i,b,r),lt=a.createElementNS(this._workbookNS,'sheetData'),rt=b.style,v=b.rows,pt='',wt=[],ut=[],o=-1,vt=v?v.length:0;++o<vt;){for(g=-1,yt=v[o]&&v[o].cells?v[o].cells.length:0,c=null,p=a.createElementNS(this._workbookNS,'row'),p.setAttribute('r',(o+1).toString()),p.setAttribute('x14ac:dyDescent','0.25'),!v[o]||(v[o].height&&(p.setAttribute('customHeight','1'),p.setAttribute('ht',(+v[o].height*72/96).toString())),v[o].groupLevel&&p.setAttribute('outlineLevel',v[o].groupLevel.toString()),c=v[o].style,c&&(c=this._resolveStyleInheritance(c),c.font&&c.font.color&&(c.font.color=this._parseColor(c.font.color)),c.fill&&c.fill.color&&(c.fill.color=this._parseColor(c.fill.color)),c.hAlign==null||n.isString(c.hAlign)||(c.hAlign=t.Workbook._parseHAlignToString(n.asEnum(c.hAlign,t.HAlign))),c.vAlign==null||n.isString(c.vAlign)||(c.vAlign=t.Workbook._parseVAlignToString(n.asEnum(c.vAlign,t.VAlign))),at=JSON.stringify(c),y=this._styles.indexOf(at),y<0&&(y=this._styles.push(at)-1),p.setAttribute('customFormat','1'),p.setAttribute('s',y.toString()))),v[o]&&v[o].visible===!1&&p.setAttribute('hidden','1'),v[o]&&v[o].collapsed===!0&&p.setAttribute('collapsed','1');++g<yt;)h=v[o].cells[g],l=undefined,e=undefined,st='',ft=-1,l=h&&h.hasOwnProperty('value')?h.value:h,e=h&&h.style?JSON.parse(JSON.stringify(h.style)):{},l&&typeof l=='string'&&(+l).toString()!==l?(this._sharedStrings[1]++,l=this._unescapeXML(l),ft=this._sharedStrings[0].indexOf(l),ft<0&&(ft=this._sharedStrings[0].push(l)-1),l=ft,st='s'):typeof l=='boolean'?(l=l?1:0,st='b'):this._typeOf(l)==='date'||h&&h.isDate?(l=this._convertDate(l),e.format=e.format||'mm-dd-yy'):typeof l=='object'&&(l=null),e=this._resolveStyleInheritance(e),s=w&&w[g]?w[g].style:null,s&&(s=this._resolveStyleInheritance(s),e=this._extend(e,s)),c&&(e=this._extend(e,c)),rt&&(rt=this._resolveStyleInheritance(rt),e=this._extend(e,rt)),e.hAlign==null||n.isString(e.hAlign)||(e.hAlign=t.Workbook._parseHAlignToString(n.asEnum(e.hAlign,t.HAlign))),e.vAlign==null||n.isString(e.vAlign)||(e.vAlign=t.Workbook._parseVAlignToString(n.asEnum(e.vAlign,t.VAlign))),e.font&&e.font.color&&(e.font.color=this._parseColor(e.font.color)),e.fill&&e.fill.color&&(e.fill.color=this._parseColor(e.fill.color)),e.borders&&this._parseBorder(e.borders),e=JSON.stringify(e),y=this._styles.indexOf(e),y<0&&(y=this._styles.push(e)-1),h&&(h.colSpan!=null&&h.colSpan>1||h.rowSpan!=null&&h.rowSpan>1)&&(h.colSpan=h.colSpan||1,h.rowSpan=h.rowSpan||1,this._checkValidMergeCell(ut,o,h.rowSpan,g,h.colSpan)&&ut.push([this._numAlpha(g)+(o+1),this._numAlpha(g+h.colSpan-1)+(o+h.rowSpan)])),p.appendChild(this._generateCell(a,o,g,y,st,l,h&&h.formula?h.formula:null));lt.appendChild(p)}if(et=null,w)for(et=a.createElementNS(this._workbookNS,'cols'),o=0;o<w.length;o++)this._isEmpty(w[o])||(s=w[o].style,s&&(s=this._resolveStyleInheritance(s),s.font&&s.font.color&&(s.font.color=this._parseColor(s.font.color)),s.fill&&s.fill.color&&(s.fill.color=this._parseColor(s.fill.color)),s.hAlign==null||n.isString(s.hAlign)||(s.hAlign=t.Workbook._parseHAlignToString(n.asEnum(s.hAlign,t.HAlign))),s.vAlign==null||n.isString(s.vAlign)||(s.vAlign=t.Workbook._parseVAlignToString(n.asEnum(s.vAlign,t.VAlign))),s=JSON.stringify(s),y=this._styles.indexOf(s),y<0&&(y=this._styles.push(s)-1)),k=w[o].width,k=k!=null?typeof k=='string'&&k.indexOf('ch')>-1?this._parseCharCountToCharWidth(k.substring(0,k.indexOf('ch'))):this._parsePixelToCharWidth(k):8.43,nt=a.createElementNS(this._workbookNS,'col'),nt.setAttribute('min',(o+1).toString()),nt.setAttribute('max',(o+1).toString()),y!=null&&nt.setAttribute('style',y.toString()),!k||(nt.setAttribute('width',k),nt.setAttribute('customWidth','1')),w[o].autoWidth!==!1&&nt.setAttribute('bestFit','1'),w[o].visible===!1&&nt.setAttribute('hidden','1'),et.appendChild(nt));!et||a.documentElement.appendChild(et);a.documentElement.appendChild(lt);ut.length>0&&a.documentElement.appendChild(this._generateMergeSetting(a,ut));tt=a.createElementNS(this._workbookNS,'pageMargins');tt.setAttribute('left','0.7');tt.setAttribute('right','0.7');tt.setAttribute('top','0.75');tt.setAttribute('bottom','0.75');tt.setAttribute('header','0.3');tt.setAttribute('footer','0.3');a.documentElement.appendChild(tt);ht=u.serializeToString(a);n.isIE()&&(ht=ht.replace(this._docRegExp,''));f.file('sheet'+d+'.xml',this._xmlDescription+ht);ct=a.createElementNS(this._contentTypesNS,'Override');ct.setAttribute('PartName','/xl/worksheets/sheet'+d+'.xml');ct.setAttribute('ContentType','application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml');this._contentTypes.unshift(ct);this._props.unshift(b.name||'Sheet'+d);ot=a.createElementNS(this._relationshipsNS,'Relationship');ot.setAttribute('Id','rId'+d);ot.setAttribute('Type','http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet');ot.setAttribute('Target','worksheets/sheet'+d+'.xml');this._xlRels.unshift(ot);it=a.createElementNS(this._workbookNS,'sheet');it.setAttribute('name',b.name||'Sheet'+d);it.setAttribute('sheetId',d.toString());it.setAttribute('r:id','rId'+d);b.visible===!1&&it.setAttribute('state','hidden');this._worksheets.unshift(it)},u._generateSharedStringsDoc=function(){var t=document.implementation.createDocument(this._workbookNS,'sst',null),i;for(t.documentElement.setAttribute('count',this._sharedStrings[1]),t.documentElement.setAttribute('uniqueCount',this._sharedStrings[0].length),i=0;i<this._sharedStrings[0].length;i++){var f=t.createElementNS(this._workbookNS,'si'),r=t.createElementNS(this._workbookNS,'t'),u=this._sharedStrings[0][i];(n.isNullOrWhiteSpace(u)||/^\s+\w*|\w*\s+$/.test(u))&&r.setAttribute('xml:space','preserve');r.textContent=u;f.appendChild(r);t.documentElement.appendChild(f)}return t},u._getColor=function(n,t){var u,f,i,r=t?n.querySelector('fgColor'):n.querySelector('color');return r?(r.hasAttribute('rgb')?(i=r.getAttribute('rgb'),i&&i.length===8&&(i=i.substring(2))):r.hasAttribute('indexed')?(f=+r.getAttribute('indexed'),i=this._indexedColors[f]||''):(u=+r.getAttribute('theme'),r.hasAttribute('tint')&&(i=+r.getAttribute('tint')),i=this._getThemeColor(u,i)),i&&i[0]==='#'?i:'#'+i):null},u._getThemeColor=function(t,i){var f=this._colorThemes[t],u,r;return i!=null?(u=new n.Color('#'+f),r=u.getHsl(),r[2]=i<0?r[2]*(1+i):r[2]*(1-i)+(1-1*(1-i)),u=n.Color.fromHsl(r[0],r[1],r[2]),u.toString().substring(1)):f},u._parseColor=function(t){var i=new n.Color(t);return i.a<1&&(i=n.Color.toOpaque(i)),i.toString()},u._getsBaseSharedFormulas=function(n){var r=n.querySelectorAll('sheetData>row>c>f[ref]'),t,f,i,u;if(this._sharedFormulas=[],r&&r.length>0)for(u=0;u<r.length;u++)t=r[u],f=t.getAttribute('si'),i=t.getAttribute('ref'),i=i?i.substring(0,i.indexOf(':')):'',t=t.textContent,this._sharedFormulas[+f]=this._parseSharedFormulaInfo(i,t)},u._parseSharedFormulaInfo=function(n,i){var f=i.match(/(\'?\w+\'?\!)?(\$?[A-Za-z]+)(\$?\d+)/g),r,e,s,h,o,u;if(h=t.Workbook.tableAddress(n),f&&f.length>0)for(o=[],u=0;u<f.length;u++)r=f[u],i=i.replace(r,'{'+u+'}'),e=r.indexOf('!'),e>0&&(s=r.substring(0,e),r=r.substring(e+1)),o[u]={cellAddress:t.Workbook.tableAddress(r),sheetRef:s};return{cellRef:h,formula:i,formulaRefs:o}},u._getSharedFormula=function(n,i){var u,h,c,l,a,v,o,f,r,s,e;if(this._sharedFormulas&&this._sharedFormulas.length>0&&(u=this._sharedFormulas[+n],u)){if(o=u.formula,f=u.formulaRefs,f&&f.length>0)for(h=t.Workbook.tableAddress(i),c=h.row-u.cellRef.row,l=h.col-u.cellRef.col,e=0;e<f.length;e++)r=f[e],a=r.cellAddress.row+(r.cellAddress.absRow?0:c),v=r.cellAddress.col+(r.cellAddress.absCol?0:l),s=t.Workbook.xlsxAddress(a,v,r.cellAddress.absRow,r.cellAddress.absCol),r.sheetRef!=null&&r.sheetRef!==''&&(s=r.sheetRef+'!'+s),o=o.replace('{'+e+'}',s);return o}return''},u._convertDate=function(t){var i=new Date(1900,0,0),f=Object.prototype.toString.call(t)==="[object Date]",r=((f?t.getTimezoneOffset():(new Date).getTimezoneOffset())-i.getTimezoneOffset())*6e4,u;return f?(t.getTime()-i.getTime()-r)/864e5+1:n.isNumber(t)?(u=new Date(Math.round((+i+(t-1)*864e5)/1e3)*1e3),r=(u.getTimezoneOffset()-i.getTimezoneOffset())*6e4,r!==0)?new Date(Math.round((+i+r+(t-1)*864e5)/1e3)*1e3):u:null},u._parseBorder=function(i){var u,r;for(u in{left:0,right:0,top:0,bottom:0,diagonal:0})r=i[u],r&&(r.color&&(r.color=this._parseColor(r.color)),r.style==null||n.isString(r.style)||(r.style=t.Workbook._parseBorderTypeToString(n.asEnum(r.style,t.BorderStyle,!1))))},u._resolveStyleInheritance=function(n){var r,t,i;if(!n.basedOn)return n;for(t in n.basedOn)if(t==='basedOn'){r=this._resolveStyleInheritance(n.basedOn);for(t in r)i=r[t],n[t]=n[t]==null?i:this._extend(n[t],i)}else i=n.basedOn[t],n[t]=n[t]==null?i:this._extend(n[t],i);return delete n.basedOn,n},u._parsePixelToCharWidth=function(n){return n==null||isNaN(+n)?null:((+n-5)/7*100+.5)/100},u._parseCharWidthToPixel=function(n){return n==null||isNaN(+n)?null:(256*+n+128/7)/256*7},u._parseCharCountToCharWidth=function(n){return n==null||isNaN(+n)?null:(+n*7+5)/7/1},u._numAlpha=function(n){var t=Math.floor(n/26)-1;return(t>-1?this._numAlpha(t):'')+this._alphabet.charAt(n%26)},u._alphaNum=function(n){var t=0;return n.length===2&&(t=this._alphaNum(n.charAt(0))+1),t*26+this._alphabet.indexOf(n.substr(-1))},u._unescapeXML=function(n){return typeof n=='string'?n.replace(/&amp;/g,'&').replace(/&lt;/g,'<').replace(/&gt;/g,'>').replace(/&quot;/g,'"').replace(/&#x27;/g,'\'').replace(/&#x2F;/g,'/'):''},u._typeOf=function(n){return{}.toString.call(n).match(/\s([a-zA-Z]+)/)[1].toLowerCase()},u._extend=function(t,i){var r,u;if(n.isObject(t)&&n.isObject(i)){for(r in i)u=i[r],n.isObject(u)&&t[r]!=null?this._extend(t[r],u):u!=null&&t[r]==null&&(t[r]=u);return t}return i},u._isEmpty=function(n){var i=Object.prototype.hasOwnProperty,t;if(n==null)return!0;if(n.length>0)return!1;if(n.length===0)return!0;for(t in n)if(i.call(n,t))return!1;return!0},u._getSheetIndex=function(n){return n=n.substring(0,n.lastIndexOf('.xml')),+n.substring(n.lastIndexOf('sheet')+5)},u._checkValidMergeCell=function(n,t,i,r,u){for(var f=0;f<n.length;f++){var e=n[f],o=+e[0].match(/\d*/g).join('')-1,s=this._alphaNum(e[0].match(/[a-zA-Z]*/g)[0]),h=+e[1].match(/\d*/g).join('')-1,c=this._alphaNum(e[1].match(/[a-zA-Z]*/g)[0]);if(!(t>h||t+i-1<o)&&!(r>c||r+u-1<s))return!1}return!0},u._alphabet='ABCDEFGHIJKLMNOPQRSTUVWXYZ',u._indexedColors=['000000','FFFFFF','FF0000','00FF00','0000FF','FFFF00','FF00FF','00FFFF','000000','FFFFFF','FF0000','00FF00','0000FF','FFFF00','FF00FF','00FFFF','800000','008000','000080','808000','800080','008080','C0C0C0','808080','9999FF','993366','FFFFCC','CCFFFF','660066','FF8080','0066CC','CCCCFF','000080','FF00FF','FFFF00','00FFFF','800080','800000','008080','0000FF','00CCFF','CCFFFF','CCFFCC','FFFF99','99CCFF','FF99CC','CC99FF','FFCC99','3366FF','33CCCC','99CC00','FFCC00','FF9900','FF6600','666699','969696','003366','339966','003300','333300','993300','993366','333399','333333','000000','FFFFFF'],u._numFmts=['General','0','0.00','#,##0','#,##0.00',,,'$#,##0.00_);($#,##0.00)',,'0%','0.00%','0.00E+00','# ?/?','# ??/??','m/d/yyyy','d-mmm-yy','d-mmm','mmm-yy','h:mm AM/PM','h:mm:ss AM/PM','h:mm','h:mm:ss','m/d/yy h:mm',,,,,,,,,,,,,,,'#,##0 ;(#,##0)','#,##0 ;[Red](#,##0)','#,##0.00;(#,##0.00)','#,##0.00;[Red](#,##0.00)',,,,,'mm:ss','[h]:mm:ss','mmss.0','##0.0E+0','@'],u._xmlDescription='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>',u._docRegExp=/xmlns\:NS\d+=\"\"\s+NS\d+\:/g,u._workbookNS='http://schemas.openxmlformats.org/spreadsheetml/2006/main',u._contentTypesNS='http://schemas.openxmlformats.org/package/2006/content-types',u._relationshipsNS='http://schemas.openxmlformats.org/package/2006/relationships',u._defaultFontName='Calibri',u._defaultFontSize=11,u._macroEnabled=!1,u}(),i,r;t._xlsx=u;i=function(){function n(){this._callbacks=[]}return n.prototype.then=function(n,t){return this._callbacks.push({onFulfilled:n,onRejected:t}),this},n.prototype.catch=function(n){return this.then(null,n)},n.prototype.resolve=function(n){var t=this;setTimeout(function(){try{t._onFulfilled(n)}catch(i){t._onRejected(i)}},0)},n.prototype.reject=function(n){var t=this;setTimeout(function(){t._onRejected(n)},0)},n.prototype._onFulfilled=function(n){for(var t,i;t=this._callbacks.shift();)t.onFulfilled&&(i=t.onFulfilled(n),i!==undefined&&(n=i))},n.prototype._onRejected=function(n){for(var t,i;t=this._callbacks.shift();)if(t.onRejected){i=t.onRejected(n);this._onFulfilled(i);return}throw n;},n}();t._Promise=i;r=function(n){function t(t){n.call(this);this._promises=t;this._init()}return __extends(t,n),t.prototype._init=function(){var t=this;if(!this._promises||!this._promises.length){this.reject('No promises in current composited promise.');return}var r=this._promises.length,u=0,i=[],n=!1;this._promises.some(function(f){return f.then(function(f){n||(i.push(f),++u>=r&&t.resolve(i))}).catch(function(i){n=!0;t.reject(i)}),n})},t}(i);t._CompositedPromise=r})(t=n.xlsx||(n.xlsx={}))}(wijmo||(wijmo={})),function(n){var t;(function(t){'use strict';var p=function(){function e(){}return Object.defineProperty(e.prototype,"sheets",{get:function(){return this._sheets==null&&(this._sheets=[]),this._sheets},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"styles",{get:function(){return this._styles==null&&(this._styles=[]),this._styles},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"reservedContent",{get:function(){return this._reservedContent==null&&(this._reservedContent={}),this._reservedContent},set:function(n){this._reservedContent=n},enumerable:!0,configurable:!0}),e.prototype.save=function(n){var i=t._xlsx.save(this._serialize());return n&&this._saveToFile(i.base64,n),i.base64},e.prototype.saveAsync=function(n,i,r){var u=this,f=t._xlsx.saveAsync(u._serialize(),r);n&&f.then(function(t){u._saveToFile(t,n);i&&i(t)})},e.prototype.load=function(n){this._deserialize(t._xlsx.load(this._getBase64String(n)))},e.prototype.loadAsync=function(n,i,r){var u=this;t._xlsx.loadAsync(u._getBase64String(n)).then(function(n){u._deserialize(n);i(u)}).catch(r)},e.prototype._serialize=function(){var n={sheets:[]};return n.sheets=this._serializeWorkSheets(),this._styles&&this._styles.length>0&&(n.styles=this._serializeWorkbookStyles()),this._reservedContent&&(n.reservedContent=this._reservedContent),this.activeWorksheet!=null&&!isNaN(this.activeWorksheet)&&this.activeWorksheet>=0&&(n.activeWorksheet=this.activeWorksheet),this.application&&(n.application=this.application),this.company&&(n.company=this.company),this.created!=null&&(n.created=this.created),this.creator&&(n.creator=this.creator),this.lastModifiedBy&&(n.lastModifiedBy=this.lastModifiedBy),this.modified!=null&&(n.modified=this.modified),n},e.prototype._deserialize=function(n){this._deserializeWorkSheets(n.sheets);n.styles&&n.styles.length>0&&this._deserializeWorkbookStyles(n.styles);this.activeWorksheet=n.activeWorksheet;this.application=n.application;this.company=n.company;this.created=n.created;this.creator=n.creator;this.lastModifiedBy=n.lastModifiedBy;this.modified=n.modified;this.reservedContent=n.reservedContent},e.prototype._addWorkSheet=function(n,t){this._sheets==null&&(this._sheets=[]);t==null||isNaN(t)?this._sheets.push(n):this._sheets[t]=n},e.prototype._saveToFile=function(n,t){var o,u,i=this._reservedContent&&this._reservedContent.macros?'xlsm':'xlsx',c=i==='xlsm'?'application/vnd.ms-excel.sheet.macroEnabled.12':'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',s,f,r,h;if(u=t.lastIndexOf('.'),u<0)t+='.'+i;else if(u===0)throw'Invalid file name.';else o=t.substring(u+1),o===''?t+='.'+i:o!==i&&(t+='.'+i);s=new Blob([e._base64DecToArr(n)],{type:c});navigator.msSaveBlob?navigator.msSaveBlob(s,t):(f=new FileReader,r=document.createElement('a'),h=function(n){var t=document.createEvent('MouseEvents');t.initMouseEvent('click',!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null);n.dispatchEvent(t)},f.onload=function(){r.download=t;r.href=f.result;h(r);r=null},f.readAsDataURL(s))},e.prototype._getBase64String=function(n){var t;if(n==null||n.length===0)throw'Invalid xlsx file content.';return t=n.search(/base64,/i),t!==-1&&(n=n.substring(t+7)),n},e.toXlsxDateFormat=function(t){var i;if(t.length===1)switch(t){case'r':case'R':return'ddd, dd MMM yyyy HH:mm:ss &quot;GMT&quot;';case'u':return'yyyy-MM-dd&quot;T&quot;HH:mm:ss&quot;Z&quot;';case'o':case'O':i=n.culture.Globalize.calendar.patterns[t];i=i.replace(/f+k/gi,'000');break;default:i=n.culture.Globalize.calendar.patterns[t]}return(i||(i=t),i=i.replace(/"/g,'').replace(/tt/,'AM/PM').replace(/t/,'A/P').replace(/M+/gi,function(n){return n.toLowerCase()}).replace(/g+y+/gi,function(n){return n.substring(0,n.indexOf('y'))+'e'}),/FY|Q/i.test(i))?'General':i},e.toXlsxNumberFormat=function(t){var u=-1,e=t?t.toLowerCase():'',o=e[0],i=this._formatMap[o],c=n.culture.Globalize.numberFormat.currency.symbol,h=e.split(','),f=[],s,r;if(i){if(o==='c'&&(i=i.replace(/\{1\}/g,c)),u=e.length>1?parseInt(h[0].substr(1)):2,!isNaN(u))for(r=0;r<u;r++)f.push(0);for(r=0;r<h.length-1;r++)f.push(',');s=f.length>0?o==='d'?i.replace(/\{0\}/g,f.join('')):i.replace(/\{0\}/g,(!isNaN(u)&&u>0?'.':'')+f.join('')):o==='d'?i.replace(/\{0\}/g,'0'):i.replace(/\{0\}/g,'')}else s=e;return s},e.fromXlsxFormat=function(t){var c=[],u,s,i,f,h,e,r,o,l,a=n.culture.Globalize.numberFormat.currency.symbol;if(!t||t==='General')return[''];for(t=t.replace(/;@/g,'').replace(/&quot;?/g,''),s=t.split(';'),f=0;f<s.length;f++){if(i=s[f],/[hsmy\:]/i.test(i))u=i.replace(/\[\$\-.+\]/g,'').replace(/(\\)(.)/g,'$2').replace(/H+/g,function(n){return n.toLowerCase()}).replace(/m+/g,function(n){return n.toUpperCase()}).replace(/S+/g,function(n){return n.toLowerCase()}).replace(/AM\/PM/gi,'tt').replace(/A\/P/gi,'t').replace(/\.000/g,'.fff').replace(/\.00/g,'.ff').replace(/\.0/g,'.f').replace(/\\[\-\s,]/g,function(n){return n.substring(1)}).replace(/Y+/g,function(n){return n.toLowerCase()}).replace(/D+/g,function(n){return n.toLowerCase()}).replace(/M+:?|:?M+/gi,function(n){return n.indexOf(':')>-1?n.toLowerCase():n}).replace(/g+e/gi,function(n){return n.substring(0,n.length-1)+'yy'});else if(e=i.lastIndexOf('.'),r=i.lastIndexOf('0'),o=i.lastIndexOf(','),u=i.search(/\[\$([^\-\]]+)[^\]]*\]/)>-1||i.indexOf(a)>-1&&i.search(/\[\$([\-\]]+)[^\]]*\]/)===-1?'c':i[t.length-1]==='%'?'p':'n',u+=e>-1&&e<r?i.substring(e,r).length:'0',/^0+,*$/.test(i)&&(r=i.lastIndexOf('0'),u='d'+(r+1)),o>-1&&r<o)for(l=i.substring(r+1,o+1).split(''),h=0;h<l.length;h++)u+=',';c.push(u)}return c},e._parseCellFormat=function(n,t){return t?this.toXlsxDateFormat(n):this.toXlsxNumberFormat(n)},e._parseExcelFormat=function(t){if(t===undefined||t===null||t.value===undefined||t.value===null||isNaN(t.value))return undefined;var i=t.style&&t.style.format?t.style.format:'';return t.isDate||n.isDate(t.value)?this.fromXlsxFormat(i)[0]:n.isNumber(t.value)?i&&i!=='General'?this.fromXlsxFormat(i)[0]:n.isInt(t.value)?'d':'f2':i},e.xlsxAddress=function(n,t,i,r){var u=i?'$':'',f=r==null?u:r?'$':'';return(isNaN(t)?'':f+this._numAlpha(t))+(isNaN(n)?'':u+(n+1).toString())},e.tableAddress=function(n){var t=n&&/^((\$?)([A-Za-z]+))?((\$?)(\d+))?$/.exec(n),i={};return t?(t[3]&&(i.col=this._alphaNum(t[3]),i.absCol=!!t[2]),t[6]&&(i.row=+t[6]-1,i.absRow=!!t[5]),i):null},e._parseHAlignToString=function(n){switch(n){case r.Left:return'left';case r.Center:return'center';case r.Right:return'right';default:return null}},e._parseStringToHAlign=function(n){var t=n?n.toLowerCase():'';return t==='left'?r.Left:t==='center'?r.Center:t==='right'?r.Right:null},e._parseVAlignToString=function(n){switch(n){case u.Bottom:return'bottom';case u.Center:return'center';case u.Top:return'top';default:return null}},e._parseStringToVAlign=function(n){var t=n?n.toLowerCase():'';return t==='top'?u.Top:t==='center'?u.Center:t==='bottom'?u.Bottom:null},e._parseBorderTypeToString=function(n){switch(n){case i.Dashed:return'dashed';case i.Dotted:return'dotted';case i.Double:return'double';case i.Hair:return'hair';case i.Medium:return'medium';case i.MediumDashDotDotted:return'mediumDashDotDot';case i.MediumDashDotted:return'mediumDashDot';case i.MediumDashed:return'mediumDashed';case i.SlantedMediumDashDotted:return'slantDashDot';case i.Thick:return'thick';case i.Thin:return'thin';case i.ThinDashDotDotted:return'dashDotDot';case i.ThinDashDotted:return'dashDot';case i.None:default:return'none'}},e._parseStringToBorderType=function(n){return n==='dashed'?i.Dashed:n==='dotted'?i.Dotted:n==='double'?i.Double:n==='hair'?i.Hair:n==='medium'?i.Medium:n==='mediumDashDotDot'?i.MediumDashDotDotted:n==='mediumDashDot'?i.MediumDashDotted:n==='mediumDashed'?i.MediumDashed:n==='slantDashDot'?i.SlantedMediumDashDotted:n==='thick'?i.Thick:n==='thin'?i.Thin:n==='dashDotDot'?i.ThinDashDotDotted:n==='dashDot'?i.ThinDashDotted:null},e._numAlpha=function(n){var t=Math.floor(n/26)-1;return(t>-1?this._numAlpha(t):'')+this._alphabet.charAt(n%26)},e._alphaNum=function(n){var t=0;return!n||(n=n.toUpperCase()),n.length===2&&(t=this._alphaNum(n.charAt(0))+1),t*26+this._alphabet.indexOf(n.substr(-1))},e._b64ToUint6=function(n){return n>64&&n<91?n-65:n>96&&n<123?n-71:n>47&&n<58?n+4:n===43?62:n===47?63:0},e._base64DecToArr=function(n,t){for(var s=n.replace(/[^A-Za-z0-9\+\/]/g,""),r=s.length,h=t?Math.ceil((r*3+1>>2)/t)*t:r*3+1>>2,c=new Uint8Array(h),u,f,e=0,o=0,i=0;i<r;i++)if(f=i&3,e|=this._b64ToUint6(s.charCodeAt(i))<<18-6*f,f===3||r-i==1){for(u=0;u<3&&o<h;u++,o++)c[o]=e>>>(16>>>u&24)&255;e=0}return c},e._uint6ToB64=function(n){return n<26?n+65:n<52?n+71:n<62?n-4:n===62?43:n===63?47:65},e._base64EncArr=function(n){for(var i=2,u="",f=n.length,r=0,t=0;t<f;t++)i=t%3,t>0&&t*4/3%76==0&&(u+="\r\n"),r|=n[t]<<(16>>>i&24),(i===2||n.length-t==1)&&(u+=String.fromCharCode(this._uint6ToB64(r>>>18&63),this._uint6ToB64(r>>>12&63),this._uint6ToB64(r>>>6&63),this._uint6ToB64(r&63)),r=0);return u.substr(0,u.length-2+i)+(i===2?'':i===1?'=':'==')},e.prototype._serializeWorkSheets=function(){for(var i=[],t,n=0;n<this._sheets.length;n++)t=this._sheets[n],t&&(i[n]=t._serialize());return i},e.prototype._serializeWorkbookStyles=function(){for(var i=[],t,n=0;n<this._styles.length;n++)t=this._styles[n],t&&(i[n]=t._serialize());return i},e.prototype._deserializeWorkSheets=function(n){var i,r,t;for(this._sheets=[],t=0;t<n.length;t++)r=n[t],r&&(i=new o,i._deserialize(r),this._sheets[t]=i)},e.prototype._deserializeWorkbookStyles=function(n){var i,r,t;for(this._styles=[],t=0;t<n.length;t++)r=n[t],r&&(i=new f,i._deserialize(r),this._styles[t]=i)},e._alphabet='ABCDEFGHIJKLMNOPQRSTUVWXYZ',e._formatMap={n:'#,##0{0}',c:'{1}#,##0{0}_);({1}#,##0{0})',p:'0{0}%',f:'0{0}',d:'{0}',g:'0{0}'},e}(),o,s,h,c,l,f,a,v,y,e,r,u,i;t.Workbook=p;o=function(){function t(){}return Object.defineProperty(t.prototype,"columns",{get:function(){return this._columns==null&&(this._columns=[]),this._columns},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cols",{get:function(){return n._deprecated('WorkSheet.cols','WorkSheet.columns'),this.columns},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rows",{get:function(){return this._rows==null&&(this._rows=[]),this._rows},enumerable:!0,configurable:!0}),t.prototype._serialize=function(){var n;return this._checkEmptyWorkSheet()?null:(n={},this.style&&(n.style=this.style._serialize()),this._columns&&this._columns.length>0&&(n.cols=n.columns=this._serializeWorkbookColumns()),this._rows&&this._rows.length>0&&(n.rows=this._serializeWorkbookRows()),this.frozenPane&&(n.frozenPane=this.frozenPane._serialize()),this.name&&(n.name=this.name),this.summaryBelow!=null&&(n.summaryBelow=this.summaryBelow),this.visible!=null&&(n.visible=this.visible),n)},t.prototype._deserialize=function(n){var t,i;n.style&&(i=new f,i._deserialize(n.style),this.style=i);n.columns&&n.columns.length>0&&this._deserializeWorkbookColumns(n.columns);n.rows&&n.rows.length>0&&this._deserializeWorkbookRows(n.rows);n.frozenPane&&(t=new l,t._deserialize(n.frozenPane),this.frozenPane=t);this.name=n.name;this.summaryBelow=n.summaryBelow;this.visible=n.visible},t.prototype._addWorkbookColumn=function(n,t){this._columns==null&&(this._columns=[]);t==null||isNaN(t)?this._columns.push(n):this._columns[t]=n},t.prototype._addWorkbookRow=function(n,t){this._rows==null&&(this._rows=[]);t==null||isNaN(t)?this._rows.push(n):this._rows[t]=n},t.prototype._serializeWorkbookColumns=function(){for(var i=[],t,n=0;n<this._columns.length;n++)t=this._columns[n],t&&(i[n]=t._serialize());return i},t.prototype._serializeWorkbookRows=function(){for(var i=[],t,n=0;n<this._rows.length;n++)t=this._rows[n],t&&(i[n]=t._serialize());return i},t.prototype._deserializeWorkbookColumns=function(n){var i,r,t;for(this._columns=[],t=0;t<n.length;t++)i=n[t],i&&(r=new s,r._deserialize(i),this._columns[t]=r)},t.prototype._deserializeWorkbookRows=function(n){var i,r,t;for(this._rows=[],t=0;t<n.length;t++)i=n[t],i&&(r=new h,r._deserialize(i),this._rows[t]=r)},t.prototype._checkEmptyWorkSheet=function(){return this._rows==null&&this._columns==null&&this.visible==null&&this.summaryBelow==null&&this.frozenPane==null&&this.style==null&&(this.name==null||this.name==='')},t}();t.WorkSheet=o;s=function(){function n(){}return n.prototype._serialize=function(){var n;return this._checkEmptyWorkbookColumn()?null:(n={},this.style&&(n.style=this.style._serialize()),this.autoWidth!=null&&(n.autoWidth=this.autoWidth),this.width!=null&&(n.width=this.width),this.visible!=null&&(n.visible=this.visible),n)},n.prototype._deserialize=function(n){var t;n.style&&(t=new f,t._deserialize(n.style),this.style=t);this.autoWidth=n.autoWidth;this.visible=n.visible;this.width=n.width},n.prototype._checkEmptyWorkbookColumn=function(){return this.style==null&&this.width==null&&this.autoWidth==null&&this.visible==null},n}();t.WorkbookColumn=s;h=function(){function n(){}return Object.defineProperty(n.prototype,"cells",{get:function(){return this._cells==null&&(this._cells=[]),this._cells},enumerable:!0,configurable:!0}),n.prototype._serialize=function(){var n;return this._checkEmptyWorkbookRow()?null:(n={},this._cells&&this._cells.length>0&&(n.cells=this._serializeWorkbookCells()),this.style&&(n.style=this.style._serialize()),this.collapsed!=null&&(n.collapsed=this.collapsed),this.groupLevel==null||isNaN(this.groupLevel)||(n.groupLevel=this.groupLevel),this.height==null||isNaN(this.height)||(n.height=this.height),this.visible!=null&&(n.visible=this.visible),n)},n.prototype._deserialize=function(n){var t;n.cells&&n.cells.length>0&&this._deserializeWorkbookCells(n.cells);n.style&&(t=new f,t._deserialize(n.style),this.style=t);this.collapsed=n.collapsed;this.groupLevel=n.groupLevel;this.height=n.height;this.visible=n.visible},n.prototype._addWorkbookCell=function(n,t){this._cells==null&&(this._cells=[]);t==null||isNaN(t)?this._cells.push(n):this._cells[t]=n},n.prototype._serializeWorkbookCells=function(){for(var i=[],t,n=0;n<this._cells.length;n++)t=this._cells[n],t&&(i[n]=t._serialize());return i},n.prototype._deserializeWorkbookCells=function(n){var i,r,t;for(this._cells=[],t=0;t<n.length;t++)i=n[t],i&&(r=new c,r._deserialize(i),this._cells[t]=r)},n.prototype._checkEmptyWorkbookRow=function(){return this._cells==null&&this.style==null&&this.collapsed==null&&this.visible==null&&(this.height==null||isNaN(this.height))&&(this.groupLevel==null||isNaN(this.groupLevel))},n}();t.WorkbookRow=h;c=function(){function n(){}return n.prototype._serialize=function(){var n;return this._checkEmptyWorkbookCell()?null:(n={},this.style&&(n.style=this.style._serialize()),this.value!=null&&(n.value=this.value),this.formula&&(n.formula=this.formula),this.isDate!=null&&(n.isDate=this.isDate),this.colSpan!=null&&!isNaN(this.colSpan)&&this.colSpan>1&&(n.colSpan=this.colSpan),this.rowSpan!=null&&!isNaN(this.rowSpan)&&this.rowSpan>1&&(n.rowSpan=this.rowSpan),n)},n.prototype._deserialize=function(n){var t;n.style&&(t=new f,t._deserialize(n.style),this.style=t);this.value=n.value;this.formula=n.formula;this.isDate=n.isDate;this.colSpan=n.colSpan;this.rowSpan=n.rowSpan},n.prototype._checkEmptyWorkbookCell=function(){return this.style==null&&this.value==null&&this.isDate==null&&(this.formula==null||this.formula==='')&&(this.colSpan==null||isNaN(this.colSpan)||this.colSpan<=1)&&(this.rowSpan==null||isNaN(this.rowSpan)||this.rowSpan<=1)},n}();t.WorkbookCell=c;l=function(){function n(){}return n.prototype._serialize=function(){return(this.columns==null||isNaN(this.columns)||this.columns===0)&&(this.rows==null||isNaN(this.rows)||this.rows===0)?null:{columns:this.columns,rows:this.rows}},n.prototype._deserialize=function(n){this.columns=n.columns;this.rows=n.rows},n}();t.WorkbookFrozenPane=l;f=function(){function t(){}return t.prototype._serialize=function(){var t;return this._checkEmptyWorkbookStyle()?null:(t={},this.basedOn&&(t.basedOn=this.basedOn._serialize()),this.fill&&(t.fill=this.fill._serialize()),this.font&&(t.font=this.font._serialize()),this.borders&&(t.borders=this.borders._serialize()),this.format&&(t.format=this.format),this.hAlign!=null&&(t.hAlign=n.asEnum(this.hAlign,r,!1)),this.vAlign!=null&&(t.vAlign=n.asEnum(this.vAlign,u,!1)),this.indent==null||isNaN(this.indent)||(t.indent=this.indent),!this.wordWrap||(t.wordWrap=this.wordWrap),t)},t.prototype._deserialize=function(i){var f,e,o,s;i.basedOn&&(f=new t,f._deserialize(i.basedOn),this.basedOn=f);i.fill&&(e=new v,e._deserialize(i.fill),this.fill=e);i.font&&(o=new a,o._deserialize(i.font),this.font=o);i.borders&&(s=new y,s._deserialize(i.borders),this.borders=s);this.format=i.format;i.hAlign!=null&&(this.hAlign=n.asEnum(i.hAlign,r,!1));i.vAlign!=null&&(this.vAlign=n.asEnum(i.vAlign,u,!1));i.indent==null||isNaN(i.indent)||(this.indent=i.indent);!i.wordWrap||(this.wordWrap=i.wordWrap)},t.prototype._checkEmptyWorkbookStyle=function(){return this.basedOn==null&&this.fill==null&&this.font==null&&this.borders==null&&(this.format==null||this.format==='')&&this.hAlign==null&&this.vAlign==null&&this.wordWrap==null},t}();t.WorkbookStyle=f;a=function(){function n(){}return n.prototype._serialize=function(){var n;return this._checkEmptyWorkbookFont()?null:(n={},this.bold!=null&&(n.bold=this.bold),this.italic!=null&&(n.italic=this.italic),this.underline!=null&&(n.underline=this.underline),this.color&&(n.color=this.color),this.family&&(n.family=this.family),this.size==null||isNaN(this.size)||(n.size=this.size),n)},n.prototype._deserialize=function(n){this.bold=n.bold;this.color=n.color;this.family=n.family;this.italic=n.italic;this.size=n.size;this.underline=n.underline},n.prototype._checkEmptyWorkbookFont=function(){return this.bold==null&&this.italic==null&&this.underline==null&&(this.color==null||this.color==='')&&(this.family==null||this.family==='')&&(this.size==null||isNaN(this.size))},n}();t.WorkbookFont=a;v=function(){function n(){}return n.prototype._serialize=function(){return this.color?{color:this.color}:null},n.prototype._deserialize=function(n){this.color=n.color},n}();t.WorkbookFill=v;y=function(){function n(){}return n.prototype._serialize=function(){var n;return this._checkEmptyWorkbookBorder()?null:(n={},this.top&&(n.top=this.top._serialize()),this.bottom&&(n.bottom=this.bottom._serialize()),this.left&&(n.left=this.left._serialize()),this.right&&(n.right=this.right._serialize()),this.diagonal&&(n.diagonal=this.diagonal._serialize()),n)},n.prototype._deserialize=function(n){var t,i,r,u,f;n.top&&(t=new e,t._deserialize(n.top),this.top=t);n.bottom&&(i=new e,i._deserialize(n.bottom),this.bottom=i);n.left&&(r=new e,r._deserialize(n.left),this.left=r);n.right&&(u=new e,u._deserialize(n.right),this.right=u);n.diagonal&&(f=new e,f._deserialize(n.diagonal),this.diagonal=f)},n.prototype._checkEmptyWorkbookBorder=function(){return this.top==null&&this.bottom==null&&this.left==null&&this.right==null&&this.diagonal==null},n}();t.WorkbookBorder=y;e=function(){function t(){}return t.prototype._serialize=function(){var t;return(this.color==null||this.color==='')&&this.style==null?null:(t={},this.color&&(t.color=this.color),this.style!=null&&(t.style=n.asEnum(this.style,i,!1)),t)},t.prototype._deserialize=function(t){this.color=t.color;t.style!=null&&(this.style=n.asEnum(t.style,i,!1))},t}();t.WorkbookBorderSetting=e,function(n){n[n.General=0]="General";n[n.Left=1]="Left";n[n.Center=2]="Center";n[n.Right=3]="Right";n[n.Fill=4]="Fill";n[n.Justify=5]="Justify"}(t.HAlign||(t.HAlign={}));r=t.HAlign,function(n){n[n.Top=0]="Top";n[n.Center=1]="Center";n[n.Bottom=2]="Bottom";n[n.Justify=3]="Justify"}(t.VAlign||(t.VAlign={}));u=t.VAlign,function(n){n[n.None=0]="None";n[n.Thin=1]="Thin";n[n.Medium=2]="Medium";n[n.Dashed=3]="Dashed";n[n.Dotted=4]="Dotted";n[n.Thick=5]="Thick";n[n.Double=6]="Double";n[n.Hair=7]="Hair";n[n.MediumDashed=8]="MediumDashed";n[n.ThinDashDotted=9]="ThinDashDotted";n[n.MediumDashDotted=10]="MediumDashDotted";n[n.ThinDashDotDotted=11]="ThinDashDotDotted";n[n.MediumDashDotDotted=12]="MediumDashDotDotted";n[n.SlantedMediumDashDotted=13]="SlantedMediumDashDotted"}(t.BorderStyle||(t.BorderStyle={}));i=t.BorderStyle})(t=n.xlsx||(n.xlsx={}))}(wijmo||(wijmo={})),function(n){var t;(function(t){'use strict';var i=function(){function i(){}return i.export=function(i){n._deprecated('XlsxConverter.export','Workbook.save');var r=t._xlsx.save(i);return r.base64Array=t.Workbook._base64DecToArr(r.base64),r},i.exportToFile=function(t,r){var f,e;if(n._deprecated('XlsxConverter.exportToFile','Workbook.save'),f=i.export(t),e=new Blob([f.base64Array]),r)if(navigator.msSaveBlob)navigator.msSaveBlob(e,r);else{var u=document.createElement('a'),s=function(n){var t=document.createEvent('MouseEvents');t.initMouseEvent('click',!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null);n.dispatchEvent(t)},o=new FileReader;o.onloadend=function(){u.download=r;u.href=f.href();s(u);u=null};o.readAsDataURL(e)}},i.import=function(i){n._deprecated('XlsxConverter.import','Workbook.load');var r=typeof i=='string'?i:t.Workbook._base64EncArr(new Uint8Array(i));return t._xlsx.load(r)},i.xlsxDateFormat=function(i){return n._deprecated('XlsxConverter.xlsxDateFormat','Workbook.toXlsxDateFormat'),t.Workbook.toXlsxDateFormat(i)},i.xlsxNumberFormat=function(i){return n._deprecated('XlsxConverter.xlsxNumberFormat','Workbook.toXlsxNumberFormat'),t.Workbook.toXlsxNumberFormat(i)},i.netFormat=function(i){return n._deprecated('XlsxConverter.netFormat','Workbook.fromXlsxFormat'),t.Workbook.fromXlsxFormat(i)},i.xlsxIndex=function(i,r,u,f){return n._deprecated('XlsxConverter.xlsxIndex','Workbook.xlsxAddress'),t.Workbook.xlsxAddress(i,r,u,f)},i.numericIndex=function(i){return n._deprecated('XlsxConverter.numericIndex','Workbook.numericAddress'),t.Workbook.tableAddress(i)},i}();t.XlsxConverter=i})(t=n.xlsx||(n.xlsx={}))}(wijmo||(wijmo={}))
/*
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    */
var wijmo;(function(n){var t;(function(t){var i;(function(i){'use strict';var r=function(){function i(){}return i.export=function(t,i){n._deprecated('FlexGridXlsxConverter.export','FlexGridXlsxConverter.save');var r=this.toWorkbookOM(t,i);return n.xlsx.XlsxConverter.export(r)},i.import=function(t,i,r,u){n._deprecated('FlexGridXlsxConverter.import','FlexGridXlsxConverter.load');var f=n.xlsx.XlsxConverter.import(t);this.fromWorkbookOM(f,i,r,u)},i.toWorkbookOM=function(t,i){n._deprecated('FlexGridXlsxConverter.toWorkbookOM','FlexGridXlsxConverter.save');var r={sheets:[],creator:'',created:new Date,lastModifiedBy:'',modified:new Date,activeWorksheet:0},u,f;if(i&&i.activeWorksheet!=null&&i.activeWorksheet>0&&(r.activeWorksheet=i.activeWorksheet),n.isArray(t))for(u=0;u<t.length;u++)f=t[u],this._exportFlexGrid(f,r,i);else this._exportFlexGrid(t,r,i);return r},i.fromWorkbookOM=function(i,r,u,f){n._deprecated('FlexGridXlsxConverter.fromWorkbookOM','FlexGridXlsxConverter.load');var ui=u?u.includeColumnHeader:!0,p=u?u.includeColumnHeader:!0,dt=1,g=0,e=0,h=0,it,rt,v,ut,b,w,ft,pt,nt,gt,s,l,ni,k,et,c,ot,st,ti,wt,a,ht,d,y,ii,ct,o,bt,kt,lt,ri,tt,at=!1,vt={},yt;if(r.itemsSource=null,r.columns.clear(),r.rows.clear(),r.frozenColumns=0,r.frozenRows=0,i.sheets.length!==0)for(f&&(dt=i.sheets.length);g<dt;g++){for(bt={},kt={},h=0,ut=[],lt=[],l=i.sheets[g],ui&&(h=1,l.rows.length<=1&&(p=!1,h=0),pt=l.rows[0]),k=this._getColumnCount(l.rows),ni=this._getRowCount(l.rows,k),ti=l.summaryBelow,g>0&&(ii=document.createElement('div'),r=new t.FlexGrid(ii)),v=l.columns||l.cols,e=0;e<k;e++)r.columns.push(new t.Column),!v[e]||(isNaN(+v[e].width)||(r.columns[e].width=+v[e].width),v[e].visible||v[e].visible==undefined||(r.columns[e].visible=!!v[e].visible),v[e].style&&!!v[e].style.wordWrap&&(r.columns[e].wordWrap=v[e].style.wordWrap));for(;h<ni;h++){if(et=!1,yt=!0,s=l.rows[h],s)for(ot=h+1;ot<l.rows.length;)if(st=l.rows[ot],st){(isNaN(s.groupLevel)&&!isNaN(st.groupLevel)||!isNaN(s.groupLevel)&&s.groupLevel<st.groupLevel)&&(et=!0);break}else ot++;for(et&&!ti?(a&&(a.isCollapsed=at),a=new t.GroupRow,a.isReadOnly=!1,at=s.collapsed==null?!1:s.collapsed,a.level=isNaN(s.groupLevel)?0:s.groupLevel,vt[a.level]=at,this._checkParentCollapsed(vt,a.level)&&a._setFlag(t.RowColFlags.ParentCollapsed,!0),r.rows.push(a)):(wt=new t.Row,s&&this._checkParentCollapsed(vt,s.groupLevel)&&wt._setFlag(t.RowColFlags.ParentCollapsed,!0),r.rows.push(wt)),!s||!s.height||isNaN(s.height)||(r.rows[p?h-1:h].height=s.height),e=0;e<k;e++)if(s){if(c=s.cells[e],y=c?c.formula:undefined,y&&y[0]!=='='&&(y='='+y),y=y?this._parseToFlexSheetFormula(y):undefined,r.setCellData(p?h-1:h,e,y&&f?y:this._getItemValue(c)),!et&&c&&c.value!=null&&c.value!==''&&this._setColumn(ut,e,c),ct=h*k+e,o=c?c.style:undefined,o){if(yt=yt&&!!o.wordWrap,ri=this._getItemType(c),o.hAlign)tt=n.xlsx.Workbook._parseHAlignToString(n.asEnum(o.hAlign,n.xlsx.HAlign));else switch(ri){case n.DataType.Number:tt='right';break;case n.DataType.Boolean:tt='center';break;default:tt='left'}bt[ct]={fontWeight:o.font&&o.font.bold?'bold':'none',fontStyle:o.font&&o.font.italic?'italic':'none',textDecoration:o.font&&o.font.underline?'underline':'none',textAlign:tt,fontFamily:o.font&&o.font.family?o.font.family:'',fontSize:o.font&&o.font.size?o.font.size+'px':'',color:o.font&&o.font.color?o.font.color:'',backgroundColor:o.fill&&o.fill.color?o.fill.color:'',format:n.xlsx.Workbook._parseExcelFormat(c)};o.font&&lt.indexOf(o.font.family)===-1&&lt.push(o.font.family)}if(c&&n.isNumber(c.rowSpan)&&n.isNumber(c.colSpan))for(it=h;it<h+c.rowSpan;it++)for(rt=e;rt<e+c.colSpan;rt++)ct=it*k+rt,kt[ct]=new t.CellRange(h,e,h+c.rowSpan-1,e+c.colSpan-1)}else r.setCellData(p?h-1:h,e,''),this._setColumn(ut,e,undefined);s&&(this._checkParentCollapsed(vt,s.groupLevel)||s.visible||s.visible==undefined||(r.rows[p?h-1:h].visible=s.visible),r.rows[p?h-1:h].wordWrap=!!s.style&&!!s.style.wordWrap||yt)}for(a&&(a.isCollapsed=at),l.frozenPane&&(ht=l.frozenPane.columns,n.isNumber(ht)&&!isNaN(ht)&&(r.frozenColumns=ht),d=l.frozenPane.rows,n.isNumber(d)&&!isNaN(d)&&(r.frozenRows=p&&d>0?d-1:d)),e=0;e<r.columnHeaders.columns.length;e++)b=ut[e],w=r.columns[e],w.isRequired=!1,p?(nt=pt?pt.cells[e]:undefined,nt&&nt.value?(gt=n.xlsx.Workbook._parseExcelFormat(nt),ft=n.Globalize.format(nt.value,gt)):ft=this._numAlpha(e)):ft=this._numAlpha(e),w.header=ft,b&&(b.dataType===n.DataType.Boolean&&(w.dataType=b.dataType),w.format=b.format,w.align=b.hAlign,w.wordWrap=w.wordWrap||b.wordWrap);f&&(r.wj_sheetInfo={name:l.name,visible:l.visible!==!1,styledCells:bt,mergedRanges:kt,fonts:lt});f&&g>0&&f.push(r)}},i.save=function(n,t,i){var r=this._saveFlexGridToWorkbook(n,t);return i&&r.save(i),r},i.saveAsync=function(n,t,i,r,u){var f=this._saveFlexGridToWorkbook(n,t);return f.saveAsync(i,r,u),f},i.load=function(t,i,r){var u,f,e=this;if(i instanceof Blob)f=new FileReader,f.onload=function(){var i=n.xlsx.Workbook._base64EncArr(new Uint8Array(f.result));u=new n.xlsx.Workbook;u.load(i);e._loadToFlexGrid(t,u,r)},f.readAsArrayBuffer(i);else if(i instanceof n.xlsx.Workbook)e._loadToFlexGrid(t,i,r);else{if(i instanceof ArrayBuffer)i=n.xlsx.Workbook._base64EncArr(new Uint8Array(i));else if(!n.isString(i))throw'Invalid workbook.';u=new n.xlsx.Workbook;u.load(i);e._loadToFlexGrid(t,u,r)}},i.loadAsync=function(t,i,r,u,f){var e,o,s=this;if(i instanceof Blob)o=new FileReader,o.onload=function(){var i=n.xlsx.Workbook._base64EncArr(new Uint8Array(o.result));e=new n.xlsx.Workbook;e.loadAsync(i,function(n){s._loadToFlexGrid(t,n,r);u&&u(n)},f)},o.readAsArrayBuffer(i);else if(i instanceof n.xlsx.Workbook)s._loadToFlexGrid(t,i,r),u&&u(i);else{if(i instanceof ArrayBuffer)i=n.xlsx.Workbook._base64EncArr(new Uint8Array(i));else if(!n.isString(i))throw'Invalid workbook.';e=new n.xlsx.Workbook;e.loadAsync(i,function(n){s._loadToFlexGrid(t,n,r);u&&u(n)},f)}},i._exportFlexGrid=function(i,r,u){var d=[],s=[],o={columns:[],rows:[],summaryBelow:!1},tt=u?u.includeColumnHeaders!=null?u.includeColumnHeaders:u.includeColumnHeader!=null?u.includeColumnHeader:!0:!0,b=u?u.includeRowHeaders!=null?u.includeRowHeaders:!1:!1,w=u?u.includeCellStyles!=null?u.includeCellStyles:u.needGetCellStyle!=null?u.needGetCellStyle:!0:!0,a=u?u.includeColumns:null,h,v,c,f,e,p,y,g,it,k,nt=0,rt=0,l=0;if(p=i.wj_sheetInfo,o.name=p?p.name:'',o.visible=p?p.visible!==!1:!0,o.style={font:{family:'Arial',size:14}},o.columns=[],!p&&w&&(y=document.createElement('div'),y.style.visibility='hidden',i.hostElement.appendChild(y)),b){for(f=0;f<i.rowHeaders.rows.length;f++)for(s[f]=[],o.columns[f]=[],e=0;e<i.rowHeaders.columns.length;e++)v=i._getBindingColumn(i.rowHeaders,f,i.rowHeaders.columns[e]),c=this._getColumnSetting(v,i.columnHeaders.columns.defaultSize),s[f][e]=c,o.columns[f][e]=c;l=e}if(tt&&i.columnHeaders.rows.length>0){for(f=0;f<i.columnHeaders.rows.length;f++){for(s[f]||(s[f]=[]),o.columns[f]||(o.columns[f]=[]),e=0;e<i.columnHeaders.columns.length;e++)v=i._getBindingColumn(i.rowHeaders,f,i.columnHeaders.columns[e]),c=this._getColumnSetting(v,i.columnHeaders.columns.defaultSize),s[f][l+e]=c,(!a||a(v))&&o.columns[f].push(c);l=0;h={};b&&(l=this._parseFlexGridRowToSheetRow(i.topLeftCells,h,f,0,s,w,y,!1,0,a));this._parseFlexGridRowToSheetRow(i.columnHeaders,h,f,l,s,w,y,!1,0,a);h.cells.length>0&&(d[f]=h)}rt=f}else for(s[0]||(s[0]=[]),o.columns[f]||(o.columns[f]=[]),e=0;e<i.columnHeaders.columns.length;e++)v=i.columnHeaders.columns[e],c=this._getColumnSetting(v,i.columnHeaders.columns.defaultSize),s[0][l+e]=c,(!a||a(v))&&o.columns[f].push(c);for(o.columns=s,f=0;f<i.cells.rows.length;f++)l=0,h={},g=i.rows[f],k=g instanceof t.GroupRow,k&&(it=n.tryCast(g,t.GroupRow),nt=it.level+1),b&&(l=this._parseFlexGridRowToSheetRow(i.rowHeaders,h,f,0,s,w,y,k,nt,a)),this._parseFlexGridRowToSheetRow(i.cells,h,f,l,s,w,y,k,nt,a),h.cells.length>0&&(d[rt+f]=h);o.rows=d;o.frozenPane={rows:tt?i.frozenRows+i.columnHeaders.rows.length:i.frozenRows,columns:b?i.frozenColumns+i.rowHeaders.columns.length:i.frozenColumns};r.sheets.push(o);!p&&w&&i.hostElement.removeChild(y)},i._saveFlexGridToWorkbook=function(i,r){var g=new n.xlsx.Workbook,s=new n.xlsx.WorkSheet,nt=new n.xlsx.WorkbookFrozenPane,ut=r&&r.includeColumnHeaders!=null?r.includeColumnHeaders:!0,d=r&&r.includeRowHeaders!=null?r.includeRowHeaders:!1,p=r&&r.includeCellStyles!=null?r.includeCellStyles:!0,ot=r?r.activeWorksheet:null,c=r?r.includeColumns:null,e,a,w,v,y,o,u,f,tt,l,k,ft,b,it=0,rt=0,et=0,h=0;if(tt=i.wj_sheetInfo,s.name=r?r.sheetName:'',s.visible=r?r.sheetVisible!==!1:!0,s.style=new n.xlsx.WorkbookStyle,s.style.font=new n.xlsx.WorkbookFont,s.style.font.family='Arial',s.style.font.size=14,o=[],!tt&&p&&(l=document.createElement('div'),l.style.visibility='hidden',i.hostElement.appendChild(l)),d){for(u=0;u<i.rowHeaders.rows.length;u++)for(o[u]=[],f=0;f<i.rowHeaders.columns.length;f++)w=i._getBindingColumn(i.rowHeaders,u,i.rowHeaders.columns[f]),v=this._getColumnSetting(w,i.columnHeaders.columns.defaultSize),o[u][f]=v,u===0&&(y=new n.xlsx.WorkbookColumn,y._deserialize(v),s._addWorkbookColumn(y,f));h=f}if(ut&&i.columnHeaders.rows.length>0){for(u=0;u<i.columnHeaders.rows.length;u++){for(o[u]||(o[u]=[]),f=0;f<i.columnHeaders.columns.length;f++)w=i._getBindingColumn(i.columnHeaders,u,i.columnHeaders.columns[f]),v=this._getColumnSetting(w,i.columnHeaders.columns.defaultSize),o[u][h+f]=v,u===0&&(!c||c(w))&&(y=new n.xlsx.WorkbookColumn,y._deserialize(v),s._addWorkbookColumn(y));h=0;e={};a=new n.xlsx.WorkbookRow;d&&(h=this._parseFlexGridRowToSheetRow(i.topLeftCells,e,u,0,o,p,l,!1,0,c));this._parseFlexGridRowToSheetRow(i.columnHeaders,e,u,h,o,p,l,!1,0,c);e.cells.length>0&&(a._deserialize(e),s._addWorkbookRow(a,u))}rt=u}else for(o[0]||(o[0]=[]),f=0;f<i.columnHeaders.columns.length;f++)w=i._getBindingColumn(i.columnHeaders,0,i.columnHeaders.columns[f]),v=this._getColumnSetting(w,i.columnHeaders.columns.defaultSize),o[0][h+f]=v,(!c||c(w))&&(y=new n.xlsx.WorkbookColumn,y._deserialize(v),s._addWorkbookColumn(y));for(u=0;u<i.cells.rows.length;u++)(h=0,e={},a=new n.xlsx.WorkbookRow,k=i.rows[u],k instanceof t._NewRowTemplate)||(b=k instanceof t.GroupRow,b&&(ft=n.tryCast(k,t.GroupRow),it=ft.level+1),d&&(h=this._parseFlexGridRowToSheetRow(i.rowHeaders,e,u,0,o,p,l,b,it,c)),this._parseFlexGridRowToSheetRow(i.cells,e,u,h,o,p,l,b,it,c),e.cells.length>0&&(a._deserialize(e),s._addWorkbookRow(a,rt+u)));for(et=i.cells.rows.length,u=0;u<i.columnFooters.rows.length;u++)h=0,e={},a=new n.xlsx.WorkbookRow,k=i.columnFooters.rows[u],b=k instanceof t.GroupRow,d&&(h=this._parseFlexGridRowToSheetRow(i.rowHeaders,e,u,0,o,p,l,b,0,c)),this._parseFlexGridRowToSheetRow(i.columnFooters,e,u,h,o,p,l,b,0,c),e.cells.length>0&&(a._deserialize(e),s._addWorkbookRow(a,rt+et+u));return nt.rows=ut?i.frozenRows+i.columnHeaders.rows.length:i.frozenRows,nt.columns=d?i.frozenColumns+i.rowHeaders.columns.length:i.frozenColumns,s.frozenPane=nt,g._addWorkSheet(s),!tt&&p&&i.hostElement.removeChild(l),g.activeWorksheet=ot,g},i._loadToFlexGrid=function(i,r,u){var ti=u&&u.includeColumnHeaders!=null?u.includeColumnHeaders:!0,y=u&&u.includeColumnHeaders!=null?u.includeColumnHeaders:!0,vt=u&&u.sheetIndex!=null&&!isNaN(u.sheetIndex)?u.sheetIndex:0,ii=u?u.sheetName:null,ri=u?u.sheetVisible:!0,ui=u&&(u.sheetIndex!=null&&!isNaN(u.sheetIndex)||u.sheetName!=null||u.sheetVisible!=null),f=0,s=0,nt,tt,a,it,w,p,rt,yt,d,kt,o,c,dt,b,ut,h,ft,et,gt,pt,l,ot,k,v,st,e,wt,bt,ht,ni,g,ct=!1,lt={},at;if(i.itemsSource=null,i.columns.clear(),i.rows.clear(),i.frozenColumns=0,i.frozenRows=0,wt={},bt={},s=0,it=[],ht=[],vt<0||vt>=r.sheets.length)throw'The sheet index option is out of the sheet range of current workbook.';if(c=r.sheets[vt],c.rows!=null){for(ti&&(s=1,c.rows.length<=1&&(y=!1,s=0),yt=c.rows[0]),b=this._getColumnCount(c.rows),dt=this._getRowCount(c.rows,b),gt=c.summaryBelow,a=c.columns||c.cols,f=0;f<b;f++)i.columns.push(new t.Column),!a[f]||(isNaN(+a[f].width)||(i.columns[f].width=+a[f].width),a[f].visible||a[f].visible==undefined||(i.columns[f].visible=!!a[f].visible),a[f].style&&!!a[f].style.wordWrap&&(i.columns[f].wordWrap=a[f].style.wordWrap));for(;s<dt;s++){if(ut=!1,at=!0,o=c.rows[s],o)for(ft=s+1;ft<c.rows.length;)if(et=c.rows[ft],et){(isNaN(o.groupLevel)&&!isNaN(et.groupLevel)||!isNaN(o.groupLevel)&&o.groupLevel<et.groupLevel)&&(ut=!0);break}else ft++;for(ut&&!gt?(l&&(l.isCollapsed=ct),l=new t.GroupRow,l.isReadOnly=!1,ct=o.collapsed==null?!1:o.collapsed,l.level=isNaN(o.groupLevel)?0:o.groupLevel,lt[l.level]=ct,this._checkParentCollapsed(lt,l.level)&&l._setFlag(t.RowColFlags.ParentCollapsed,!0),i.rows.push(l)):(pt=new t.Row,o&&this._checkParentCollapsed(lt,o.groupLevel)&&pt._setFlag(t.RowColFlags.ParentCollapsed,!0),i.rows.push(pt)),!o||!o.height||isNaN(o.height)||(i.rows[y?s-1:s].height=o.height),f=0;f<b;f++)if(o){if(h=o.cells[f],v=h?h.formula:undefined,v&&v[0]!=='='&&(v='='+v),v=v?this._parseToFlexSheetFormula(v):undefined,i.setCellData(y?s-1:s,f,v&&ui?v:this._getItemValue(h)),ut||this._setColumn(it,f,h),st=s*b+f,e=h?h.style:undefined,e){if(at=at&&!!e.wordWrap,ni=this._getItemType(h),e.hAlign)g=n.xlsx.Workbook._parseHAlignToString(n.asEnum(e.hAlign,n.xlsx.HAlign));else switch(ni){case n.DataType.Number:g='right';break;case n.DataType.Boolean:g='center';break;default:g='left'}wt[st]={fontWeight:e.font&&e.font.bold?'bold':'none',fontStyle:e.font&&e.font.italic?'italic':'none',textDecoration:e.font&&e.font.underline?'underline':'none',textAlign:g,fontFamily:e.font&&e.font.family?e.font.family:'',fontSize:e.font&&e.font.size?e.font.size+'px':'',color:e.font&&e.font.color?e.font.color:'',backgroundColor:e.fill&&e.fill.color?e.fill.color:'',format:n.xlsx.Workbook._parseExcelFormat(h)};e.font&&ht.indexOf(e.font.family)===-1&&ht.push(e.font.family)}if(h&&n.isNumber(h.rowSpan)&&h.rowSpan>0&&n.isNumber(h.colSpan)&&h.colSpan>0&&(h.rowSpan>1||h.colSpan>1))for(nt=s;nt<s+h.rowSpan;nt++)for(tt=f;tt<f+h.colSpan;tt++)st=nt*b+tt,bt[st]=new t.CellRange(s,f,s+h.rowSpan-1,f+h.colSpan-1)}else i.setCellData(y?s-1:s,f,''),this._setColumn(it,f,undefined);o&&(this._checkParentCollapsed(lt,o.groupLevel)||o.visible||o.visible==undefined||(i.rows[y?s-1:s].visible=o.visible),i.rows[y?s-1:s].wordWrap=!!o.style&&!!o.style.wordWrap||at)}for(l&&(l.isCollapsed=ct),c.frozenPane&&(ot=c.frozenPane.columns,n.isNumber(ot)&&!isNaN(ot)&&(i.frozenColumns=ot),k=c.frozenPane.rows,n.isNumber(k)&&!isNaN(k)&&(i.frozenRows=y&&k>0?k-1:k)),f=0;f<i.columnHeaders.columns.length;f++)w=it[f],p=i.columns[f],p.isRequired=!1,y?(d=yt?yt.cells[f]:undefined,d&&d.value?(kt=n.xlsx.Workbook._parseExcelFormat(d),rt=n.Globalize.format(d.value,kt)):rt=this._numAlpha(f)):rt=this._numAlpha(f),p.header=rt,w&&(w.dataType===n.DataType.Boolean&&(p.dataType=w.dataType),p.format=w.format,p.align=w.hAlign,p.wordWrap=p.wordWrap||w.wordWrap);i.wj_sheetInfo={name:ii||c.name,visible:ri===!0?!0:c.visible!==!1,styledCells:wt,mergedRanges:bt,fonts:ht}}},i._parseFlexGridRowToSheetRow=function(t,i,r,u,f,e,o,s,h,c){var k,l,d,a,v,y,tt,ut,it,g,ot,w,b,ft,et,rt,p,ht=!1,st,nt,ct;for(k=t.grid,rt=k.wj_sheetInfo,l=t.rows[r],ct=l.recordIndex!=null?l.recordIndex:0,i.cells||(i.cells=[]),i.visible=l.isVisible,i.height=l.renderHeight||t.rows.defaultSize,i.groupLevel=s?h-1:h,s&&(i.collapsed=l.isCollapsed),l.wordWrap&&(i.style={wordWrap:l.wordWrap}),(l.constructor===n.grid.Row||l.constructor===n.grid._NewRowTemplate||n.grid.detail&&l.constructor===n.grid.detail.DetailRow||n.grid.multirow&&l.constructor===n.grid.multirow._MultiRow)&&(ht=!0),a=0;a<t.columns.length;a++)if(et=1,ft=1,nt=!1,st=k._getBindingColumn(t,r,t.columns[a]),b=null,rt&&t===k.cells?(ot=r*t.columns.length+a,rt.mergedRanges&&(b=rt.mergedRanges[ot]),rt.styledCells&&(w=rt.styledCells[ot])):e&&(w=this._getCellStyle(t,o,r,a)||{}),b||(b=k.getMergedRange(t,r,a,!1)),b?r===b.topRow&&a===b.leftCol&&(ft=b.bottomRow-b.topRow+1,et=this._getColSpan(t,b,c),nt=!0):nt=!0,!c||c(st))if(d=f[ct][a+u],ht||s?(y=nt?t.getCellData(r,a,!0):null,tt=nt?t.getCellData(r,a,!1):null,it=!1,y&&n.isString(y)&&y.length>1&&y[0]==='='&&(it=!0),p=n.isDate(tt),v=w&&w.format?n.xlsx.Workbook._parseCellFormat(w.format,p):d&&d.style&&d.style.format?n.xlsx.Workbook._parseCellFormat(d.style.format,p):null,v||(p?v='m/d/yyyy':n.isNumber(tt)&&!st.dataMap?v=n.isInt(tt)?'#,##0':'#,##0.00':it?(g=y.toLowerCase(),g==='=now()'?(v='m/d/yyyy h:mm',p=!0):g==='=today()'||g.substring(0,g.indexOf('('))==='=date'?(v='m/d/yyyy',p=!0):g.substring(0,g.indexOf('('))==='=time'&&(v='h:mm AM/PM',p=!0)):v='General')):(y=nt?k.columnHeaders.getCellData(0,a,!0):null,v='General'),t===k.cells&&s&&l.hasChildren&&a===k.columns.firstVisibleIndex){if(y?ut=y:nt&&(ut=l.getGroupHeader().replace(/<\/?\w+>/g,'')),ut==null&&!w)continue;p=n.isDate(ut);i.cells.push({value:ut,isDate:p,formula:it?this._parseToExcelFormula(y,p):null,colSpan:et,rowSpan:ft,style:this._extend(this._parseCellStyle(w),{format:v,font:{bold:!0},hAlign:n.xlsx.HAlign.Left,indent:h-1})})}else i.cells.push({value:it?undefined:v==='General'?y:tt,isDate:p,formula:it?this._parseToExcelFormula(y,p):null,colSpan:et,rowSpan:ft,style:this._extend(this._parseCellStyle(w),{format:v,hAlign:w&&w.textAlign?n.xlsx.Workbook._parseStringToHAlign(w.textAlign):n.isDate(tt)&&d.style.hAlign==null?n.xlsx.HAlign.Left:n.asEnum(d.style.hAlign,n.xlsx.HAlign,!0),vAlign:ft>1?t===k.cells?n.xlsx.VAlign.Top:n.xlsx.VAlign.Center:null})});return u+a},i._parseCellStyle=function(t){var i=t&&t.fontSize?+t.fontSize.substring(0,t.fontSize.indexOf('px')):null;return isNaN(i)&&(i=null),{font:{bold:t&&t.fontWeight&&(t.fontWeight==='bold'||!isNaN(+t.fontWeight)&&+t.fontWeight>=700),italic:t&&t.fontStyle&&t.fontStyle==='italic',underline:t&&t.textDecoration&&t.textDecoration==='underline',family:t?this._parseToExcelFontFamily(t.fontFamily):null,size:i,color:t&&t.color?t.color:null},fill:{color:t&&t.backgroundColor?t.backgroundColor:null},borders:t?this._parseBorder(t):null,hAlign:t&&t.textAlign?n.xlsx.Workbook._parseStringToHAlign(t.textAlign):null}},i._parseBorder=function(n){var t,i;for(var r in{Left:0,Right:0,Top:0,Bottom:0})i=this._parseEgdeBorder(n,r),i&&(t||(t={}),t[r.toLowerCase()]=i);return t},i._parseEgdeBorder=function(t,i){var r,f='border'+i+'Color',u=t['border'+i+'Style'],e;if(u&&u!=='none'&&u!=='hidden'){r={};u=u.toLowerCase();switch(u){case'dotted':r.style=n.xlsx.BorderStyle.Dotted;break;case'dashed':r.style=n.xlsx.BorderStyle.Dashed;break;case'double':r.style=n.xlsx.BorderStyle.Double;break;default:r.style=n.xlsx.BorderStyle.Thin}t[f]&&(e=new n.Color(t[f]),r.color=e.toString())}return r},i._parseToExcelFontFamily=function(n){var t;return n?(t=n.split(','),t&&t.length>0&&(n=t[0].replace(/\"|\'/g,''))):n='Arial',n},i._parseToExcelFormula=function(t,i){var u=t.substring(1,t.indexOf('(')).toLowerCase(),r;switch(u){case'ceiling':case'floor':t=t.substring(0,t.lastIndexOf(')'))+', 1)';break;case'text':r=t.substring(t.lastIndexOf(','),t.lastIndexOf('\"'));r=n.xlsx.Workbook._parseCellFormat(r.substring(r.lastIndexOf('\"')+1),i);t=t.substring(0,t.lastIndexOf(',')+1)+'\"'+r+'\")'}return t},i._parseToFlexSheetFormula=function(t){var u=t.substring(1).match(/\W+(\w+)\(/),r,f,e,o,i;f=u&&u.length===2?u[1]:t.substring(1,t.indexOf('('));e=t.indexOf(f);switch(f.toLowerCase()){case'ceiling':case'floor':t=t.substring(0,t.lastIndexOf(','))+')';break;case'text':r=t.substring(e);i=r.substring(r.indexOf('\"'),r.lastIndexOf('\"'));i=i.substring(i.lastIndexOf('\"')+1);o=i.indexOf('0')>-1?0:'';i=n.xlsx.Workbook._parseExcelFormat({value:o,style:{format:i}});i=i.replace(/m+/g,function(n){return n.toUpperCase()}).replace(/Y+/g,function(n){return n.toLowerCase()}).replace(/M+:?|:?M+/gi,function(n){return n.indexOf(':')>-1?n.toLowerCase():n});t=t.substring(0,e)+r.substring(0,r.indexOf('\"')+1)+i+'\")'}return t},i._getColumnSetting=function(t,i){var r=t.renderWidth;return r=r||i,{autoWidth:!0,width:r,visible:t.visible,style:{format:t.format?n.xlsx.Workbook._parseCellFormat(t.format,t.dataType===n.DataType.Date):'',hAlign:n.xlsx.Workbook._parseStringToHAlign(this._toExcelHAlign(t.getAlignment())),wordWrap:t.wordWrap}}},i._toExcelHAlign=function(n){return(n=n?n.trim().toLowerCase():n,!n)?n:n.indexOf('center')>-1?'center':n.indexOf('right')>-1||n.indexOf('end')>-1?'right':n.indexOf('justify')>-1?'justify':'left'},i._getColumnCount=function(t){for(var f=0,i=0,r,u=0;u<t.length;u++)r=t[u]&&t[u].cells?t[u].cells:[],r&&r.length>0&&(i=r.length,n.isInt(r[i-1].colSpan)&&r[i-1].colSpan>1&&(i=i+r[i-1].colSpan-1),i>f&&(f=i));return f},i._getRowCount=function(t,i){for(var f=t.length,u=f-1,o=0,e,s,r;o<i;o++)n:for(;u>=0;u--)if(e=t[u],s=e&&e.cells?e.cells:[],r=s[o],r&&(r.value!=null&&r.value!==''||n.isInt(r.rowSpan)&&r.rowSpan>1)){n.isInt(r.rowSpan)&&r.rowSpan>1&&u+r.rowSpan>f&&(f=u+r.rowSpan);break n}return f},i._numAlpha=function(n){var t=Math.floor(n/26)-1;return(t>-1?this._numAlpha(t):'')+String.fromCharCode(65+n%26)},i._getItemType=function(t){return t===undefined||t===null||t.value===undefined||t.value===null||isNaN(t.value)?undefined:n.getType(t.value)},i._setColumn=function(t,i,r){var f,e,o,u=t[i];u?(f=this._getItemType(r),u.dataType!==f&&u.dataType===n.DataType.Boolean&&f!==n.DataType.Boolean&&(u.dataType=f),r&&r.value!=null&&r.value!==''&&(e=n.xlsx.Workbook._parseExcelFormat(r),e&&u.format!==e&&e!=='General'&&(u.format=e)),r&&r.style&&(r.style.hAlign&&(o=n.xlsx.Workbook._parseHAlignToString(n.asEnum(r.style.hAlign,n.xlsx.HAlign))),u.wordWrap=u.wordWrap&&!!r.style.wordWrap),o||f!==n.DataType.Number||(o='right'),u.hAlign=o):t[i]={dataType:this._getItemType(r),format:n.xlsx.Workbook._parseExcelFormat(r),hAlign:'',wordWrap:!0}},i._getItemValue=function(t){if(t===undefined||t===null||t.value===undefined||t.value===null)return undefined;var i=t.value;return n.isNumber(i)&&isNaN(i)?'':i instanceof Date&&isNaN(i.getTime())?'':i},i._getCellStyle=function(n,t,i,r){try{this._resetCellStyle(t);n.grid.cellFactory.updateCell(n,i,r,t)}catch(u){return undefined}return window.getComputedStyle(t)},i._resetCellStyle=function(n){for(var t in n.style)typeof n.style[t]=='string'&&isNaN(+t)&&(n.style[t]='')},i._extend=function(t,i){var r,u;for(r in i)u=i[r],n.isObject(u)&&t[r]?n.copy(t[r],u):t[r]=u;return t},i._checkParentCollapsed=function(n,t){var i=!1;return Object.keys(n).forEach(function(r){n[r]===!0&&i===!1&&!isNaN(t)&&+r<t&&(i=!0)}),i},i._getColSpan=function(n,t,i){for(var u=0,r=t.leftCol;r<=t.rightCol;r++)(!i||i(n.columns[r]))&&u++;return u},i}();i.FlexGridXlsxConverter=r})(i=t.xlsx||(t.xlsx={}))})(t=n.grid||(n.grid={}))})(wijmo||(wijmo={}))
/*
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    */
var __extends,wijmo;(function(n){var t;(function(){(function(n){if(typeof localExports=="object"&&typeof localModule!="undefined")localModule.localExports=n();else if(typeof localDefine=="function"&&localDefine.amd)localDefine([],n);else{var t;t=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:this;t.PDFDocument=n()}})(function(){return function n(t,i,r){function u(f,o){var h,c,s;if(!i[f]){if(!t[f]){if(h=typeof localRequire=="function"&&localRequire,!o&&h)return h(f,!0);if(e)return e(f,!0);c=new Error("Cannot find localModule '"+f+"'");throw c.code="localModule_NOT_FOUND",c;}s=i[f]={localExports:{}};t[f][0].call(s.localExports,function(n){var i=t[f][1][n];return u(i?i:n)},s,s.localExports,n,t,i,r)}return i[f].localExports}for(var e=typeof localRequire=="function"&&localRequire,f=0;f<r.length;f++)u(r[f]);return u}({1:[function(n,t){var i;i=function(){function n(n){this.data=n!=null?n:[];this.pos=0;this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(n){return this.data[this.pos++]=n},n.prototype.byteAt=function(n){return this.data[n]},n.prototype.readBool=function(){return!!this.readByte()},n.prototype.writeBool=function(n){return this.writeByte(n?1:0)},n.prototype.readUInt32=function(){var n,t,i,r;return n=this.readByte()*16777216,t=this.readByte()<<16,i=this.readByte()<<8,r=this.readByte(),n+t+i+r},n.prototype.writeUInt32=function(n){return this.writeByte(n>>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(n&255)},n.prototype.readInt32=function(){var n;return n=this.readUInt32(),n>=2147483648?n-4294967296:n},n.prototype.writeInt32=function(n){return n<0&&(n+=4294967296),this.writeUInt32(n)},n.prototype.readUInt16=function(){var n,t;return n=this.readByte()<<8,t=this.readByte(),n|t},n.prototype.writeUInt16=function(n){return this.writeByte(n>>8&255),this.writeByte(n&255)},n.prototype.readInt16=function(){var n;return n=this.readUInt16(),n>=32768?n-65536:n},n.prototype.writeInt16=function(n){return n<0&&(n+=65536),this.writeUInt16(n)},n.prototype.readString=function(n){for(var t,r=[],i=t=0;0<=n?t<n:t>n;i=0<=n?++t:--t)r[i]=String.fromCharCode(this.readByte());return r.join('')},n.prototype.writeString=function(n){var r,t,i,u;for(u=[],r=t=0,i=n.length;0<=i?t<i:t>i;r=0<=i?++t:--t)u.push(this.writeByte(n.charCodeAt(r)));return u},n.prototype.stringAt=function(n,t){return this.pos=n,this.readString(t)},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(n){return this.writeInt16(n)},n.prototype.readLongLong=function(){var n,t,i,r,u,f,e,o;return(n=this.readByte(),t=this.readByte(),i=this.readByte(),r=this.readByte(),u=this.readByte(),f=this.readByte(),e=this.readByte(),o=this.readByte(),n&128)?((n^255)*0x100000000000000+(t^255)*281474976710656+(i^255)*1099511627776+(r^255)*4294967296+(u^255)*16777216+(f^255)*65536+(e^255)*256+(o^255)+1)*-1:n*0x100000000000000+t*281474976710656+i*1099511627776+r*4294967296+u*16777216+f*65536+e*256+o},n.prototype.writeLongLong=function(n){var t,i;return t=Math.floor(n/4294967296),i=n&4294967295,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(t&255),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(i&255)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(n){return this.writeInt32(n)},n.prototype.slice=function(n,t){return this.data.slice(n,t)},n.prototype.read=function(n){for(var t,i=[],r=t=0;0<=n?t<n:t>n;r=0<=n?++t:--t)i.push(this.readByte());return i},n.prototype.write=function(n){var r,t,u,i;for(i=[],t=0,u=n.length;t<u;t++)r=n[t],i.push(this.writeByte(r));return i},n}();t.localExports=i},{}],2:[function(n,t){(function(i){var r,u,f,e,o,s,h={}.hasOwnProperty,c=function(n,t){function r(){this.constructor=n}for(var i in t)h.call(t,i)&&(n[i]=t[i]);return r.prototype=t.prototype,n.prototype=new r,n.__super__=t.prototype,n};s=n('stream');o=n('fs');u=n('./object');e=n('./reference');f=n('./page');r=function(t){function r(n){var t,u,f,i;if(this.options=n!=null?n:{},r.__super__.constructor.apply(this,arguments),this.version=1.3,this.compress=(f=this.options.compress)!=null?f:!0,this._pageBuffer=[],this._pageBufferStart=0,this._offsets=[],this._waiting=0,this._ended=!1,this._offset=0,this._root=this.ref({Type:'Catalog',Pages:this.ref({Type:'Pages',Count:0,Kids:[]})}),this.page=null,this.initColor(),this.initVector(),this.initFonts(),this.initText(),this.initImages(),this.info={Producer:'PDFKit',Creator:'PDFKit',CreationDate:new Date},this.options.info){i=this.options.info;for(t in i)u=i[t],this.info[t]=u}if(this._write("%PDF-"+this.version),this._write("%\xFF\xFF\xFF\xFF"),this.options.pageAdding)this.on('pageAdding',this.options.pageAdding);if(this.options.pageAdded)this.on('pageAdded',this.options.pageAdded);this.options.autoFirstPage!==!1&&this.addPage()}var s;return c(r,t),s=function(n){var i,t,u=[];for(t in n)i=n[t],u.push(r.prototype[t]=i);return u},s(n('./mixins/color')),s(n('./mixins/vector')),s(n('./mixins/fonts')),s(n('./mixins/text')),s(n('./mixins/images')),s(n('./mixins/annotations')),r.prototype.addPage=function(n){var t;return n==null&&(n=this.options),this.emit('pageAdding',this,n),this.options.bufferPages||this.flushPages(),this.page=new f(this,n),this._pageBuffer.push(this.page),t=this._root.data.Pages.data,t.Kids.push(this.page.dictionary),t.Count++,this.x=this.page.margins.left,this.y=this.page.margins.top,this._ctm=[1,0,0,1,0,0],this.transform(1,0,0,-1,0,this.page.height),this.emit('pageAdded',this),this},r.prototype.bufferedPageRange=function(){return{start:this._pageBufferStart,count:this._pageBuffer.length}},r.prototype.switchToPage=function(n){var t;if(!(t=this._pageBuffer[n-this._pageBufferStart]))throw new Error("switchToPage("+n+") out of bounds, current buffer covers pages "+this._pageBufferStart+" to "+(this._pageBufferStart+this._pageBuffer.length-1));return this.page=t},r.prototype.flushPages=function(){var i,n,t,r;for(n=this._pageBuffer,this._pageBuffer=[],this._pageBufferStart+=n.length,t=0,r=n.length;t<r;t++)i=n[t],i.end()},r.prototype.ref=function(n){var t;return t=new e(this,this._offsets.length+1,n),this._offsets.push(null),this._waiting++,t},r.prototype._read=function(){},r.prototype._write=function(n){return i.isBuffer(n)||(n=new i(n+'\n','binary')),this.push(n),this._offset+=n.length},r.prototype.addContent=function(n){return this.page.write(n),this},r.prototype._refEnd=function(n){return this._offsets[n.id-1]=n.offset,--this._waiting==0&&this._ended?(this._finalize(),this._ended=!1):void 0},r.prototype.write=function(n,t){var i;i=new Error('PDFDocument#write is deprecated, and will be removed in a future version of PDFKit. Please pipe the document into a Node stream.');console.warn(i.stack);this.pipe(o.createWriteStream(n));this.end();return this.once('end',t)},r.prototype.output=function(){throw new Error('PDFDocument#output is deprecated, and has been removed from PDFKit. Please pipe the document into a Node stream.');},r.prototype.end=function(){var u,t,f,n,i,r;this.emit('ending');this.flushPages();this._info=this.ref();i=this.info;for(t in i)n=i[t],typeof n=='string'&&(n=new String(n)),this._info.data[t]=n;this._info.end();r=this._fontFamilies;for(f in r)u=r[f],u.finalize();return this._root.end(),this._root.data.Pages.end(),this._waiting===0?this._finalize():this._ended=!0},r.prototype._finalize=function(){var n,r,t,f,i;for(r=this._offset,this._write("xref"),this._write("0 "+(this._offsets.length+1)),this._write("0000000000 65535 f "),i=this._offsets,t=0,f=i.length;t<f;t++)n=i[t],n=('0000000000'+n).slice(-10),this._write(n+' 00000 n ');return this._write('trailer'),this._write(u.convert({Size:this._offsets.length+1,Root:this._root,Info:this._info})),this._write('startxref'),this._write(""+r),this._write('%%EOF'),this.push(null)},r.prototype.toString=function(){return"[object PDFDocument]"},r}(s.Readable);t.localExports=r}).call(this,n("buffer").Buffer)},{"./mixins/annotations":12,"./mixins/color":13,"./mixins/fonts":14,"./mixins/images":15,"./mixins/text":16,"./mixins/vector":17,"./object":18,"./page":19,"./reference":21,buffer:60,fs:59,stream:216}],3:[function(n,t){(function(i){var f,e,u,r;r=n('fontkit');e=function(){function n(){throw new Error('Cannot construct a PDFFont directly.');}return n.open=function(n,t,e,o){var s;if(typeof t=='string'){if(u.isStandardFont(t))return new u(n,t,o)}else i.isBuffer(t)?s=r.create(t,e):t instanceof Uint8Array?s=r.create(new i(t),e):t instanceof ArrayBuffer&&(s=r.create(new i(new Uint8Array(t)),e));if(s==null)throw new Error('Not a supported font format or standard PDF font.');return new f(n,s,o)},n.prototype.encode=function(){throw new Error('Must be implemented by subclasses');},n.prototype.widthOfString=function(){throw new Error('Must be implemented by subclasses');},n.prototype.ref=function(){return this.dictionary!=null?this.dictionary:this.dictionary=this.document.ref()},n.prototype.finalize=function(){if(!this.embedded&&this.dictionary!=null)return this.embed(),this.embedded=!0},n.prototype.embed=function(){throw new Error('Must be implemented by subclasses');},n.prototype.lineHeight=function(n,t){var i;return t==null&&(t=!1),i=t?this.lineGap:0,(this.ascender+i-this.descender)/1e3*n},n.prototype.getAscender=function(n){return this.ascender/1e3*n},n.prototype.getBBox=function(n){return{llx:this.bbox[0]/1e3*n,lly:this.bbox[1]/1e3*n,urx:this.bbox[2]/1e3*n,ury:this.bbox[3]/1e3*n}},n}();t.localExports=e;u=n('./font/standard');f=n('./font/embedded')}).call(this,n("buffer").Buffer)},{"./font/embedded":5,"./font/standard":6,buffer:60,fontkit:165}],4:[function(n,t){var i,r=n('base64-js');i=function(){function n(n){this.bbox=this._parseFontBBox(n[1]);this.ascender=n[4];this.descender=n[5];this.glyphWidths=this._parseGlyphWidths(n[6]);this.charWidths=this._getCharWidths();this.kernPairs=this._parseKerningPairs(n[7]);this.lineGap=this.bbox[3]-this.bbox[1]-(this.ascender-this.descender)}var t={402:131,8211:150,8212:151,8216:145,8217:146,8218:130,8220:147,8221:148,8222:132,8224:134,8225:135,8226:149,8230:133,8364:128,8240:137,8249:139,8250:155,710:136,8482:153,338:140,339:156,732:152,352:138,353:154,376:159,381:142,382:158},i="space:exclam:quotedbl:numbersign:dollar:percent:ampersand:quoteright:parenleft:parenright:asterisk:plus:comma:hyphen:period:slash:zero:one:two:three:four:five:six:seven:eight:nine:colon:semicolon:less:equal:greater:question:at:A:B:C:D:E:F:G:H:I:J:K:L:M:N:O:P:Q:R:S:T:U:V:W:X:Y:Z:bracketleft:backslash:bracketright:asciicircum:underscore:quoteleft:a:b:c:d:e:f:g:h:i:j:k:l:m:n:o:p:q:r:s:t:u:v:w:x:y:z:braceleft:bar:braceright:asciitilde:exclamdown:cent:sterling:fraction:yen:florin:section:currency:quotesingle:quotedblleft:guillemotleft:guilsinglleft:guilsinglright:fi:fl:endash:dagger:daggerdbl:periodcentered:paragraph:bullet:quotesinglbase:quotedblbase:quotedblright:guillemotright:ellipsis:perthousand:questiondown:grave:acute:circumflex:tilde:macron:breve:dotaccent:dieresis:ring:cedilla:hungarumlaut:ogonek:caron:emdash:AE:ordfeminine:Lslash:Oslash:OE:ordmasculine:ae:dotlessi:lslash:oslash:oe:germandbls:Idieresis:eacute:abreve:uhungarumlaut:ecaron:Ydieresis:divide:Yacute:Acircumflex:aacute:Ucircumflex:yacute:scommaaccent:ecircumflex:Uring:Udieresis:aogonek:Uacute:uogonek:Edieresis:Dcroat:commaaccent:copyright:Emacron:ccaron:aring:Ncommaaccent:lacute:agrave:Tcommaaccent:Cacute:atilde:Edotaccent:scaron:scedilla:iacute:lozenge:Rcaron:Gcommaaccent:ucircumflex:acircumflex:Amacron:rcaron:ccedilla:Zdotaccent:Thorn:Omacron:Racute:Sacute:dcaron:Umacron:uring:threesuperior:Ograve:Agrave:Abreve:multiply:uacute:Tcaron:partialdiff:ydieresis:Nacute:icircumflex:Ecircumflex:adieresis:edieresis:cacute:nacute:umacron:Ncaron:Iacute:plusminus:brokenbar:registered:Gbreve:Idotaccent:summation:Egrave:racute:omacron:Zacute:Zcaron:greaterequal:Eth:Ccedilla:lcommaaccent:tcaron:eogonek:Uogonek:Aacute:Adieresis:egrave:zacute:iogonek:Oacute:oacute:amacron:sacute:idieresis:Ocircumflex:Ugrave:Delta:thorn:twosuperior:Odieresis:mu:igrave:ohungarumlaut:Eogonek:dcroat:threequarters:Scedilla:lcaron:Kcommaaccent:Lacute:trademark:edotaccent:Igrave:Imacron:Lcaron:onehalf:lessequal:ocircumflex:ntilde:Uhungarumlaut:Eacute:emacron:gbreve:onequarter:Scaron:Scommaaccent:Ohungarumlaut:degree:ograve:Ccaron:ugrave:radical:Dcaron:rcommaaccent:Ntilde:otilde:Rcommaaccent:Lcommaaccent:Atilde:Aogonek:Aring:Otilde:zdotaccent:Ecaron:Iogonek:kcommaaccent:minus:Icircumflex:ncaron:tcommaaccent:logicalnot:odieresis:udieresis:notequal:gcommaaccent:eth:zcaron:ncommaaccent:onesuperior:imacron:Euro:universal:existential:suchthat:asteriskmath:congruent:Alpha:Beta:Chi:Epsilon:Phi:Gamma:Eta:Iota:theta1:Kappa:Lambda:Mu:Nu:Omicron:Pi:Theta:Rho:Sigma:Tau:Upsilon:sigma1:Omega:Xi:Psi:Zeta:therefore:perpendicular:radicalex:alpha:beta:chi:delta:epsilon:phi:gamma:eta:iota:phi1:kappa:lambda:nu:omicron:pi:theta:rho:sigma:tau:upsilon:omega1:omega:xi:psi:zeta:similar:Upsilon1:minute:infinity:club:diamond:heart:spade:arrowboth:arrowleft:arrowup:arrowright:arrowdown:second:proportional:equivalence:approxequal:arrowvertex:arrowhorizex:carriagereturn:aleph:Ifraktur:Rfraktur:weierstrass:circlemultiply:circleplus:emptyset:intersection:union:propersuperset:reflexsuperset:notsubset:propersubset:reflexsubset:element:notelement:angle:gradient:registerserif:copyrightserif:trademarkserif:product:dotmath:logicaland:logicalor:arrowdblboth:arrowdblleft:arrowdblup:arrowdblright:arrowdbldown:angleleft:registersans:copyrightsans:trademarksans:parenlefttp:parenleftex:parenleftbt:bracketlefttp:bracketleftex:bracketleftbt:bracelefttp:braceleftmid:braceleftbt:braceex:angleright:integral:integraltp:integralex:integralbt:parenrighttp:parenrightex:parenrightbt:bracketrighttp:bracketrightex:bracketrightbt:bracerighttp:bracerightmid:bracerightbt:apple:a1:a2:a202:a3:a4:a5:a119:a118:a117:a11:a12:a13:a14:a15:a16:a105:a17:a18:a19:a20:a21:a22:a23:a24:a25:a26:a27:a28:a6:a7:a8:a9:a10:a29:a30:a31:a32:a33:a34:a35:a36:a37:a38:a39:a40:a41:a42:a43:a44:a45:a46:a47:a48:a49:a50:a51:a52:a53:a54:a55:a56:a57:a58:a59:a60:a61:a62:a63:a64:a65:a66:a67:a68:a69:a70:a71:a72:a73:a74:a203:a75:a204:a76:a77:a78:a79:a81:a82:a83:a84:a97:a98:a99:a100:a89:a90:a93:a94:a91:a92:a205:a85:a206:a86:a87:a88:a95:a96:a101:a102:a103:a104:a106:a107:a108:a112:a111:a110:a109:a120:a121:a122:a123:a124:a125:a126:a127:a128:a129:a130:a131:a132:a133:a134:a135:a136:a137:a138:a139:a140:a141:a142:a143:a144:a145:a146:a147:a148:a149:a150:a151:a152:a153:a154:a155:a156:a157:a158:a159:a160:a161:a163:a164:a196:a165:a192:a166:a167:a168:a169:a170:a171:a172:a173:a162:a174:a175:a176:a177:a178:a179:a193:a180:a199:a181:a200:a182:a201:a183:a184:a197:a185:a194:a198:a186:a195:a187:a188:a189:a190:a191".split(":"),r=".notdef .notdef .notdef .notdef .notdef .notdef .notdef .notdef .notdef .notdef .notdef .notdef .notdef .notdef .notdef .notdef .notdef .notdef .notdef .notdef .notdef .notdef .notdef .notdef .notdef .notdef .notdef .notdef .notdef .notdef .notdef .notdef space exclam quotedbl numbersign dollar percent ampersand quotesingle parenleft parenright asterisk plus comma hyphen period slash zero one two three four five six seven eight nine colon semicolon less equal greater question at A B C D E F G H I J K L M N O P Q R S T U V W X Y Z bracketleft backslash bracketright asciicircum underscore grave a b c d e f g h i j k l m n o p q r s t u v w x y z braceleft bar braceright asciitilde .notdef Euro .notdef quotesinglbase florin quotedblbase ellipsis dagger daggerdbl circumflex perthousand Scaron guilsinglleft OE .notdef Zcaron .notdef .notdef quoteleft quoteright quotedblleft quotedblright bullet endash emdash tilde trademark scaron guilsinglright oe .notdef zcaron ydieresis space exclamdown cent sterling currency yen brokenbar section dieresis copyright ordfeminine guillemotleft logicalnot hyphen registered macron degree plusminus twosuperior threesuperior acute mu paragraph periodcentered cedilla onesuperior ordmasculine guillemotright onequarter onehalf threequarters questiondown Agrave Aacute Acircumflex Atilde Adieresis Aring AE Ccedilla Egrave Eacute Ecircumflex Edieresis Igrave Iacute Icircumflex Idieresis Eth Ntilde Ograve Oacute Ocircumflex Otilde Odieresis multiply Oslash Ugrave Uacute Ucircumflex Udieresis Yacute Thorn germandbls agrave aacute acircumflex atilde adieresis aring ae ccedilla egrave eacute ecircumflex edieresis igrave iacute icircumflex idieresis eth ntilde ograve oacute ocircumflex otilde odieresis divide oslash ugrave uacute ucircumflex udieresis yacute thorn ydieresis".split(" ");return n.prototype.encodeText=function(n){for(var i,u=[],r=0;r<n.length;r++)i=n.charCodeAt(r),i=t[i]||i,u.push(i.toString(16));return u},n.prototype.glyphsForString=function(n){for(var r,i=[],t=0;t<n.length;t++)r=n.charCodeAt(t),i.push(this.characterToGlyph(r));return i},n.prototype.characterToGlyph=function(n){return r[t[n]||n]||'.notdef'},n.prototype.widthOfGlyph=function(n){return this.glyphWidths[n]||0},n.prototype.getKernPair=function(n,t){return this.kernPairs[n+'\0'+t]||0},n.prototype.advancesForGlyphs=function(n){for(var i,u,r=[],t=0;t<n.length;t++)i=n[t],u=n[t+1],r.push(this.widthOfGlyph(i)+this.getKernPair(i,u));return r},n.prototype._parseFontBBox=function(n){for(var i=n.split(":"),r=[],t=0;t<i.length;t++)r.push(parseInt(i[t]));return r},n.prototype._getCharWidths=function(){for(var t=[],n=0;n<=255;n++)t.push(this.glyphWidths[r[n]]);return t},n.prototype._parseGlyphWidths=function(n){var f=n.split(","),e={},r,s,t,u;if(f.length===1){var o=f[0].match(/(^\d+)-(\d+):(\d+)$/),h=parseInt(o[1]),c=parseInt(o[2]);for(r=parseInt(o[3]),t=h;t<=c;t++)e[i[t]]=r}else for(s=0,t=0;t<f.length;t++)u=f[t].split(":"),u.length==1?r=parseInt(u[0]):(s=parseInt(u[0]),r=parseInt(u[1])),e[i[s++]]=r;return e},n.prototype._parseKerningPairs=function(){return{}},n}();t.localExports=i},{"base64-js":45}],5:[function(n,t){var i,r,u,f={}.hasOwnProperty,e=function(n,t){function r(){this.constructor=n}for(var i in t)f.call(t,i)&&(n[i]=t[i]);return r.prototype=t.prototype,n.prototype=new r,n.__super__=t.prototype,n},o=[].slice;r=n('../font');u=n('../object');i=function(n){function t(n,t,i){this.document=n;this.font=t;this.id=i;this.subset=this.font.createSubset();this.unicode=[[0]];this.widths=[this.font.getGlyph(0).advanceWidth];this.name=this.font.postscriptName;this.scale=1e3/this.font.unitsPerEm;this.ascender=this.font.ascent*this.scale;this.descender=this.font.descent*this.scale;this.lineGap=this.font.lineGap*this.scale;this.bbox=this.font.bbox}var i;return e(t,n),t.prototype.encode=function(n,t){var i,u,e,r,c,f,o,l,a,s,v,h;for(h=this.font.layout(n,t),e=h.glyphs,f=h.positions,o=[],r=s=0,v=e.length;s<v;r=++s){u=e[r];i=this.subset.includeGlyph(u.id);o.push(('0000'+i.toString(16)).slice(-4));(l=this.widths)[i]==null&&(l[i]=u.advanceWidth*this.scale);(a=this.unicode)[i]==null&&(a[i]=u.codePoints);for(c in f[r])f[r][c]*=this.scale;f[r].advanceWidth=u.advanceWidth*this.scale}return[o,f]},t.prototype.widthOfString=function(n,t,i){var r,u;return u=this.font.layout(n,i).advanceWidth,r=t/this.font.unitsPerEm,u*r},t.prototype.embed=function(){var t,e,i,r,n,u,o,c,f,s,h;return u=this.document.ref(),this.subset.encodeStream().pipe(u),r=(((h=this.font['OS/2'])!=null?h.sFamilyClass:void 0)||0)>>8,n=0,this.font.post.isFixedPitch&&(n|=1),1<=r&&r<=7&&(n|=2),n|=4,r===10&&(n|=8),this.font.head.macStyle.italic&&(n|=64),s=function(){var n,t;for(t=[],o=n=0;n<6;o=++n)t.push(String.fromCharCode(Math.random()*26+65));return t}().join(''),f=s+'+'+this.font.postscriptName,t=this.font.bbox,i=this.document.ref({Type:'FontDescriptor',FontName:f,Flags:n,FontBBox:[t.minX*this.scale,t.minY*this.scale,t.maxX*this.scale,t.maxY*this.scale],ItalicAngle:this.font.italicAngle,Ascent:this.ascender,Descent:this.descender,CapHeight:(this.font.capHeight||this.font.ascent)*this.scale,XHeight:(this.font.xHeight||0)*this.scale,StemV:0}),c?i.data.FontFile3=u:i.data.FontFile2=u,i.end(),e=this.document.ref({Type:'Font',Subtype:'CIDFontType2',BaseFont:f,CIDSystemInfo:{Registry:new String('Adobe'),Ordering:new String('Identity'),Supplement:0},FontDescriptor:i,W:[0,this.widths]}),e.end(),this.dictionary.data={Type:'Font',Subtype:'Type0',BaseFont:f,Encoding:'Identity-H',DescendantFonts:[e],ToUnicode:this.toUnicodeCmap()},this.dictionary.end()},i=function(){var t,n,i;return n=1<=arguments.length?o.call(arguments,0):[],i=function(){var i,u,r;for(r=[],i=0,u=n.length;i<u;i++)t=n[i],r.push(('0000'+t.toString(16)).slice(-4));return r}(),i.join('')},t.prototype.toUnicodeCmap=function(){var e,o,t,r,n,u,f,h,c,s;for(e=this.document.ref(),r=[],s=this.unicode,u=0,h=s.length;u<h;u++){for(o=s[u],t=[],f=0,c=o.length;f<c;f++)n=o[f],n>65535&&(n-=65536,t.push(i(n>>>10&1023|55296)),n=56320|n&1023),t.push(i(n));r.push("<"+t.join(' ')+">")}return e.end("/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange\n1 beginbfrange\n<0000> <"+i(r.length-1)+"> ["+r.join(' ')+"]\nendbfrange\nendcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"),e},t}(r);t.localExports=i},{"../font":3,"../object":18}],6:[function(n,t){var i,r,u,f,e={}.hasOwnProperty,o=function(n,t){function r(){this.constructor=n}for(var i in t)e.call(t,i)&&(n[i]=t[i]);return r.prototype=t.prototype,n.prototype=new r,n.__super__=t.prototype,n};i=n('./afm');r=n('../font');f=n('fs');u=function(n){function t(n,t,u){var f;this.document=n;this.name=t;this.id=u;this.font=new i(r[this.name]());f=this.font;this.ascender=f.ascender;this.descender=f.descender;this.bbox=f.bbox;this.lineGap=f.lineGap}var r;return o(t,n),t.prototype.embed=function(){return this.dictionary.data={Type:'Font',BaseFont:this.name,Subtype:'Type1',Encoding:'WinAnsiEncoding'},this.dictionary.end()},t.prototype.encode=function(n){var f,e,o,t,i,r,u,s;for(e=this.font.encodeText(n),t=this.font.glyphsForString(''+n),f=this.font.advancesForGlyphs(t),r=[],i=u=0,s=t.length;u<s;i=++u)o=t[i],r.push({xAdvance:f[i],yAdvance:0,xOffset:0,yOffset:0,advanceWidth:this.font.widthOfGlyph(o)});return[e,r]},t.prototype.widthOfString=function(n,t){var f,r,e,o,u,i,s;for(e=this.font.glyphsForString(''+n),r=this.font.advancesForGlyphs(e),u=0,i=0,s=r.length;i<s;i++)f=r[i],u+=f;return o=t/1e3,u*o},t.isStandardFont=function(n){return n in r},r={Courier:function(){return[0,"-23:-250:715:805",562,426,629,-157,"0-314:600"]},"Courier-Bold":function(){return[0,"-113:-250:749:801",562,439,629,-157,"0-314:600"]},"Courier-Oblique":function(){return[-12,"-27:-250:849:805",562,426,629,-157,"0-314:600"]},"Courier-BoldOblique":function(){return[-12,"-57:-250:869:801",562,439,629,-157,"0-314:600"]},Helvetica:function(){return[0,"-166:-225:1000:931",718,523,718,-207,"278,278,355,556,556,889,667,222,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,278,278,584,584,584,556,1015,667,667,722,722,667,611,778,722,278,500,667,556,833,722,778,667,778,722,667,611,722,667,944,667,667,611,278,278,278,469,556,222,556,556,500,556,556,278,556,556,222,222,500,222,833,556,556,556,556,333,500,278,556,500,722,500,500,500,334,260,334,584,333,556,556,167,556,556,556,556,191,333,556,333,333,500,500,556,556,556,278,537,350,222,333,333,556,1000,1000,611,333,333,333,333,333,333,333,333,333,333,333,333,333,1000,1000,370,556,778,1000,365,889,278,222,611,944,611,278,556,556,556,556,667,584,667,667,556,722,500,500,556,722,722,556,722,556,667,722,250,737,667,500,556,722,222,556,611,722,556,667,500,500,278,471,722,778,556,556,667,333,500,611,667,778,722,667,643,722,556,333,778,667,667,584,556,611,476,500,722,278,667,556,556,500,556,556,722,278,584,260,737,778,278,600,667,333,556,611,611,549,722,722,222,317,556,722,667,667,556,500,222,778,556,556,500,278,778,722,612,556,333,778,556,278,556,667,556,834,667,299,667,556,1000,556,278,278,556,834,549,556,556,722,667,556,556,834,667,667,778,400,556,722,556,453,722,333,722,556,722,556,667,667,667,778,500,667,278,500,584,278,556,278,584,556,556,549,556,556,500,556,333,278,556"]},"Helvetica-Bold":function(){return[0,"-170:-228:1003:962",718,532,718,-207,"278,333,474,556,556,889,722,278,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,333,333,584,584,584,611,975,722,722,722,722,667,611,778,722,278,556,722,611,833,722,778,667,778,722,667,611,722,667,944,667,667,611,333,278,333,584,556,278,556,611,556,611,556,333,611,611,278,278,556,278,889,611,611,611,611,389,556,333,611,556,778,556,556,500,389,280,389,584,333,556,556,167,556,556,556,556,238,500,556,333,333,611,611,556,556,556,278,556,350,278,500,500,556,1000,1000,611,333,333,333,333,333,333,333,333,333,333,333,333,333,1000,1000,370,611,778,1000,365,889,278,278,611,944,611,278,556,556,611,556,667,584,667,722,556,722,556,556,556,722,722,556,722,611,667,722,250,737,667,556,556,722,278,556,611,722,556,667,556,556,278,494,722,778,611,556,722,389,556,611,667,778,722,667,743,722,611,333,778,722,722,584,611,611,494,556,722,278,667,556,556,556,611,611,722,278,584,280,737,778,278,600,667,389,611,611,611,549,722,722,278,389,556,722,722,722,556,500,278,778,611,556,556,278,778,722,612,611,333,778,611,278,611,667,611,834,667,400,722,611,1000,556,278,278,611,834,549,611,611,722,667,556,611,834,667,667,778,400,611,722,611,549,722,389,722,611,722,611,722,722,722,778,500,667,278,556,584,278,611,333,584,611,611,549,611,611,500,611,333,278,556"]},"Helvetica-Oblique":function(){return[-12,"-170:-225:1116:931",718,523,718,-207,"278,278,355,556,556,889,667,222,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,278,278,584,584,584,556,1015,667,667,722,722,667,611,778,722,278,500,667,556,833,722,778,667,778,722,667,611,722,667,944,667,667,611,278,278,278,469,556,222,556,556,500,556,556,278,556,556,222,222,500,222,833,556,556,556,556,333,500,278,556,500,722,500,500,500,334,260,334,584,333,556,556,167,556,556,556,556,191,333,556,333,333,500,500,556,556,556,278,537,350,222,333,333,556,1000,1000,611,333,333,333,333,333,333,333,333,333,333,333,333,333,1000,1000,370,556,778,1000,365,889,278,222,611,944,611,278,556,556,556,556,667,584,667,667,556,722,500,500,556,722,722,556,722,556,667,722,250,737,667,500,556,722,222,556,611,722,556,667,500,500,278,471,722,778,556,556,667,333,500,611,667,778,722,667,643,722,556,333,778,667,667,584,556,611,476,500,722,278,667,556,556,500,556,556,722,278,584,260,737,778,278,600,667,333,556,611,611,549,722,722,222,317,556,722,667,667,556,500,222,778,556,556,500,278,778,722,612,556,333,778,556,278,556,667,556,834,667,299,667,556,1000,556,278,278,556,834,549,556,556,722,667,556,556,834,667,667,778,400,556,722,556,453,722,333,722,556,722,556,667,667,667,778,500,667,278,500,584,278,556,278,584,556,556,549,556,556,500,556,333,278,556"]},"Helvetica-BoldOblique":function(){return[-12,"-174:-228:1114:962",718,532,718,-207,"278,333,474,556,556,889,722,278,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,333,333,584,584,584,611,975,722,722,722,722,667,611,778,722,278,556,722,611,833,722,778,667,778,722,667,611,722,667,944,667,667,611,333,278,333,584,556,278,556,611,556,611,556,333,611,611,278,278,556,278,889,611,611,611,611,389,556,333,611,556,778,556,556,500,389,280,389,584,333,556,556,167,556,556,556,556,238,500,556,333,333,611,611,556,556,556,278,556,350,278,500,500,556,1000,1000,611,333,333,333,333,333,333,333,333,333,333,333,333,333,1000,1000,370,611,778,1000,365,889,278,278,611,944,611,278,556,556,611,556,667,584,667,722,556,722,556,556,556,722,722,556,722,611,667,722,250,737,667,556,556,722,278,556,611,722,556,667,556,556,278,494,722,778,611,556,722,389,556,611,667,778,722,667,743,722,611,333,778,722,722,584,611,611,494,556,722,278,667,556,556,556,611,611,722,278,584,280,737,778,278,600,667,389,611,611,611,549,722,722,278,389,556,722,722,722,556,500,278,778,611,556,556,278,778,722,612,611,333,778,611,278,611,667,611,834,667,400,722,611,1000,556,278,278,611,834,549,611,611,722,667,556,611,834,667,667,778,400,611,722,611,549,722,389,722,611,722,611,722,722,722,778,500,667,278,556,584,278,611,333,584,611,611,549,611,611,500,611,333,278,556"]},"Times-Roman":function(){return[0,"-168:-218:1000:898",662,450,683,-217,"250,333,408,500,500,833,778,333,333,333,500,564,250,333,250,278,500,500,500,500,500,500,500,500,500,500,278,278,564,564,564,444,921,722,667,667,722,611,556,722,722,333,389,722,611,889,722,722,556,722,667,556,611,722,722,944,722,722,611,333,278,333,469,500,333,444,500,444,500,444,333,500,500,278,278,500,278,778,500,500,500,500,333,389,278,500,500,722,500,500,444,480,200,480,541,333,500,500,167,500,500,500,500,180,444,500,333,333,556,556,500,500,500,250,453,350,333,444,444,500,1000,1000,444,333,333,333,333,333,333,333,333,333,333,333,333,333,1000,889,276,611,722,889,310,667,278,278,500,722,500,333,444,444,500,444,722,564,722,722,444,722,500,389,444,722,722,444,722,500,611,722,250,760,611,444,444,722,278,444,611,667,444,611,389,389,278,471,667,722,500,444,722,333,444,611,556,722,667,556,588,722,500,300,722,722,722,564,500,611,476,500,722,278,611,444,444,444,500,500,722,333,564,200,760,722,333,600,611,333,500,611,611,549,722,667,278,326,444,722,722,722,444,444,278,722,500,444,389,278,722,722,612,500,300,722,500,278,500,611,500,750,556,344,722,611,980,444,333,333,611,750,549,500,500,722,611,444,500,750,556,556,722,400,500,667,500,453,722,333,722,500,667,611,722,722,722,722,444,611,333,500,564,333,500,278,564,500,500,549,500,500,444,500,300,278,500"]},"Times-Bold":function(){return[0,"-168:-218:1000:935",676,461,683,-217,"250,333,555,500,500,1000,833,333,333,333,500,570,250,333,250,278,500,500,500,500,500,500,500,500,500,500,333,333,570,570,570,500,930,722,667,722,722,667,611,778,778,389,500,778,667,944,722,778,611,778,722,556,667,722,722,1000,722,722,667,333,278,333,581,500,333,500,556,444,556,444,333,500,556,278,333,556,278,833,556,500,556,556,444,389,333,556,500,722,500,500,444,394,220,394,520,333,500,500,167,500,500,500,500,278,500,500,333,333,556,556,500,500,500,250,540,350,333,500,500,500,1000,1000,500,333,333,333,333,333,333,333,333,333,333,333,333,333,1000,1000,300,667,778,1000,330,722,278,278,500,722,556,389,444,500,556,444,722,570,722,722,500,722,500,389,444,722,722,500,722,556,667,722,250,747,667,444,500,722,278,500,667,722,500,667,389,389,278,494,722,778,556,500,722,444,444,667,611,778,722,556,672,722,556,300,778,722,722,570,556,667,494,500,722,278,667,500,444,444,556,556,722,389,570,220,747,778,389,600,667,444,500,667,667,549,722,722,278,416,444,722,722,722,444,444,278,778,500,500,389,278,778,722,612,556,300,778,556,278,500,667,556,750,556,394,778,667,1000,444,389,389,667,750,549,500,556,722,667,444,500,750,556,556,778,400,500,722,556,549,722,444,722,500,722,667,722,722,722,778,444,667,389,556,570,389,556,333,570,500,556,549,500,500,444,556,300,278,500"]},"Times-Italic":function(){return[-15.5,"-169:-217:1010:883",653,441,683,-217,"250,333,420,500,500,833,778,333,333,333,500,675,250,333,250,278,500,500,500,500,500,500,500,500,500,500,333,333,675,675,675,500,920,611,611,667,722,611,611,722,722,333,444,667,556,833,667,722,611,722,611,500,556,722,611,833,611,556,556,389,278,389,422,500,333,500,500,444,500,444,278,500,500,278,278,444,278,722,500,500,500,500,389,389,278,500,444,667,444,444,389,400,275,400,541,389,500,500,167,500,500,500,500,214,556,500,333,333,500,500,500,500,500,250,523,350,333,556,556,500,889,1000,500,333,333,333,333,333,333,333,333,333,333,333,333,333,889,889,276,556,722,944,310,667,278,278,500,667,500,333,444,500,500,444,556,675,556,611,500,722,444,389,444,722,722,500,722,500,611,722,250,760,611,444,500,667,278,500,556,667,500,611,389,389,278,471,611,722,500,500,611,389,444,556,611,722,611,500,544,722,500,300,722,611,611,675,500,556,476,444,667,278,611,500,444,444,500,500,667,333,675,275,760,722,333,600,611,389,500,556,556,549,722,667,278,300,444,722,611,611,444,389,278,722,500,500,389,278,722,722,612,500,300,722,500,278,500,611,500,750,500,300,667,556,980,444,333,333,611,750,549,500,500,722,611,444,500,750,500,500,722,400,500,667,500,453,722,389,667,500,611,556,611,611,611,722,389,611,333,444,675,333,500,278,675,500,500,549,500,500,389,500,300,278,500"]},"Times-BoldItalic":function(){return[-15,"-200:-218:996:921",669,462,683,-217,"250,389,555,500,500,833,778,333,333,333,500,570,250,333,250,278,500,500,500,500,500,500,500,500,500,500,333,333,570,570,570,500,832,667,667,667,722,667,667,722,778,389,500,667,611,889,722,722,611,722,667,556,611,722,667,889,667,611,611,333,278,333,570,500,333,500,500,444,500,444,333,500,556,278,278,500,278,778,556,500,500,500,389,389,278,556,444,667,500,444,389,348,220,348,570,389,500,500,167,500,500,500,500,278,500,500,333,333,556,556,500,500,500,250,500,350,333,500,500,500,1000,1000,500,333,333,333,333,333,333,333,333,333,333,333,333,333,1000,944,266,611,722,944,300,722,278,278,500,722,500,389,444,500,556,444,611,570,611,667,500,722,444,389,444,722,722,500,722,556,667,722,250,747,667,444,500,722,278,500,611,667,500,667,389,389,278,494,667,722,556,500,667,389,444,611,611,722,667,556,608,722,556,300,722,667,667,570,556,611,494,444,722,278,667,500,444,444,556,556,722,389,570,220,747,722,389,600,667,389,500,611,611,549,722,667,278,366,444,722,667,667,444,389,278,722,500,500,389,278,722,722,612,500,300,722,576,278,500,667,500,750,556,382,667,611,1000,444,389,389,611,750,549,500,556,722,667,444,500,750,556,556,722,400,500,667,556,549,722,389,722,500,667,611,667,667,667,722,389,667,389,500,606,389,556,278,606,500,556,549,500,500,389,556,300,278,500"]},Symbol:function(){return[0,"-180:-293:1090:1010",0,0,0,0,"250,333,315:713,3:500,316:549,5:833,778,317:439,8:333,333,318:500,11:549,250,300:549,14:250,278,500,500,500,500,500,500,500,500,500,500,278,278,549,549,549,444,319:549,722,667,722,250:612,323:611,763,603,722,333,631,722,686,889,722,722,768,741,556,592,611,690,439,768,645,795,611,59:333,345:863,61:333,346:658,63:500,347:500,631,549,549,494,439,521,411,603,329,603,549,549,254:576,360:521,549,549,521,549,603,439,576,713,686,493,686,494,91:480,200,480,373:549,314:750,374:620,247,270:549,98:167,376:713,100:500,377:753,753,753,753,1042,987,603,987,603,281:400,220:549,386:411,231:549,205:549,387:713,208:494,115:460,155:549,307:549,388:549,549,120:1000,390:603,1000,658,823,686,795,987,768,768,823,768,768,713,713,713,713,713,713,713,768,713,790,790,890,823,285:549,415:250,304:713,416:603,603,1042,987,603,987,603,185:494,423:329,790,790,786,225:713,427:384,384,384,384,384,384,494,494,494,494,329,274,686,686,686,384,384,384,384,384,384,494,494,494,790"]},ZapfDingbats:function(){return[0,"-1:-143:981:820",0,0,0,0,"278,452:974,961,974,980,719,789,790,791,690,960,939,549,855,911,933,911,945,974,755,846,762,761,571,677,763,760,759,754,494,552,537,577,692,786,788,788,790,793,794,816,823,789,841,823,833,816,831,923,744,723,749,790,792,695,776,768,792,759,707,708,682,701,826,815,789,789,707,687,696,689,786,787,713,791,785,791,873,761,762,762,759,759,892,892,788,784,438,138,277,415,392,392,668,668,390,390,317,317,276,276,509,509,410,410,234,234,334,334,732,544,544,910,667,760,760,776,595,694,626,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,894,838,1016,458,748,924,748,918,927,928,928,834,873,828,924,924,917,930,931,463,883,836,836,867,867,696,696,874,874,760,946,771,865,771,888,967,888,831,873,927,970,918"]}},t}(r);t.localExports=u},{"../font":3,"./afm":4,fs:59}],7:[function(n,t){var i,r,u,e={}.hasOwnProperty,f=function(n,t){function r(){this.constructor=n}for(var i in t)e.call(t,i)&&(n[i]=t[i]);return r.prototype=t.prototype,n.prototype=new r,n.__super__=t.prototype,n};i=function(){function n(n){this.doc=n;this.stops=[];this.embedded=!1;this.transform=[1,0,0,1,0,0];this._colorSpace='DeviceRGB'}return n.prototype.stop=function(n,t,i){return i==null&&(i=1),i=Math.max(0,Math.min(1,i)),this.stops.push([n,this.doc._normalizeColor(t),i]),this},n.prototype.embed=function(){var p,w,b,k,t,d,r,g,nt,u,s,n,h,c,tt,it,l,rt,ut,a,ct,lt,at,v,ft,et,ot,st,f,vt,e,y,yt,o,i,ht;if(!this.embedded&&this.stops.length!==0){for(this.embedded=!0,s=this.stops[this.stops.length-1],s[0]<1&&this.stops.push([1,s[1],s[2]]),p=[],k=[],f=[],u=e=0,o=this.stops.length-1;0<=o?e<o:e>o;u=0<=o?++e:--e)k.push(0,1),u+2!==this.stops.length&&p.push(this.stops[u+1][0]),t=this.doc.ref({FunctionType:2,Domain:[0,1],C0:this.stops[u+0][1],C1:this.stops[u+1][1],N:1}),f.push(t),t.end();if(f.length===1?t=f[0]:(t=this.doc.ref({FunctionType:3,Domain:[0,1],Functions:f,Bounds:p,Encode:k}),t.end()),this.id='Sh'+ ++this.doc._gradCount,n=this.doc._ctm.slice(),h=n[0],c=n[1],l=n[2],a=n[3],ct=n[4],lt=n[5],i=this.transform,tt=i[0],it=i[1],rt=i[2],ut=i[3],w=i[4],b=i[5],n[0]=h*tt+l*it,n[1]=c*tt+a*it,n[2]=h*rt+l*ut,n[3]=c*rt+a*ut,n[4]=h*w+l*b+ct,n[5]=c*w+a*b+lt,ot=this.shader(t),ot.end(),v=this.doc.ref({Type:'Pattern',PatternType:2,Shading:ot,Matrix:function(){var t,r,i;for(i=[],t=0,r=n.length;t<r;t++)vt=n[t],i.push(+vt.toFixed(5));return i}()}),this.doc.page.patterns[this.id]=v,v.end(),this.stops.some(function(n){return n[2]<1})){for(r=this.opacityGradient(),r._colorSpace='DeviceGray',ht=this.stops,y=0,yt=ht.length;y<yt;y++)st=ht[y],r.stop(st[0],[st[2]]);r=r.embed();g=this.doc.ref({Type:'Group',S:'Transparency',CS:'DeviceGray'});g.end();ft=this.doc.ref({ProcSet:['PDF','Text','ImageB','ImageC','ImageI'],Shading:{Sh1:r.data.Shading}});ft.end();d=this.doc.ref({Type:'XObject',Subtype:'Form',FormType:1,BBox:[0,0,this.doc.page.width,this.doc.page.height],Group:g,Resources:ft});d.end("/Sh1 sh");et=this.doc.ref({Type:'Mask',S:'Luminosity',G:d});et.end();nt=this.doc.ref({Type:'ExtGState',SMask:et});this.opacity_id=++this.doc._opacityCount;at="Gs"+this.opacity_id;this.doc.page.ext_gstates[at]=nt;nt.end()}return v}},n.prototype.apply=function(n){return this.embedded||this.embed(),this.doc.addContent("/"+this.id+" "+n),this.opacity_id?(this.doc.addContent("/Gs"+this.opacity_id+" gs"),this.doc._sMasked=!0):void 0},n}();r=function(n){function t(n,i,r,u,f){this.doc=n;this.x1=i;this.y1=r;this.x2=u;this.y2=f;t.__super__.constructor.apply(this,arguments)}return f(t,n),t.prototype.shader=function(n){return this.doc.ref({ShadingType:2,ColorSpace:this._colorSpace,Coords:[this.x1,this.y1,this.x2,this.y2],Function:n,Extend:[!0,!0]})},t.prototype.opacityGradient=function(){return new t(this.doc,this.x1,this.y1,this.x2,this.y2)},t}(i);u=function(n){function t(n,i,r,u,f,e,o){this.doc=n;this.x1=i;this.y1=r;this.r1=u;this.x2=f;this.y2=e;this.r2=o;t.__super__.constructor.apply(this,arguments)}return f(t,n),t.prototype.shader=function(n){return this.doc.ref({ShadingType:3,ColorSpace:this._colorSpace,Coords:[this.x1,this.y1,this.r1,this.x2,this.y2,this.r2],Function:n,Extend:[!0,!0]})},t.prototype.opacityGradient=function(){return new t(this.doc,this.x1,this.y1,this.r1,this.x2,this.y2,this.r2)},t}(i);t.localExports={PDFGradient:i,PDFLinearGradient:r,PDFRadialGradient:u}},{}],8:[function(n,t){(function(i){var o,r,u,f,e;e=n('fs');o=n('./data');r=n('./image/jpeg');f=n('./image/png');u=function(){function n(){}return n.open=function(n,t){var u,o;if(i.isBuffer(n))u=n;else if(n instanceof ArrayBuffer)u=new i(new Uint8Array(n));else if(o=/^data:.+;base64,(.*)$/.exec(n))u=new i(o[1],'base64');else if(u=e.readFileSync(n),!u)return;if(u[0]===255&&u[1]===216)return new r(u,t);if(u[0]===137&&u.toString('ascii',1,4)==='PNG')return new f(u,t);throw new Error('Unknown image format.');},n}();t.localExports=u}).call(this,n("buffer").Buffer)},{"./data":1,"./image/jpeg":9,"./image/png":10,buffer:60,fs:59}],9:[function(n,t){var i,u,r=[].indexOf||function(n){for(var t=0,i=this.length;t<i;t++)if(t in this&&this[t]===n)return t;return-1};u=n('fs');i=function(){function t(t,i){var e,f,u;if(this.data=t,this.label=i,this.data.readUInt16BE(0)!==65496)throw"SOI not found in JPEG";for(u=2;u<this.data.length;){if(f=this.data.readUInt16BE(u),u+=2,r.call(n,f)>=0)break;u+=this.data.readUInt16BE(u)}if(r.call(n,f)<0)throw"Invalid JPEG.";u+=2;this.bits=this.data[u++];this.height=this.data.readUInt16BE(u);u+=2;this.width=this.data.readUInt16BE(u);u+=2;e=this.data[u++];this.colorSpace=function(){switch(e){case 1:return'DeviceGray';case 3:return'DeviceRGB';case 4:return'DeviceCMYK'}}();this.obj=null}var n;return n=[65472,65473,65474,65475,65477,65478,65479,65480,65481,65482,65483,65484,65485,65486,65487],t.prototype.embed=function(n){if(!this.obj)return this.obj=n.ref({Type:'XObject',Subtype:'Image',BitsPerComponent:this.bits,Width:this.width,Height:this.height,ColorSpace:this.colorSpace,Filter:'DCTDecode'}),this.colorSpace==='DeviceCMYK'&&(this.obj.data.Decode=[1,0,1,0,1,0,1,0]),this.obj.end(this.data),this.data=null},t}();t.localExports=i},{fs:59}],10:[function(n,t){(function(i){var u,f,r;r=n('zlib');u=n('png-js');f=function(){function n(n,t){this.label=t;this.image=new u(n);this.width=this.image.width;this.height=this.image.height;this.imgData=this.image.imgData;this.obj=null}return n.prototype.embed=function(n){var r,u,f,e,o,s,t,h;if(this.document=n,!this.obj){if(this.obj=this.document.ref({Type:'XObject',Subtype:'Image',BitsPerComponent:this.image.bits,Width:this.width,Height:this.height,Filter:'FlateDecode'}),this.image.hasAlphaChannel||(f=this.document.ref({Predictor:15,Colors:this.image.colors,BitsPerComponent:this.image.bits,Columns:this.width}),this.obj.data.DecodeParms=f,f.end()),this.image.palette.length===0?this.obj.data.ColorSpace=this.image.colorSpace:(u=this.document.ref(),u.end(new i(this.image.palette)),this.obj.data.ColorSpace=['Indexed','DeviceRGB',this.image.palette.length/3-1,u]),this.image.transparency.grayscale)return o=this.image.transparency.greyscale,this.obj.data.Mask=[o,o];if(this.image.transparency.rgb){for(e=this.image.transparency.rgb,r=[],t=0,h=e.length;t<h;t++)s=e[t],r.push(s,s);return this.obj.data.Mask=r}return this.image.transparency.indexed?this.loadIndexedAlphaChannel():this.image.hasAlphaChannel?this.splitAlphaChannel():this.finalize()}},n.prototype.finalize=function(){var n;return this.alphaChannel&&(n=this.document.ref({Type:'XObject',Subtype:'Image',Height:this.height,Width:this.width,BitsPerComponent:8,Filter:'FlateDecode',ColorSpace:'DeviceGray',Decode:[0,1]}),n.end(this.alphaChannel),this.obj.data.SMask=n),this.obj.end(this.imgData),this.image=null,this.imgData=null},n.prototype.splitAlphaChannel=function(){return this.image.decodePixels(function(n){return function(t){var c,o,l,s,u,f,a,e,h;for(l=n.image.colors*n.image.bits/8,h=n.width*n.height,f=new i(h*l),o=new i(h),u=e=c=0,a=t.length;u<a;)f[e++]=t[u++],f[e++]=t[u++],f[e++]=t[u++],o[c++]=t[u++];return s=0,r.deflate(f,function(t,i){if(n.imgData=i,t)throw t;if(++s==2)return n.finalize()}),r.deflate(o,function(t,i){if(n.alphaChannel=i,t)throw t;if(++s==2)return n.finalize()})}}(this))},n.prototype.loadIndexedAlphaChannel=function(){var n;return n=this.image.transparency.indexed,this.image.decodePixels(function(t){return function(u){var f,s,e,o,h;for(f=new i(t.width*t.height),s=0,e=o=0,h=u.length;o<h;e=o+=1)f[s++]=n[u[e]];return r.deflate(f,function(n,i){if(t.alphaChannel=i,n)throw n;return t.finalize()})}}(this))},n}();t.localExports=f}).call(this,n("buffer").Buffer)},{buffer:60,"png-js":186,zlib:58}],11:[function(n,t){var i,r,u,f={}.hasOwnProperty,e=function(n,t){function r(){this.constructor=n}for(var i in t)f.call(t,i)&&(n[i]=t[i]);return r.prototype=t.prototype,n.prototype=new r,n.__super__=t.prototype,n};i=n('events').EventEmitter;r=n('linebreak');u=function(n){function t(n,t){var i;this.document=n;this.indent=t.indent||0;this.characterSpacing=t.characterSpacing||0;this.wordSpacing=t.wordSpacing===0;this.columns=t.columns||1;this.columnGap=(i=t.columnGap)!=null?i:18;this.lineWidth=(t.width-this.columnGap*(this.columns-1))/this.columns;this.spaceLeft=this.lineWidth;this.startX=this.document.x;this.startY=this.document.y;this.column=1;this.ellipsis=t.ellipsis;this.continuedX=0;this.features=t.features;t.height!=null?(this.height=t.height,this.maxY=this.startY+t.height):this.maxY=this.document.page.maxY();this.on('firstLine',function(n){return function(t){var i;i=n.continuedX||n.indent;n.document.x+=i;n.lineWidth-=i;return n.once('line',function(){return n.document.x-=i,n.lineWidth+=i,t.continued&&!n.continuedX&&(n.continuedX=n.indent),t.continued?void 0:n.continuedX=0})}}(this));this.on('lastLine',function(n){return function(t){var i;i=t.align;i==='justify'&&(t.align='left');n.lastLine=!0;return n.once('line',function(){return n.document.y+=t.paragraphGap||0,t.align=i,n.lastLine=!1})}}(this))}return e(t,n),t.prototype.wordWidth=function(n){return this.document.widthOfString(n,this)+this.characterSpacing+this.wordSpacing},t.prototype.eachWord=function(n,t){var o,a,c,e,f,l,s,u,i,h;for(a=new r(n),f=null,h=Object.create(null);o=a.nextBreak();){if(i=n.slice((f!=null?f.position:void 0)||0,o.position),u=h[i]!=null?h[i]:h[i]=this.wordWidth(i),u>this.lineWidth+this.continuedX)for(l=f,c={};i.length;){for(e=i.length;u>this.spaceLeft;)u=this.wordWidth(i.slice(0,--e));if(c.required=e<i.length,s=t(i.slice(0,e),u,c,l),l={required:!1},i=i.slice(e),u=this.wordWidth(i),s===!1)break}else s=t(i,u,o,f);if(s===!1)break;f=o}},t.prototype.wrap=function(n,t){var i,f,e,s,r,u,o;return t.indent!=null&&(this.indent=t.indent),t.characterSpacing!=null&&(this.characterSpacing=t.characterSpacing),t.wordSpacing!=null&&(this.wordSpacing=t.wordSpacing),t.ellipsis!=null&&(this.ellipsis=t.ellipsis),s=this.document.y+this.document.currentLineHeight(!0),(this.document.y>this.maxY||s>this.maxY)&&this.nextSection(),i='',r=0,u=0,e=0,o=this.document.y,f=function(n){return function(){return t.textWidth=r+n.wordSpacing*(u-1),t.wordCount=u,t.lineWidth=n.lineWidth,o=n.document.y,n.emit('line',i,t,n),e++}}(this),this.emit('sectionStart',t,this),this.eachWord(n,function(n){return function(e,o,s,h){var c,l;if((h==null||h.required)&&(n.emit('firstLine',t,n),n.spaceLeft=n.lineWidth),o<=n.spaceLeft&&(i+=e,r+=o,u++),s.required||o>n.spaceLeft){if(s.required&&n.emit('lastLine',t,n),c=n.document.currentLineHeight(!0),n.height!=null&&n.ellipsis&&n.document.y+c*2>n.maxY&&n.column>=n.columns){for(n.ellipsis===!0&&(n.ellipsis='вЂ¦'),i=i.replace(/\s+$/,''),r=n.wordWidth(i+n.ellipsis);r>n.lineWidth;)i=i.slice(0,-1).replace(/\s+$/,''),r=n.wordWidth(i+n.ellipsis);i=i+n.ellipsis}return(f(),n.document.y+c>n.maxY&&(l=n.nextSection(),!l))?(u=0,i='',!1):s.required?(o>n.spaceLeft&&(i=e,r=o,u=1,f()),n.spaceLeft=n.lineWidth,i='',r=0,u=0):(n.spaceLeft=n.lineWidth-o,i=e,r=o,u=1)}return n.spaceLeft-=o}}(this)),u>0&&(this.emit('lastLine',t,this),f()),this.emit('sectionEnd',t,this),t.continued===!0?(e>1&&(this.continuedX=0),this.continuedX+=t.textWidth,this.document.y=o):this.document.x=this.startX},t.prototype.nextSection=function(n){var t;if(this.emit('sectionEnd',n,this),++this.column>this.columns){if(this.height!=null)return!1;this.document.addPage();this.column=1;this.startY=this.document.page.margins.top;this.maxY=this.document.page.maxY();this.document.x=this.startX;this.document._fillColor&&(t=this.document).fillColor.apply(t,this.document._fillColor);this.emit('pageBreak',n,this)}else this.document.x+=this.lineWidth+this.columnGap,this.document.y=this.startY,this.emit('columnBreak',n,this);return this.emit('sectionStart',n,this),!0},t}(i);t.localExports=u},{events:164,linebreak:173}],12:[function(n,t){t.localExports={annotate:function(n,t,i,r,u){var f,e,o;u.Type='Annot';u.Rect=this._convertRect(n,t,i,r);u.Border=[0,0,0];u.Subtype!=='Link'&&u.C==null&&(u.C=this._normalizeColor(u.color||[0,0,0]));delete u.color;typeof u.Dest=='string'&&(u.Dest=new String(u.Dest));for(f in u)o=u[f],u[f[0].toUpperCase()+f.slice(1)]=o;return e=this.ref(u),this.page.annotations.push(e),e.end(),this},note:function(n,t,i,r,u,f){return f==null&&(f={}),f.Subtype='Text',f.Contents=new String(u),f.Name='Comment',f.color==null&&(f.color=[243,223,92]),this.annotate(n,t,i,r,f)},link:function(n,t,i,r,u,f){return f==null&&(f={}),f.Subtype='Link',f.A=this.ref({S:'URI',URI:new String(u)}),f.A.end(),this.annotate(n,t,i,r,f)},_markup:function(n,t,i,r,u){var e,o,s,h,f;return u==null&&(u={}),f=this._convertRect(n,t,i,r),e=f[0],s=f[1],o=f[2],h=f[3],u.QuadPoints=[e,h,o,h,e,s,o,s],u.Contents=new String,this.annotate(n,t,i,r,u)},highlight:function(n,t,i,r,u){return u==null&&(u={}),u.Subtype='Highlight',u.color==null&&(u.color=[241,238,148]),this._markup(n,t,i,r,u)},underline:function(n,t,i,r,u){return u==null&&(u={}),u.Subtype='Underline',this._markup(n,t,i,r,u)},strike:function(n,t,i,r,u){return u==null&&(u={}),u.Subtype='StrikeOut',this._markup(n,t,i,r,u)},lineAnnotation:function(n,t,i,r,u){return u==null&&(u={}),u.Subtype='Line',u.Contents=new String,u.L=[n,this.page.height-t,i,this.page.height-r],this.annotate(n,t,i,r,u)},rectAnnotation:function(n,t,i,r,u){return u==null&&(u={}),u.Subtype='Square',u.Contents=new String,this.annotate(n,t,i,r,u)},ellipseAnnotation:function(n,t,i,r,u){return u==null&&(u={}),u.Subtype='Circle',u.Contents=new String,this.annotate(n,t,i,r,u)},textAnnotation:function(n,t,i,r,u,f){return f==null&&(f={}),f.Subtype='FreeText',f.Contents=new String(u),f.DA=new String,this.annotate(n,t,i,r,f)},_convertRect:function(n,t,i,r){var o,s,h,c,l,a,f,e,u;return e=t,t+=r,f=n+i,u=this._ctm,o=u[0],s=u[1],h=u[2],c=u[3],l=u[4],a=u[5],n=o*n+h*t+l,t=s*n+c*t+a,f=o*f+h*e+l,e=s*f+c*e+a,[n,t,f,e]}}},{}],13:[function(n,t){var r,f,e,u,i;i=n('../gradient');r=i.PDFGradient;f=i.PDFLinearGradient;e=i.PDFRadialGradient;t.localExports={initColor:function(){return this._opacityRegistry={},this._opacityCount=0,this._gradCount=0},_normalizeColor:function(n){var t,i;return n instanceof r?n:(typeof n=='string'&&(n.charAt(0)==='#'?(n.length===4&&(n=n.replace(/#([0-9A-F])([0-9A-F])([0-9A-F])/i,"#$1$1$2$2$3$3")),t=parseInt(n.slice(1),16),n=[t>>16,t>>8&255,t&255]):u[n]&&(n=u[n])),Array.isArray(n))?(n.length===3?n=function(){var t,u,r;for(r=[],t=0,u=n.length;t<u;t++)i=n[t],r.push(i/255);return r}():n.length===4&&(n=function(){var t,u,r;for(r=[],t=0,u=n.length;t<u;t++)i=n[t],r.push(i/100);return r}()),n):null},_setColor:function(n,t){var i,u,f,e;return(n=this._normalizeColor(n),!n)?!1:(this._sMasked&&(i=this.ref({Type:'ExtGState',SMask:'None'}),i.end(),u="Gs"+ ++this._opacityCount,this.page.ext_gstates[u]=i,this.addContent("/"+u+" gs"),this._sMasked=!1),f=t?'SCN':'scn',n instanceof r?(this._setColorSpace('Pattern',t),n.apply(f)):(e=n.length===4?'DeviceCMYK':'DeviceRGB',this._setColorSpace(e,t),n=n.join(' '),this.addContent(""+n+" "+f)),!0)},_setColorSpace:function(n,t){var i;return i=t?'CS':'cs',this.addContent("/"+n+" "+i)},fillColor:function(n,t){var i;return t==null&&(t=1),i=this._setColor(n,!1),i&&this.fillOpacity(t),this._fillColor=[n,t],this},strokeColor:function(n,t){var i;return t==null&&(t=1),i=this._setColor(n,!0),i&&this.strokeOpacity(t),this},opacity:function(n){return this._doOpacity(n,n),this},fillOpacity:function(n){return this._doOpacity(n,null),this},strokeOpacity:function(n){return this._doOpacity(null,n),this},_doOpacity:function(n,t){var i,e,u,r,f;if((n!=null||t!=null))return n!=null&&(n=Math.max(0,Math.min(1,n))),t!=null&&(t=Math.max(0,Math.min(1,t))),u=""+n+"_"+t,this._opacityRegistry[u]?(f=this._opacityRegistry[u],i=f[0],r=f[1]):(i={Type:'ExtGState'},n!=null&&(i.ca=n),t!=null&&(i.CA=t),i=this.ref(i),i.end(),e=++this._opacityCount,r="Gs"+e,this._opacityRegistry[u]=[i,r]),this.page.ext_gstates[r]=i,this.addContent("/"+r+" gs")},linearGradient:function(n,t,i,r){return new f(this,n,t,i,r)},radialGradient:function(n,t,i,r,u,f){return new e(this,n,t,i,r,u,f)}};u={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},{"../gradient":7}],14:[function(n,t){var i;i=n('../font');t.localExports={initFonts:function(){return this._fontFamilies={},this._fontCount=0,this._fontSize=12,this._font=null,this._registeredFonts={},this.font('Helvetica')},font:function(n,t,r){var u,f,o,e;return(typeof t=='number'&&(r=t,t=null),typeof n=='string'&&this._registeredFonts[n]?(u=n,e=this._registeredFonts[n],n=e.src,t=e.family):(u=t||n,typeof u!='string'&&(u=null)),r!=null&&this.fontSize(r),f=this._fontFamilies[u])?(this._font=f,this):(o='F'+ ++this._fontCount,this._font=i.open(this,n,t,o),f=this._fontFamilies[this._font.name])?(this._font=f,this):(u&&(this._fontFamilies[u]=this._font),this._fontFamilies[this._font.name]=this._font,this)},fontSize:function(n){return this._fontSize=n,this},currentLineHeight:function(n){return n==null&&(n=!1),this._font.lineHeight(this._fontSize,n)},currentFontAscender:function(){return this._font.getAscender(this._fontSize)},currentFontBBox:function(){return this._font.getBBox(this._fontSize)},currentFontSize:function(){return this._fontSize},registerFont:function(n,t,i){return this._registeredFonts[n]={src:t,family:i},this}}},{"../font":3}],15:[function(n,t){(function(i){var r;r=n('../image');t.localExports={initImages:function(){return this._imageRegistry={},this._imageCount=0},image:function(n,t,u,f){var l,b,a,e,y,o,v,s,p,k,d,g,nt,w,h,c;return f==null&&(f={}),typeof t=='object'&&(f=t,t=null),t=(g=t!=null?t:f.x)!=null?g:this.x,u=(nt=u!=null?u:f.y)!=null?nt:this.y,i.isBuffer(n)||(o=this._imageRegistry[n]),o||(o=r.open(n,'I'+ ++this._imageCount),o.embed(this),i.isBuffer(n)||(this._imageRegistry[n]=o)),(k=this.page.xobjects)[d=o.label]==null&&(k[d]=o.obj),h=o.width*.75,c=o.height*.75,s=f.width||h,e=f.height||c,f.width&&!f.height?(p=s/h,s=h*p,e=c*p):f.height&&!f.width?(y=e/c,s=h*y,e=c*y):f.scale?(s=h*f.scale,e=c*f.scale):f.fit&&(w=f.fit,a=w[0],l=w[1],b=a/l,v=h/c,v>b?(s=a,e=a/v):(e=l,s=l*v),f.align==='center'?t=t+a/2-s/2:f.align==='right'&&(t=t+a-s),f.valign==='center'?u=u+l/2-e/2:f.valign==='bottom'&&(u=u+l-e)),this.y===u&&(this.y+=e),this.save(),this.transform(s,0,0,-e,t,u+e),this.addContent("/"+o.label+" Do"),this.restore(),this}}}).call(this,{isBuffer:n("../../node_modules/is-buffer/index.js")})},{"../../node_modules/is-buffer/index.js":168,"../image":8}],16:[function(n,t){var i;i=n('../line_wrapper');t.localExports={initText:function(){return this.x=0,this.y=0,this._lineGap=0},currentLineGap:function(){return this._lineGap},lineGap:function(n){return this._lineGap=n,this},moveDown:function(n){return n==null&&(n=1),this.y+=this.currentLineHeight(!0)*n+this._lineGap,this},moveUp:function(n){return n==null&&(n=1),this.y-=this.currentLineHeight(!0)*n+this._lineGap,this},_text:function(n,t,r,u,f){var h,e,o,c,s;if(u=this._initOptions(t,r,u),n=''+n,u.wordSpacing&&(n=n.replace(/\s{2,}/g,' ')),u.width){if(e=this._wrapper,!e){e=new i(this,u);e.on('line',f)}this._wrapper=u.continued?e:null;this._textOptions=u.continued?u:null;e.wrap(n,u)}else for(s=n.split('\n'),o=0,c=s.length;o<c;o++)h=s[o],f(h,u);return this},text:function(n,t,i,r){return this._text(n,t,i,r,this._line.bind(this))},widthOfString:function(n,t){return t==null&&(t={}),this._font.widthOfString(n,this._fontSize,t.features)+(t.characterSpacing||0)*(n.length-1)},heightOfString:function(n,t){var r,u,f,i;return t==null&&(t={}),f=this.x,i=this.y,t=this._initOptions(t),t.height=Infinity,u=t.lineGap||this._lineGap||0,this._text(n,this.x,this.y,t,function(n){return function(){return n.y+=n.currentLineHeight(!0)+u}}(this)),r=this.y-i,this.x=f,this.y=i,r},textAndMeasure:function(n,t,i,r,u){r=r||{};t==null&&(t=this.x,i=this.y);var f=this,h=this.x,v=this.y,e={width:0,height:0,charCount:0},c=r.lineGap||this._lineGap||0,l=r.columnGap||18,a=t==null?this.x:t,o=[],s=0;return u&&r.height==null&&(r.height=Infinity),this._text(n,t,i,r,function(i,r,h){e.charCount+=i.length;f.x===t&&(e.height+=f.currentLineHeight(!0)+c);r.textWidth&&(f.x>a&&(a=f.x,o[s++]=r.lineWidth),o[s]=Math.max(o[s]||0,r.textWidth));u?h?f.y+=f.currentLineHeight(!0)+c:f.x+=f.widthOfString(n):f._line.apply(f,arguments)}),o.length?(o.forEach(function(n){e.width+=n+l}),e.width-=l):e.width=this.x-h,e.height-=this.currentLineHeight(!0)-this.currentLineHeight(!1),e.height=Math.max(0,e.height),u&&(this.x=h,this.y=v),e},list:function(n,t,r,u,f){var c,v,s,h,l,e,a,o;u=this._initOptions(t,r,u);o=Math.round(this._font.ascender/1e3*this._fontSize/3);s=u.textIndent||o*5;h=u.bulletIndent||o*8;e=1;l=[];a=[];c=function(n){var r,t,u,f,i;for(i=[],r=u=0,f=n.length;u<f;r=++u)t=n[r],Array.isArray(t)?(e++,c(t),i.push(e--)):(l.push(t),i.push(a.push(e)));return i};c(n);f=new i(this,u);f.on('line',this._line.bind(this));e=1;v=0;f.on('firstLine',function(n){return function(){var t,i;return(i=a[v++])!==e&&(t=h*(i-e),n.x+=t,f.lineWidth-=t,e=i),n.circle(n.x-s+o,n.y+o+o/2,o),n.fill()}}(this));f.on('sectionStart',function(n){return function(){var t;return t=s+h*(e-1),n.x+=t,f.lineWidth-=t}}(this));f.on('sectionEnd',function(n){return function(){var t;return t=s+h*(e-1),n.x-=t,f.lineWidth+=t}}(this));return f.wrap(l.join('\n'),u),this},_initOptions:function(n,t,i){var r,f,e,u;if(n==null&&(n={}),i==null&&(i={}),typeof n=='object'&&(i=n,n=null),i=function(){var n,t,r;t={};for(n in i)r=i[n],t[n]=r;return t}(),this._textOptions){u=this._textOptions;for(r in u)e=u[r],r!=='continued'&&i[r]==null&&(i[r]=e)}return n!=null&&(this.x=n),t!=null&&(this.y=t),i.lineBreak!==!1&&(f=this.page.margins,i.width==null&&(i.width=this.page.width-this.x-f.right)),i.columns||(i.columns=0),i.columnGap==null&&(i.columnGap=18),i},_line:function(n,t,i){var r;return t==null&&(t={}),this._fragment(n,this.x,this.y,t),r=t.lineGap||this._lineGap||0,i?this.y+=this.currentLineHeight(!0)+r:this.x+=this.widthOfString(n)},_fragment:function(n,t,i,r){var d,ft,s,h,et,c,ot,a,v,e,y,g,p,nt,f,u,st,tt,w,ht,b,ct,o,l,lt,k,it,at,vt,yt,rt,ut;if(n=(''+n).replace(/\n/g,''),n.length!==0){if(ft=r.align||'left',o=r.wordSpacing||0,s=r.characterSpacing||0,r.width)switch(ft){case'right':b=this.widthOfString(n.replace(/\s+$/,''),r);t+=r.lineWidth-b;break;case'center':t+=r.lineWidth/2-r.textWidth/2;break;case'justify':l=n.trim().split(/\s+/);b=this.widthOfString(n.replace(/\s+/g,''),r);ht=this.widthOfString(' ')+s;o=Math.max(0,(r.lineWidth-b)/Math.max(1,l.length-1)-ht)}if(tt=r.textWidth+o*(r.wordCount-1)+s*(n.length-1),r.link&&this.link(t,i,tt,this.currentLineHeight(),r.link),(r.underline||r.strike)&&(this.save(),r.stroke||this.strokeColor.apply(this,this._fillColor),g=this._fontSize<10?.5:Math.floor(this._fontSize/10),this.lineWidth(g),et=r.underline?1:2,p=i+this.currentLineHeight()/et,r.underline&&(p-=g),this.moveTo(t,p),this.lineTo(t+tt,p),this.stroke(),this.restore()),this.save(),this.transform(1,0,0,-1,0,this.page.height),i=this.page.height-i-this._font.ascender/1e3*this._fontSize,(lt=this.page.fonts)[yt=this._font.id]==null&&(lt[yt]=this._font.ref()),this.addContent("BT"),this.addContent("1 0 0 1 "+t+" "+i+" Tm"),this.addContent("/"+this._font.id+" "+this._fontSize+" Tf"),nt=r.fill&&r.stroke?2:r.stroke?1:0,nt&&this.addContent(""+nt+" Tr"),s&&this.addContent(""+s+" Tc"),o)for(l=n.trim().split(/\s+/),o+=this.widthOfString(' ')+s,o*=1e3/this._fontSize,c=[],u=[],k=0,at=l.length;k<at;k++)ct=l[k],rt=this._font.encode(ct,r.features),ot=rt[0],st=rt[1],c.push.apply(c,ot),u.push.apply(u,st),u[u.length-1].xAdvance+=o;else ut=this._font.encode(n,r.features),c=ut[0],u=ut[1];for(w=this._fontSize/1e3,h=[],y=0,v=!1,d=function(){return function(n){var t,i;return y<n&&(i=c.slice(y,n).join(''),t=u[n-1].xAdvance-u[n-1].advanceWidth,h.push("<"+i+"> "+-t)),y=n}}(this),a=function(n){return function(t){return d(t),h.length>0?(n.addContent("["+h.join(' ')+"] TJ"),h.length=0):void 0}}(this),e=it=0,vt=u.length;it<vt;e=++it)f=u[e],f.xOffset||f.yOffset?(a(e),this.addContent("1 0 0 1 "+(t+f.xOffset*w)+" "+(i+f.yOffset*w)+" Tm"),a(e+1),v=!0):(v&&(this.addContent("1 0 0 1 "+t+" "+i+" Tm"),v=!1),f.xAdvance-f.advanceWidth!=0&&d(e+1)),t+=f.xAdvance*w;return a(e),this.addContent("ET"),this.restore()}}}},{"../line_wrapper":11}],17:[function(n,t){var i,r,u=[].slice;r=n('../path');i=4*((Math.sqrt(2)-1)/3);t.localExports={initVector:function(){return this._ctm=[1,0,0,1,0,0],this._ctmStack=[]},save:function(){return this._ctmStack.push(this._ctm.slice()),this.addContent('q')},restore:function(){return this._ctm=this._ctmStack.pop()||[1,0,0,1,0,0],this.addContent('Q')},closePath:function(){return this.addContent('h')},lineWidth:function(n){return this.addContent(""+n+" w")},_CAP_STYLES:{BUTT:0,ROUND:1,SQUARE:2},lineCap:function(n){return typeof n=='string'&&(n=this._CAP_STYLES[n.toUpperCase()]),this.addContent(""+n+" J")},_JOIN_STYLES:{MITER:0,ROUND:1,BEVEL:2},lineJoin:function(n){return typeof n=='string'&&(n=this._JOIN_STYLES[n.toUpperCase()]),this.addContent(""+n+" j")},miterLimit:function(n){return this.addContent(""+n+" M")},dash:function(n,t){var i,r,u;return(t==null&&(t={}),n==null)?this:(r=(u=t.space)!=null?u:n,i=t.phase||0,this.addContent("["+n+" "+r+"] "+i+" d"))},undash:function(){return this.addContent("[] 0 d")},moveTo:function(n,t){return this.addContent(""+n+" "+t+" m")},lineTo:function(n,t){return this.addContent(""+n+" "+t+" l")},bezierCurveTo:function(n,t,i,r,u,f){return this.addContent(""+n+" "+t+" "+i+" "+r+" "+u+" "+f+" c")},quadraticCurveTo:function(n,t,i,r){return this.addContent(""+n+" "+t+" "+i+" "+r+" v")},rect:function(n,t,i,r){return this.addContent(""+n+" "+t+" "+i+" "+r+" re")},roundedRect:function(n,t,i,r,u){return u==null&&(u=0),this.moveTo(n+u,t),this.lineTo(n+i-u,t),this.quadraticCurveTo(n+i,t,n+i,t+u),this.lineTo(n+i,t+r-u),this.quadraticCurveTo(n+i,t+r,n+i-u,t+r),this.lineTo(n+u,t+r),this.quadraticCurveTo(n,t+r,n,t+r-u),this.lineTo(n,t+u),this.quadraticCurveTo(n,t,n+u,t)},ellipse:function(n,t,r,u){var o,s,h,e,c,f;return u==null&&(u=r),n-=r,t-=u,o=r*i,s=u*i,h=n+r*2,c=t+u*2,e=n+r,f=t+u,this.moveTo(n,f),this.bezierCurveTo(n,f-s,e-o,t,e,t),this.bezierCurveTo(e+o,t,h,f-s,h,f),this.bezierCurveTo(h,f+s,e+o,c,e,c),this.bezierCurveTo(e-o,c,n,f+s,n,f),this.closePath()},circle:function(n,t,i){return this.ellipse(n,t,i)},polygon:function(){var i,n,t,r;for(n=1<=arguments.length?u.call(arguments,0):[],this.moveTo.apply(this,n.shift()),t=0,r=n.length;t<r;t++)i=n[t],this.lineTo.apply(this,i);return this.closePath()},path:function(n){return r.apply(this,n),this},_windingRule:function(n){return/even-?odd/.test(n)?'*':''},fill:function(n,t){return/(even-?odd)|(non-?zero)/.test(n)&&(t=n,n=null),n&&this.fillColor(n),this.addContent('f'+this._windingRule(t))},stroke:function(n){return n&&this.strokeColor(n),this.addContent('S')},fillAndStroke:function(n,t,i){var r;return t==null&&(t=n),r=/(even-?odd)|(non-?zero)/,r.test(n)&&(i=n,n=null),r.test(t)&&(i=t,t=n),n&&(this.fillColor(n),this.strokeColor(t)),this.addContent('B'+this._windingRule(i))},clip:function(n){return this.addContent('W'+this._windingRule(n)+' n')},transform:function(n,t,i,r,u,f){var e,o,s,h,c,l,a,v,y;return e=this._ctm,o=e[0],s=e[1],h=e[2],c=e[3],l=e[4],a=e[5],e[0]=o*n+h*t,e[1]=s*n+c*t,e[2]=o*i+h*r,e[3]=s*i+c*r,e[4]=o*u+h*f+l,e[5]=s*u+c*f+a,y=function(){var e,h,o,s;for(o=[n,t,i,r,u,f],s=[],e=0,h=o.length;e<h;e++)v=o[e],s.push(+v.toFixed(5));return s}().join(' '),this.addContent(""+y+" cm")},translate:function(n,t){return this.transform(1,0,0,1,n,t)},rotate:function(n,t){var u,e,f,i,s,r,h,o;return t==null&&(t={}),e=n*Math.PI/180,u=Math.cos(e),f=Math.sin(e),i=r=0,t.origin!=null&&(o=t.origin,i=o[0],r=o[1],s=i*u-r*f,h=i*f+r*u,i-=s,r-=h),this.transform(u,f,-f,u,i,r)},scale:function(n,t,i){var r,u,f;return t==null&&(t=n),i==null&&(i={}),arguments.length===2&&(t=n,i=t),r=u=0,i.origin!=null&&(f=i.origin,r=f[0],u=f[1],r-=n*r,u-=t*u),this.transform(n,0,0,t,r,u)}}},{"../path":20}],18:[function(n,t){(function(i){var r,u;r=function(){function t(){}var r,f,n,e;return n=function(n,t){return(Array(t+1).join('0')+n).slice(-t)},f=/[\n\r\t\b\f\(\)\\]/g,r={'\n':'\\n','\r':'\\r','\t':'\\t','\b':'\\b','\f':'\\f','\\':'\\\\','(':'\\(',')':'\\)'},e=function(n){var u,t,i,r,f;if(i=n.length,i&1)throw new Error("Buffer length must be even");else for(t=r=0,f=i-1;r<f;t=r+=2)u=n[t],n[t]=n[t+1],n[t+1]=u;return n},t.convert=function(o){var y,c,l,p,a,h,s,w,v,b;if(typeof o=='string')return'/'+o;if(o instanceof String){for(s=o.replace(f,function(n){return r[n]}),l=!1,c=v=0,b=s.length;v<b;c=v+=1)if(s.charCodeAt(c)>127){l=!0;break}return l&&(s=e(new i('\ufeff'+s,'utf16le')).toString('binary')),'('+s+')'}if(i.isBuffer(o))return'<'+o.toString('hex')+'>';if(o instanceof u)return o.toString();if(o instanceof Date)return'(D:'+n(o.getUTCFullYear(),4)+n(o.getUTCMonth()+1,2)+n(o.getUTCDate(),2)+n(o.getUTCHours(),2)+n(o.getUTCMinutes(),2)+n(o.getUTCSeconds(),2)+'Z)';if(Array.isArray(o))return p=function(){var n,r,i;for(i=[],n=0,r=o.length;n<r;n++)y=o[n],i.push(t.convert(y));return i}().join(' '),'['+p+']';if({}.toString.call(o)==='[object Object]'){h=['<<'];for(a in o)w=o[a],h.push('/'+a+' '+t.convert(w));return h.push('>>'),h.join('\n')}return''+o},t}();t.localExports=r;u=n('./reference')}).call(this,n("buffer").Buffer)},{"./reference":21,buffer:60}],19:[function(n,t){var i;i=function(){function n(n,r){var u;this.document=n;r==null&&(r={});this.size=r.size||'letter';this.layout=r.layout||'portrait';typeof r.margin=='number'?this.margins={top:r.margin,left:r.margin,bottom:r.margin,right:r.margin}:(this.margins=r.margins||t,this.margins={top:this.margins.top,left:this.margins.left,bottom:this.margins.bottom,right:this.margins.right});u=Array.isArray(this.size)?this.size:i[this.size.toUpperCase()];this.width=u[this.layout==='portrait'?0:1];this.height=u[this.layout==='portrait'?1:0];this.content=this.document.ref();this.resources=this.document.ref({ProcSet:['PDF','Text','ImageB','ImageC','ImageI']});Object.defineProperties(this,{fonts:{get:function(n){return function(){var t;return(t=n.resources.data).Font!=null?t.Font:t.Font={}}}(this)},xobjects:{get:function(n){return function(){var t;return(t=n.resources.data).XObject!=null?t.XObject:t.XObject={}}}(this)},ext_gstates:{get:function(n){return function(){var t;return(t=n.resources.data).ExtGState!=null?t.ExtGState:t.ExtGState={}}}(this)},patterns:{get:function(n){return function(){var t;return(t=n.resources.data).Pattern!=null?t.Pattern:t.Pattern={}}}(this)},annotations:{get:function(n){return function(){var t;return(t=n.dictionary.data).Annots!=null?t.Annots:t.Annots=[]}}(this)}});this.dictionary=this.document.ref({Type:'Page',Parent:this.document._root.data.Pages,MediaBox:[0,0,this.width,this.height],Contents:this.content,Resources:this.resources})}var t,i;return n.prototype.maxY=function(){return this.height-this.margins.bottom},n.prototype.write=function(n){return this.content.write(n)},n.prototype.end=function(){return this.dictionary.end(),this.resources.end(),this.content.end()},t={top:72,left:72,bottom:72,right:72},i={'4A0':[4767.87,6740.79],'2A0':[3370.39,4767.87],A0:[2383.94,3370.39],A1:[1683.78,2383.94],A2:[1190.55,1683.78],A3:[841.89,1190.55],A4:[595.28,841.89],A5:[419.53,595.28],A6:[297.64,419.53],A7:[209.76,297.64],A8:[147.4,209.76],A9:[104.88,147.4],A10:[73.7,104.88],B0:[2834.65,4008.19],B1:[2004.09,2834.65],B2:[1417.32,2004.09],B3:[1000.63,1417.32],B4:[708.66,1000.63],B5:[498.9,708.66],B6:[354.33,498.9],B7:[249.45,354.33],B8:[175.75,249.45],B9:[124.72,175.75],B10:[87.87,124.72],C0:[2599.37,3676.54],C1:[1836.85,2599.37],C2:[1298.27,1836.85],C3:[918.43,1298.27],C4:[649.13,918.43],C5:[459.21,649.13],C6:[323.15,459.21],C7:[229.61,323.15],C8:[161.57,229.61],C9:[113.39,161.57],C10:[79.37,113.39],RA0:[2437.8,3458.27],RA1:[1729.13,2437.8],RA2:[1218.9,1729.13],RA3:[864.57,1218.9],RA4:[609.45,864.57],SRA0:[2551.18,3628.35],SRA1:[1814.17,2551.18],SRA2:[1275.59,1814.17],SRA3:[907.09,1275.59],SRA4:[637.8,907.09],EXECUTIVE:[521.86,756],FOLIO:[612,936],LEGAL:[612,1008],LETTER:[612,792],TABLOID:[792,1224]},n}();t.localExports=i},{}],20:[function(n,t){var i;i=function(){function y(){}var c,l,n,t,u,o,a,i,r,s,v,h,f,e;return y.apply=function(n,t){var i;return i=a(t),c(i,n)},o={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0},a=function(n){var t,r,u,i,e,s,f,h,c;for(f=[],t=[],i="",e=!1,s=0,h=0,c=n.length;h<c;h++)if(r=n[h],o[r]!=null)s=o[r],u&&(i.length>0&&(t[t.length]=+i),f[f.length]={cmd:u,args:t},t=[],i="",e=!1),u=r;else if(r===" "||r===","||r==="-"&&i.length>0&&i[i.length-1]!=='e'||r==="."&&e){if(i.length===0)continue;t.length===s?(f[f.length]={cmd:u,args:t},t=[+i],u==="M"&&(u="L"),u==="m"&&(u="l")):t[t.length]=+i;e=r===".";i=r==='-'||r==='.'?r:''}else i+=r,r==='.'&&(e=!0);return i.length>0&&(t.length===s?(f[f.length]={cmd:u,args:t},t=[+i],u==="M"&&(u="L"),u==="m"&&(u="l")):t[t.length]=+i),f[f.length]={cmd:u,args:t},f},n=t=i=r=f=e=0,c=function(u,o){var h,c,l,a,v;for(n=t=i=r=f=e=0,c=l=0,a=u.length;l<a;c=++l)h=u[c],typeof s[v=h.cmd]=="function"&&s[v](o,h.args);return n=t=i=r=0},s={M:function(u,o){return n=o[0],t=o[1],i=r=null,f=n,e=t,u.moveTo(n,t)},m:function(u,o){return n+=o[0],t+=o[1],i=r=null,f=n,e=t,u.moveTo(n,t)},C:function(u,f){return n=f[4],t=f[5],i=f[2],r=f[3],u.bezierCurveTo.apply(u,f)},c:function(u,f){return u.bezierCurveTo(f[0]+n,f[1]+t,f[2]+n,f[3]+t,f[4]+n,f[5]+t),i=n+f[2],r=t+f[3],n+=f[4],t+=f[5]},S:function(u,f){return i===null&&(i=n,r=t),u.bezierCurveTo(n-(i-n),t-(r-t),f[0],f[1],f[2],f[3]),i=f[0],r=f[1],n=f[2],t=f[3]},s:function(u,f){return i===null&&(i=n,r=t),u.bezierCurveTo(n-(i-n),t-(r-t),n+f[0],t+f[1],n+f[2],t+f[3]),i=n+f[0],r=t+f[1],n+=f[2],t+=f[3]},Q:function(u,f){return i=f[0],r=f[1],n=f[2],t=f[3],u.quadraticCurveTo(f[0],f[1],n,t)},q:function(u,f){return u.quadraticCurveTo(f[0]+n,f[1]+t,f[2]+n,f[3]+t),i=n+f[0],r=t+f[1],n+=f[2],t+=f[3]},T:function(u,f){return i===null?(i=n,r=t):(i=n-(i-n),r=t-(r-t)),u.quadraticCurveTo(i,r,f[0],f[1]),i=n-(i-n),r=t-(r-t),n=f[0],t=f[1]},t:function(u,f){return i===null?(i=n,r=t):(i=n-(i-n),r=t-(r-t)),u.quadraticCurveTo(i,r,n+f[0],t+f[1]),n+=f[0],t+=f[1]},A:function(i,r){return h(i,n,t,r),n=r[5],t=r[6]},a:function(i,r){return r[5]+=n,r[6]+=t,h(i,n,t,r),n=r[5],t=r[6]},L:function(u,f){return n=f[0],t=f[1],i=r=null,u.lineTo(n,t)},l:function(u,f){return n+=f[0],t+=f[1],i=r=null,u.lineTo(n,t)},H:function(u,f){return n=f[0],i=r=null,u.lineTo(n,t)},h:function(u,f){return n+=f[0],i=r=null,u.lineTo(n,t)},V:function(u,f){return t=f[0],i=r=null,u.lineTo(n,t)},v:function(u,f){return t+=f[0],i=r=null,u.lineTo(n,t)},Z:function(i){return i.closePath(),n=f,t=e},z:function(i){return i.closePath(),n=f,t=e}},h=function(n,t,i,r){var o,s,h,c,a,y,p,w,f,b,u,k,e;for(y=r[0],p=r[1],a=r[2],c=r[3],b=r[4],s=r[5],h=r[6],f=l(s,h,y,p,c,b,a,t,i),e=[],u=0,k=f.length;u<k;u++)w=f[u],o=v.apply(null,w),e.push(n.bezierCurveTo.apply(n,o));return e},l=function(n,t,u,f,e,o,s,h,c){var et,ot,st,ht,v,at,g,y,ct,a,nt,it,p,lt,rt,vt,yt,pt,l,w,b,ut,k,d,ft,tt;for(lt=s*(Math.PI/180),p=Math.sin(lt),v=Math.cos(lt),u=Math.abs(u),f=Math.abs(f),i=v*(h-n)*.5+p*(c-t)*.5,r=v*(c-t)*.5-p*(h-n)*.5,y=i*i/(u*u)+r*r/(f*f),y>1&&(y=Math.sqrt(y),u*=y,f*=y),et=v/u,ot=p/u,st=-p/f,ht=v/f,w=et*h+ot*c,k=st*h+ht*c,b=et*n+ot*t,d=st*n+ht*t,at=(b-w)*(b-w)+(d-k)*(d-k),it=1/at-.25,it<0&&(it=0),nt=Math.sqrt(it),o===e&&(nt=-nt),ut=.5*(w+b)-nt*(d-k),ft=.5*(k+d)+nt*(b-w),rt=Math.atan2(k-ft,w-ut),vt=Math.atan2(d-ft,b-ut),l=vt-rt,l<0&&o===1?l+=2*Math.PI:l>0&&o===0&&(l-=2*Math.PI),a=Math.ceil(Math.abs(l/(Math.PI*.5+.001))),ct=[],g=tt=0;0<=a?tt<a:tt>a;g=0<=a?++tt:--tt)yt=rt+g*l/a,pt=rt+(g+1)*l/a,ct[g]=[ut,ft,yt,pt,u,f,p,v];return ct},v=function(n,t,i,r,f,e,o,s){var c,l,a,v,h,y,b,k,p,d,g,w;return c=s*f,l=-o*e,a=o*f,v=s*e,y=.5*(r-i),h=8/3*Math.sin(y*.5)*Math.sin(y*.5)/Math.sin(y),b=u(n+Math.cos(i)-h*Math.sin(i)),d=u(t+Math.sin(i)+h*Math.cos(i)),p=u(n+Math.cos(r)),w=u(t+Math.sin(r)),k=u(p+h*Math.sin(r)),g=u(w-h*Math.cos(r)),[c*b+l*d,a*b+v*d,c*k+l*g,a*k+v*g,c*p+l*w,a*p+v*w]},u=function(n){return Math.abs(Math.round(n)-n)<1e-13?Math.round(n):n},y}();t.localExports=i},{}],21:[function(n,t){(function(i){var r,u,f,e,o=function(n,t){return function(){return n.apply(t,arguments)}},s={}.hasOwnProperty,h=function(n,t){function r(){this.constructor=n}for(var i in t)s.call(t,i)&&(n[i]=t[i]);return r.prototype=t.prototype,n.prototype=new r,n.__super__=t.prototype,n};e=n('zlib');f=n('stream');u=function(n){function t(n,i,r){this.document=n;this.id=i;this.data=r!=null?r:{};this.finalize=o(this.finalize,this);t.__super__.constructor.call(this,{decodeStrings:!1});this.gen=0;this.deflate=null;this.compress=this.document.compress&&!this.data.Filter;this.uncompressedLength=0;this.chunks=[]}return h(t,n),t.prototype.initDeflate=function(){this.data.Filter='FlateDecode';this.deflate=e.createDeflate();this.deflate.on('data',function(n){return function(t){return n.chunks.push(t),n.data.Length+=t.length}}(this));return this.deflate.on('end',this.finalize)},t.prototype._write=function(n,t,r){var u;return i.isBuffer(n)||(n=new i(n+'\n','binary')),this.uncompressedLength+=n.length,(u=this.data).Length==null&&(u.Length=0),this.compress?(this.deflate||this.initDeflate(),this.deflate.write(n)):(this.chunks.push(n),this.data.Length+=n.length),r()},t.prototype.end=function(){return t.__super__.end.apply(this,arguments),this.deflate?this.deflate.end():this.finalize()},t.prototype.finalize=function(){var i,n,u,t;if(this.offset=this.document._offset,this.document._write(""+this.id+" "+this.gen+" obj"),this.document._write(r.convert(this.data)),this.chunks.length){for(this.document._write('stream'),t=this.chunks,n=0,u=t.length;n<u;n++)i=t[n],this.document._write(i);this.chunks.length=0;this.document._write('\nendstream')}return this.document._write('endobj'),this.document._refEnd(this)},t.prototype.toString=function(){return""+this.id+" "+this.gen+" R"},t}(f.Writable);t.localExports=u;r=n('./object')}).call(this,n("buffer").Buffer)},{"./object":18,buffer:60,stream:216,zlib:58}],22:[function(n,t){function s(n,t){return r.isUndefined(t)?''+t:r.isNumber(t)&&!isFinite(t)?t.toString():r.isFunction(t)||r.isRegExp(t)?t.toString():t}function h(n,t){return r.isString(n)?n.length<t?n:n.slice(0,t):n}function p(n){return h(JSON.stringify(n.actual,s),128)+' '+n.operator+' '+h(JSON.stringify(n.expected,s),128)}function u(n,t,r,u,f){throw new i.AssertionError({message:r,actual:n,expected:t,operator:u,stackStartFunction:f});}function c(n,t){n||u(n,!0,t,'==',i.ok)}function e(n,t){if(n===t)return!0;if(r.isBuffer(n)&&r.isBuffer(t)){if(n.length!=t.length)return!1;for(var i=0;i<n.length;i++)if(n[i]!==t[i])return!1;return!0}return r.isDate(n)&&r.isDate(t)?n.getTime()===t.getTime():r.isRegExp(n)&&r.isRegExp(t)?n.source===t.source&&n.global===t.global&&n.multiline===t.multiline&&n.lastIndex===t.lastIndex&&n.ignoreCase===t.ignoreCase:r.isObject(n)||r.isObject(t)?w(n,t):n==t}function l(n){return Object.prototype.toString.call(n)=='[object Arguments]'}function w(n,t){var s,c,u,h,a,i;if(r.isNullOrUndefined(n)||r.isNullOrUndefined(t)||n.prototype!==t.prototype)return!1;if(r.isPrimitive(n)||r.isPrimitive(t))return n===t;if(s=l(n),c=l(t),s&&!c||!s&&c)return!1;if(s)return n=f.call(n),t=f.call(t),e(n,t);if(u=o(n),h=o(t),u.length!=h.length)return!1;for(u.sort(),h.sort(),i=u.length-1;i>=0;i--)if(u[i]!=h[i])return!1;for(i=u.length-1;i>=0;i--)if(a=u[i],!e(n[a],t[a]))return!1;return!0}function a(n,t){return!n||!t?!1:Object.prototype.toString.call(t)=='[object RegExp]'?t.test(n):n instanceof t||t.call({},n)===!0?!0:!1}function v(n,t,i,f){var e;r.isString(i)&&(f=i,i=null);try{t()}catch(o){e=o}if(f=(i&&i.name?' ('+i.name+').':'.')+(f?' '+f:'.'),n&&!e&&u(e,i,'Missing expected exception'+f),!n&&a(e,i)&&u(e,i,'Got unwanted exception'+f),n&&e&&i&&!a(e,i)||!n&&e)throw e;}var r=n('util/'),f=Array.prototype.slice,y=Object.prototype.hasOwnProperty,i=t.localExports=c,o;i.AssertionError=function(n){var i,r,e;if(this.name='AssertionError',this.actual=n.actual,this.expected=n.expected,this.operator=n.operator,n.message?(this.message=n.message,this.generatedMessage=!1):(this.message=p(this),this.generatedMessage=!0),i=n.stackStartFunction||u,Error.captureStackTrace)Error.captureStackTrace(this,i);else if(r=new Error,r.stack){var t=r.stack,o=i.name,f=t.indexOf('\n'+o);f>=0&&(e=t.indexOf('\n',f+1),t=t.substring(e+1));this.stack=t}};r.inherits(i.AssertionError,Error);i.fail=u;i.ok=c;i.equal=function(n,t,r){n!=t&&u(n,t,r,'==',i.equal)};i.notEqual=function(n,t,r){n==t&&u(n,t,r,'!=',i.notEqual)};i.deepEqual=function(n,t,r){e(n,t)||u(n,t,r,'deepEqual',i.deepEqual)};i.notDeepEqual=function(n,t,r){e(n,t)&&u(n,t,r,'notDeepEqual',i.notDeepEqual)};i.strictEqual=function(n,t,r){n!==t&&u(n,t,r,'===',i.strictEqual)};i.notStrictEqual=function(n,t,r){n===t&&u(n,t,r,'!==',i.notStrictEqual)};i.throws=function(){v.apply(this,[!0].concat(f.call(arguments)))};i.doesNotThrow=function(){v.apply(this,[!1].concat(f.call(arguments)))};i.ifError=function(n){if(n)throw n;};o=Object.keys||function(n){var t=[];for(var i in n)y.call(n,i)&&t.push(i);return t}},{"util/":224}],23:[function(n,t){t.localExports={"default":n("core-js/library/fn/array/from"),__esModule:!0}},{"core-js/library/fn/array/from":62}],24:[function(n,t){t.localExports={"default":n("core-js/library/fn/get-iterator"),__esModule:!0}},{"core-js/library/fn/get-iterator":63}],25:[function(n,t){t.localExports={"default":n("core-js/library/fn/is-iterable"),__esModule:!0}},{"core-js/library/fn/is-iterable":64}],26:[function(n,t){t.localExports={"default":n("core-js/library/fn/object/assign"),__esModule:!0}},{"core-js/library/fn/object/assign":65}],27:[function(n,t){t.localExports={"default":n("core-js/library/fn/object/create"),__esModule:!0}},{"core-js/library/fn/object/create":66}],28:[function(n,t){t.localExports={"default":n("core-js/library/fn/object/define-properties"),__esModule:!0}},{"core-js/library/fn/object/define-properties":67}],29:[function(n,t){t.localExports={"default":n("core-js/library/fn/object/define-property"),__esModule:!0}},{"core-js/library/fn/object/define-property":68}],30:[function(n,t){t.localExports={"default":n("core-js/library/fn/object/freeze"),__esModule:!0}},{"core-js/library/fn/object/freeze":69}],31:[function(n,t){t.localExports={"default":n("core-js/library/fn/object/get-own-property-descriptor"),__esModule:!0}},{"core-js/library/fn/object/get-own-property-descriptor":70}],32:[function(n,t){t.localExports={"default":n("core-js/library/fn/object/get-prototype-of"),__esModule:!0}},{"core-js/library/fn/object/get-prototype-of":71}],33:[function(n,t){t.localExports={"default":n("core-js/library/fn/object/keys"),__esModule:!0}},{"core-js/library/fn/object/keys":72}],34:[function(n,t){t.localExports={"default":n("core-js/library/fn/object/set-prototype-of"),__esModule:!0}},{"core-js/library/fn/object/set-prototype-of":73}],35:[function(n,t){t.localExports={"default":n("core-js/library/fn/symbol"),__esModule:!0}},{"core-js/library/fn/symbol":74}],36:[function(n,t){t.localExports={"default":n("core-js/library/fn/symbol/iterator"),__esModule:!0}},{"core-js/library/fn/symbol/iterator":75}],37:[function(n,t,i){"use strict";i.__esModule=!0;i.default=function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}},{}],38:[function(n,t,i){"use strict";function f(n){return n&&n.__esModule?n:{default:n}}i.__esModule=!0;var r=n("../core-js/object/define-property"),u=f(r);i.default=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),u.default(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}()},{"../core-js/object/define-property":29}],39:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{default:n}}i.__esModule=!0;var u=n("../core-js/object/get-prototype-of"),f=r(u),e=n("../core-js/object/get-own-property-descriptor"),o=r(e);i.default=function s(n,t,i){var r,u,e;return n===null&&(n=Function.prototype),r=o.default(n,t),r===undefined?(u=f.default(n),u===null?undefined:s(u,t,i)):"value"in r?r.value:(e=r.get,e===undefined)?undefined:e.call(i)}},{"../core-js/object/get-own-property-descriptor":31,"../core-js/object/get-prototype-of":32}],40:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{default:n}}i.__esModule=!0;var f=n("../core-js/object/set-prototype-of"),u=r(f),e=n("../core-js/object/create"),o=r(e),s=n("../helpers/typeof"),h=r(s);i.default=function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+(typeof t=="undefined"?"undefined":h.default(t)));n.prototype=o.default(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(u.default?u.default(n,t):n.__proto__=t)}},{"../core-js/object/create":27,"../core-js/object/set-prototype-of":34,"../helpers/typeof":44}],41:[function(n,t,i){"use strict";function f(n){return n&&n.__esModule?n:{default:n}}i.__esModule=!0;var r=n("../helpers/typeof"),u=f(r);i.default=function(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&((typeof t=="undefined"?"undefined":u.default(t))==="object"||typeof t=="function")?t:n}},{"../helpers/typeof":44}],42:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{default:n}}i.__esModule=!0;var u=n("../core-js/is-iterable"),f=r(u),e=n("../core-js/get-iterator"),o=r(e);i.default=function(){function n(n,t){var r=[],u=!0,f=!1,e=undefined,i,s;try{for(i=o.default(n);!(u=(s=i.next()).done);u=!0)if(r.push(s.value),t&&r.length===t)break}catch(h){f=!0;e=h}finally{try{!u&&i["return"]&&i["return"]()}finally{if(f)throw e;}}return r}return function(t,i){if(Array.isArray(t))return t;if(f.default(Object(t)))return n(t,i);throw new TypeError("Invalid attempt to destructure non-iterable instance");}}()},{"../core-js/get-iterator":24,"../core-js/is-iterable":25}],43:[function(n,t,i){"use strict";function f(n){return n&&n.__esModule?n:{default:n}}i.__esModule=!0;var r=n("../core-js/array/from"),u=f(r);i.default=function(n){if(Array.isArray(n)){for(var t=0,i=Array(n.length);t<n.length;t++)i[t]=n[t];return i}return u.default(n)}},{"../core-js/array/from":23}],44:[function(n,t,i){"use strict";function e(n){return n&&n.__esModule?n:{default:n}}i.__esModule=!0;var o=n("../core-js/symbol/iterator"),f=e(o),s=n("../core-js/symbol"),r=e(s),u=typeof r.default=="function"&&typeof f.default=="symbol"?function(n){return typeof n}:function(n){return n&&typeof r.default=="function"&&n.constructor===r.default?"symbol":typeof n};i.default=typeof r.default=="function"&&u(f.default)==="symbol"?function(n){return typeof n=="undefined"?"undefined":u(n)}:function(n){return n&&typeof r.default=="function"&&n.constructor===r.default?"symbol":typeof n=="undefined"?"undefined":u(n)}},{"../core-js/symbol":35,"../core-js/symbol/iterator":36}],45:[function(n,t,i){'use strict';function e(){for(var t='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',n=0,i=t.length;n<i;++n)u[n]=t[n],r[t.charCodeAt(n)]=n;r['-'.charCodeAt(0)]=62;r['_'.charCodeAt(0)]=63}function o(n){var t,h,c,i,s,u,o=n.length,e;if(o%4>0)throw new Error('Invalid string. Length must be a multiple of 4');for(s=n[o-2]==='='?2:n[o-1]==='='?1:0,u=new f(o*3/4-s),c=s>0?o-4:o,e=0,t=0,h=0;t<c;t+=4,h+=3)i=r[n.charCodeAt(t)]<<18|r[n.charCodeAt(t+1)]<<12|r[n.charCodeAt(t+2)]<<6|r[n.charCodeAt(t+3)],u[e++]=i>>16&255,u[e++]=i>>8&255,u[e++]=i&255;return s===2?(i=r[n.charCodeAt(t)]<<2|r[n.charCodeAt(t+1)]>>4,u[e++]=i&255):s===1&&(i=r[n.charCodeAt(t)]<<10|r[n.charCodeAt(t+1)]<<4|r[n.charCodeAt(t+2)]>>2,u[e++]=i>>8&255,u[e++]=i&255),u}function s(n){return u[n>>18&63]+u[n>>12&63]+u[n>>6&63]+u[n&63]}function h(n,t,i){for(var u,f=[],r=t;r<i;r+=3)u=(n[r]<<16)+(n[r+1]<<8)+n[r+2],f.push(s(u));return f.join('')}function c(n){for(var i,r=n.length,e=r%3,t='',o=[],s=16383,f=0,c=r-e;f<c;f+=s)o.push(h(n,f,f+s>c?c:f+s));return e===1?(i=n[r-1],t+=u[i>>2],t+=u[i<<4&63],t+='=='):e===2&&(i=(n[r-2]<<8)+n[r-1],t+=u[i>>10],t+=u[i>>4&63],t+=u[i<<2&63],t+='='),o.push(t),o.join('')}i.toByteArray=o;i.fromByteArray=c;var u=[],r=[],f=typeof Uint8Array!='undefined'?Uint8Array:Array;e()},{}],56:[function(){},{}],57:[function(n,t,i){(function(t,r){function u(n){if(n<i.DEFLATE||n>i.UNZIP)throw new TypeError("Bad argument");this.mode=n;this.init_done=!1;this.write_in_progress=!1;this.pending_close=!1;this.windowBits=0;this.level=0;this.memLevel=0;this.strategy=0;this.dictionary=null}function l(n,t){for(var i=0;i<n.length;i++)this[t+i]=n[i]}var h=n('pako/lib/zlib/messages'),c=n('pako/lib/zlib/zstream'),f=n('pako/lib/zlib/deflate.js'),e=n('pako/lib/zlib/inflate.js'),o=n('pako/lib/zlib/constants');for(var s in o)i[s]=o[s];i.NONE=0;i.DEFLATE=1;i.INFLATE=2;i.GZIP=3;i.GUNZIP=4;i.DEFLATERAW=5;i.INFLATERAW=6;i.UNZIP=7;u.prototype.init=function(n,t,r,u){var o;this.windowBits=n;this.level=t;this.memLevel=r;this.strategy=u;(this.mode===i.GZIP||this.mode===i.GUNZIP)&&(this.windowBits+=16);this.mode===i.UNZIP&&(this.windowBits+=32);(this.mode===i.DEFLATERAW||this.mode===i.INFLATERAW)&&(this.windowBits=-this.windowBits);this.strm=new c;switch(this.mode){case i.DEFLATE:case i.GZIP:case i.DEFLATERAW:o=f.deflateInit2(this.strm,this.level,i.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case i.INFLATE:case i.GUNZIP:case i.INFLATERAW:case i.UNZIP:o=e.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode);}if(o!==i.Z_OK){this._error(o);return}this.write_in_progress=!1;this.init_done=!0};u.prototype.params=function(){throw new Error("deflateParams Not supported");};u.prototype._writeCheck=function(){if(!this.init_done)throw new Error("write before init");if(this.mode===i.NONE)throw new Error("already finalized");if(this.write_in_progress)throw new Error("write already in progress");if(this.pending_close)throw new Error("close is pending");};u.prototype.write=function(n,i,r,u,f,e,o){this._writeCheck();this.write_in_progress=!0;var s=this;return t.nextTick(function(){s.write_in_progress=!1;var t=s._write(n,i,r,u,f,e,o);s.callback(t[0],t[1]);s.pending_close&&s.close()}),this};u.prototype.writeSync=function(n,t,i,r,u,f,e){return this._writeCheck(),this._write(n,t,i,r,u,f,e)};u.prototype._write=function(n,t,u,o,s,h,c){var a,v;if(this.write_in_progress=!0,n!==i.Z_NO_FLUSH&&n!==i.Z_PARTIAL_FLUSH&&n!==i.Z_SYNC_FLUSH&&n!==i.Z_FULL_FLUSH&&n!==i.Z_FINISH&&n!==i.Z_BLOCK)throw new Error("Invalid flush value");t==null&&(t=new r(0),o=0,u=0);s.set=s._set?s._set:l;a=this.strm;a.avail_in=o;a.input=t;a.next_in=u;a.avail_out=c;a.output=s;a.next_out=h;switch(this.mode){case i.DEFLATE:case i.GZIP:case i.DEFLATERAW:v=f.deflate(a,n);break;case i.UNZIP:case i.INFLATE:case i.GUNZIP:case i.INFLATERAW:v=e.inflate(a,n);break;default:throw new Error("Unknown mode "+this.mode);}return v!==i.Z_STREAM_END&&v!==i.Z_OK&&this._error(v),this.write_in_progress=!1,[a.avail_in,a.avail_out]};u.prototype.close=function(){if(this.write_in_progress){this.pending_close=!0;return}this.pending_close=!1;this.mode===i.DEFLATE||this.mode===i.GZIP||this.mode===i.DEFLATERAW?f.deflateEnd(this.strm):e.inflateEnd(this.strm);this.mode=i.NONE};u.prototype.reset=function(){var n;switch(this.mode){case i.DEFLATE:case i.DEFLATERAW:n=f.deflateReset(this.strm);break;case i.INFLATE:case i.INFLATERAW:n=e.inflateReset(this.strm)}n!==i.Z_OK&&this._error(n)};u.prototype._error=function(n){this.onerror(h[n]+': '+this.strm.msg,n);this.write_in_progress=!1;this.pending_close&&this.close()};i.Zlib=u}).call(this,n('_process'),n("buffer").Buffer)},{_process:188,buffer:60,"pako/lib/zlib/constants":177,"pako/lib/zlib/deflate.js":179,"pako/lib/zlib/inflate.js":181,"pako/lib/zlib/messages":183,"pako/lib/zlib/zstream":185}],58:[function(n,t,i){(function(t,r){function o(n,t,i){function f(){for(var t;null!==(t=n.read());)u.push(t),e+=t.length;n.once('readable',f)}function s(t){n.removeListener('end',o);n.removeListener('readable',f);i(t)}function o(){var t=r.concat(u,e);u=[];i(null,t);n.close()}var u=[],e=0;n.on('error',s);n.on('end',o);n.end(t);f()}function s(n,t){if(typeof t=='string'&&(t=new r(t)),!r.isBuffer(t))throw new TypeError('Not a string or buffer');var i=u.Z_FINISH;return n._processChunk(t,i)}function h(n){if(!(this instanceof h))return new h(n);f.call(this,n,u.DEFLATE)}function c(n){if(!(this instanceof c))return new c(n);f.call(this,n,u.INFLATE)}function l(n){if(!(this instanceof l))return new l(n);f.call(this,n,u.GZIP)}function a(n){if(!(this instanceof a))return new a(n);f.call(this,n,u.GUNZIP)}function v(n){if(!(this instanceof v))return new v(n);f.call(this,n,u.DEFLATERAW)}function y(n){if(!(this instanceof y))return new y(n);f.call(this,n,u.INFLATERAW)}function p(n){if(!(this instanceof p))return new p(n);f.call(this,n,u.UNZIP)}function f(n,t){var f,e,o;if(this._opts=n=n||{},this._chunkSize=n.chunkSize||i.Z_DEFAULT_CHUNK,w.call(this,n),n.flush&&n.flush!==u.Z_NO_FLUSH&&n.flush!==u.Z_PARTIAL_FLUSH&&n.flush!==u.Z_SYNC_FLUSH&&n.flush!==u.Z_FULL_FLUSH&&n.flush!==u.Z_FINISH&&n.flush!==u.Z_BLOCK)throw new Error('Invalid flush flag: '+n.flush);if(this._flushFlag=n.flush||u.Z_NO_FLUSH,n.chunkSize&&(n.chunkSize<i.Z_MIN_CHUNK||n.chunkSize>i.Z_MAX_CHUNK))throw new Error('Invalid chunk size: '+n.chunkSize);if(n.windowBits&&(n.windowBits<i.Z_MIN_WINDOWBITS||n.windowBits>i.Z_MAX_WINDOWBITS))throw new Error('Invalid windowBits: '+n.windowBits);if(n.level&&(n.level<i.Z_MIN_LEVEL||n.level>i.Z_MAX_LEVEL))throw new Error('Invalid compression level: '+n.level);if(n.memLevel&&(n.memLevel<i.Z_MIN_MEMLEVEL||n.memLevel>i.Z_MAX_MEMLEVEL))throw new Error('Invalid memLevel: '+n.memLevel);if(n.strategy&&n.strategy!=i.Z_FILTERED&&n.strategy!=i.Z_HUFFMAN_ONLY&&n.strategy!=i.Z_RLE&&n.strategy!=i.Z_FIXED&&n.strategy!=i.Z_DEFAULT_STRATEGY)throw new Error('Invalid strategy: '+n.strategy);if(n.dictionary&&!r.isBuffer(n.dictionary))throw new Error('Invalid dictionary: it should be a Buffer instance');this._binding=new u.Zlib(t);f=this;this._hadError=!1;this._binding.onerror=function(n,t){f._binding=null;f._hadError=!0;var r=new Error(n);r.errno=t;r.code=i.codes[t];f.emit('error',r)};e=i.Z_DEFAULT_COMPRESSION;typeof n.level=='number'&&(e=n.level);o=i.Z_DEFAULT_STRATEGY;typeof n.strategy=='number'&&(o=n.strategy);this._binding.init(n.windowBits||i.Z_DEFAULT_WINDOWBITS,e,n.memLevel||i.Z_DEFAULT_MEMLEVEL,o,n.dictionary);this._buffer=new r(this._chunkSize);this._offset=0;this._closed=!1;this._level=e;this._strategy=o;this.once('end',this.close)}var w=n('_stream_transform'),u=n('./binding'),e=n('util'),b=n('assert').ok;u.Z_MIN_WINDOWBITS=8;u.Z_MAX_WINDOWBITS=15;u.Z_DEFAULT_WINDOWBITS=15;u.Z_MIN_CHUNK=64;u.Z_MAX_CHUNK=Infinity;u.Z_DEFAULT_CHUNK=16384;u.Z_MIN_MEMLEVEL=1;u.Z_MAX_MEMLEVEL=9;u.Z_DEFAULT_MEMLEVEL=8;u.Z_MIN_LEVEL=-1;u.Z_MAX_LEVEL=9;u.Z_DEFAULT_LEVEL=u.Z_DEFAULT_COMPRESSION;Object.keys(u).forEach(function(n){n.match(/^Z/)&&(i[n]=u[n])});i.codes={Z_OK:u.Z_OK,Z_STREAM_END:u.Z_STREAM_END,Z_NEED_DICT:u.Z_NEED_DICT,Z_ERRNO:u.Z_ERRNO,Z_STREAM_ERROR:u.Z_STREAM_ERROR,Z_DATA_ERROR:u.Z_DATA_ERROR,Z_MEM_ERROR:u.Z_MEM_ERROR,Z_BUF_ERROR:u.Z_BUF_ERROR,Z_VERSION_ERROR:u.Z_VERSION_ERROR};Object.keys(i.codes).forEach(function(n){i.codes[i.codes[n]]=n});i.Deflate=h;i.Inflate=c;i.Gzip=l;i.Gunzip=a;i.DeflateRaw=v;i.InflateRaw=y;i.Unzip=p;i.createDeflate=function(n){return new h(n)};i.createInflate=function(n){return new c(n)};i.createDeflateRaw=function(n){return new v(n)};i.createInflateRaw=function(n){return new y(n)};i.createGzip=function(n){return new l(n)};i.createGunzip=function(n){return new a(n)};i.createUnzip=function(n){return new p(n)};i.deflate=function(n,t,i){return typeof t=='function'&&(i=t,t={}),o(new h(t),n,i)};i.deflateSync=function(n,t){return s(new h(t),n)};i.gzip=function(n,t,i){return typeof t=='function'&&(i=t,t={}),o(new l(t),n,i)};i.gzipSync=function(n,t){return s(new l(t),n)};i.deflateRaw=function(n,t,i){return typeof t=='function'&&(i=t,t={}),o(new v(t),n,i)};i.deflateRawSync=function(n,t){return s(new v(t),n)};i.unzip=function(n,t,i){return typeof t=='function'&&(i=t,t={}),o(new p(t),n,i)};i.unzipSync=function(n,t){return s(new p(t),n)};i.inflate=function(n,t,i){return typeof t=='function'&&(i=t,t={}),o(new c(t),n,i)};i.inflateSync=function(n,t){return s(new c(t),n)};i.gunzip=function(n,t,i){return typeof t=='function'&&(i=t,t={}),o(new a(t),n,i)};i.gunzipSync=function(n,t){return s(new a(t),n)};i.inflateRaw=function(n,t,i){return typeof t=='function'&&(i=t,t={}),o(new y(t),n,i)};i.inflateRawSync=function(n,t){return s(new y(t),n)};e.inherits(f,w);f.prototype.params=function(n,r,f){if(n<i.Z_MIN_LEVEL||n>i.Z_MAX_LEVEL)throw new RangeError('Invalid compression level: '+n);if(r!=i.Z_FILTERED&&r!=i.Z_HUFFMAN_ONLY&&r!=i.Z_RLE&&r!=i.Z_FIXED&&r!=i.Z_DEFAULT_STRATEGY)throw new TypeError('Invalid strategy: '+r);if(this._level!==n||this._strategy!==r){var e=this;this.flush(u.Z_SYNC_FLUSH,function(){e._binding.params(n,r);e._hadError||(e._level=n,e._strategy=r,f&&f())})}else t.nextTick(f)};f.prototype.reset=function(){return this._binding.reset()};f.prototype._flush=function(n){this._transform(new r(0),'',n)};f.prototype.flush=function(n,i){var f=this._writableState,e;if(typeof n!='function'&&(n!==void 0||i)||(i=n,n=u.Z_FULL_FLUSH),f.ended)i&&t.nextTick(i);else if(f.ending){if(i)this.once('end',i)}else if(f.needDrain){e=this;this.once('drain',function(){e.flush(i)})}else this._flushFlag=n,this.write(new r(0),'',i)};f.prototype.close=function(n){if(n&&t.nextTick(n),!this._closed){this._closed=!0;this._binding.close();var i=this;t.nextTick(function(){i.emit('close')})}};f.prototype._transform=function(n,t,i){var e,f=this._writableState,o=f.ending||f.ended,s=o&&(!n||f.length===n.length),h;if(!1&&!r.isBuffer(n))return i(new Error('invalid input'));s?e=u.Z_FINISH:(e=this._flushFlag,n.length>=f.length&&(this._flushFlag=this._opts.flush||u.Z_NO_FLUSH));h=this;this._processChunk(n,e,i)};f.prototype._processChunk=function(n,t,i){function v(l,a){var y,p,w;if(!u._hadError){if(y=e-a,b(y>=0,'have should not go down'),y>0&&(p=u._buffer.slice(u._offset,u._offset+y),u._offset+=y,s?u.push(p):(h.push(p),c+=p.length)),(a===0||u._offset>=u._chunkSize)&&(e=u._chunkSize,u._offset=0,u._buffer=new r(u._chunkSize)),a===0){if(o+=f-l,f=l,!s)return!0;w=u._binding.write(t,n,o,f,u._buffer,u._offset,u._chunkSize);w.callback=v;w.buffer=n;return}if(!s)return!1;i()}}var f=n&&n.length,e=this._chunkSize-this._offset,o=0,u=this,s=typeof i=='function',h,c,y,l,p,a;if(!s){h=[];c=0;this.on('error',function(n){y=n});do l=this._binding.writeSync(t,n,o,f,this._buffer,this._offset,e);while(!this._hadError&&v(l[0],l[1]));if(this._hadError)throw y;return p=r.concat(h,c),this.close(),p}a=this._binding.write(t,n,o,f,this._buffer,this._offset,e);a.buffer=n;a.callback=v};e.inherits(h,f);e.inherits(c,f);e.inherits(l,f);e.inherits(a,f);e.inherits(v,f);e.inherits(y,f);e.inherits(p,f)}).call(this,n('_process'),n("buffer").Buffer)},{"./binding":57,_process:188,_stream_transform:197,assert:22,buffer:60,util:224}],59:[function(n,t,i){arguments[4][56][0].apply(i,arguments)},{dup:56}],60:[function(n,t,i){(function(t){
/*!
                             * The buffer module from node.js, for the browser.
                             *
                             * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
                             * @license  MIT
                             */
function lt(){try{var n=new Uint8Array(1);return n.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},n.foo()===42&&typeof n.subarray=='function'&&n.subarray(1,1).byteLength===0}catch(t){return!1}}function h(){return r.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function e(n,t){if(h()<t)throw new RangeError('Invalid typed array length');return r.TYPED_ARRAY_SUPPORT?(n=new Uint8Array(t),n.__proto__=r.prototype):(n===null&&(n=new r(t)),n.length=t),n}function r(n,t,i){if(!r.TYPED_ARRAY_SUPPORT&&!(this instanceof r))return new r(n,t,i);if(typeof n=='number'){if(typeof t=='string')throw new Error('If encoding is specified then the first argument must be a string');return p(this,n)}return g(this,n,t,i)}function g(n,t,i,r){if(typeof t=='number')throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer!='undefined'&&t instanceof ArrayBuffer?yt(n,t,i,r):typeof t=='string'?vt(n,t,i):pt(n,t)}function nt(n){if(typeof n!='number')throw new TypeError('"size" argument must be a number');else if(n<0)throw new RangeError('"size" argument must not be negative');}function at(n,t,i,r){return(nt(t),t<=0)?e(n,t):i!==undefined?typeof r=='string'?e(n,t).fill(i,r):e(n,t).fill(i):e(n,t)}function p(n,t){if(nt(t),n=e(n,t<0?0:b(t)|0),!r.TYPED_ARRAY_SUPPORT)for(var i=0;i<t;++i)n[i]=0;return n}function vt(n,t,i){var u,f;if((typeof i!='string'||i==='')&&(i='utf8'),!r.isEncoding(i))throw new TypeError('"encoding" must be a valid string encoding');return u=tt(t,i)|0,n=e(n,u),f=n.write(t,i),f!==u&&(n=n.slice(0,f)),n}function w(n,t){var r=t.length<0?0:b(t.length)|0,i;for(n=e(n,r),i=0;i<r;i+=1)n[i]=t[i]&255;return n}function yt(n,t,i,u){if(t.byteLength,i<0||t.byteLength<i)throw new RangeError('\'offset\' is out of bounds');if(t.byteLength<i+(u||0))throw new RangeError('\'length\' is out of bounds');return t=i===undefined&&u===undefined?new Uint8Array(t):u===undefined?new Uint8Array(t,i):new Uint8Array(t,i,u),r.TYPED_ARRAY_SUPPORT?(n=t,n.__proto__=r.prototype):n=w(n,t),n}function pt(n,t){if(r.isBuffer(t)){var i=b(t.length)|0;return(n=e(n,i),n.length===0)?n:(t.copy(n,0,0,i),n)}if(t){if(typeof ArrayBuffer!='undefined'&&t.buffer instanceof ArrayBuffer||'length'in t)return typeof t.length!='number'||vi(t.length)?e(n,0):w(n,t);if(t.type==='Buffer'&&d(t.data))return w(n,t.data)}throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.');}function b(n){if(n>=h())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+h().toString(16)+' bytes');return n|0}function wt(n){return+n!=n&&(n=0),r.alloc(+n)}function tt(n,t){var i,u;if(r.isBuffer(n))return n.length;if(typeof ArrayBuffer!='undefined'&&typeof ArrayBuffer.isView=='function'&&(ArrayBuffer.isView(n)||n instanceof ArrayBuffer))return n.byteLength;if(typeof n!='string'&&(n=''+n),i=n.length,i===0)return 0;for(u=!1;;)switch(t){case'ascii':case'latin1':case'binary':return i;case'utf8':case'utf-8':case undefined:return a(n).length;case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return i*2;case'hex':return i>>>1;case'base64':return ct(n).length;default:if(u)return a(n).length;t=(''+t).toLowerCase();u=!0}}function bt(n,t,i){var r=!1;if(((t===undefined||t<0)&&(t=0),t>this.length)||((i===undefined||i>this.length)&&(i=this.length),i<=0)||(i>>>=0,t>>>=0,i<=t))return'';for(n||(n='utf8');;)switch(n){case'hex':return ei(this,t,i);case'utf8':case'utf-8':return ft(this,t,i);case'ascii':return ui(this,t,i);case'latin1':case'binary':return fi(this,t,i);case'base64':return ii(this,t,i);case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return oi(this,t,i);default:if(r)throw new TypeError('Unknown encoding: '+n);n=(n+'').toLowerCase();r=!0}}function o(n,t,i){var r=n[t];n[t]=n[i];n[i]=r}function it(n,t,i,u,f){if(n.length===0)return-1;if(typeof i=='string'?(u=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,isNaN(i)&&(i=f?0:n.length-1),i<0&&(i=n.length+i),i>=n.length){if(f)return-1;i=n.length-1}else if(i<0)if(f)i=0;else return-1;if(typeof t=='string'&&(t=r.from(t,u)),r.isBuffer(t))return t.length===0?-1:rt(n,t,i,u,f);if(typeof t=='number')return(t=t&255,r.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=='function')?f?Uint8Array.prototype.indexOf.call(n,t,i):Uint8Array.prototype.lastIndexOf.call(n,t,i):rt(n,[t],i,u,f);throw new TypeError('val must be string, number or Buffer');}function rt(n,t,i,r,u){function l(n,t){return h===1?n[t]:n.readUInt16BE(t*h)}var h=1,c=n.length,o=t.length,f,e,a,s;if(r!==undefined&&(r=String(r).toLowerCase(),r==='ucs2'||r==='ucs-2'||r==='utf16le'||r==='utf-16le')){if(n.length<2||t.length<2)return-1;h=2;c/=2;o/=2;i/=2}if(u)for(e=-1,f=i;f<c;f++)if(l(n,f)===l(t,e===-1?0:f-e)){if(e===-1&&(e=f),f-e+1===o)return e*h}else e!==-1&&(f-=f-e),e=-1;else for(i+o>c&&(i=c-o),f=i;f>=0;f--){for(a=!0,s=0;s<o;s++)if(l(n,f+s)!==l(t,s)){a=!1;break}if(a)return f}return-1}function kt(n,t,i,r){var f,e,u,o;if(i=Number(i)||0,f=n.length-i,r?(r=Number(r),r>f&&(r=f)):r=f,e=t.length,e%2!=0)throw new TypeError('Invalid hex string');for(r>e/2&&(r=e/2),u=0;u<r;++u){if(o=parseInt(t.substr(u*2,2),16),isNaN(o))return u;n[i+u]=o}return u}function dt(n,t,i,r){return v(a(t,n.length-i),n,i,r)}function ut(n,t,i,r){return v(li(t),n,i,r)}function gt(n,t,i,r){return ut(n,t,i,r)}function ni(n,t,i,r){return v(ct(t),n,i,r)}function ti(n,t,i,r){return v(ai(t,n.length-i),n,i,r)}function ii(n,t,i){return t===0&&i===n.length?y.fromByteArray(n):y.fromByteArray(n.slice(t,i))}function ft(n,t,i){var h,f,e,s,l,u;for(i=Math.min(n.length,i),h=[],f=t;f<i;){var o=n[f],r=null,c=o>239?4:o>223?3:o>191?2:1;if(f+c<=i)switch(c){case 1:o<128&&(r=o);break;case 2:e=n[f+1];(e&192)==128&&(u=(o&31)<<6|e&63,u>127&&(r=u));break;case 3:e=n[f+1];s=n[f+2];(e&192)==128&&(s&192)==128&&(u=(o&15)<<12|(e&63)<<6|s&63,u>2047&&(u<55296||u>57343)&&(r=u));break;case 4:e=n[f+1];s=n[f+2];l=n[f+3];(e&192)==128&&(s&192)==128&&(l&192)==128&&(u=(o&15)<<18|(e&63)<<12|(s&63)<<6|l&63,u>65535&&u<1114112&&(r=u))}r===null?(r=65533,c=1):r>65535&&(r-=65536,h.push(r>>>10&1023|55296),r=56320|r&1023);h.push(r);f+=c}return ri(h)}function ri(n){var r=n.length,i,t;if(r<=k)return String.fromCharCode.apply(String,n);for(i='',t=0;t<r;)i+=String.fromCharCode.apply(String,n.slice(t,t+=k));return i}function ui(n,t,i){var u='',r;for(i=Math.min(n.length,i),r=t;r<i;++r)u+=String.fromCharCode(n[r]&127);return u}function fi(n,t,i){var u='',r;for(i=Math.min(n.length,i),r=t;r<i;++r)u+=String.fromCharCode(n[r]);return u}function ei(n,t,i){var f=n.length,u,r;for((!t||t<0)&&(t=0),(!i||i<0||i>f)&&(i=f),u='',r=t;r<i;++r)u+=ci(n[r]);return u}function oi(n,t,i){for(var u=n.slice(t,i),f='',r=0;r<u.length;r+=2)f+=String.fromCharCode(u[r]+u[r+1]*256);return f}function u(n,t,i){if(n%1!=0||n<0)throw new RangeError('offset is not uint');if(n+t>i)throw new RangeError('Trying to access beyond buffer length');}function f(n,t,i,u,f,e){if(!r.isBuffer(n))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>f||t<e)throw new RangeError('"value" argument is out of bounds');if(i+u>n.length)throw new RangeError('Index out of range');}function c(n,t,i,r){t<0&&(t=65535+t+1);for(var u=0,f=Math.min(n.length-i,2);u<f;++u)n[i+u]=(t&255<<8*(r?u:1-u))>>>(r?u:1-u)*8}function l(n,t,i,r){t<0&&(t=4294967295+t+1);for(var u=0,f=Math.min(n.length-i,4);u<f;++u)n[i+u]=t>>>(r?u:3-u)*8&255}function et(n,t,i,r){if(i+r>n.length)throw new RangeError('Index out of range');if(i<0)throw new RangeError('Index out of range');}function ot(n,t,i,r,u){return u||et(n,t,i,4,34028234663852886e22,-34028234663852886e22),s.write(n,t,i,r,23,4),i+4}function st(n,t,i,r,u){return u||et(n,t,i,8,17976931348623157e292,-17976931348623157e292),s.write(n,t,i,r,52,8),i+8}function si(n){if(n=hi(n).replace(ht,''),n.length<2)return'';while(n.length%4!=0)n=n+'=';return n}function hi(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,'')}function ci(n){return n<16?'0'+n.toString(16):n.toString(16)}function a(n,t){var f;t=t||Infinity;var i,e=n.length,u=null,r=[];for(f=0;f<e;++f){if(i=n.charCodeAt(f),i>55295&&i<57344){if(!u){if(i>56319){(t-=3)>-1&&r.push(239,191,189);continue}else if(f+1===e){(t-=3)>-1&&r.push(239,191,189);continue}u=i;continue}if(i<56320){(t-=3)>-1&&r.push(239,191,189);u=i;continue}i=(u-55296<<10|i-56320)+65536}else u&&(t-=3)>-1&&r.push(239,191,189);if(u=null,i<128){if((t-=1)<0)break;r.push(i)}else if(i<2048){if((t-=2)<0)break;r.push(i>>6|192,i&63|128)}else if(i<65536){if((t-=3)<0)break;r.push(i>>12|224,i>>6&63|128,i&63|128)}else if(i<1114112){if((t-=4)<0)break;r.push(i>>18|240,i>>12&63|128,i>>6&63|128,i&63|128)}else throw new Error('Invalid code point');}return r}function li(n){for(var i=[],t=0;t<n.length;++t)i.push(n.charCodeAt(t)&255);return i}function ai(n,t){for(var i,f,e,r=[],u=0;u<n.length;++u){if((t-=2)<0)break;i=n.charCodeAt(u);f=i>>8;e=i%256;r.push(e);r.push(f)}return r}function ct(n){return y.toByteArray(si(n))}function v(n,t,i,r){for(var u=0;u<r;++u){if(u+i>=t.length||u>=n.length)break;t[u+i]=n[u]}return u}function vi(n){return n!==n}var k,ht;'use strict';var y=n('base64-js'),s=n('ieee754'),d=n('isarray');i.Buffer=r;i.SlowBuffer=wt;i.INSPECT_MAX_BYTES=50;r.TYPED_ARRAY_SUPPORT=t.TYPED_ARRAY_SUPPORT!==undefined?t.TYPED_ARRAY_SUPPORT:lt();i.kMaxLength=h();r.poolSize=8192;r._augment=function(n){return n.__proto__=r.prototype,n};r.from=function(n,t,i){return g(null,n,t,i)};r.TYPED_ARRAY_SUPPORT&&(r.prototype.__proto__=Uint8Array.prototype,r.__proto__=Uint8Array,typeof Symbol!='undefined'&&Symbol.species&&r[Symbol.species]===r&&Object.defineProperty(r,Symbol.species,{value:null,configurable:!0}));r.alloc=function(n,t,i){return at(null,n,t,i)};r.allocUnsafe=function(n){return p(null,n)};r.allocUnsafeSlow=function(n){return p(null,n)};r.isBuffer=function(n){return!!(n!=null&&n._isBuffer)};r.compare=function(n,t){var u,f,i,e;if(!r.isBuffer(n)||!r.isBuffer(t))throw new TypeError('Arguments must be Buffers');if(n===t)return 0;for(u=n.length,f=t.length,i=0,e=Math.min(u,f);i<e;++i)if(n[i]!==t[i]){u=n[i];f=t[i];break}return u<f?-1:f<u?1:0};r.isEncoding=function(n){switch(String(n).toLowerCase()){case'hex':case'utf8':case'utf-8':case'ascii':case'latin1':case'binary':case'base64':case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return!0;default:return!1}};r.concat=function(n,t){var i,f,e,u;if(!d(n))throw new TypeError('"list" argument must be an Array of Buffers');if(n.length===0)return r.alloc(0);if(t===undefined)for(t=0,i=0;i<n.length;++i)t+=n[i].length;for(f=r.allocUnsafe(t),e=0,i=0;i<n.length;++i){if(u=n[i],!r.isBuffer(u))throw new TypeError('"list" argument must be an Array of Buffers');u.copy(f,e);e+=u.length}return f};r.byteLength=tt;r.prototype._isBuffer=!0;r.prototype.swap16=function(){var t=this.length,n;if(t%2!=0)throw new RangeError('Buffer size must be a multiple of 16-bits');for(n=0;n<t;n+=2)o(this,n,n+1);return this};r.prototype.swap32=function(){var t=this.length,n;if(t%4!=0)throw new RangeError('Buffer size must be a multiple of 32-bits');for(n=0;n<t;n+=4)o(this,n,n+3),o(this,n+1,n+2);return this};r.prototype.swap64=function(){var t=this.length,n;if(t%8!=0)throw new RangeError('Buffer size must be a multiple of 64-bits');for(n=0;n<t;n+=8)o(this,n,n+7),o(this,n+1,n+6),o(this,n+2,n+5),o(this,n+3,n+4);return this};r.prototype.toString=function(){var n=this.length|0;return n===0?'':arguments.length===0?ft(this,0,n):bt.apply(this,arguments)};r.prototype.equals=function(n){if(!r.isBuffer(n))throw new TypeError('Argument must be a Buffer');return this===n?!0:r.compare(this,n)===0};r.prototype.inspect=function(){var n='',t=i.INSPECT_MAX_BYTES;return this.length>0&&(n=this.toString('hex',0,t).match(/.{2}/g).join(' '),this.length>t&&(n+=' ... ')),'<Buffer '+n+'>'};r.prototype.compare=function(n,t,i,u,f){var e;if(!r.isBuffer(n))throw new TypeError('Argument must be a Buffer');if(t===undefined&&(t=0),i===undefined&&(i=n?n.length:0),u===undefined&&(u=0),f===undefined&&(f=this.length),t<0||i>n.length||u<0||f>this.length)throw new RangeError('out of range index');if(u>=f&&t>=i)return 0;if(u>=f)return-1;if(t>=i)return 1;if(t>>>=0,i>>>=0,u>>>=0,f>>>=0,this===n)return 0;var o=f-u,s=i-t,l=Math.min(o,s),h=this.slice(u,f),c=n.slice(t,i);for(e=0;e<l;++e)if(h[e]!==c[e]){o=h[e];s=c[e];break}return o<s?-1:s<o?1:0};r.prototype.includes=function(n,t,i){return this.indexOf(n,t,i)!==-1};r.prototype.indexOf=function(n,t,i){return it(this,n,t,i,!0)};r.prototype.lastIndexOf=function(n,t,i){return it(this,n,t,i,!1)};r.prototype.write=function(n,t,i,r){var u,f;if(t===undefined)r='utf8',i=this.length,t=0;else if(i===undefined&&typeof t=='string')r=t,i=this.length,t=0;else if(isFinite(t))t=t|0,isFinite(i)?(i=i|0,r===undefined&&(r='utf8')):(r=i,i=undefined);else throw new Error('Buffer.write(string, encoding, offset[, length]) is no longer supported');if(u=this.length-t,(i===undefined||i>u)&&(i=u),n.length>0&&(i<0||t<0)||t>this.length)throw new RangeError('Attempt to write outside buffer bounds');for(r||(r='utf8'),f=!1;;)switch(r){case'hex':return kt(this,n,t,i);case'utf8':case'utf-8':return dt(this,n,t,i);case'ascii':return ut(this,n,t,i);case'latin1':case'binary':return gt(this,n,t,i);case'base64':return ni(this,n,t,i);case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return ti(this,n,t,i);default:if(f)throw new TypeError('Unknown encoding: '+r);r=(''+r).toLowerCase();f=!0}};r.prototype.toJSON=function(){return{type:'Buffer',data:Array.prototype.slice.call(this._arr||this,0)}};k=4096;r.prototype.slice=function(n,t){var i=this.length,u,e,f;if(n=~~n,t=t===undefined?i:~~t,n<0?(n+=i,n<0&&(n=0)):n>i&&(n=i),t<0?(t+=i,t<0&&(t=0)):t>i&&(t=i),t<n&&(t=n),r.TYPED_ARRAY_SUPPORT)u=this.subarray(n,t),u.__proto__=r.prototype;else for(e=t-n,u=new r(e,undefined),f=0;f<e;++f)u[f]=this[f+n];return u};r.prototype.readUIntLE=function(n,t,i){n=n|0;t=t|0;i||u(n,t,this.length);for(var r=this[n],f=1,e=0;++e<t&&(f*=256);)r+=this[n+e]*f;return r};r.prototype.readUIntBE=function(n,t,i){n=n|0;t=t|0;i||u(n,t,this.length);for(var r=this[n+--t],f=1;t>0&&(f*=256);)r+=this[n+--t]*f;return r};r.prototype.readUInt8=function(n,t){return t||u(n,1,this.length),this[n]};r.prototype.readUInt16LE=function(n,t){return t||u(n,2,this.length),this[n]|this[n+1]<<8};r.prototype.readUInt16BE=function(n,t){return t||u(n,2,this.length),this[n]<<8|this[n+1]};r.prototype.readUInt32LE=function(n,t){return t||u(n,4,this.length),(this[n]|this[n+1]<<8|this[n+2]<<16)+this[n+3]*16777216};r.prototype.readUInt32BE=function(n,t){return t||u(n,4,this.length),this[n]*16777216+(this[n+1]<<16|this[n+2]<<8|this[n+3])};r.prototype.readIntLE=function(n,t,i){n=n|0;t=t|0;i||u(n,t,this.length);for(var r=this[n],f=1,e=0;++e<t&&(f*=256);)r+=this[n+e]*f;return f*=128,r>=f&&(r-=Math.pow(2,8*t)),r};r.prototype.readIntBE=function(n,t,i){n=n|0;t=t|0;i||u(n,t,this.length);for(var e=t,r=1,f=this[n+--e];e>0&&(r*=256);)f+=this[n+--e]*r;return r*=128,f>=r&&(f-=Math.pow(2,8*t)),f};r.prototype.readInt8=function(n,t){return(t||u(n,1,this.length),!(this[n]&128))?this[n]:(256-this[n])*-1};r.prototype.readInt16LE=function(n,t){t||u(n,2,this.length);var i=this[n]|this[n+1]<<8;return i&32768?i|4294901760:i};r.prototype.readInt16BE=function(n,t){t||u(n,2,this.length);var i=this[n+1]|this[n]<<8;return i&32768?i|4294901760:i};r.prototype.readInt32LE=function(n,t){return t||u(n,4,this.length),this[n]|this[n+1]<<8|this[n+2]<<16|this[n+3]<<24};r.prototype.readInt32BE=function(n,t){return t||u(n,4,this.length),this[n]<<24|this[n+1]<<16|this[n+2]<<8|this[n+3]};r.prototype.readFloatLE=function(n,t){return t||u(n,4,this.length),s.read(this,n,!0,23,4)};r.prototype.readFloatBE=function(n,t){return t||u(n,4,this.length),s.read(this,n,!1,23,4)};r.prototype.readDoubleLE=function(n,t){return t||u(n,8,this.length),s.read(this,n,!0,52,8)};r.prototype.readDoubleBE=function(n,t){return t||u(n,8,this.length),s.read(this,n,!1,52,8)};r.prototype.writeUIntLE=function(n,t,i,r){var o,u,e;for(n=+n,t=t|0,i=i|0,r||(o=Math.pow(2,8*i)-1,f(this,n,t,i,o,0)),u=1,e=0,this[t]=n&255;++e<i&&(u*=256);)this[t+e]=n/u&255;return t+i};r.prototype.writeUIntBE=function(n,t,i,r){var o,u,e;for(n=+n,t=t|0,i=i|0,r||(o=Math.pow(2,8*i)-1,f(this,n,t,i,o,0)),u=i-1,e=1,this[t+u]=n&255;--u>=0&&(e*=256);)this[t+u]=n/e&255;return t+i};r.prototype.writeUInt8=function(n,t,i){return n=+n,t=t|0,i||f(this,n,t,1,255,0),r.TYPED_ARRAY_SUPPORT||(n=Math.floor(n)),this[t]=n&255,t+1};r.prototype.writeUInt16LE=function(n,t,i){return n=+n,t=t|0,i||f(this,n,t,2,65535,0),r.TYPED_ARRAY_SUPPORT?(this[t]=n&255,this[t+1]=n>>>8):c(this,n,t,!0),t+2};r.prototype.writeUInt16BE=function(n,t,i){return n=+n,t=t|0,i||f(this,n,t,2,65535,0),r.TYPED_ARRAY_SUPPORT?(this[t]=n>>>8,this[t+1]=n&255):c(this,n,t,!1),t+2};r.prototype.writeUInt32LE=function(n,t,i){return n=+n,t=t|0,i||f(this,n,t,4,4294967295,0),r.TYPED_ARRAY_SUPPORT?(this[t+3]=n>>>24,this[t+2]=n>>>16,this[t+1]=n>>>8,this[t]=n&255):l(this,n,t,!0),t+4};r.prototype.writeUInt32BE=function(n,t,i){return n=+n,t=t|0,i||f(this,n,t,4,4294967295,0),r.TYPED_ARRAY_SUPPORT?(this[t]=n>>>24,this[t+1]=n>>>16,this[t+2]=n>>>8,this[t+3]=n&255):l(this,n,t,!1),t+4};r.prototype.writeIntLE=function(n,t,i,r){var u;n=+n;t=t|0;r||(u=Math.pow(2,8*i-1),f(this,n,t,i,u-1,-u));var e=0,s=1,o=0;for(this[t]=n&255;++e<i&&(s*=256);)n<0&&o===0&&this[t+e-1]!==0&&(o=1),this[t+e]=(n/s>>0)-o&255;return t+i};r.prototype.writeIntBE=function(n,t,i,r){var e;n=+n;t=t|0;r||(e=Math.pow(2,8*i-1),f(this,n,t,i,e-1,-e));var u=i-1,s=1,o=0;for(this[t+u]=n&255;--u>=0&&(s*=256);)n<0&&o===0&&this[t+u+1]!==0&&(o=1),this[t+u]=(n/s>>0)-o&255;return t+i};r.prototype.writeInt8=function(n,t,i){return n=+n,t=t|0,i||f(this,n,t,1,127,-128),r.TYPED_ARRAY_SUPPORT||(n=Math.floor(n)),n<0&&(n=255+n+1),this[t]=n&255,t+1};r.prototype.writeInt16LE=function(n,t,i){return n=+n,t=t|0,i||f(this,n,t,2,32767,-32768),r.TYPED_ARRAY_SUPPORT?(this[t]=n&255,this[t+1]=n>>>8):c(this,n,t,!0),t+2};r.prototype.writeInt16BE=function(n,t,i){return n=+n,t=t|0,i||f(this,n,t,2,32767,-32768),r.TYPED_ARRAY_SUPPORT?(this[t]=n>>>8,this[t+1]=n&255):c(this,n,t,!1),t+2};r.prototype.writeInt32LE=function(n,t,i){return n=+n,t=t|0,i||f(this,n,t,4,2147483647,-2147483648),r.TYPED_ARRAY_SUPPORT?(this[t]=n&255,this[t+1]=n>>>8,this[t+2]=n>>>16,this[t+3]=n>>>24):l(this,n,t,!0),t+4};r.prototype.writeInt32BE=function(n,t,i){return n=+n,t=t|0,i||f(this,n,t,4,2147483647,-2147483648),n<0&&(n=4294967295+n+1),r.TYPED_ARRAY_SUPPORT?(this[t]=n>>>24,this[t+1]=n>>>16,this[t+2]=n>>>8,this[t+3]=n&255):l(this,n,t,!1),t+4};r.prototype.writeFloatLE=function(n,t,i){return ot(this,n,t,!0,i)};r.prototype.writeFloatBE=function(n,t,i){return ot(this,n,t,!1,i)};r.prototype.writeDoubleLE=function(n,t,i){return st(this,n,t,!0,i)};r.prototype.writeDoubleBE=function(n,t,i){return st(this,n,t,!1,i)};r.prototype.copy=function(n,t,i,u){if((i||(i=0),u||u===0||(u=this.length),t>=n.length&&(t=n.length),t||(t=0),u>0&&u<i&&(u=i),u===i)||n.length===0||this.length===0)return 0;if(t<0)throw new RangeError('targetStart out of bounds');if(i<0||i>=this.length)throw new RangeError('sourceStart out of bounds');if(u<0)throw new RangeError('sourceEnd out of bounds');u>this.length&&(u=this.length);n.length-t<u-i&&(u=n.length-t+i);var e=u-i,f;if(this===n&&i<t&&t<u)for(f=e-1;f>=0;--f)n[f+t]=this[f+i];else if(e<1e3||!r.TYPED_ARRAY_SUPPORT)for(f=0;f<e;++f)n[f+t]=this[f+i];else Uint8Array.prototype.set.call(n,this.subarray(i,i+e),t);return e};r.prototype.fill=function(n,t,i,u){var e,f,o,s;if(typeof n=='string'){if(typeof t=='string'?(u=t,t=0,i=this.length):typeof i=='string'&&(u=i,i=this.length),n.length===1&&(e=n.charCodeAt(0),e<256&&(n=e)),u!==undefined&&typeof u!='string')throw new TypeError('encoding must be a string');if(typeof u=='string'&&!r.isEncoding(u))throw new TypeError('Unknown encoding: '+u);}else typeof n=='number'&&(n=n&255);if(t<0||this.length<t||this.length<i)throw new RangeError('Out of range index');if(i<=t)return this;if(t=t>>>0,i=i===undefined?this.length:i>>>0,n||(n=0),typeof n=='number')for(f=t;f<i;++f)this[f]=n;else for(o=r.isBuffer(n)?n:a(new r(n,u).toString()),s=o.length,f=0;f<i-t;++f)this[f+t]=o[f%s];return this};ht=/[^+\/0-9A-Za-z-_]/g}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"base64-js":45,ieee754:166,isarray:169}],61:[function(n,t){(function(n){var i=function(){'use strict';function t(i,u,f,e){function h(i,f){var c,a,y,v,p;if(i===null)return null;if(f==0||typeof i!='object')return i;if(t.__isArray(i))c=[];else if(t.__isRegExp(i))c=new RegExp(i.source,r(i)),i.lastIndex&&(c.lastIndex=i.lastIndex);else if(t.__isDate(i))c=new Date(i.getTime());else{if(l&&n.isBuffer(i))return c=new n(i.length),i.copy(c),c;typeof e=='undefined'?(a=Object.getPrototypeOf(i),c=Object.create(a)):(c=Object.create(e),a=e)}if(u){if(y=o.indexOf(i),y!=-1)return s[y];o.push(i);s.push(c)}for(v in i)(a&&(p=Object.getOwnPropertyDescriptor(a,v)),p&&p.set==null)||(c[v]=h(i[v],f-1));return c}var c;typeof u=='object'&&(f=u.depth,e=u.prototype,c=u.filter,u=u.circular);var o=[],s=[],l=typeof n!='undefined';return typeof u=='undefined'&&(u=!0),typeof f=='undefined'&&(f=Infinity),h(i,f)}function i(n){return Object.prototype.toString.call(n)}function u(n){return typeof n=='object'&&i(n)==='[object Date]'}function f(n){return typeof n=='object'&&i(n)==='[object Array]'}function e(n){return typeof n=='object'&&i(n)==='[object RegExp]'}function r(n){var t='';return n.global&&(t+='g'),n.ignoreCase&&(t+='i'),n.multiline&&(t+='m'),t}return t.clonePrototype=function(n){if(n===null)return null;var t=function(){};return t.prototype=n,new t},t.__objToStr=i,t.__isDate=u,t.__isArray=f,t.__isRegExp=e,t.__getRegExpFlags=r,t}();typeof t=='object'&&t.localExports&&(t.localExports=i)}).call(this,n("buffer").Buffer)},{buffer:60}],62:[function(n,t){n('../../modules/es6.string.iterator');n('../../modules/es6.array.from');t.localExports=n('../../modules/_core').Array.from},{"../../modules/_core":82,"../../modules/es6.array.from":143,"../../modules/es6.string.iterator":155}],63:[function(n,t){n('../modules/web.dom.iterable');n('../modules/es6.string.iterator');t.localExports=n('../modules/core.get-iterator')},{"../modules/core.get-iterator":141,"../modules/es6.string.iterator":155,"../modules/web.dom.iterable":159}],64:[function(n,t){n('../modules/web.dom.iterable');n('../modules/es6.string.iterator');t.localExports=n('../modules/core.is-iterable')},{"../modules/core.is-iterable":142,"../modules/es6.string.iterator":155,"../modules/web.dom.iterable":159}],65:[function(n,t){n('../../modules/es6.object.assign');t.localExports=n('../../modules/_core').Object.assign},{"../../modules/_core":82,"../../modules/es6.object.assign":145}],66:[function(n,t){n('../../modules/es6.object.create');var i=n('../../modules/_core').Object;t.localExports=function(n,t){return i.create(n,t)}},{"../../modules/_core":82,"../../modules/es6.object.create":146}],67:[function(n,t){n('../../modules/es6.object.define-properties');var i=n('../../modules/_core').Object;t.localExports=function(n,t){return i.defineProperties(n,t)}},{"../../modules/_core":82,"../../modules/es6.object.define-properties":147}],68:[function(n,t){n('../../modules/es6.object.define-property');var i=n('../../modules/_core').Object;t.localExports=function(n,t,r){return i.defineProperty(n,t,r)}},{"../../modules/_core":82,"../../modules/es6.object.define-property":148}],69:[function(n,t){n('../../modules/es6.object.freeze');t.localExports=n('../../modules/_core').Object.freeze},{"../../modules/_core":82,"../../modules/es6.object.freeze":149}],70:[function(n,t){n('../../modules/es6.object.get-own-property-descriptor');var i=n('../../modules/_core').Object;t.localExports=function(n,t){return i.getOwnPropertyDescriptor(n,t)}},{"../../modules/_core":82,"../../modules/es6.object.get-own-property-descriptor":150}],71:[function(n,t){n('../../modules/es6.object.get-prototype-of');t.localExports=n('../../modules/_core').Object.getPrototypeOf},{"../../modules/_core":82,"../../modules/es6.object.get-prototype-of":151}],72:[function(n,t){n('../../modules/es6.object.keys');t.localExports=n('../../modules/_core').Object.keys},{"../../modules/_core":82,"../../modules/es6.object.keys":152}],73:[function(n,t){n('../../modules/es6.object.set-prototype-of');t.localExports=n('../../modules/_core').Object.setPrototypeOf},{"../../modules/_core":82,"../../modules/es6.object.set-prototype-of":153}],74:[function(n,t){n('../../modules/es6.symbol');n('../../modules/es6.object.to-string');n('../../modules/es7.symbol.async-iterator');n('../../modules/es7.symbol.observable');t.localExports=n('../../modules/_core').Symbol},{"../../modules/_core":82,"../../modules/es6.object.to-string":154,"../../modules/es6.symbol":156,"../../modules/es7.symbol.async-iterator":157,"../../modules/es7.symbol.observable":158}],75:[function(n,t){n('../../modules/es6.string.iterator');n('../../modules/web.dom.iterable');t.localExports=n('../../modules/_wks-ext').f('iterator')},{"../../modules/_wks-ext":138,"../../modules/es6.string.iterator":155,"../../modules/web.dom.iterable":159}],76:[function(n,t){t.localExports=function(n){if(typeof n!='function')throw TypeError(n+' is not a function!');return n}},{}],77:[function(n,t){t.localExports=function(){}},{}],78:[function(n,t){var i=n('./_is-object');t.localExports=function(n){if(!i(n))throw TypeError(n+' is not an object!');return n}},{"./_is-object":100}],79:[function(n,t){var i=n('./_to-iobject'),r=n('./_to-length'),u=n('./_to-index');t.localExports=function(n){return function(t,f,e){var s=i(t),h=r(s.length),o=u(e,h),c;if(n&&f!=f){while(h>o)if(c=s[o++],c!=c)return!0}else for(;h>o;o++)if((n||o in s)&&s[o]===f)return n||o||0;return!n&&-1}}},{"./_to-index":130,"./_to-iobject":132,"./_to-length":133}],80:[function(n,t){var i=n('./_cof'),r=n('./_wks')('toStringTag'),u=i(function(){return arguments}())=='Arguments',f=function(n,t){try{return n[t]}catch(i){}};t.localExports=function(n){var t,e,o;return n===undefined?'Undefined':n===null?'Null':typeof(e=f(t=Object(n),r))=='string'?e:u?i(t):(o=i(t))=='Object'&&typeof t.callee=='function'?'Arguments':o}},{"./_cof":81,"./_wks":139}],81:[function(n,t){var i={}.toString;t.localExports=function(n){return i.call(n).slice(8,-1)}},{}],82:[function(n,t){var r=t.localExports={version:'2.4.0'},i;typeof i=='number'&&(i=r)},{}],83:[function(n,t){'use strict';var i=n('./_object-dp'),r=n('./_property-desc');t.localExports=function(n,t,u){t in n?i.f(n,t,r(0,u)):n[t]=u}},{"./_object-dp":112,"./_property-desc":123}],84:[function(n,t){var i=n('./_a-function');t.localExports=function(n,t,r){if(i(n),t===undefined)return n;switch(r){case 1:return function(i){return n.call(t,i)};case 2:return function(i,r){return n.call(t,i,r)};case 3:return function(i,r,u){return n.call(t,i,r,u)}}return function(){return n.apply(t,arguments)}}},{"./_a-function":76}],85:[function(n,t){t.localExports=function(n){if(n==undefined)throw TypeError("Can't call method on  "+n);return n}},{}],86:[function(n,t){t.localExports=!n('./_fails')(function(){return Object.defineProperty({},'a',{get:function(){return 7}}).a!=7})},{"./_fails":91}],87:[function(n,t){var r=n('./_is-object'),i=n('./_global').document,u=r(i)&&r(i.createElement);t.localExports=function(n){return u?i.createElement(n):{}}},{"./_global":92,"./_is-object":100}],88:[function(n,t){t.localExports='constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'.split(',')},{}],89:[function(n,t){var i=n('./_object-keys'),r=n('./_object-gops'),u=n('./_object-pie');t.localExports=function(n){var t=i(n),f=r.f;if(f)for(var e=f(n),h=u.f,o=0,s;e.length>o;)h.call(n,s=e[o++])&&t.push(s);return t}},{"./_object-gops":117,"./_object-keys":120,"./_object-pie":121}],90:[function(n,t){var r=n('./_global'),f=n('./_core'),e=n('./_ctx'),o=n('./_hide'),u='prototype',i=function(n,t,s){var b=n&i.F,v=n&i.G,k=n&i.S,w=n&i.P,d=n&i.B,g=n&i.W,l=v?f:f[t]||(f[t]={}),p=l[u],a=v?r:k?r[t]:(r[t]||{})[u],h,y,c;v&&(s=t);for(h in s)(y=!b&&a&&a[h]!==undefined,y&&h in l)||(c=y?a[h]:s[h],l[h]=v&&typeof a[h]!='function'?s[h]:d&&y?e(c,r):g&&a[h]==c?function(n){var t=function(t,i,r){if(this instanceof n){switch(arguments.length){case 0:return new n;case 1:return new n(t);case 2:return new n(t,i)}return new n(t,i,r)}return n.apply(this,arguments)};return t[u]=n[u],t}(c):w&&typeof c=='function'?e(Function.call,c):c,w&&((l.virtual||(l.virtual={}))[h]=c,n&i.R&&p&&!p[h]&&o(p,h,c)))};i.F=1;i.G=2;i.S=4;i.P=8;i.B=16;i.W=32;i.U=64;i.R=128;t.localExports=i},{"./_core":82,"./_ctx":84,"./_global":92,"./_hide":94}],91:[function(n,t){t.localExports=function(n){try{return!!n()}catch(t){return!0}}},{}],92:[function(n,t){var r=t.localExports=typeof window!='undefined'&&window.Math==Math?window:typeof self!='undefined'&&self.Math==Math?self:Function('return this')(),i;typeof i=='number'&&(i=r)},{}],93:[function(n,t){var i={}.hasOwnProperty;t.localExports=function(n,t){return i.call(n,t)}},{}],94:[function(n,t){var i=n('./_object-dp'),r=n('./_property-desc');t.localExports=n('./_descriptors')?function(n,t,u){return i.f(n,t,r(1,u))}:function(n,t,i){return n[t]=i,n}},{"./_descriptors":86,"./_object-dp":112,"./_property-desc":123}],95:[function(n,t){t.localExports=n('./_global').document&&document.documentElement},{"./_global":92}],96:[function(n,t){t.localExports=!n('./_descriptors')&&!n('./_fails')(function(){return Object.defineProperty(n('./_dom-create')('div'),'a',{get:function(){return 7}}).a!=7})},{"./_descriptors":86,"./_dom-create":87,"./_fails":91}],97:[function(n,t){var i=n('./_cof');t.localExports=Object('z').propertyIsEnumerable(0)?Object:function(n){return i(n)=='String'?n.split(''):Object(n)}},{"./_cof":81}],98:[function(n,t){var i=n('./_iterators'),r=n('./_wks')('iterator'),u=Array.prototype;t.localExports=function(n){return n!==undefined&&(i.Array===n||u[r]===n)}},{"./_iterators":106,"./_wks":139}],99:[function(n,t){var i=n('./_cof');t.localExports=Array.isArray||function(n){return i(n)=='Array'}},{"./_cof":81}],100:[function(n,t){t.localExports=function(n){return typeof n=='object'?n!==null:typeof n=='function'}},{}],101:[function(n,t){var i=n('./_an-object');t.localExports=function(n,t,r,u){try{return u?t(i(r)[0],r[1]):t(r)}catch(e){var f=n['return'];f!==undefined&&i(f.call(n));throw e;}}},{"./_an-object":78}],102:[function(n,t){'use strict';var r=n('./_object-create'),u=n('./_property-desc'),f=n('./_set-to-string-tag'),i={};n('./_hide')(i,n('./_wks')('iterator'),function(){return this});t.localExports=function(n,t,e){n.prototype=r(i,{next:u(1,e)});f(n,t+' Iterator')}},{"./_hide":94,"./_object-create":111,"./_property-desc":123,"./_set-to-string-tag":126,"./_wks":139}],103:[function(n,t){'use strict';var e=n('./_library'),u=n('./_export'),l=n('./_redefine'),o=n('./_hide'),a=n('./_has'),s=n('./_iterators'),v=n('./_iter-create'),y=n('./_set-to-string-tag'),p=n('./_object-gpo'),i=n('./_wks')('iterator'),f=!([].keys&&'next'in[].keys()),w='@@iterator',h='keys',r='values',c=function(){return this};t.localExports=function(n,t,b,k,d,g,nt){v(b,t,k);var et=function(n){if(!f&&n in tt)return tt[n];switch(n){case h:return function(){return new b(this,n)};case r:return function(){return new b(this,n)}}return function(){return new b(this,n)}},ct=t+' Iterator',st=d==r,ht=!1,tt=n.prototype,it=tt[i]||tt[w]||d&&tt[d],rt=it||et(d),at=d?st?et('entries'):rt:undefined,lt=t=='Array'?tt.entries||it:it,ut,ot,ft;if(lt&&(ft=p(lt.call(new n)),ft!==Object.prototype&&(y(ft,ct,!0),e||a(ft,i)||o(ft,i,c))),st&&it&&it.name!==r&&(ht=!0,rt=function(){return it.call(this)}),(!e||nt)&&(f||ht||!tt[i])&&o(tt,i,rt),s[t]=rt,s[ct]=c,d)if(ut={values:st?rt:et(r),keys:g?rt:et(h),entries:at},nt)for(ot in ut)ot in tt||l(tt,ot,ut[ot]);else u(u.P+u.F*(f||ht),t,ut);return ut}},{"./_export":90,"./_has":93,"./_hide":94,"./_iter-create":102,"./_iterators":106,"./_library":108,"./_object-gpo":118,"./_redefine":124,"./_set-to-string-tag":126,"./_wks":139}],104:[function(n,t){var i=n('./_wks')('iterator'),u=!1,r;try{r=[7][i]();r['return']=function(){u=!0};Array.from(r,function(){throw 2;})}catch(f){}t.localExports=function(n,t){var f,r,e;if(!t&&!u)return!1;f=!1;try{r=[7];e=r[i]();e.next=function(){return{done:f=!0}};r[i]=function(){return e};n(r)}catch(o){}return f}},{"./_wks":139}],105:[function(n,t){t.localExports=function(n,t){return{value:t,done:!!n}}},{}],106:[function(n,t){t.localExports={}},{}],107:[function(n,t){var i=n('./_object-keys'),r=n('./_to-iobject');t.localExports=function(n,t){for(var u=r(n),f=i(u),s=f.length,e=0,o;s>e;)if(u[o=f[e++]]===t)return o}},{"./_object-keys":120,"./_to-iobject":132}],108:[function(n,t){t.localExports=!0},{}],109:[function(n,t){var i=n('./_uid')('meta'),e=n('./_is-object'),u=n('./_has'),o=n('./_object-dp').f,s=0,r=Object.isExtensible||function(){return!0},h=!n('./_fails')(function(){return r(Object.preventExtensions({}))}),f=function(n){o(n,i,{value:{i:'O'+ ++s,w:{}}})},c=function(n,t){if(!e(n))return typeof n=='symbol'?n:(typeof n=='string'?'S':'P')+n;if(!u(n,i)){if(!r(n))return'F';if(!t)return'E';f(n)}return n[i].i},l=function(n,t){if(!u(n,i)){if(!r(n))return!0;if(!t)return!1;f(n)}return n[i].w},a=function(n){return h&&v.NEED&&r(n)&&!u(n,i)&&f(n),n},v=t.localExports={KEY:i,NEED:!1,fastKey:c,getWeak:l,onFreeze:a}},{"./_fails":91,"./_has":93,"./_is-object":100,"./_object-dp":112,"./_uid":136}],110:[function(n,t){'use strict';var r=n('./_object-keys'),u=n('./_object-gops'),f=n('./_object-pie'),e=n('./_to-object'),o=n('./_iobject'),i=Object.assign;t.localExports=!i||n('./_fails')(function(){var n={},t={},r=Symbol(),u='abcdefghijklmnopqrst';return n[r]=7,u.split('').forEach(function(n){t[n]=n}),i({},n)[r]!=7||Object.keys(i({},t)).join('')!=u})?function(n){for(var s=e(n),v=arguments.length,h=1,c=u.f,y=f.f;v>h;)for(var t=o(arguments[h++]),l=c?r(t).concat(c(t)):r(t),p=l.length,a=0,i;p>a;)y.call(t,i=l[a++])&&(s[i]=t[i]);return s}:i},{"./_fails":91,"./_iobject":97,"./_object-gops":117,"./_object-keys":120,"./_object-pie":121,"./_to-object":134}],111:[function(n,t){var e=n('./_an-object'),o=n('./_object-dps'),f=n('./_enum-bug-keys'),s=n('./_shared-key')('IE_PROTO'),r=function(){},u='prototype',i=function(){var r=n('./_dom-create')('iframe'),e=f.length,o='<',s='>',t;for(r.style.display='none',n('./_html').appendChild(r),r.src='javascript:',t=r.contentWindow.document,t.open(),t.write(o+'script'+s+'document.F=Object'+o+'/script'+s),t.close(),i=t.F;e--;)delete i[u][f[e]];return i()};t.localExports=Object.create||function(n,t){var f;return n!==null?(r[u]=e(n),f=new r,r[u]=null,f[s]=n):f=i(),t===undefined?f:o(f,t)}},{"./_an-object":78,"./_dom-create":87,"./_enum-bug-keys":88,"./_html":95,"./_object-dps":113,"./_shared-key":127}],112:[function(n,t,i){var r=n('./_an-object'),u=n('./_ie8-dom-define'),f=n('./_to-primitive'),e=Object.defineProperty;i.f=n('./_descriptors')?Object.defineProperty:function(n,t,i){if(r(n),t=f(t,!0),r(i),u)try{return e(n,t,i)}catch(o){}if('get'in i||'set'in i)throw TypeError('Accessors not supported!');return'value'in i&&(n[t]=i.value),n}},{"./_an-object":78,"./_descriptors":86,"./_ie8-dom-define":96,"./_to-primitive":135}],113:[function(n,t){var i=n('./_object-dp'),r=n('./_an-object'),u=n('./_object-keys');t.localExports=n('./_descriptors')?Object.defineProperties:function(n,t){r(n);for(var f=u(t),s=f.length,e=0,o;s>e;)i.f(n,o=f[e++],t[o]);return n}},{"./_an-object":78,"./_descriptors":86,"./_object-dp":112,"./_object-keys":120}],114:[function(n,t,i){var u=n('./_object-pie'),f=n('./_property-desc'),e=n('./_to-iobject'),o=n('./_to-primitive'),s=n('./_has'),h=n('./_ie8-dom-define'),r=Object.getOwnPropertyDescriptor;i.f=n('./_descriptors')?r:function(n,t){if(n=e(n),t=o(t,!0),h)try{return r(n,t)}catch(i){}if(s(n,t))return f(!u.f.call(n,t),n[t])}},{"./_descriptors":86,"./_has":93,"./_ie8-dom-define":96,"./_object-pie":121,"./_property-desc":123,"./_to-iobject":132,"./_to-primitive":135}],115:[function(n,t){var u=n('./_to-iobject'),i=n('./_object-gopn').f,f={}.toString,r=typeof window=='object'&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],e=function(n){try{return i(n)}catch(t){return r.slice()}};t.localExports.f=function(n){return r&&f.call(n)=='[object Window]'?e(n):i(u(n))}},{"./_object-gopn":116,"./_to-iobject":132}],116:[function(n,t,i){var r=n('./_object-keys-internal'),u=n('./_enum-bug-keys').concat('length','prototype');i.f=Object.getOwnPropertyNames||function(n){return r(n,u)}},{"./_enum-bug-keys":88,"./_object-keys-internal":119}],117:[function(n,t,i){i.f=Object.getOwnPropertySymbols},{}],118:[function(n,t){var r=n('./_has'),u=n('./_to-object'),i=n('./_shared-key')('IE_PROTO'),f=Object.prototype;t.localExports=Object.getPrototypeOf||function(n){return(n=u(n),r(n,i))?n[i]:typeof n.constructor=='function'&&n instanceof n.constructor?n.constructor.prototype:n instanceof Object?f:null}},{"./_has":93,"./_shared-key":127,"./_to-object":134}],119:[function(n,t){var i=n('./_has'),r=n('./_to-iobject'),u=n('./_array-includes')(!1),f=n('./_shared-key')('IE_PROTO');t.localExports=function(n,t){var s=r(n),h=0,o=[];for(var e in s)e!=f&&i(s,e)&&o.push(e);while(t.length>h)i(s,e=t[h++])&&(~u(o,e)||o.push(e));return o}},{"./_array-includes":79,"./_has":93,"./_shared-key":127,"./_to-iobject":132}],120:[function(n,t){var i=n('./_object-keys-internal'),r=n('./_enum-bug-keys');t.localExports=Object.keys||function(n){return i(n,r)}},{"./_enum-bug-keys":88,"./_object-keys-internal":119}],121:[function(n,t,i){i.f={}.propertyIsEnumerable},{}],122:[function(n,t){var i=n('./_export'),r=n('./_core'),u=n('./_fails');t.localExports=function(n,t){var f=(r.Object||{})[n]||Object[n],e={};e[n]=t(f);i(i.S+i.F*u(function(){f(1)}),'Object',e)}},{"./_core":82,"./_export":90,"./_fails":91}],123:[function(n,t){t.localExports=function(n,t){return{enumerable:!(n&1),configurable:!(n&2),writable:!(n&4),value:t}}},{}],124:[function(n,t){t.localExports=n('./_hide')},{"./_hide":94}],125:[function(n,t){var r=n('./_is-object'),u=n('./_an-object'),i=function(n,t){if(u(n),!r(t)&&t!==null)throw TypeError(t+": can't set as prototype!");};t.localExports={set:Object.setPrototypeOf||('__proto__'in{}?function(t,r,u){try{u=n('./_ctx')(Function.call,n('./_object-gopd').f(Object.prototype,'__proto__').set,2);u(t,[]);r=!(t instanceof Array)}catch(f){r=!0}return function(n,t){return i(n,t),r?n.__proto__=t:u(n,t),n}}({},!1):undefined),check:i}},{"./_an-object":78,"./_ctx":84,"./_is-object":100,"./_object-gopd":114}],126:[function(n,t){var r=n('./_object-dp').f,u=n('./_has'),i=n('./_wks')('toStringTag');t.localExports=function(n,t,f){n&&!u(n=f?n:n.prototype,i)&&r(n,i,{configurable:!0,value:t})}},{"./_has":93,"./_object-dp":112,"./_wks":139}],127:[function(n,t){var i=n('./_shared')('keys'),r=n('./_uid');t.localExports=function(n){return i[n]||(i[n]=r(n))}},{"./_shared":128,"./_uid":136}],128:[function(n,t){var i=n('./_global'),r='__core-js_shared__',u=i[r]||(i[r]={});t.localExports=function(n){return u[n]||(u[n]={})}},{"./_global":92}],129:[function(n,t){var i=n('./_to-integer'),r=n('./_defined');t.localExports=function(n){return function(t,u){var e=String(r(t)),f=i(u),h=e.length,o,s;return f<0||f>=h?n?'':undefined:(o=e.charCodeAt(f),o<55296||o>56319||f+1===h||(s=e.charCodeAt(f+1))<56320||s>57343?n?e.charAt(f):o:n?e.slice(f,f+2):(o-55296<<10)+(s-56320)+65536)}}},{"./_defined":85,"./_to-integer":131}],130:[function(n,t){var i=n('./_to-integer'),r=Math.max,u=Math.min;t.localExports=function(n,t){return n=i(n),n<0?r(n+t,0):u(n,t)}},{"./_to-integer":131}],131:[function(n,t){var i=Math.ceil,r=Math.floor;t.localExports=function(n){return isNaN(n=+n)?0:(n>0?r:i)(n)}},{}],132:[function(n,t){var i=n('./_iobject'),r=n('./_defined');t.localExports=function(n){return i(r(n))}},{"./_defined":85,"./_iobject":97}],133:[function(n,t){var i=n('./_to-integer'),r=Math.min;t.localExports=function(n){return n>0?r(i(n),9007199254740991):0}},{"./_to-integer":131}],134:[function(n,t){var i=n('./_defined');t.localExports=function(n){return Object(i(n))}},{"./_defined":85}],135:[function(n,t){var i=n('./_is-object');t.localExports=function(n,t){if(!i(n))return n;var r,u;if(t&&typeof(r=n.toString)=='function'&&!i(u=r.call(n))||typeof(r=n.valueOf)=='function'&&!i(u=r.call(n))||!t&&typeof(r=n.toString)=='function'&&!i(u=r.call(n)))return u;throw TypeError("Can't convert object to primitive value");}},{"./_is-object":100}],136:[function(n,t){var i=0,r=Math.random();t.localExports=function(n){return'Symbol('.concat(n===undefined?'':n,')_',(++i+r).toString(36))}},{}],137:[function(n,t){var r=n('./_global'),i=n('./_core'),u=n('./_library'),f=n('./_wks-ext'),e=n('./_object-dp').f;t.localExports=function(n){var t=i.Symbol||(i.Symbol=u?{}:r.Symbol||{});n.charAt(0)=='_'||n in t||e(t,n,{value:f.f(n)})}},{"./_core":82,"./_global":92,"./_library":108,"./_object-dp":112,"./_wks-ext":138}],138:[function(n,t,i){i.f=n('./_wks')},{"./_wks":139}],139:[function(n,t){var i=n('./_shared')('wks'),f=n('./_uid'),r=n('./_global').Symbol,u=typeof r=='function',e=t.localExports=function(n){return i[n]||(i[n]=u&&r[n]||(u?r:f)('Symbol.'+n))};e.store=i},{"./_global":92,"./_shared":128,"./_uid":136}],140:[function(n,t){var i=n('./_classof'),r=n('./_wks')('iterator'),u=n('./_iterators');t.localExports=n('./_core').getIteratorMethod=function(n){if(n!=undefined)return n[r]||n['@@iterator']||u[i(n)]}},{"./_classof":80,"./_core":82,"./_iterators":106,"./_wks":139}],141:[function(n,t){var i=n('./_an-object'),r=n('./core.get-iterator-method');t.localExports=n('./_core').getIterator=function(n){var t=r(n);if(typeof t!='function')throw TypeError(n+' is not iterable!');return i(t.call(n))}},{"./_an-object":78,"./_core":82,"./core.get-iterator-method":140}],142:[function(n,t){var i=n('./_classof'),r=n('./_wks')('iterator'),u=n('./_iterators');t.localExports=n('./_core').isIterable=function(n){var t=Object(n);return t[r]!==undefined||'@@iterator'in t||u.hasOwnProperty(i(t))}},{"./_classof":80,"./_core":82,"./_iterators":106,"./_wks":139}],143:[function(n){'use strict';var r=n('./_ctx'),t=n('./_export'),u=n('./_to-object'),f=n('./_iter-call'),e=n('./_is-array-iter'),o=n('./_to-length'),i=n('./_create-property'),s=n('./core.get-iterator-method');t(t.S+t.F*!n('./_iter-detect')(function(n){Array.from(n)}),'Array',{from:function(n){var c=u(n),a=typeof this=='function'?this:Array,k=arguments.length,l=k>1?arguments[1]:undefined,v=l!==undefined,t=0,y=s(c),p,h,w,b;if(v&&(l=r(l,k>2?arguments[2]:undefined,2)),y==undefined||a==Array&&e(y))for(p=o(c.length),h=new a(p);p>t;t++)i(h,t,v?l(c[t],t):c[t]);else for(b=y.call(c),h=new a;!(w=b.next()).done;t++)i(h,t,v?f(b,l,[w.value,t],!0):w.value);return h.length=t,h}})},{"./_create-property":83,"./_ctx":84,"./_export":90,"./_is-array-iter":98,"./_iter-call":101,"./_iter-detect":104,"./_to-length":133,"./_to-object":134,"./core.get-iterator-method":140}],144:[function(n,t){'use strict';var r=n('./_add-to-unscopables'),i=n('./_iter-step'),u=n('./_iterators'),f=n('./_to-iobject');t.localExports=n('./_iter-define')(Array,'Array',function(n,t){this._t=f(n);this._i=0;this._k=t},function(){var t=this._t,r=this._k,n=this._i++;return!t||n>=t.length?(this._t=undefined,i(1)):r=='keys'?i(0,n):r=='values'?i(0,t[n]):i(0,[n,t[n]])},'values');u.Arguments=u.Array;r('keys');r('values');r('entries')},{"./_add-to-unscopables":77,"./_iter-define":103,"./_iter-step":105,"./_iterators":106,"./_to-iobject":132}],145:[function(n){var t=n('./_export');t(t.S+t.F,'Object',{assign:n('./_object-assign')})},{"./_export":90,"./_object-assign":110}],146:[function(n){var t=n('./_export');t(t.S,'Object',{create:n('./_object-create')})},{"./_export":90,"./_object-create":111}],147:[function(n){var t=n('./_export');t(t.S+t.F*!n('./_descriptors'),'Object',{defineProperties:n('./_object-dps')})},{"./_descriptors":86,"./_export":90,"./_object-dps":113}],148:[function(n){var t=n('./_export');t(t.S+t.F*!n('./_descriptors'),'Object',{defineProperty:n('./_object-dp').f})},{"./_descriptors":86,"./_export":90,"./_object-dp":112}],149:[function(n){var t=n('./_is-object'),i=n('./_meta').onFreeze;n('./_object-sap')('freeze',function(n){return function(r){return n&&t(r)?n(i(r)):r}})},{"./_is-object":100,"./_meta":109,"./_object-sap":122}],150:[function(n){var t=n('./_to-iobject'),i=n('./_object-gopd').f;n('./_object-sap')('getOwnPropertyDescriptor',function(){return function(n,r){return i(t(n),r)}})},{"./_object-gopd":114,"./_object-sap":122,"./_to-iobject":132}],151:[function(n){var t=n('./_to-object'),i=n('./_object-gpo');n('./_object-sap')('getPrototypeOf',function(){return function(n){return i(t(n))}})},{"./_object-gpo":118,"./_object-sap":122,"./_to-object":134}],152:[function(n){var t=n('./_to-object'),i=n('./_object-keys');n('./_object-sap')('keys',function(){return function(n){return i(t(n))}})},{"./_object-keys":120,"./_object-sap":122,"./_to-object":134}],153:[function(n){var t=n('./_export');t(t.S,'Object',{setPrototypeOf:n('./_set-proto').set})},{"./_export":90,"./_set-proto":125}],154:[function(n,t,i){arguments[4][56][0].apply(i,arguments)},{dup:56}],155:[function(n){'use strict';var t=n('./_string-at')(!0);n('./_iter-define')(String,'String',function(n){this._t=String(n);this._i=0},function(){var i=this._t,r=this._i,n;return r>=i.length?{value:undefined,done:!0}:(n=t(i,r),this._i+=n.length,{value:n,done:!1})})},{"./_iter-define":103,"./_string-at":129}],156:[function(n){'use strict';var p=n('./_global'),t=n('./_has'),nt=n('./_descriptors'),u=n('./_export'),ct=n('./_redefine'),ri=n('./_meta').KEY,lt=n('./_fails'),tt=n('./_shared'),it=n('./_set-to-string-tag'),ui=n('./_uid'),a=n('./_wks'),fi=n('./_wks-ext'),ei=n('./_wks-define'),oi=n('./_keyof'),si=n('./_enum-keys'),hi=n('./_is-array'),rt=n('./_an-object'),w=n('./_to-iobject'),ut=n('./_to-primitive'),ft=n('./_property-desc'),v=n('./_object-create'),at=n('./_object-gopn-ext'),vt=n('./_object-gopd'),yt=n('./_object-dp'),ci=n('./_object-keys'),pt=vt.f,s=yt.f,wt=at.f,i=p.Symbol,b=p.JSON,k=b&&b.stringify,o='prototype',r=a('_hidden'),bt=a('toPrimitive'),li={}.propertyIsEnumerable,d=tt('symbol-registry'),e=tt('symbols'),y=tt('op-symbols'),f=Object[o],h=typeof i=='function',et=p.QObject,ot=!et||!et[o]||!et[o].findChild,st=nt&&lt(function(){return v(s({},'a',{get:function(){return s(this,'a',{value:7}).a}})).a!=7})?function(n,t,i){var r=pt(f,t);r&&delete f[t];s(n,t,i);r&&n!==f&&s(f,t,r)}:s,kt=function(n){var t=e[n]=v(i[o]);return t._k=n,t},ht=h&&typeof i.iterator=='symbol'?function(n){return typeof n=='symbol'}:function(n){return n instanceof i},g=function(n,i,u){return(n===f&&g(y,i,u),rt(n),i=ut(i,!0),rt(u),t(e,i))?(u.enumerable?(t(n,r)&&n[r][i]&&(n[r][i]=!1),u=v(u,{enumerable:ft(0,!1)})):(t(n,r)||s(n,r,ft(1,{})),n[r][i]=!0),st(n,i,u)):s(n,i,u)},dt=function(n,t){rt(n);for(var i=si(t=w(t)),r=0,f=i.length,u;f>r;)g(n,u=i[r++],t[u]);return n},ai=function(n,t){return t===undefined?v(n):dt(v(n),t)},gt=function(n){var i=li.call(this,n=ut(n,!0));return this===f&&t(e,n)&&!t(y,n)?!1:i||!t(this,n)||!t(e,n)||t(this,r)&&this[r][n]?i:!0},ni=function(n,i){if(n=w(n),i=ut(i,!0),n!==f||!t(e,i)||t(y,i)){var u=pt(n,i);return!u||!t(e,i)||t(n,r)&&n[r][i]||(u.enumerable=!0),u}},ti=function(n){for(var u=wt(w(n)),f=[],o=0,i;u.length>o;)t(e,i=u[o++])||i==r||i==ri||f.push(i);return f},ii=function(n){for(var r=n===f,u=wt(r?y:w(n)),o=[],s=0,i;u.length>s;)t(e,i=u[s++])&&(r?t(f,i):!0)&&o.push(e[i]);return o},c,l;for(h||(i=function(){if(this instanceof i)throw TypeError('Symbol is not a constructor!');var n=ui(arguments.length>0?arguments[0]:undefined),u=function(i){this===f&&u.call(y,i);t(this,r)&&t(this[r],n)&&(this[r][n]=!1);st(this,n,ft(1,i))};return nt&&ot&&st(f,n,{configurable:!0,set:u}),kt(n)},ct(i[o],'toString',function(){return this._k}),vt.f=ni,yt.f=g,n('./_object-gopn').f=at.f=ti,n('./_object-pie').f=gt,n('./_object-gops').f=ii,nt&&!n('./_library')&&ct(f,'propertyIsEnumerable',gt,!0),fi.f=function(n){return kt(a(n))}),u(u.G+u.W+u.F*!h,{Symbol:i}),c='hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'.split(','),l=0;c.length>l;)a(c[l++]);for(c=ci(a.store),l=0;c.length>l;)ei(c[l++]);u(u.S+u.F*!h,'Symbol',{'for':function(n){return t(d,n+='')?d[n]:d[n]=i(n)},keyFor:function(n){if(ht(n))return oi(d,n);throw TypeError(n+' is not a symbol!');},useSetter:function(){ot=!0},useSimple:function(){ot=!1}});u(u.S+u.F*!h,'Object',{create:ai,defineProperty:g,defineProperties:dt,getOwnPropertyDescriptor:ni,getOwnPropertyNames:ti,getOwnPropertySymbols:ii});b&&u(u.S+u.F*(!h||lt(function(){var n=i();return k([n])!='[null]'||k({a:n})!='{}'||k(Object(n))!='{}'})),'JSON',{stringify:function(n){if(n!==undefined&&!ht(n)){for(var i=[n],u=1,t,r;arguments.length>u;)i.push(arguments[u++]);return t=i[1],typeof t=='function'&&(r=t),(r||!hi(t))&&(t=function(n,t){return r&&(t=r.call(this,n,t)),ht(t)?void 0:t}),i[1]=t,k.apply(b,i)}}});i[o][bt]||n('./_hide')(i[o],bt,i[o].valueOf);it(i,'Symbol');it(Math,'Math',!0);it(p.JSON,'JSON',!0)},{"./_an-object":78,"./_descriptors":86,"./_enum-keys":89,"./_export":90,"./_fails":91,"./_global":92,"./_has":93,"./_hide":94,"./_is-array":99,"./_keyof":107,"./_library":108,"./_meta":109,"./_object-create":111,"./_object-dp":112,"./_object-gopd":114,"./_object-gopn":116,"./_object-gopn-ext":115,"./_object-gops":117,"./_object-keys":120,"./_object-pie":121,"./_property-desc":123,"./_redefine":124,"./_set-to-string-tag":126,"./_shared":128,"./_to-iobject":132,"./_to-primitive":135,"./_uid":136,"./_wks":139,"./_wks-define":137,"./_wks-ext":138}],157:[function(n){n('./_wks-define')('asyncIterator')},{"./_wks-define":137}],158:[function(n){n('./_wks-define')('observable')},{"./_wks-define":137}],159:[function(n){var e,t;n('./es6.array.iterator');var s=n('./_global'),h=n('./_hide'),u=n('./_iterators'),f=n('./_wks')('toStringTag');for(e=['NodeList','DOMTokenList','MediaList','StyleSheetList','CSSRuleList'],t=0;t<5;t++){var i=e[t],o=s[i],r=o&&o.prototype;r&&!r[f]&&h(r,f,i);u[i]=u.Array}},{"./_global":92,"./_hide":94,"./_iterators":106,"./_wks":139,"./es6.array.iterator":144}],160:[function(n,t,i){(function(n){function r(n){return Array.isArray?Array.isArray(n):t(n)==='[object Array]'}function u(n){return typeof n=='boolean'}function f(n){return n===null}function e(n){return n==null}function o(n){return typeof n=='number'}function s(n){return typeof n=='string'}function h(n){return typeof n=='symbol'}function c(n){return n===void 0}function l(n){return t(n)==='[object RegExp]'}function a(n){return typeof n=='object'&&n!==null}function v(n){return t(n)==='[object Date]'}function y(n){return t(n)==='[object Error]'||n instanceof Error}function p(n){return typeof n=='function'}function w(n){return n===null||typeof n=='boolean'||typeof n=='number'||typeof n=='string'||typeof n=='symbol'||typeof n=='undefined'}function t(n){return Object.prototype.toString.call(n)}i.isArray=r;i.isBoolean=u;i.isNull=f;i.isNullOrUndefined=e;i.isNumber=o;i.isString=s;i.isSymbol=h;i.isUndefined=c;i.isRegExp=l;i.isObject=a;i.isDate=v;i.isError=y;i.isFunction=p;i.isPrimitive=w;i.isBuffer=n.isBuffer}).call(this,{isBuffer:n("../../is-buffer/index.js")})},{"../../is-buffer/index.js":168}],164:[function(n,t){function i(){this._events=this._events||{};this._maxListeners=this._maxListeners||undefined}function r(n){return typeof n=='function'}function e(n){return typeof n=='number'}function u(n){return typeof n=='object'&&n!==null}function f(n){return n===void 0}t.localExports=i;i.EventEmitter=i;i.prototype._events=undefined;i.prototype._maxListeners=undefined;i.defaultMaxListeners=10;i.prototype.setMaxListeners=function(n){if(!e(n)||n<0||isNaN(n))throw TypeError('n must be a positive number');return this._maxListeners=n,this};i.prototype.emit=function(n){var i,t,c,e,o,s,h;if(this._events||(this._events={}),n==='error'&&(!this._events.error||u(this._events.error)&&!this._events.error.length))if(i=arguments[1],i instanceof Error)throw i;else{h=new Error('Uncaught, unspecified "error" event. ('+i+')');h.context=i;throw h;}if(t=this._events[n],f(t))return!1;if(r(t))switch(arguments.length){case 1:t.call(this);break;case 2:t.call(this,arguments[1]);break;case 3:t.call(this,arguments[1],arguments[2]);break;default:e=Array.prototype.slice.call(arguments,1);t.apply(this,e)}else if(u(t))for(e=Array.prototype.slice.call(arguments,1),s=t.slice(),c=s.length,o=0;o<c;o++)s[o].apply(this,e);return!0};i.prototype.addListener=function(n,t){var e;if(!r(t))throw TypeError('listener must be a function');return this._events||(this._events={}),this._events.newListener&&this.emit('newListener',n,r(t.listener)?t.listener:t),this._events[n]?u(this._events[n])?this._events[n].push(t):this._events[n]=[this._events[n],t]:this._events[n]=t,u(this._events[n])&&!this._events[n].warned&&(e=f(this._maxListeners)?i.defaultMaxListeners:this._maxListeners,e&&e>0&&this._events[n].length>e&&(this._events[n].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[n].length),typeof console.trace=='function'&&console.trace())),this};i.prototype.on=i.prototype.addListener;i.prototype.once=function(n,t){function i(){this.removeListener(n,i);u||(u=!0,t.apply(this,arguments))}if(!r(t))throw TypeError('listener must be a function');var u=!1;i.listener=t;this.on(n,i);return this};i.prototype.removeListener=function(n,t){var i,e,o,f;if(!r(t))throw TypeError('listener must be a function');if(!this._events||!this._events[n])return this;if(i=this._events[n],o=i.length,e=-1,i===t||r(i.listener)&&i.listener===t)delete this._events[n],this._events.removeListener&&this.emit('removeListener',n,t);else if(u(i)){for(f=o;f-->0;)if(i[f]===t||i[f].listener&&i[f].listener===t){e=f;break}if(e<0)return this;i.length===1?(i.length=0,delete this._events[n]):i.splice(e,1);this._events.removeListener&&this.emit('removeListener',n,t)}return this};i.prototype.removeAllListeners=function(n){var i,t;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[n]&&delete this._events[n],this;if(arguments.length===0){for(i in this._events)i!=='removeListener'&&this.removeAllListeners(i);return this.removeAllListeners('removeListener'),this._events={},this}if(t=this._events[n],r(t))this.removeListener(n,t);else if(t)while(t.length)this.removeListener(n,t[t.length-1]);return delete this._events[n],this};i.prototype.listeners=function(n){return this._events&&this._events[n]?r(this._events[n])?[this._events[n]]:this._events[n].slice():[]};i.prototype.listenerCount=function(n){if(this._events){var t=this._events[n];if(r(t))return 1;if(t)return t.length}return 0};i.listenerCount=function(n,t){return n.listenerCount(t)}},{}],165:[function(n,t){(function(i,r){'use strict';function s(n){return n&&typeof n=='object'&&'default'in n?n['default']:n}function v(n,t,i){var r=i.get;i.get=function(){var n=r.call(this);return gt(this,t,{value:n}),n}}function ot(n,t){for(var i=[];n<t;)i.push(n++);return i}function lr(n){for(var f=n.length,i=0,t,u,r;i<f;)if(t=n.charCodeAt(i++),55296<=t&&t<=56319&&i<f&&(u=n.charCodeAt(i),56320<=u&&u<=57343&&(i++,t=((t&1023)<<10)+(u&1023)+65536)),r=p.getScript(t),r!=='Common'&&r!=='Inherited'&&r!=='Unknown')return st[r];return st.Unknown}function ar(n){for(var r,t,i=0;i<n.length;i++)if(r=n[i],t=p.getScript(r),t!=='Common'&&t!=='Inherited'&&t!=='Unknown')return st[t];return st.Unknown}function hi(){return'ltr'}function dr(n){var t=kr[n];return t?t:kt}function k(n,t,i,r,u){var f={};return Object.keys(r).forEach(function(n){f[n]=r[n]}),f.enumerable=!!f.enumerable,f.configurable=!!f.configurable,('value'in f||f.initializer)&&(f.writable=!0),f=i.slice().reverse().reduce(function(i,r){return r(n,t,i)||i},f),u&&f.initializer!==void 0&&(f.value=f.initializer?f.initializer.call(u):void 0,f.initializer=undefined),f.initializer===void 0&&(Object.defineProperty(n,t,f),f=null),f}function ct(n,t,i,r,u){var f={};return Object.keys(r).forEach(function(n){f[n]=r[n]}),f.enumerable=!!f.enumerable,f.configurable=!!f.configurable,('value'in f||f.initializer)&&(f.writable=!0),f=i.slice().reverse().reduce(function(i,r){return r(n,t,i)||i},f),u&&f.initializer!==void 0&&(f.value=f.initializer?f.initializer.call(u):void 0,f.initializer=undefined),f.initializer===void 0&&(Object.defineProperty(n,t,f),f=null),f}var u=s(n('restructure')),a=s(n('babel-runtime/core-js/object/get-own-property-descriptor')),it=s(n('babel-runtime/core-js/object/freeze')),bi=s(n('babel-runtime/core-js/object/keys')),rt=s(n('babel-runtime/helpers/typeof')),gt=s(n('babel-runtime/core-js/object/define-property')),f=s(n('babel-runtime/helpers/classCallCheck')),e=s(n('babel-runtime/helpers/createClass')),lt=s(n('babel-runtime/core-js/object/get-prototype-of')),ni=s(n('babel-runtime/helpers/possibleConstructorReturn')),ti=s(n('babel-runtime/helpers/inherits')),ff=s(n('babel-runtime/core-js/object/define-properties')),ki=s(n('babel-runtime/helpers/get')),di=s(n('babel-runtime/core-js/object/assign')),d=s(n('babel-runtime/helpers/toConsumableArray')),p=s(n('unicode-properties')),at=s(n('babel-runtime/helpers/slicedToArray')),vt=s(n('clone')),y={},ut,bt,ft,ri,et,ui,h,fi,g,ei,ht,b,o;y.logErrors=!1;ut=[];y.registerFormat=function(n){ut.push(n)};y.create=function(n,t){for(var r,f,i=0;i<ut.length;i++)if(r=ut[i],r.probe(n))return(f=new r(new u.DecodeStream(n)),t)?f.getFont(t):f;throw new Error('Unknown font format');};var gi=new u.Struct({firstCode:u.uint16,entryCount:u.uint16,idDelta:u.int16,idRangeOffset:u.uint16}),yt=new u.Struct({startCharCode:u.uint32,endCharCode:u.uint32,glyphID:u.uint32}),ef=new u.Struct({startUnicodeValue:u.uint24,additionalCount:u.uint8}),of=new u.Struct({unicodeValue:u.uint24,glyphID:u.uint16}),nr=new u.VersionedStruct(u.uint16,{0:{length:u.uint16,language:u.uint16,codeMap:new u.LazyArray(u.uint8,256)},2:{length:u.uint16,language:u.uint16,subHeaderKeys:new u.Array(u.uint16,256),subHeaderCount:function(n){return Math.max.apply(Math,n.subHeaderKeys)},subHeaders:new u.LazyArray(gi,'subHeaderCount'),glyphIndexArray:new u.LazyArray(u.uint16,'subHeaderCount')},4:{length:u.uint16,language:u.uint16,segCountX2:u.uint16,segCount:function(n){return n.segCountX2>>1},searchRange:u.uint16,entrySelector:u.uint16,rangeShift:u.uint16,endCode:new u.LazyArray(u.uint16,'segCount'),reservedPad:new u.Reserved(u.uint16),startCode:new u.LazyArray(u.uint16,'segCount'),idDelta:new u.LazyArray(u.int16,'segCount'),idRangeOffset:new u.LazyArray(u.uint16,'segCount'),glyphIndexArray:new u.LazyArray(u.uint16,function(n){return(n.length-n._currentOffset)/2})},6:{length:u.uint16,language:u.uint16,firstCode:u.uint16,entryCount:u.uint16,glyphIndices:new u.LazyArray(u.uint16,'entryCount')},8:{reserved:new u.Reserved(u.uint16),length:u.uint32,language:u.uint16,is32:new u.LazyArray(u.uint8,8192),nGroups:u.uint32,groups:new u.LazyArray(yt,'nGroups')},10:{reserved:new u.Reserved(u.uint16),length:u.uint32,language:u.uint32,firstCode:u.uint32,entryCount:u.uint32,glyphIndices:new u.LazyArray(u.uint16,'numChars')},12:{reserved:new u.Reserved(u.uint16),length:u.uint32,language:u.uint32,nGroups:u.uint32,groups:new u.LazyArray(yt,'nGroups')},13:{reserved:new u.Reserved(u.uint16),length:u.uint32,language:u.uint32,nGroups:u.uint32,groups:new u.LazyArray(yt,'nGroups')}}),tr=new u.Struct({platformID:u.uint16,encodingID:u.uint16,table:new u.Pointer(u.uint32,nr,{type:'parent',lazy:!0})}),l=new u.Struct({version:u.uint16,numSubtables:u.uint16,tables:new u.Array(tr,'numSubtables')}),ir=new u.Struct({version:u.int32,revision:u.int32,checkSumAdjustment:u.uint32,magicNumber:u.uint32,flags:u.uint16,unitsPerEm:u.uint16,created:new u.Array(u.int32,2),modified:new u.Array(u.int32,2),xMin:u.int16,yMin:u.int16,xMax:u.int16,yMax:u.int16,macStyle:new u.Bitfield(u.uint16,['bold','italic','underline','outline','shadow','condensed','extended']),lowestRecPPEM:u.uint16,fontDirectionHint:u.int16,indexToLocFormat:u.int16,glyphDataFormat:u.int16}),rr=new u.Struct({version:u.int32,ascent:u.int16,descent:u.int16,lineGap:u.int16,advanceWidthMax:u.uint16,minLeftSideBearing:u.int16,minRightSideBearing:u.int16,xMaxExtent:u.int16,caretSlopeRise:u.int16,caretSlopeRun:u.int16,caretOffset:u.int16,reserved:new u.Reserved(u.int16,4),metricDataFormat:u.int16,numberOfMetrics:u.uint16}),ur=new u.Struct({advance:u.uint16,bearing:u.int16}),fr=new u.Struct({metrics:new u.LazyArray(ur,function(n){return n.parent.hhea.numberOfMetrics}),bearings:new u.LazyArray(u.int16,function(n){return n.parent.maxp.numGlyphs-n.parent.hhea.numberOfMetrics})}),er=new u.Struct({version:u.int32,numGlyphs:u.uint16,maxPoints:u.uint16,maxContours:u.uint16,maxComponentPoints:u.uint16,maxComponentContours:u.uint16,maxZones:u.uint16,maxTwilightPoints:u.uint16,maxStorage:u.uint16,maxFunctionDefs:u.uint16,maxInstructionDefs:u.uint16,maxStackElements:u.uint16,maxSizeOfInstructions:u.uint16,maxComponentElements:u.uint16,maxComponentDepth:u.uint16}),ii=new u.Struct({platformID:u.uint16,encodingID:u.uint16,languageID:u.uint16,nameID:u.uint16,length:u.uint16,string:new u.Pointer(u.uint16,new u.String('length',function(n){return sr[n.platformID][n.encodingID]}),{type:'parent',relativeTo:'parent.stringOffset',allowNull:!1})}),or=new u.Struct({length:u.uint16,tag:new u.Pointer(u.uint16,new u.String('length','utf16be'),{type:'parent',relativeTo:'stringOffset'})}),pt=new u.VersionedStruct(u.uint16,{0:{count:u.uint16,stringOffset:u.uint16,records:new u.Array(ii,'count')},1:{count:u.uint16,stringOffset:u.uint16,records:new u.Array(ii,'count'),langTagCount:u.uint16,langTags:new u.Array(or,'langTagCount')}}),wt=['copyright','fontFamily','fontSubfamily','uniqueSubfamily','fullName','version','postscriptName','trademark','manufacturer','designer','description','vendorURL','designerURL','license','licenseURL',null,'preferredFamily','preferredSubfamily','compatibleFull','sampleText','postscriptCIDFontName','wwsFamilyName','wwsSubfamilyName'],sr=[['utf16be','utf16be','utf16be','utf16be','utf16be','utf16be'],['macroman','shift-jis','big5','euc-kr','iso-8859-6','iso-8859-8','macgreek','maccyrillic','symbol','Devanagari','Gurmukhi','Gujarati','Oriya','Bengali','Tamil','Telugu','Kannada','Malayalam','Sinhalese','Burmese','Khmer','macthai','Laotian','Georgian','Armenian','gb-2312-80','Tibetan','Mongolian','Geez','maccyrillic','Vietnamese','Sindhi'],['ascii'],['symbol','utf16be','shift-jis','gb18030','big5','wansung','johab',null,null,null,'ucs-4']],hr=[[],{0:"English",59:"Pashto",1:"French",60:"Kurdish",2:"German",61:"Kashmiri",3:"Italian",62:"Sindhi",4:"Dutch",63:"Tibetan",5:"Swedish",64:"Nepali",6:"Spanish",65:"Sanskrit",7:"Danish",66:"Marathi",8:"Portuguese",67:"Bengali",9:"Norwegian",68:"Assamese",10:"Hebrew",69:"Gujarati",11:"Japanese",70:"Punjabi",12:"Arabic",71:"Oriya",13:"Finnish",72:"Malayalam",14:"Greek",73:"Kannada",15:"Icelandic",74:"Tamil",16:"Maltese",75:"Telugu",17:"Turkish",76:"Sinhalese",18:"Croatian",77:"Burmese",19:"Chinese (Traditional)",78:"Khmer",20:"Urdu",79:"Lao",21:"Hindi",80:"Vietnamese",22:"Thai",81:"Indonesian",23:"Korean",82:"Tagalong",24:"Lithuanian",83:"Malay (Roman script)",25:"Polish",84:"Malay (Arabic script)",26:"Hungarian",85:"Amharic",27:"Estonian",86:"Tigrinya",28:"Latvian",87:"Galla",29:"Sami",88:"Somali",30:"Faroese",89:"Swahili",31:"Farsi/Persian",90:"Kinyarwanda/Ruanda",32:"Russian",91:"Rundi",33:"Chinese (Simplified)",92:"Nyanja/Chewa",34:"Flemish",93:"Malagasy",35:"Irish Gaelic",94:"Esperanto",36:"Albanian",128:"Welsh",37:"Romanian",129:"Basque",38:"Czech",130:"Catalan",39:"Slovak",131:"Latin",40:"Slovenian",132:"Quenchua",41:"Yiddish",133:"Guarani",42:"Serbian",134:"Aymara",43:"Macedonian",135:"Tatar",44:"Bulgarian",136:"Uighur",45:"Ukrainian",137:"Dzongkha",46:"Byelorussian",138:"Javanese (Roman script)",47:"Uzbek",139:"Sundanese (Roman script)",48:"Kazakh",140:"Galician",49:"Azerbaijani (Cyrillic script)",141:"Afrikaans",50:"Azerbaijani (Arabic script)",142:"Breton",51:"Armenian",143:"Inuktitut",52:"Georgian",144:"Scottish Gaelic",53:"Moldavian",145:"Manx Gaelic",54:"Kirghiz",146:"Irish Gaelic (with dot above)",55:"Tajiki",147:"Tongan",56:"Turkmen",148:"Greek (polytonic)",57:"Mongolian (Mongolian script)",149:"Greenlandic",58:"Mongolian (Cyrillic script)",150:"Azerbaijani (Roman script)"},[],{1078:"Afrikaans",1107:"Khmer",1052:"Albanian",1158:"K'iche",1156:"Alsatian",1159:"Kinyarwanda",1118:"Amharic",1089:"Kiswahili",5121:"Arabic",1111:"Konkani",15361:"Arabic",1042:"Korean",3073:"Arabic",1088:"Kyrgyz",2049:"Arabic",1108:"Lao",11265:"Arabic",1062:"Latvian",13313:"Arabic",1063:"Lithuanian",12289:"Arabic",2094:"Lower Sorbian",4097:"Arabic",1134:"Luxembourgish",6145:"Arabic",1071:"Macedonian (FYROM)",8193:"Arabic",2110:"Malay",16385:"Arabic",1086:"Malay",1025:"Arabic",1100:"Malayalam",10241:"Arabic",1082:"Maltese",7169:"Arabic",1153:"Maori",14337:"Arabic",1146:"Mapudungun",9217:"Arabic",1102:"Marathi",1067:"Armenian",1148:"Mohawk",1101:"Assamese",1104:"Mongolian (Cyrillic)",2092:"Azeri (Cyrillic)",2128:"Mongolian (Traditional)",1068:"Azeri (Latin)",1121:"Nepali",1133:"Bashkir",1044:"Norwegian (Bokmal)",1069:"Basque",2068:"Norwegian (Nynorsk)",1059:"Belarusian",1154:"Occitan",2117:"Bengali",1096:"Odia (formerly Oriya)",1093:"Bengali",1123:"Pashto",8218:"Bosnian (Cyrillic)",1045:"Polish",5146:"Bosnian (Latin)",1046:"Portuguese",1150:"Breton",2070:"Portuguese",1026:"Bulgarian",1094:"Punjabi",1027:"Catalan",1131:"Quechua",3076:"Chinese",2155:"Quechua",5124:"Chinese",3179:"Quechua",2052:"Chinese",1048:"Romanian",4100:"Chinese",1047:"Romansh",1028:"Chinese",1049:"Russian",1155:"Corsican",9275:"Sami (Inari)",1050:"Croatian",4155:"Sami (Lule)",4122:"Croatian (Latin)",5179:"Sami (Lule)",1029:"Czech",3131:"Sami (Northern)",1030:"Danish",1083:"Sami (Northern)",1164:"Dari",2107:"Sami (Northern)",1125:"Divehi",8251:"Sami (Skolt)",2067:"Dutch",6203:"Sami (Southern)",1043:"Dutch",7227:"Sami (Southern)",3081:"English",1103:"Sanskrit",10249:"English",7194:"Serbian (Cyrillic)",4105:"English",3098:"Serbian (Cyrillic)",9225:"English",6170:"Serbian (Latin)",16393:"English",2074:"Serbian (Latin)",6153:"English",1132:"Sesotho sa Leboa",8201:"English",1074:"Setswana",17417:"English",1115:"Sinhala",5129:"English",1051:"Slovak",13321:"English",1060:"Slovenian",18441:"English",11274:"Spanish",7177:"English",16394:"Spanish",11273:"English",13322:"Spanish",2057:"English",9226:"Spanish",1033:"English",5130:"Spanish",12297:"English",7178:"Spanish",1061:"Estonian",12298:"Spanish",1080:"Faroese",17418:"Spanish",1124:"Filipino",4106:"Spanish",1035:"Finnish",18442:"Spanish",2060:"French",2058:"Spanish",3084:"French",19466:"Spanish",1036:"French",6154:"Spanish",5132:"French",15370:"Spanish",6156:"French",10250:"Spanish",4108:"French",20490:"Spanish",1122:"Frisian",3082:"Spanish (Modern Sort)",1110:"Galician",1034:"Spanish (Traditional Sort)",1079:"Georgian",21514:"Spanish",3079:"German",14346:"Spanish",1031:"German",8202:"Spanish",5127:"German",2077:"Sweden",4103:"German",1053:"Swedish",2055:"German",1114:"Syriac",1032:"Greek",1064:"Tajik (Cyrillic)",1135:"Greenlandic",2143:"Tamazight (Latin)",1095:"Gujarati",1097:"Tamil",1128:"Hausa (Latin)",1092:"Tatar",1037:"Hebrew",1098:"Telugu",1081:"Hindi",1054:"Thai",1038:"Hungarian",1105:"Tibetan",1039:"Icelandic",1055:"Turkish",1136:"Igbo",1090:"Turkmen",1057:"Indonesian",1152:"Uighur",1117:"Inuktitut",1058:"Ukrainian",2141:"Inuktitut (Latin)",1070:"Upper Sorbian",2108:"Irish",1056:"Urdu",1076:"isiXhosa",2115:"Uzbek (Cyrillic)",1077:"isiZulu",1091:"Uzbek (Latin)",1040:"Italian",1066:"Vietnamese",2064:"Italian",1106:"Welsh",1041:"Japanese",1160:"Wolof",1099:"Kannada",1157:"Yakut",1087:"Kazakh",1144:"Yi",1130:"Yoruba"}];pt.process=function(){for(var n,i,e,r,t={},u=0,f=Object.keys(this.records);u<f.length;u++)n=this.records[f[u]],i=hr[n.platformID][n.languageID],i==null&&this.langTags!=null&&n.languageID>=32768&&(i=this.langTags[n.languageID-32768].tag),i==null&&(i=n.platformID+'-'+n.languageID),n.nameID>=256?(t.fontFeatures==null&&(t.fontFeatures={}),e=t.fontFeatures[i]!=null?t.fontFeatures[i]:t.fontFeatures[i]={},e[n.nameID]=n.string):(r=wt[n.nameID]||n.nameID,t[r]==null&&(t[r]={}),t[r][i]=n.string);this.records=t};pt.preEncode=function(){var i,n,u;if(!Array.isArray(this.records)){this.version=0;i=[];for(n in this.records)(u=this.records[n],n!=='fontFeatures')&&(i.push({platformID:3,encodingID:1,languageID:1033,nameID:wt.indexOf(n),length:r.byteLength(u.English,'utf16le'),string:u.English}),n==='postscriptName'&&i.push({platformID:1,encodingID:0,languageID:0,nameID:wt.indexOf(n),length:u.English.length,string:u.English}));this.records=i;this.count=i.length;this.stringOffset=t.localExports.size(this,null,!1)}};bt=new u.VersionedStruct(u.uint16,{header:{xAvgCharWidth:u.int16,usWeightClass:u.uint16,usWidthClass:u.uint16,fsType:new u.Bitfield(u.uint16,[null,'noEmbedding','viewOnly','editable',null,null,null,null,'noSubsetting','bitmapOnly']),ySubscriptXSize:u.int16,ySubscriptYSize:u.int16,ySubscriptXOffset:u.int16,ySubscriptYOffset:u.int16,ySuperscriptXSize:u.int16,ySuperscriptYSize:u.int16,ySuperscriptXOffset:u.int16,ySuperscriptYOffset:u.int16,yStrikeoutSize:u.int16,yStrikeoutPosition:u.int16,sFamilyClass:u.int16,panose:new u.Array(u.uint8,10),ulCharRange:new u.Array(u.uint32,4),vendorID:new u.String(4),fsSelection:new u.Bitfield(u.uint16,['italic','underscore','negative','outlined','strikeout','bold','regular','useTypoMetrics','wws','oblique']),usFirstCharIndex:u.uint16,usLastCharIndex:u.uint16},0:{},1:{typoAscender:u.int16,typoDescender:u.int16,typoLineGap:u.int16,winAscent:u.uint16,winDescent:u.uint16,codePageRange:new u.Array(u.uint32,2)},2:{typoAscender:u.int16,typoDescender:u.int16,typoLineGap:u.int16,winAscent:u.uint16,winDescent:u.uint16,codePageRange:new u.Array(u.uint32,2),xHeight:u.int16,capHeight:u.int16,defaultChar:u.uint16,breakChar:u.uint16,maxContent:u.uint16},5:{typoAscender:u.int16,typoDescender:u.int16,typoLineGap:u.int16,winAscent:u.uint16,winDescent:u.uint16,codePageRange:new u.Array(u.uint32,2),xHeight:u.int16,capHeight:u.int16,defaultChar:u.uint16,breakChar:u.uint16,maxContent:u.uint16,usLowerOpticalPointSize:u.uint16,usUpperOpticalPointSize:u.uint16}});ft=bt.versions;ft[3]=ft[4]=ft[2];ri=new u.VersionedStruct(u.fixed32,{header:{italicAngle:u.fixed32,underlinePosition:u.int16,underlineThickness:u.int16,isFixedPitch:u.uint32,minMemType42:u.uint32,maxMemType42:u.uint32,minMemType1:u.uint32,maxMemType1:u.uint32},1:{},2:{numberOfGlyphs:u.uint16,glyphNameIndex:new u.Array(u.uint16,'numberOfGlyphs'),names:new u.Array(new u.String(u.uint8))},2.5:{numberOfGlyphs:u.uint16,offsets:new u.Array(u.uint8,'numberOfGlyphs')},3:{},4:{map:new u.Array(u.uint32,function(n){return n.parent.maxp.numGlyphs})}});et=new u.VersionedStruct('head.indexToLocFormat',{0:{offsets:new u.Array(u.uint16)},1:{offsets:new u.Array(u.uint32)}});et.process=function(){if(this.version===0)for(var n=0;n<this.offsets.length;n++)this.offsets[n]<<=1};et.preEncode=function(){if(this.version==null&&(this.version=this.offsets[this.offsets.length-1]>65535?1:0,this.version===0))for(var n=0;n<this.offsets.length;n++)this.offsets[n]>>>=1};ui=new u.Array(new u.Buffer);h={};h.cmap=l;h.head=ir;h.hhea=rr;h.hmtx=fr;h.maxp=er;h.name=pt;h['OS/2']=bt;h.post=ri;h.loca=et;h.glyf=ui;fi=new u.Struct({tag:new u.String(4),checkSum:u.uint32,offset:new u.Pointer(u.uint32,'void',{type:'global'}),length:u.uint32});g=new u.Struct({tag:new u.String(4),numTables:u.uint16,searchRange:u.uint16,entrySelector:u.uint16,rangeShift:u.uint16,tables:new u.Array(fi,'numTables')});g.process=function(){var t=this,n={};Object.keys(this.tables).forEach(function(i){var r=t.tables[i];n[r.tag]=r});this.tables=n};g.preEncode=function(){var i=[],n,t;for(n in this.tables)t=this.tables[n],t&&i.push({tag:n,checkSum:0,offset:new u.VoidPointer(h[n],t),length:h[n].size(t)});this.tag='true';this.numTables=i.length;this.tables=i;this.searchRange=Math.floor(Math.log(this.numTables)/Math.LN2)*16;this.entrySelector=Math.floor(this.searchRange/Math.LN2);this.rangeShift=this.numTables*16-this.searchRange};ei=function(){function n(t){var r,i;for(f(this,n),this._characterSet=null,r=Object.keys(t.tables),i=0;i<r.length;i++)if(l=t.tables[r[i]],l.platformID===0&&(l.encodingID===4||l.encodingID===6)||l.platformID===3&&l.encodingID===10){this.cmap=l.table;return}for(i=0;i<r.length;i++)if(l=t.tables[r[i]],l.platformID===0||l.platformID===3&&l.encodingID===1){this.cmap=l.table;return}throw new Error("Could not find a unicode cmap");}return e(n,[{key:'lookup',value:function(n){var t=this.cmap,f,e,i,c,r,l,o,s,h,u;switch(t.version){case 0:return t.codeMap.get(n)||0;case 4:for(f=0,e=t.segCount-1;f<=e;)if(i=f+e>>1,n<t.startCode.get(i))e=i-1;else if(n>t.endCode.get(i))f=i+1;else return c=t.idRangeOffset.get(i),r=void 0,c===0?r=n+t.idDelta.get(i):(l=c/2+(n-t.startCode.get(i))-(t.segCount-i),r=t.glyphIndexArray.get(l)||0,r!==0&&(r+=t.idDelta.get(i))),r&65535;return 0;case 8:throw new Error('TODO: cmap format 8');case 6:case 10:return t.glyphIndices.get(n-t.firstCode)||0;case 12:case 13:for(o=0,s=t.nGroups-1;o<=s;)if(h=o+s>>1,u=t.groups.get(h),n<u.startCharCode)s=h-1;else if(n>u.endCharCode)o=h+1;else return t.version===12?u.glyphID+(n-u.startCharCode):u.glyphID;return 0;case 14:throw new Error('TODO: cmap format 14');default:throw new Error('Unknown cmap format '+t.version);}}},{key:'getCharacterSet',value:function(){var n,i,u,o,s,r,f,t,e;if(this._characterSet)return this._characterSet;n=this.cmap;switch(n.version){case 0:return this._characterSet=ot(0,n.codeMap.length);case 4:for(i=[],u=n.endCode.toArray(),t=0;t<u.length;t++)o=u[t]+1,s=n.startCode.get(t),i.push.apply(i,d(ot(s,o)));return this._characterSet=i;case 8:throw new Error('TODO: cmap format 8');case 6:case 10:return this._characterSet=ot(n.firstCode,n.firstCode+n.glyphIndices.length);case 12:case 13:for(r=[],f=n.groups.toArray(),t=0;t<f.length;t++)e=f[t],r.push.apply(r,d(ot(e.startCharCode,e.endCharCode+1)));return this._characterSet=r;case 14:throw new Error('TODO: cmap format 14');default:throw new Error('Unknown cmap format '+n.version);}}}]),n}();var cr=function(){function n(t){f(this,n);this.font=t}return e(n,[{key:'positionGlyphs',value:function(n,t){for(var f,r=0,i=0,u=0;u<n.length;u++)f=n[u],f.isMark?i=u:(r!==i&&this.positionCluster(n,t,r,i),r=i=u);return r!==i&&this.positionCluster(n,t,r,i),t}},{key:'positionCluster',value:function(n,t,i,r){var h=n[i],f=h.cbox.copy(),s;h.codePoints.length>1&&(f.minX+=(h.codePoints.length-1)*f.width/h.codePoints.length);var c=-t[i].xAdvance,l=0,a=this.font.unitsPerEm/16;for(s=i+1;s<=r;s++){var v=n[s],e=v.cbox,u=t[s],o=this.getCombiningClass(v.codePoints[0]);if(o!=='Not_Reordered'){u.xOffset=u.yOffset=0;switch(o){case'Double_Above':case'Double_Below':u.xOffset+=f.minX-e.width/2-e.minX;break;case'Attached_Below_Left':case'Below_Left':case'Above_Left':u.xOffset+=f.minX-e.minX;break;case'Attached_Above_Right':case'Below_Right':case'Above_Right':u.xOffset+=f.maxX-e.width-e.minX;break;default:u.xOffset+=f.minX+(f.width-e.width)/2-e.minX}switch(o){case'Double_Below':case'Below_Left':case'Below':case'Below_Right':case'Attached_Below_Left':case'Attached_Below':(o==='Attached_Below_Left'||o==='Attached_Below')&&(f.minY+=a);u.yOffset=-f.minY-e.maxY;f.minY+=e.height;break;case'Double_Above':case'Above_Left':case'Above':case'Above_Right':case'Attached_Above':case'Attached_Above_Right':(o==='Attached_Above'||o==='Attached_Above_Right')&&(f.maxY+=a);u.yOffset=f.maxY-e.minY;f.maxY+=e.height}u.xAdvance=u.yAdvance=0;u.xOffset+=c;u.yOffset+=l}else c-=u.xAdvance,l-=u.yAdvance}return}},{key:'getCombiningClass',value:function(n){var t=p.getCombiningClass(n);if((n&-256)==3584)if(t==='Not_Reordered')switch(n){case 3633:case 3636:case 3637:case 3638:case 3639:case 3655:case 3660:case 3645:case 3662:return'Above_Right';case 3761:case 3764:case 3765:case 3766:case 3767:case 3771:case 3788:case 3789:return'Above';case 3772:return'Below'}else if(n===3642)return'Below_Right';switch(t){case'CCC10':case'CCC11':case'CCC12':case'CCC13':case'CCC14':case'CCC15':case'CCC16':case'CCC17':case'CCC18':case'CCC20':case'CCC22':return'Below';case'CCC23':return'Attached_Above';case'CCC24':return'Above_Right';case'CCC25':case'CCC19':return'Above_Left';case'CCC26':return'Above';case'CCC27':case'CCC28':case'CCC30':case'CCC31':case'CCC33':case'CCC34':case'CCC35':case'CCC36':return'Above';case'CCC29':case'CCC32':return'Below';case'CCC103':return'Below_Right';case'CCC107':return'Above_Right';case'CCC118':return'Below';case'CCC122':return'Above';case'CCC129':case'CCC132':return'Below';case'CCC130':return'Above'}return t}}]),n}(),nt=function(){function n(){var t=arguments.length<=0||arguments[0]===undefined?Infinity:arguments[0],i=arguments.length<=1||arguments[1]===undefined?Infinity:arguments[1],r=arguments.length<=2||arguments[2]===undefined?-Infinity:arguments[2],u=arguments.length<=3||arguments[3]===undefined?-Infinity:arguments[3];f(this,n);this.minX=t;this.minY=i;this.maxX=r;this.maxY=u}return e(n,[{key:"addPoint",value:function(n,t){n<this.minX&&(this.minX=n);t<this.minY&&(this.minY=t);n>this.maxX&&(this.maxX=n);t>this.maxY&&(this.maxY=t)}},{key:"copy",value:function(){return new n(this.minX,this.minY,this.maxX,this.maxY)}},{key:"width",get:function(){return this.maxX-this.minX}},{key:"height",get:function(){return this.maxY-this.minY}}]),n}(),oi=function(){function n(t,i){f(this,n);this.glyphs=t;this.positions=i}return e(n,[{key:'advanceWidth',get:function(){var t=this,n=0;return Object.keys(this.positions).forEach(function(i){n+=t.positions[i].xAdvance}),n}},{key:'advanceHeight',get:function(){var t=this,n=0;return Object.keys(this.positions).forEach(function(i){n+=t.positions[i].yAdvance}),n}},{key:'bbox',get:function(){for(var r=new nt,u=0,f=0,t=0;t<this.glyphs.length;t++){var e=this.glyphs[t],n=this.positions[t],i=e.bbox;r.addPoint(i.minX+u+n.xOffset,i.minY+f+n.yOffset);r.addPoint(i.maxX+u+n.xOffset,i.maxY+f+n.yOffset);u+=n.xAdvance;f+=n.yAdvance}return r}}]),n}(),si=function si(){var n=arguments.length<=0||arguments[0]===undefined?0:arguments[0],t=arguments.length<=1||arguments[1]===undefined?0:arguments[1],i=arguments.length<=2||arguments[2]===undefined?0:arguments[2],r=arguments.length<=3||arguments[3]===undefined?0:arguments[3];f(this,si);this.xAdvance=n;this.yAdvance=t;this.xOffset=i;this.yOffset=r},st={Caucasian_Albanian:'aghb',Arabic:'arab',Imperial_Aramaic:'armi',Armenian:'armn',Avestan:'avst',Balinese:'bali',Bamum:'bamu',Bassa_Vah:'bass',Batak:'batk',Bengali:['bng2','beng'],Bopomofo:'bopo',Brahmi:'brah',Braille:'brai',Buginese:'bugi',Buhid:'buhd',Chakma:'cakm',Canadian_Aboriginal:'cans',Carian:'cari',Cham:'cham',Cherokee:'cher',Coptic:'copt',Cypriot:'cprt',Cyrillic:'cyrl',Devanagari:['dev2','deva'],Deseret:'dsrt',Duployan:'dupl',Egyptian_Hieroglyphs:'egyp',Elbasan:'elba',Ethiopic:'ethi',Georgian:'geor',Glagolitic:'glag',Gothic:'goth',Grantha:'gran',Greek:'grek',Gujarati:['gjr2','gujr'],Gurmukhi:['gur2','guru'],Hangul:'hang',Han:'hani',Hanunoo:'hano',Hebrew:'hebr',Hiragana:'hira',Pahawh_Hmong:'hmng',Katakana_Or_Hiragana:'hrkt',Old_Italic:'ital',Javanese:'java',Kayah_Li:'kali',Katakana:'kana',Kharoshthi:'khar',Khmer:'khmr',Khojki:'khoj',Kannada:['knd2','knda'],Kaithi:'kthi',Tai_Tham:'lana',Lao:'lao ',Latin:'latn',Lepcha:'lepc',Limbu:'limb',Linear_A:'lina',Linear_B:'linb',Lisu:'lisu',Lycian:'lyci',Lydian:'lydi',Mahajani:'mahj',Mandaic:'mand',Manichaean:'mani',Mende_Kikakui:'mend',Meroitic_Cursive:'merc',Meroitic_Hieroglyphs:'mero',Malayalam:['mlm2','mlym'],Modi:'modi',Mongolian:'mong',Mro:'mroo',Meetei_Mayek:'mtei',Myanmar:['mym2','mymr'],Old_North_Arabian:'narb',Nabataean:'nbat',Nko:'nko ',Ogham:'ogam',Ol_Chiki:'olck',Old_Turkic:'orkh',Oriya:'orya',Osmanya:'osma',Palmyrene:'palm',Pau_Cin_Hau:'pauc',Old_Permic:'perm',Phags_Pa:'phag',Inscriptional_Pahlavi:'phli',Psalter_Pahlavi:'phlp',Phoenician:'phnx',Miao:'plrd',Inscriptional_Parthian:'prti',Rejang:'rjng',Runic:'runr',Samaritan:'samr',Old_South_Arabian:'sarb',Saurashtra:'saur',Shavian:'shaw',Sharada:'shrd',Siddham:'sidd',Khudawadi:'sind',Sinhala:'sinh',Sora_Sompeng:'sora',Sundanese:'sund',Syloti_Nagri:'sylo',Syriac:'syrc',Tagbanwa:'tagb',Takri:'takr',Tai_Le:'tale',New_Tai_Lue:'talu',Tamil:'taml',Tai_Viet:'tavt',Telugu:['tel2','telu'],Tifinagh:'tfng',Tagalog:'tglg',Thaana:'thaa',Thai:'thai',Tibetan:'tibt',Tirhuta:'tirh',Ugaritic:'ugar',Vai:'vai ',Warang_Citi:'wara',Old_Persian:'xpeo',Cuneiform:'xsux',Yi:'yi  ',Inherited:'zinh',Common:'zyyy',Unknown:'zzzz'};var vr=function(){function n(t,i,r){f(this,n);this.font=t;this.script=i;this.language=r;this.direction=hi(i);this.stages=[];this.globalFeatures={};this.allFeatures={}}return e(n,[{key:'_addFeatures',value:function(n){var t=this,i=this.stages[this.stages.length-1];Object.keys(n).forEach(function(r){var u=n[r];t.allFeatures[u]||(i.push(u),t.allFeatures[u]=!0)})}},{key:'_addGlobal',value:function(n){var t=this;Object.keys(n).forEach(function(i){var r=n[i];t.globalFeatures[r]=!0})}},{key:'add',value:function(n){var i=arguments.length<=1||arguments[1]===undefined?!0:arguments[1],t;if(this.stages.length===0&&this.stages.push([]),typeof n=='string'&&(n=[n]),Array.isArray(n))this._addFeatures(n),i&&this._addGlobal(n);else if((typeof n=='undefined'?'undefined':rt(n))==='object')t=(n.global||[]).concat(n.local||[]),this._addFeatures(t),n.global&&this._addGlobal(n.global);else throw new Error("Unsupported argument to ShapingPlan#add");}},{key:'addStage',value:function(n,t){typeof n=='function'?this.stages.push(n,[]):(this.stages.push([]),this.add(n,t))}},{key:'assignGlobalFeatures',value:function(n){var t=this;Object.keys(n).forEach(function(i){var r=n[i];for(var u in t.globalFeatures)r.features[u]=!0})}},{key:'process',value:function(n,t,i){var r=this;n.selectScript(this.script,this.language);Object.keys(this.stages).forEach(function(u){var f=r.stages[u];typeof f=='function'?f(t,i):f.length>0&&n.applyFeatures(f,t,i)})}}]),n}(),yr=['ccmp','locl','rlig','mark','mkmk'],pr=['frac','numr','dnom'],wr=['calt','clig','liga','rclt','curs','kern'],br={ltr:['ltra','ltrm'],rtl:['rtla','rtlm']},kt=function(){function n(){f(this,n)}return e(n,null,[{key:'plan',value:function(n,t,i){this.planPreprocessing(n);this.planFeatures(n);this.planPostprocessing(n,i);n.assignGlobalFeatures(t);this.assignFeatures(n,t)}},{key:'planPreprocessing',value:function(n){n.add({global:br[n.direction],local:pr})}},{key:'planFeatures',value:function(){}},{key:'planPostprocessing',value:function(n,t){n.add([].concat(yr,wr,d(t)))}},{key:'assignFeatures',value:function(n,t){for(var r=0,f,u,i;r<t.length;)if(f=t[r],f.codePoints[0]===8260){for(u=r-1,i=r+1;u>=0&&p.isDigit(t[u].codePoints[0]);)t[u].features.numr=!0,t[u].features.frac=!0,u--;while(i<t.length&&p.isDigit(t[i].codePoints[0]))t[i].features.dnom=!0,t[i].features.frac=!0,i++;f.features.frac=!0;r=i-1}else r++}}]),n}(),ci=function ci(n){var u=arguments.length<=1||arguments[1]===undefined?[]:arguments[1],t=arguments.length<=2||arguments[2]===undefined?[]:arguments[2],i,r;if(f(this,ci),this.id=n,this.codePoints=u,this.isMark=this.codePoints.every(p.isMark),this.isLigature=this.codePoints.length>1,this.features={},Array.isArray(t))for(i=0;i<t.length;i++)r=t[i],this.features[r]=!0;else(typeof t=='undefined'?'undefined':rt(t))==='object'&&di(this.features,t);this.ligatureID=null;this.ligatureComponent=null;this.cursiveAttachment=null;this.markAttachment=null},kr={latn:kt,DFLT:kt};var gr=function(){function n(t,i){f(this,n);this.glyphs=t;this.reset(i)}return e(n,[{key:"reset",value:function(){var n=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];this.flags=n;this.index=0}},{key:"shouldIgnore",value:function(n,t){return t.ignoreMarks&&n.isMark||t.ignoreBaseGlyphs&&!n.isMark||t.ignoreLigatures&&n.isLigature}},{key:"move",value:function(n){for(this.index+=n;0<=this.index&&this.index<this.glyphs.length&&this.shouldIgnore(this.glyphs[this.index],this.flags);)this.index+=n;return 0>this.index||this.index>=this.glyphs.length?null:this.glyphs[this.index]}},{key:"next",value:function(){return this.move(1)}},{key:"prev",value:function(){return this.move(-1)}},{key:"peek",value:function(){var n=arguments.length<=0||arguments[0]===undefined?1:arguments[0],t=this.index,i=this.increment(n);return this.index=t,i}},{key:"peekIndex",value:function(){var t=arguments.length<=0||arguments[0]===undefined?1:arguments[0],i=this.index,n;return this.increment(t),n=this.index,this.index=i,n}},{key:"increment",value:function(){for(var n=arguments.length<=0||arguments[0]===undefined?1:arguments[0],t=n<0?-1:1,n=Math.abs(n);n--;)this.move(t);return this.glyphs[this.index]}},{key:"cur",get:function(){return this.glyphs[this.index]||null}}]),n}(),nu=['DFLT','dflt','latn'],cf=function(){function n(t,i){f(this,n);this.font=t;this.table=i;this.script=null;this.scriptTag=null;this.language=null;this.languageTag=null;this.features={};this.lookups={};this.selectScript();this.glyphs=[];this.positions=[];this.ligatureID=1}return e(n,[{key:'findScript',value:function(n){var t,r,u,i,f,e;if(this.table.scriptList==null)return null;for(Array.isArray(n)||(n=[n]),t=0,r=Object.keys(this.table.scriptList);t<r.length;t++)for(u=this.table.scriptList[r[t]],i=0,f=Object.keys(n);i<f.length;i++)if(e=n[f[i]],u.tag===e)return u;return null}},{key:'selectScript',value:function(n,t){var f=this,e=!1,i=void 0,r,o,u;if(!this.script||n!==this.scriptTag){if(i=this.findScript(n),n&&(i=this.findScript(n)),i||(i=this.findScript(nu)),!i)return;this.scriptTag=i.tag;this.script=i.script;this.direction=hi(n);this.language=null;e=!0}if(!t&&t!==this.langugeTag)for(r=0,o=Object.keys(this.script.langSysRecords);r<o.length;r++)if(u=this.script.langSysRecords[o[r]],u.tag===t){this.language=u.langSys;this.langugeTag=u.tag;e=!0;break}this.language||(this.language=this.script.defaultLangSys);e&&(this.features={},this.language&&Object.keys(this.language.featureIndexes).forEach(function(n){var i=f.language.featureIndexes[n],t=f.table.featureList[i];f.features[t.tag]=t.feature}))}},{key:'lookupsForFeatures',value:function(){for(var f,n,t,e,i,o=arguments.length<=0||arguments[0]===undefined?[]:arguments[0],s=arguments[1],r=[],u=0,h=Object.keys(o);u<h.length;u++)if(f=o[h[u]],n=this.features[f],n)for(t=0,e=Object.keys(n.lookupListIndexes);t<e.length;t++)(i=n.lookupListIndexes[e[t]],s&&s.indexOf(i)!==-1)||r.push({feature:f,index:i,lookup:this.table.lookupList.get(i)});return r.sort(function(n,t){return n.index-t.index}),r}},{key:'applyFeatures',value:function(n,t,i){var r=this.lookupsForFeatures(n);this.applyLookups(r,t,i)}},{key:'applyLookups',value:function(n,t,i){var r,e,f,o,h,c;for(this.glyphs=t,this.positions=i,this.glyphIterator=new gr(t),r=0,e=Object.keys(n);r<e.length;r++){var s=n[e[r]],l=s.feature,u=s.lookup;for(this.glyphIterator.reset(u.flags);this.glyphIterator.index<t.length;){if(!(l in this.glyphIterator.cur.features)){this.glyphIterator.index++;continue}for(f=0,o=Object.keys(u.subTables);f<o.length;f++)if(h=u.subTables[o[f]],c=this.applyLookup(u.lookupType,h),c)break;this.glyphIterator.index++}}}},{key:'applyLookup',value:function(){throw new Error("applyLookup must be implemented by subclasses");}},{key:'applyLookupList',value:function(n){var t=this,i=this.glyphIterator.index;Object.keys(n).forEach(function(r){var f=n[r],u;t.glyphIterator.index=i+f.sequenceIndex;u=t.table.lookupList.get(f.lookupListIndex);Object.keys(u.subTables).forEach(function(n){var i=u.subTables[n];t.applyLookup(u.lookupType,i)})});this.glyphIterator.index=i}},{key:'coverageIndex',value:function(n,t){var r,u,i;t==null&&(t=this.glyphIterator.cur.id);switch(n.version){case 1:return n.glyphs.indexOf(t);case 2:for(r=0,u=Object.keys(n.rangeRecords);r<u.length;r++)if(i=n.rangeRecords[u[r]],i.start<=t&&t<=i.end)return i.startCoverageIndex+t-i.start}return-1}},{key:'match',value:function(n,t,i,r){for(var e=this.glyphIterator.index,f=this.glyphIterator.increment(n),u=0;u<t.length&&f&&i(t[u],f.id);)r&&r.push(this.glyphIterator.index),u++,f=this.glyphIterator.next();return(this.glyphIterator.index=e,u<t.length)?!1:r||!0}},{key:'sequenceMatches',value:function(n,t){return this.match(n,t,function(n,t){return n===t})}},{key:'sequenceMatchIndices',value:function(n,t){return this.match(n,t,function(n,t){return n===t},[])}},{key:'coverageSequenceMatches',value:function(n,t){var i=this;return this.match(n,t,function(n,t){return i.coverageIndex(n,t)>=0})}},{key:'getClassID',value:function(n,t){var f,e,i,r,u;switch(t.version){case 1:for(f=t.startGlyph,i=0,r=Object.keys(t.classValueArray);i<r.length;i++)if(e=t.classValueArray[r[i]],n===f++)return e;break;case 2:for(i=0,r=Object.keys(t.classRangeRecord);i<r.length;i++)if(u=t.classRangeRecord[r[i]],u.start<=n&&n<=u.end)return u.class}return-1}},{key:'classSequenceMatches',value:function(n,t,i){var r=this;return this.match(n,t,function(n,t){return n===r.getClassID(t,i)})}},{key:'applyContext',value:function(n){var i,r,t,u,f;switch(n.version){case 1:if(i=this.coverageIndex(n.coverage),i===-1)return;for(r=n.ruleSets[i],t=0,u=Object.keys(r);t<u.length;t++)if(f=r[u[t]],this.sequenceMatches(1,f.input))return this.applyLookupList(f.lookupRecords);break;case 2:if(this.coverageIndex(n.coverage)===-1)return;if(i=this.getClassID(this.glyphIterator.cur.id,n.classDef),i===-1)return;for(r=n.classSet[i],t=0,u=Object.keys(r);t<u.length;t++)if(f=r[u[t]],this.classSequenceMatches(1,f.classes,n.classDef))return this.applyLookupList(f.lookupRecords);break;case 3:if(this.coverageSequenceMatches(0,n.coverages))return this.applyLookupList(n.lookupRecords)}}},{key:'applyChainingContext',value:function(n){var r,f,e,i,u,t;switch(n.version){case 1:if(r=this.coverageIndex(n.coverage),r===-1)return;for(f=n.chainRuleSets[r],i=0,u=Object.keys(f);i<u.length;i++)if(t=f[u[i]],this.sequenceMatches(-t.backtrack.length,t.backtrack)&&this.sequenceMatches(1,t.input)&&this.sequenceMatches(1+t.input.length,t.lookahead))return this.applyLookupList(t.lookupRecords);break;case 2:if(this.coverageIndex(n.coverage)===-1)return;if(r=this.getClassID(this.glyphIterator.cur.id,n.inputClassDef),r===-1)return;for(e=n.chainClassSet[r],i=0,u=Object.keys(e);i<u.length;i++)if(t=e[u[i]],this.classSequenceMatches(-t.backtrack.length,t.backtrack,n.backtrackClassDef)&&this.classSequenceMatches(1,t.input,n.inputClassDef)&&this.classSequenceMatches(1+t.input.length,t.lookahead,n.lookaheadClassDef))return this.applyLookupList(t.lookupRecords);break;case 3:if(this.coverageSequenceMatches(-n.backtrackGlyphCount,n.backtrackCoverage)&&this.coverageSequenceMatches(0,n.inputCoverage)&&this.coverageSequenceMatches(n.inputGlyphCount,n.lookaheadCoverage))return this.applyLookupList(n.lookupRecords)}}}]),n}(),lf=function(){function n(t){f(this,n);this.font=t;this.glyphInfos=null;this.plan=null}return e(n,[{key:'setup',value:function(n,t,i,r){this.glyphInfos=n.map(function(n){return new ci(n.id,[].concat(d(n.codePoints)))});var u=dr(i);return this.plan=new vr(this.font,i,r),u.plan(this.plan,this.glyphInfos,t)}},{key:'substitute',value:function(n){var t=this;return n}},{key:'position',value:function(n,t){return this.plan.direction==='rtl'&&(n.reverse(),t.reverse()),this.GPOSProcessor&&this.GPOSProcessor.features}},{key:'cleanup',value:function(){this.glyphInfos=null;this.plan=null}},{key:'getAvailableFeatures',value:function(){return[]}}]),n}(),tu=function(){function n(t){f(this,n);this.font=t;this.unicodeLayoutEngine=null}return e(n,[{key:'layout',value:function(n){var r=arguments.length<=1||arguments[1]===undefined?[]:arguments[1],t=arguments[2],e=arguments[3],u,f,o,s,i,h;if(typeof r=='string'&&(t=r,e=t,r=[]),typeof n=='string')t==null&&(t=lr(n)),i=this.font.glyphsForString(n);else{if(t==null){for(u=[],f=0,o=Object.keys(n);f<o.length;f++)s=n[o[f]],u.push.apply(u,d(s.codePoints));t=ar(u)}i=n}return i.length===0?new oi(i,[]):(i=this.substitute(i,r,t,e),h=this.position(i,r,t,e),new oi(i,h))}},{key:'substitute',value:function(n){return n}},{key:'position',value:function(n){var t=n.map(function(n){return new si(n.advanceWidth)});return null||(this.unicodeLayoutEngine||(this.unicodeLayoutEngine=new cr(this.font)),this.unicodeLayoutEngine.positionGlyphs(n,t)),t}},{key:'getAvailableFeatures',value:function(){return[]}}]),n}(),dt=function(){function n(){f(this,n);this.commands=[];this._bbox=null;this._cbox=null}return e(n,[{key:'toFunction',value:function(){var n=this.commands.map(function(n){return'  ctx.'+n.command+'('+n.args.join(', ')+');'});return new Function('ctx',n.join('\n'))}},{},{key:'cbox',get:function(){var r,t,u,i,n;if(!this._cbox){for(r=new nt,t=0,u=Object.keys(this.commands);t<u.length;t++)for(i=this.commands[t],n=0;n<i.args.length;n+=2)r.addPoint(i.args[n],i.args[n+1]);this._cbox=it(r)}return this._cbox}},{key:'bbox',get:function(){var r,d,i,n,l,k,a,v;if(this._bbox)return this._bbox;var t=new nt,e=0,o=0,u=function(n){return Math.pow(1-n,3)*p[r]+3*Math.pow(1-n,2)*n*w[r]+3*(1-n)*Math.pow(n,2)*g[r]+Math.pow(n,3)*ot[r]};for(r=0,d=Object.keys(this.commands);r<d.length;r++){i=this.commands[d[r]];switch(i.command){case'moveTo':case'lineTo':var tt=at(i.args,2),rt=tt[0],ut=tt[1];t.addPoint(rt,ut);e=rt;o=ut;break;case'quadraticCurveTo':case'bezierCurveTo':if(i.command==='quadraticCurveTo')var y=at(i.args,4),ft=y[0],et=y[1],s=y[2],h=y[3],st=e+2/3*(ft-e),ht=o+2/3*(et-o),ct=s+2/3*(ft-s),lt=h+2/3*(et-h);else var f=at(i.args,6),st=f[0],ht=f[1],ct=f[2],lt=f[3],s=f[4],h=f[5];t.addPoint(s,h);var p=[e,o],w=[st,ht],g=[ct,lt],ot=[s,h];for(n=0;n<=1;n++){var c=6*p[n]-12*w[n]+6*g[n],b=-3*p[n]+9*w[n]-9*g[n]+3*ot[n],r=n;if(i=3*w[n]-3*p[n],b===0){if(c===0)continue;l=-i/c;0<l&&l<1&&(n===0?t.addPoint(u(l),t.maxY):n===1&&t.addPoint(t.maxX,u(l)));continue}(k=Math.pow(c,2)-4*i*b,k<0)||(a=(-c+Math.sqrt(k))/(2*b),0<a&&a<1&&(n===0?t.addPoint(u(a),t.maxY):n===1&&t.addPoint(t.maxX,u(a))),v=(-c-Math.sqrt(k))/(2*b),0<v&&v<1&&(n===0?t.addPoint(u(v),t.maxY):n===1&&t.addPoint(t.maxX,u(v))))}e=s;o=h}}return this._bbox=it(t)}}]),n}(),li=['moveTo','lineTo','quadraticCurveTo','bezierCurveTo','closePath'],iu=function(){var n=li[ht];dt.prototype[n]=function(){for(var i=arguments.length,r=Array(i),t=0;t<i;t++)r[t]=arguments[t];return this._bbox=this._cbox=null,this.commands.push({command:n,args:r}),this}};for(ht=0;ht<li.length;ht++)iu();b=['.notdef','.null','nonmarkingreturn','space','exclam','quotedbl','numbersign','dollar','percent','ampersand','quotesingle','parenleft','parenright','asterisk','plus','comma','hyphen','period','slash','zero','one','two','three','four','five','six','seven','eight','nine','colon','semicolon','less','equal','greater','question','at','A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z','bracketleft','backslash','bracketright','asciicircum','underscore','grave','a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z','braceleft','bar','braceright','asciitilde','Adieresis','Aring','Ccedilla','Eacute','Ntilde','Odieresis','Udieresis','aacute','agrave','acircumflex','adieresis','atilde','aring','ccedilla','eacute','egrave','ecircumflex','edieresis','iacute','igrave','icircumflex','idieresis','ntilde','oacute','ograve','ocircumflex','odieresis','otilde','uacute','ugrave','ucircumflex','udieresis','dagger','degree','cent','sterling','section','bullet','paragraph','germandbls','registered','copyright','trademark','acute','dieresis','notequal','AE','Oslash','infinity','plusminus','lessequal','greaterequal','yen','mu','partialdiff','summation','product','pi','integral','ordfeminine','ordmasculine','Omega','ae','oslash','questiondown','exclamdown','logicalnot','radical','florin','approxequal','Delta','guillemotleft','guillemotright','ellipsis','nonbreakingspace','Agrave','Atilde','Otilde','OE','oe','endash','emdash','quotedblleft','quotedblright','quoteleft','quoteright','divide','lozenge','ydieresis','Ydieresis','fraction','currency','guilsinglleft','guilsinglright','fi','fl','daggerdbl','periodcentered','quotesinglbase','quotedblbase','perthousand','Acircumflex','Ecircumflex','Aacute','Edieresis','Egrave','Iacute','Icircumflex','Idieresis','Igrave','Oacute','Ocircumflex','apple','Ograve','Uacute','Ucircumflex','Ugrave','dotlessi','circumflex','tilde','macron','breve','dotaccent','ring','cedilla','hungarumlaut','ogonek','caron','Lslash','lslash','Scaron','scaron','Zcaron','zcaron','brokenbar','Eth','eth','Yacute','yacute','Thorn','thorn','minus','multiply','onesuperior','twosuperior','threesuperior','onehalf','onequarter','threequarters','franc','Gbreve','gbreve','Idotaccent','Scedilla','scedilla','Cacute','cacute','Ccaron','ccaron','dcroat'];var ai=(o=function(){function n(t,i,r){f(this,n);this.id=t;this.codePoints=i;this._font=r;this.isMark=this.codePoints.every(p.isMark);this.isLigature=this.codePoints.length>1}return e(n,[{key:'_getPath',value:function(){return new dt}},{key:'_getCBox',value:function(){return this.path.cbox}},{key:'_getBBox',value:function(){return this.path.bbox}},{key:'_getTableMetrics',value:function(n){if(this.id<n.metrics.length)return n.metrics.get(this.id);var t=n.metrics.get(n.metrics.length-1);return{advance:t?t.advance:0,bearing:n.bearings.get(this.id-n.metrics.length)||0}}},{key:'_getMetrics',value:function(n){var u,f;if(this._metrics)return this._metrics;var r=this._getTableMetrics(this._font.hmtx),e=r.advance,o=r.bearing,t=void 0;if((typeof n=='undefined'||n===null)&&(n=this.cbox),(t=this._font['OS/2'])&&t.version>0)u=Math.abs(t.typoAscender-t.typoDescender),f=t.typoAscender-n.maxY;else var i=this._font.hhea,u=Math.abs(i.ascent-i.descent),f=i.ascent-n.maxY;return this._metrics={advanceWidth:e,advanceHeight:u,leftBearing:o,topBearing:f}}},{key:'_getName',value:function(){var n=this._font.post,t;if(!n)return null;switch(n.version){case 1:return b[this.id];case 2:return(t=n.glyphNameIndex[this.id],t<b.length)?b[t]:n.names[t-b.length];case 2.5:return b[this.id+n.offsets[this.id]];case 4:return String.fromCharCode(n.map[this.id])}}},{key:'cbox',get:function(){return this._getCBox()}},{key:'bbox',get:function(){return this._getBBox()}},{key:'path',get:function(){return this._getPath()}},{key:'advanceWidth',get:function(){return this._getMetrics().advanceWidth}},{key:'advanceHeight',get:function(){return this._getMetrics().advanceHeight}},{key:'ligatureCaretPositions',get:function(){}},{key:'name',get:function(){return this._getName()}}]),n}(),(k(o.prototype,'cbox',[v],a(o.prototype,'cbox'),o.prototype),k(o.prototype,'bbox',[v],a(o.prototype,'bbox'),o.prototype),k(o.prototype,'path',[v],a(o.prototype,'path'),o.prototype),k(o.prototype,'advanceWidth',[v],a(o.prototype,'advanceWidth'),o.prototype),k(o.prototype,'advanceHeight',[v],a(o.prototype,'advanceHeight'),o.prototype),k(o.prototype,'name',[v],a(o.prototype,'name'),o.prototype)),o),vi=new u.Struct({numberOfContours:u.int16,xMin:u.int16,yMin:u.int16,xMax:u.int16,yMax:u.int16}),ru=1,uu=2,fu=4,eu=8,ou=16,su=32,hu=1,cu=8,yi=32,lu=64,au=128,vu=256,w=function(){function n(t,i){var r=arguments.length<=2||arguments[2]===undefined?0:arguments[2],u=arguments.length<=3||arguments[3]===undefined?0:arguments[3];f(this,n);this.onCurve=t;this.endContour=i;this.x=r;this.y=u}return e(n,[{key:'copy',value:function(){return new n(this.onCurve,this.endContour,this.x,this.y)}}]),n}(),pi=function pi(n,t,i){f(this,pi);this.glyphID=n;this.dx=t;this.dy=i;this.pos=0;this.scale=this.xScale=this.yScale=this.scale01=this.scale10=null},yu=function(n){function t(){return f(this,t),ni(this,(t.__proto__||lt(t)).apply(this,arguments))}return ti(t,n),e(t,[{key:'_getCBox',value:function(){var t=this._font._getTableStream('glyf'),n,i;return t.pos+=this._font.loca.offsets[this.id],n=vi.decode(t),i=new nt(n.xMin,n.yMin,n.xMax,n.yMax),it(i)}},{key:'_parseGlyphCoord',value:function(n,t,i,r){var u;return i?(u=n.readUInt8(),r||(u=-u),u+=t):u=r?t:t+n.readInt16BE(),u}},{key:'_decode',value:function(){var i=this._font.loca.offsets[this.id],u=this._font.loca.offsets[this.id+1],n,r,t;return i===u?null:(n=this._font._getTableStream('glyf'),n.pos+=i,r=n.pos,t=vi.decode(n),t.numberOfContours>0?this._decodeSimple(t,n):t.numberOfContours<0&&this._decodeComposite(t,n,r),t)}},{key:'_decodeSimple',value:function(n,t){var c,o,l,s,h,i,r;n.points=[];for(var e=new u.Array(u.uint16,n.numberOfContours).decode(t),v=new u.Array(u.uint8,u.uint16).decode(t),f=[],a=e[e.length-1]+1;f.length<a;)if(r=t.readUInt8(),f.push(r),r&eu)for(c=t.readUInt8(),o=0;o<c;o++)f.push(r);for(i=0;i<f.length;i++)r=f[i],l=new w(!!(r&ru),e.indexOf(i)>=0,0,0),n.points.push(l);for(s=0,i=0;i<f.length;i++)r=f[i],n.points[i].x=s=this._parseGlyphCoord(t,s,r&uu,r&ou);for(h=0,i=0;i<f.length;i++)r=f[i],n.points[i].y=h=this._parseGlyphCoord(t,h,r&fu,r&su);return}},{key:'_decodeComposite',value:function(n,t){var h=arguments.length<=2||arguments[2]===undefined?0:arguments[2],u,r,o,s,f,e,i;for(n.components=[],u=!1,r=yi;r&yi;)r=t.readUInt16BE(),o=t.pos-h,s=t.readUInt16BE(),u||(u=(r&vu)!=0),r&hu?(f=t.readInt16BE(),e=t.readInt16BE()):(f=t.readInt8(),e=t.readInt8()),i=new pi(s,f,e),i.pos=o,i.scaleX=i.scaleY=1,i.scale01=i.scale10=0,r&cu?i.scaleX=i.scaleY=(t.readUInt8()<<24|t.readUInt8()<<16)/1073741824:r&lu?(i.scaleX=(t.readUInt8()<<24|t.readUInt8()<<16)/1073741824,i.scaleY=(t.readUInt8()<<24|t.readUInt8()<<16)/1073741824):r&au&&(i.scaleX=(t.readUInt8()<<24|t.readUInt8()<<16)/1073741824,i.scale01=(t.readUInt8()<<24|t.readUInt8()<<16)/1073741824,i.scale10=(t.readUInt8()<<24|t.readUInt8()<<16)/1073741824,i.scaleY=(t.readUInt8()<<24|t.readUInt8()<<16)/1073741824),n.components.push(i);return u}},{key:'_getPhantomPoints',value:function(n){var u=this._getCBox(!0);this._metrics==null&&(this._metrics=ai.prototype._getMetrics.call(this,u));var t=this._metrics,f=t.advanceWidth,e=t.advanceHeight,i=t.leftBearing,r=t.topBearing;return[new w(!1,!0,n.xMin-i,0),new w(!1,!0,n.xMin-i+f,0),new w(!1,!0,0,n.yMax+r),new w(!1,!0,0,n.yMax+r+e)]}},{key:'_getContours',value:function(){var t=this._decode(),r,u,s,f,c,i,h,e,o,n;if(!t)return[];if(t.numberOfContours<0)for(i=[],r=0,u=Object.keys(t.components);r<u.length;r++)for(s=t.components[u[r]],f=0,c=Object.keys(t.points);f<c.length;f++)n=t.points[u[f]],i.push(new w(n.onCurve,n.endContour,n.x+s.dx,n.y+s.dy));else i=t.points;for(h=[],e=[],o=0;o<i.length;o++)n=i[o],e.push(n),n.endContour&&(h.push(e),e=[]);return h}},{key:'_getMetrics',value:function(){if(this._metrics)return this._metrics;var n=this._getCBox(!0);return ki(t.prototype.__proto__||lt(t.prototype),'_getMetrics',this).call(this,n),this._metrics}},{key:'_getPath',value:function(){for(var e,t,r,l,a,i,h=this._getContours(),u=new dt,s=0;s<h.length;s++){var f=h[s],n=f[0],o=f[f.length-1],c=0;for(n.onCurve?(i=null,c=1):(n=o.onCurve?o:new w(!1,!1,(n.x+o.x)/2,(n.y+o.y)/2),i=n),u.moveTo(n.x,n.y),e=c;e<f.length;e++)if(t=f[e],r=e===0?n:f[e-1],r.onCurve&&t.onCurve)u.lineTo(t.x,t.y);else if(r.onCurve&&!t.onCurve)i=t;else if(r.onCurve||t.onCurve)if(!r.onCurve&&t.onCurve)u.quadraticCurveTo(i.x,i.y,t.x,t.y),i=null;else throw new Error("Unknown TTF path state");else l=(r.x+t.x)/2,a=(r.y+t.y)/2,u.quadraticCurveTo(r.x,r.y,l,a),i=t;n!==o&&(i?u.quadraticCurveTo(i.x,i.y,n.x,n.y):u.lineTo(n.x,n.y))}return u.closePath(),u}}]),t}(ai),pu=function(){function n(t){f(this,n);this.font=t;this.glyphs=[];this.mapping={};this.includeGlyph(0)}return e(n,[{key:'includeGlyph',value:function(n){return(typeof n=='undefined'?'undefined':rt(n))==='object'&&(n=n.id),this.mapping[n]==null&&(this.glyphs.push(n),this.mapping[n]=this.glyphs.length-1),this.mapping[n]}},{key:'encodeStream',value:function(){var t=this,n=new u.EncodeStream;return i.nextTick(function(){return t.encode(n),n.end()}),n}}]),n}(),wu=function(n){function t(){return f(this,t),ni(this,(t.__proto__||lt(t)).apply(this,arguments))}return ti(t,n),e(t,[{key:'_addGlyph',value:function(n){var i=this.font.getGlyph(n)._decode(),o=this.font.loca.offsets[n],h=this.font.loca.offsets[n+1],s=this.font._getTableStream('glyf'),t,u,f,e;if(s.pos+=o,t=s.readBuffer(h-o),i&&i.numberOfContours<0)for(t=new r(t),u=0,f=Object.keys(i.components);u<f.length;u++)e=i.components[f[u]],n=this.includeGlyph(e.glyphID),t.writeUInt16BE(n,e.pos);return this.glyf.push(t),this.loca.offsets.push(this.offset),n<this.font.hmtx.metrics.length?this.hmtx.metrics.push(this.font.hmtx.metrics.get(n)):this.hmtx.metrics.push({advance:this.font.hmtx.metrics.get(this.font.hmtx.metrics.length-1).advance,bearing:this.font.hmtx.bearings.get(n-this.font.hmtx.metrics.length)}),this.offset+=t.length,this.glyf.length-1}},{key:'encode',value:function(n){var t,i,r,u;for(this.glyf=[],this.offset=0,this.loca={offsets:[]},this.hmtx={metrics:[],bearings:[]},t=0;t<this.glyphs.length;)this._addGlyph(this.glyphs[t++]);i=vt(this.font.maxp);i.numGlyphs=this.glyf.length;this.loca.offsets.push(this.offset);h.loca.preEncode.call(this.loca);r=vt(this.font.head);r.indexToLocFormat=this.loca.version;u=vt(this.font.hhea);u.numberOfMetrics=this.hmtx.metrics.length;g.encode(n,{tables:{head:r,hhea:u,loca:this.loca,maxp:i,'cvt ':this.font['cvt '],prep:this.font.prep,glyf:this.glyf,hmtx:this.hmtx,fpgm:this.font.fpgm}})}}]),t}(pu),c;var tt=(c=function(){function n(t){var u=arguments.length<=1||arguments[1]===undefined?null:arguments[1],i,r;f(this,n);this.stream=t;this._directoryPos=this.stream.pos;this._tables={};this._glyphs={};this._decodeDirectory();for(i in this.directory.tables)r=this.directory.tables[i],h[i]&&r.length>0&&gt(this,i,{get:this._getTable.bind(this,r)})}return e(n,null,[{key:'probe',value:function(n){var t=n.toString('ascii',0,4);return t==='true'||t==='OTTO'||t===String.fromCharCode(0,1,0,0)}}]),e(n,[{key:'_getTable',value:function(n){if(!(n.tag in this._tables))try{this._tables[n.tag]=this._decodeTable(n)}catch(t){y.logErrors&&(console.error('Error decoding table '+n.tag),console.error(t.stack))}return this._tables[n.tag]}},{key:'_getTableStream',value:function(n){var t=this.directory.tables[n];return t?(this.stream.pos=t.offset,this.stream):null}},{key:'_decodeDirectory',value:function(){return this.directory=g.decode(this.stream,{_startOffset:0})}},{key:'_decodeTable',value:function(n){var t=this.stream.pos,i=this._getTableStream(n.tag),r=h[n.tag].decode(i,this,n.length);return this.stream.pos=t,r}},{key:'getName',value:function(n){var i=arguments.length<=1||arguments[1]===undefined?'English':arguments[1],t=this.name.records[n];return t?t[i]:null}},{key:'hasGlyphForCodePoint',value:function(n){return!!this._cmapProcessor.lookup(n)}},{key:'glyphForCodePoint',value:function(n){return this.getGlyph(this._cmapProcessor.lookup(n),[n])}},{key:'glyphsForString',value:function(n){for(var u=[],f=n.length,i=0,t,r;i<f;)t=n.charCodeAt(i++),55296<=t&&t<=56319&&i<f&&(r=n.charCodeAt(i),56320<=r&&r<=57343&&(i++,t=((t&1023)<<10)+(r&1023)+65536)),u.push(this.glyphForCodePoint(t));return u}},{key:'layout',value:function(n,t,i,r){return this._layoutEngine.layout(n,t,i,r)}},{key:'_getBaseGlyph',value:function(n){var t=arguments.length<=1||arguments[1]===undefined?[]:arguments[1];return this._glyphs[n]||this.directory.tables.glyf&&(this._glyphs[n]=new yu(n,t,this)),this._glyphs[n]||null}},{key:'getGlyph',value:function(n){var t=arguments.length<=1||arguments[1]===undefined?[]:arguments[1];return this._glyphs[n]||this._getBaseGlyph(n,t),this._glyphs[n]||null}},{key:'createSubset',value:function(){return new wu(this)}},{key:'getVariation',value:function(t){var i,r;if(!this.directory.tables.fvar||!this.directory.tables.gvar||!this.directory.tables.glyf)throw new Error('Variations require a font with the fvar, gvar, and glyf tables.');if(typeof t=='string'&&(t=this.namedVariations[t]),(typeof t=='undefined'?'undefined':rt(t))!=='object')throw new Error('Variation settings must be either a variation name or settings object.');return i=new u.DecodeStream(this.stream.buffer),i.pos=this._directoryPos,r=new n(i),r._tables=this._tables,r}},{key:'getFont',value:function(n){return this.getVariation(n)}},{key:'postscriptName',get:function(){var n=this.name.records.postscriptName,t=bi(n)[0];return n[t]}},{key:'fullName',get:function(){return this.getName('fullName')}},{key:'familyName',get:function(){return this.getName('fontFamily')}},{key:'subfamilyName',get:function(){return this.getName('fontSubfamily')}},{key:'copyright',get:function(){return this.getName('copyright')}},{key:'version',get:function(){return this.getName('version')}},{key:'ascent',get:function(){return this.hhea.ascent}},{key:'descent',get:function(){return this.hhea.descent}},{key:'lineGap',get:function(){return this.hhea.lineGap}},{key:'underlinePosition',get:function(){return this.post.underlinePosition}},{key:'underlineThickness',get:function(){return this.post.underlineThickness}},{key:'italicAngle',get:function(){return this.post.italicAngle}},{key:'capHeight',get:function(){var n=this['OS/2'];return n?n.capHeight:this.ascent}},{key:'xHeight',get:function(){var n=this['OS/2'];return n?n.xHeight:0}},{key:'numGlyphs',get:function(){return this.maxp.numGlyphs}},{key:'unitsPerEm',get:function(){return this.head.unitsPerEm}},{key:'bbox',get:function(){return it(new nt(this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax))}},{key:'_cmapProcessor',get:function(){return new ei(this.cmap)}},{key:'characterSet',get:function(){return this._cmapProcessor.getCharacterSet()}},{key:'_layoutEngine',get:function(){return new tu(this)}},{key:'availableFeatures',get:function(){return this._layoutEngine.getAvailableFeatures()}},{key:'variationAxes',get:function(){return{}}},{key:'namedVariations',get:function(){return{}}}]),n}(),(ct(c.prototype,'bbox',[v],a(c.prototype,'bbox'),c.prototype),ct(c.prototype,'_cmapProcessor',[v],a(c.prototype,'_cmapProcessor'),c.prototype),ct(c.prototype,'characterSet',[v],a(c.prototype,'characterSet'),c.prototype),ct(c.prototype,'_layoutEngine',[v],a(c.prototype,'_layoutEngine'),c.prototype)),c),bu=new u.VersionedStruct(u.uint32,{65536:{numFonts:u.uint32,offsets:new u.Array(u.uint32,'numFonts')},131072:{numFonts:u.uint32,offsets:new u.Array(u.uint32,'numFonts'),dsigTag:u.uint32,dsigLength:u.uint32,dsigOffset:u.uint32}}),ku=function(){function n(t){if(f(this,n),this.stream=t,t.readString(4)!=='ttcf')throw new Error('Not a TrueType collection');this.header=bu.decode(t)}return e(n,null,[{key:'probe',value:function(n){return n.toString('ascii',0,4)==='ttcf'}}]),e(n,[{key:'getFont',value:function(n){for(var e,r,f,t=0,i=Object.keys(this.header.offsets);t<i.length;t++)if(e=this.header.offsets[i[t]],r=new u.DecodeStream(this.stream.buffer),r.pos=e,f=new tt(r),f.postscriptName===n)return f;return null}},{key:'fonts',get:function(){for(var f,t,i=[],n=0,r=Object.keys(this.header.offsets);n<r.length;n++)f=this.header.offsets[r[n]],t=new u.DecodeStream(this.stream.buffer),t.pos=f,i.push(new tt(t));return i}}]),n}(),du=new u.String(u.uint8),af=new u.Struct({len:u.uint32,buf:new u.Buffer('len')}),gu=new u.Struct({id:u.uint16,nameOffset:u.int16,attr:u.uint8,dataOffset:u.uint24,handle:u.uint32}),nf=new u.Struct({name:new u.String(4),maxTypeIndex:u.uint16,refList:new u.Pointer(u.uint16,new u.Array(gu,function(n){return n.maxTypeIndex+1}),{type:'parent'})}),tf=new u.Struct({length:u.uint16,types:new u.Array(nf,function(n){return n.length+1})}),rf=new u.Struct({reserved:new u.Reserved(u.uint8,24),typeList:new u.Pointer(u.uint16,tf),nameListOffset:new u.Pointer(u.uint16,'void')}),wi=new u.Struct({dataOffset:u.uint32,map:new u.Pointer(u.uint32,rf),dataLength:u.uint32,mapLength:u.uint32}),uf=function(){function n(t){var u,o,i,e,s,r;for(f(this,n),this.stream=t,this.header=wi.decode(this.stream),u=0,o=Object.keys(this.header.map.typeList.types);u<o.length;u++){for(i=this.header.map.typeList.types[o[u]],e=0,s=Object.keys(i.refList);e<s.length;e++)r=i.refList[s[e]],r.nameOffset>=0?(this.stream.pos=r.nameOffset+this.header.map.nameListOffset,r.name=du.decode(this.stream)):r.name=null;i.name==='sfnt'&&(this.sfnt=i)}}return e(n,null,[{key:'probe',value:function(n){var e=new u.DecodeStream(n),i,t,r,f;try{i=wi.decode(e)}catch(o){return!1}for(t=0,r=Object.keys(i.map.typeList.types);t<r.length;t++)if(f=i.map.typeList.types[r[t]],f.name==='sfnt')return!0;return!1}}]),e(n,[{key:'getFont',value:function(n){var t,i;if(!this.sfnt)return null;for(t=0,i=Object.keys(this.sfnt.refList);t<i.length;t++){var f=this.sfnt.refList[i[t]],e=this.header.dataOffset+f.dataOffset+4,o=new u.DecodeStream(this.stream.buffer.slice(e)),r=new tt(o);if(r.postscriptName===n)return r}return null}},{key:'fonts',get:function(){for(var t=[],n=0,i=Object.keys(this.sfnt.refList);n<i.length;n++){var r=this.sfnt.refList[i[n]],f=this.header.dataOffset+r.dataOffset+4,e=new u.DecodeStream(this.stream.buffer.slice(f));t.push(new tt(e))}return t}}]),n}();y.registerFormat(tt);y.registerFormat(ku);y.registerFormat(uf);t.localExports=y}).call(this,n('_process'),n("buffer").Buffer)},{_process:188,"babel-runtime/core-js/get-iterator":24,"babel-runtime/core-js/object/assign":26,"babel-runtime/core-js/object/define-properties":28,"babel-runtime/core-js/object/define-property":29,"babel-runtime/core-js/object/freeze":30,"babel-runtime/core-js/object/get-own-property-descriptor":31,"babel-runtime/core-js/object/get-prototype-of":32,"babel-runtime/core-js/object/keys":33,"babel-runtime/helpers/classCallCheck":37,"babel-runtime/helpers/createClass":38,"babel-runtime/helpers/get":39,"babel-runtime/helpers/inherits":40,"babel-runtime/helpers/possibleConstructorReturn":41,"babel-runtime/helpers/slicedToArray":42,"babel-runtime/helpers/toConsumableArray":43,"babel-runtime/helpers/typeof":44,buffer:60,clone:61,restructure:199,"restructure/src/utils":215,"tiny-inflate":218,"unicode-properties":220,"unicode-trie":221}],166:[function(n,t,i){i.read=function(n,t,i,r,u){var f,o,l=u*8-r-1,a=(1<<l)-1,v=a>>1,e=-7,s=i?u-1:0,c=i?-1:1,h=n[t+s];for(s+=c,f=h&(1<<-e)-1,h>>=-e,e+=l;e>0;f=f*256+n[t+s],s+=c,e-=8);for(o=f&(1<<-e)-1,f>>=-e,e+=r;e>0;o=o*256+n[t+s],s+=c,e-=8);if(f===0)f=1-v;else{if(f===a)return o?NaN:(h?-1:1)*Infinity;o=o+Math.pow(2,r);f=f-v}return(h?-1:1)*o*Math.pow(2,f-r)};i.write=function(n,t,i,r,u,f){var e,o,s,l=f*8-u-1,a=(1<<l)-1,h=a>>1,y=u===23?Math.pow(2,-24)-Math.pow(2,-77):0,c=r?0:f-1,v=r?1:-1,p=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===Infinity?(o=isNaN(t)?1:0,e=a):(e=Math.floor(Math.log(t)/Math.LN2),t*(s=Math.pow(2,-e))<1&&(e--,s*=2),t+=e+h>=1?y/s:y*Math.pow(2,1-h),t*s>=2&&(e++,s/=2),e+h>=a?(o=0,e=a):e+h>=1?(o=(t*s-1)*Math.pow(2,u),e=e+h):(o=t*Math.pow(2,h-1)*Math.pow(2,u),e=0));u>=8;n[i+c]=o&255,c+=v,o/=256,u-=8);for(e=e<<u|o,l+=u;l>0;n[i+c]=e&255,c+=v,e/=256,l-=8);n[i+c-v]|=p*128}},{}],167:[function(n,t){t.localExports=typeof Object.create=='function'?function(n,t){n.super_=t;n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}})}:function(n,t){n.super_=t;var i=function(){};i.prototype=t.prototype;n.prototype=new i;n.prototype.constructor=n}},{}],168:[function(n,t){
/*!
                         * Determine if an object is a Buffer
                         *
                         * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
                         * @license  MIT
                         */
function i(n){return!!n.constructor&&typeof n.constructor.isBuffer=='function'&&n.constructor.isBuffer(n)}function r(n){return typeof n.readFloatLE=='function'&&typeof n.slice=='function'&&i(n.slice(0,0))}t.localExports=function(n){return n!=null&&(i(n)||r(n)||!!n._isBuffer)}},{}],169:[function(n,t){var i={}.toString;t.localExports=Array.isArray||function(n){return i.call(n)=='[object Array]'}},{}],172:[function(n,t,i){(function(){var n,t,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st,ht,ct,lt,at,vt,yt,pt,wt,bt,kt,dt;i.OP=st=0;i.CL=h=1;i.CP=l=2;i.QU=lt=3;i.GL=y=4;i.NS=et=5;i.EX=v=6;i.SY=wt=7;i.IS=nt=8;i.PR=ct=9;i.PO=ht=10;i.NU=ot=11;i.AL=t=12;i.HL=b=13;i.ID=d=14;i.IN=g=15;i.HY=k=16;i.BA=u=17;i.BB=f=18;i.B2=r=19;i.ZW=dt=20;i.CM=c=21;i.WJ=bt=22;i.H2=p=23;i.H3=w=24;i.JL=tt=25;i.JV=rt=26;i.JT=it=27;i.RI=at=28;i.AI=n=29;i.BK=e=30;i.CB=o=31;i.CJ=s=32;i.CR=a=33;i.LF=ut=34;i.NL=ft=35;i.SA=vt=36;i.SG=yt=37;i.SP=pt=38;i.XX=kt=39}).call(this)},{}],173:[function(n,t){(function(){var a,c,l,f,o,v,y,p,s,w,ot,b,e,k,h,d,st,g,nt,r,tt,it,rt,ht,ut,ft,i,u,et;tt=n('unicode-trie');et=n("buffer").Buffer;ut=new tt(new et("AA4IAAAAAAAAAf2g3VZ7PNP7//+ebiriUKKwnRJyieRSxrZzoiS3IypilJ3KbW4rWjM7HURuK9cuNKUyHXeOhbGkTKGR+4ZhMWFbjA27fH7U+f31ezx+v/7+Pf95f96Px/N1eb5ez8f78eGOwO8yBn+iRSQBb4PFc2MpJuMfg73V9I5mfUfHsyfPvqE3NeX3M99whH07I8PY752rV77Lhm37Hl/EP15RCFD7IlqUnXJNetcDzz1t1lH5erf1nFusm8HIk78MNHt/t9/oXNN1Ug6x2EX7j23q4dZNxi/uX0rfnON5KW1H7eAlwoLWCqlgu5xFb/evOw/VdP+mBl00ff2zdqrprRT9K/eRt3TOeSKRIY2Xy0E3hgslGZEFP5bVcMHtN1XFIFLhLd0L5U25dZ1IOUT1MLuS8NNt9Uupd1YaxTMN6/mVKxQ89wSHpKKOr3ctHVNU9aC3/db5LS6gEHmt2xYcd3ffyVb1na/ub+k4TNvgiEywsCynDpRebRdoCUdhwGtY4b8tdYJB/cHzlDSX1LLu9oLvlbb5OJm2aMobVS58SPzemYZQXtVjvODKmmCz4/KowrjQU0o45J/7TqojN6i5fytRUtG6xXuuwn7l0KTd5rPHSM89vul1IQmET1Bx9WHspS4l9YsB67pDLzJ7yF++R1FQl+IORcnNucnao6NJSW0nPHbY263hQMLemc29v+4s1WZMF6SAVtXVbVPT/2e1ujcW5WtDczm147q5v3n3cQ2tdfUbFUzfrIv3v22129N/TfugfyL0A/8g2ID05rc1ZpedPOpa1wklnMLht1uRTmP+yXumPC/eUe0fvJiiJTwInIL9IDE7xuP3hLi9MwEFd3b/2+fFJOXW+6/f7Vp3lYphSWXzN2u5/mhGux8lpv1gaZn1/+3VtQ0MFvrogNd3fBuyN+BpgiVk+mkibIu6f7ypbrjpOwW0UcXb7cEhFe8UsVl43R8l7vtBIvwuYfvL8N9ttXaYw+2oeliHUqWooVH8vf3B+LYXccY3p4kBa17b9+8Uflp3ZqvV96WKhAS4HwwnUmVROETH53i2YdN4SsuRpgmNJsmH70fc5Zh3R2NW3ny/ZX6/qbUvJ4eFd0hv8h9LAB7wyJ42bBvdiQulDZtFdUpHOkcujTaOjEUerZh7iCUB2Py6gS8PxdnpdSLOQ2x4el1tRKdFErJsp48ZK7qDMmIhCKN1FCLMwFEdlH4LgTutwwxh5netg0K3EByldbT4mBEjOyhtFgINWof7Wkx4B6XZgoOn5dEQaFiUExDtDKCn0YhXg8Pgcnvle96TMTVwWiWXB/Pd3Cfmc9IO/iOGh5bH4j03Oofx4qLi063sEUEAVsRaMk06/Hb6T1PdqTxImmmLZMNuvV5mxvVzozevuHwb7R5wNKkgqDX56JUgktq1OfOD53eWxk8G443S0xMg3Fgbwrpv1JHxlUlJST4da08SGI+XEXEUSV7hqSlwpvfFO9nnr+7TCClvUxRrBIgXim5EE9PL/VZ20cW4bPt1W20NqX4v6N/GmNb8b7eyd+m+yOMVyfUkrd7HqSj/73i05mrM0z49MQv4ZUjCoU8CWD8DrbPN5csBx7b1O8z43UjXu5FmTTGnNxIxgGzX8oi85J1NleHz89saD/vK2Sgd4pT+IRx3VetQ4GBRXpbtfMdVEVNbzUIXUBYIbGwsuGNpKw3/KcePasjQgLqbPnQxEA8F/uEfn90C3XYo9/RKOlmcR/ZbjFFWvhf8ma73F3oL3mr5IZK5dXuZgNdWnxtejBk9dPPmBCTCRb+lmMtDyNsjlAZ5hP3+9iDaHuU639G8148MPU7j8wyHsydYtkb1p7+MvxLCJlbQghtz0h7w9gPlsK9HfokB6zjnwwkXG/BF9+zhTjeBmctjmFdOtbMnQMs4yHsfgy/8Qt9Zqm4g8B5NRAmbHR+bXUvz6YjCIU5H081IW9mcvOsqvjTr88xj9JPZhoErmSXRzsj5C+1anE9E+1cHmNexd2Dqvh8v+HFIrsCSKvsMbTKc2CCsxATApTiovViOjAkw0muk/gyDvUDhgVXzIKaMzj9NI1gRnkgF4SSwpqF7DsarN0J3NnYw9G8KEx6stZkp9plsPyJjty7poxX/wTfREmwY8Pexel821jKnVbj4MsGvFdCePCATwpHQAZt5JAi4lLtXHNieWSslLBU+Y0/0M1mt83Dnhj8Cga+wKw82DgeJaX2i4oze6Aw2vl8I72dBIwYSxiPm7zPgd9Af1Yx1HKgK4oVT8SKxMVtIqXeBuEhFSyC0lNOdE8hxcEMtGx9Yri66xVGt1lyySi+60vi18cXYq9RIngjTQpydBzfiJ1+zKyNVh+rKJg22xYKyw8TqxL6w54lsNx8tPa5Gc6WySKTpmrYfJP4EoraIrzRIanVKqa+WUGDHlzlSn3Dq8DGmlN6KMYtpDJ+2+aVoAK1CaOSZ1AGj1EiSDMXHM+ohlmHVOjZUJwOCxHaAgeEU4fiTmkPjIj5IgIXHMuHyRmKk3nIsvZgP/tyHl4iUJQtUeanNMI24u0SCAXuH5I7nDMb4Wb8ENudKZY+X6hf636axgqmyjz1PZBxqa1QDY87RF3eAC/fKx8ruRT3eqfeSMMgjc3iCQB1o9DMr2aZyb4PnPWWXq3KgQeDkLp4XY3pYREie8BGkBD/iT1mxthMazPFXVc4nDjCADBD2Ux58IYBKYp8ZpoeAacldLDqmrOGsDCsfQdvE6ula8NOeMZHUgx2pQBlV73ki3xSvUqkZU8pB/UmGAtYDhYyP7TiMXYWC70cz7bJQ3/tV2RvLoYurxxKnIM2TxP39zhBXHLjSJYNvIxSZLONSx/kBTlWyYk7PWOyI1s8ylznzp/3QAYu4TpGrywPBgXylFbbOsJwiLtb84KtRxJvrf0lNOoUpM11NdriwoF5RDVglNzeq0V2oL8/kRt6JoubA9p7nhQ+1wFNWGwF1GV5+IvLpqruPFmjGMbHVM2M+ozZ2IocgtXkvzOzvfDKJXoxDo+CB+ToIuMmA5bnquXYNdhYKC3zQK8POjsb/8QCvigAJOOiOQ2V9sxuyxrOOyA0Zu2YcAUWWlbi3360xeTbk0rtQXC5PtZyV6aISn83+0bkDTGXPTHtCb5M5gMzZySVHEJGDS/27Bd17OSeKMIOOlZ5onNK83OQhBTP5jimzKRFvkGYvXVk0CizIJh6vphkdsbTrbDqJa5et91Ih8UCxobd06mE8U+Bw6mt0BCuRKzUkfr2xA014ujBbsfXyMWFAQ1nIHJphzxSffQY5dBoTkqvt6kZ7530D0J7rwg0WjHFWpdjXdMf3MPyZaw7AR13eaDF3gekRL6aNW3mdSYQdVZHk2RYvimNBj8Wb4UqR05q7R5vg51NXfU54IICAePFFRvATm6wd+BWvsZXKm/oJ/VBh/dVbnOal9Duz8EBhD2Dk/PWqr0aMJZ0AneKesaItZM6JKlk4Y+m8mQH9uMTSTcpxB8aJ4utaForJ+7lWEvTJWpHoPnJAXNuem821usuV0m3daFEXyFEAhERiFd6tmePUx1L6qayDf5Ho/mpcvmKodNXak+g28GQgUrKdfMKD+XnEF7PY84yoRVWVifatiqozZNI/uZGcocSFZextIzxV/SzgpVNKDI91o1NpQpGKoIgC7G5tr5jPJySuErnzwcg5GsrkffSmPIgMNdCnM2PBXfLOkKmNRjFWlch/c/nH3zMU3aRm3Mq2KMAg+QAnr0RqMhe2LN6s74r54P54IavIZvL//edo6Wdpzie61far0siNb8SLru2jnkLIVTecUI5ylOBAcZlnOLY3yEKzReU+p/EU+epG8MDUc8ziLB930sTJOqcTTUe3hLHJcgx+V21mDb7XtJMOXTKl5NvS6JFj3YZ0s5byONtJh5upTYa4MPJRZXFYAxyhTeXFHiHEWifMQl4qZdkSHFak+5erOfrke2e/vK3iZPMHUFaLkgeBRfRtQzzXoq/iOG7koCYeFFaCQRrHUBoMteBNOvnam+j6xHC/m3k0Oqm+eNP0cOSe5ro0btXghAjKnGyb2S1sPifG+upkLUHmKxHw0Q/LH/5mqRbHVvngmcbiJ6vOC7LjDK7WQ6pdJQJ8IkCuzzVGSxVjlG+bg0zphEUWY5r/IQPFnOSvEQVtgiLbFS+xwz0m0Bvx6IXvxz4l0OyytT02gbzThgcKziyRsqLyJxFU2iqxDA7OOyMroSkx134qxqiRa65NSGj/nEveNW/twJJLZvA4dyf3snPyzkTLoOWO9IbkGAn0HBlDZtUxjxEglSMnMTwit2qXFwMT3D1URkeTHS9YwhJ3XsM/l0DIiHRHXpgHvBpRZv4pNUVJzR8rmWzmG0ZQqxFNpIV4cE+Zd43UoOqZAEDXcPWNH2Qv2YQ2HDLptgcxl4pW6ZfFuVwRqmyojsbG//Rf","base64"));i=n('./classes');f=i.BK;s=i.CR;e=i.LF;h=i.NL;o=i.CB;l=i.BA;r=i.SP;it=i.WJ;r=i.SP;f=i.BK;e=i.LF;h=i.NL;a=i.AI;c=i.AL;g=i.SA;nt=i.SG;rt=i.XX;y=i.CJ;ot=i.ID;d=i.NS;ht=i.characterClasses;u=n('./pairs');w=u.DI_BRK;b=u.IN_BRK;v=u.CI_BRK;p=u.CP_BRK;st=u.PR_BRK;ft=u.pairTable;k=function(){function t(n){this.string=n;this.pos=0;this.lastPos=0;this.curClass=null;this.nextClass=null}var n,i,u;return t.prototype.nextCodePoint=function(){var n,t;return(n=this.string.charCodeAt(this.pos++),t=this.string.charCodeAt(this.pos),55296<=n&&n<=56319&&56320<=t&&t<=57343)?(this.pos++,(n-55296)*1024+(t-56320)+65536):n},i=function(n){switch(n){case a:return c;case g:case nt:case rt:return c;case y:return d;default:return n}},u=function(n){switch(n){case e:case h:return f;case o:return l;case r:return it;default:return n}},t.prototype.nextCharClass=function(n){return n==null&&(n=!1),i(ut.get(this.nextCodePoint()))},n=function(){function n(n,t){this.position=n;this.required=t!=null?t:!1}return n}(),t.prototype.nextBreak=function(){var a,c,t;for(this.curClass==null&&(this.curClass=u(this.nextCharClass()));this.pos<this.string.length;){if(this.lastPos=this.pos,c=this.nextClass,this.nextClass=this.nextCharClass(),this.curClass===f||this.curClass===s&&this.nextClass!==e)return this.curClass=u(i(this.nextClass)),new n(this.lastPos,!0);if(a=function(){switch(this.nextClass){case r:return this.curClass;case f:case e:case h:return f;case s:return s;case o:return l}}.call(this),a!=null){if(this.curClass=a,this.nextClass===o)return new n(this.lastPos);continue}t=!1;switch(ft[this.curClass][this.nextClass]){case w:t=!0;break;case b:t=c===r;break;case v:if(t=c===r,!t)continue;break;case p:if(c!==r)continue}if(this.curClass=this.nextClass,t)return new n(this.lastPos)}if(this.pos>=this.string.length)return this.lastPos<this.string.length?(this.lastPos=this.string.length,new n(this.string.length)):null},t}();t.localExports=k}).call(this)},{buffer:60,"./classes":172,"./pairs":174,"unicode-trie":221}],174:[function(n,t,i){(function(){var u,f,n,t,r;i.DI_BRK=n=0;i.IN_BRK=t=1;i.CI_BRK=u=2;i.CP_BRK=f=3;i.PR_BRK=r=4;i.pairTable=[[r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,f,r,r,r,r,r,r,r],[n,r,r,t,t,r,r,r,r,t,t,n,n,n,n,n,t,t,n,n,r,u,r,n,n,n,n,n,n],[n,r,r,t,t,r,r,r,r,t,t,t,t,t,n,n,t,t,n,n,r,u,r,n,n,n,n,n,n],[r,r,r,t,t,t,r,r,r,t,t,t,t,t,t,t,t,t,t,t,r,u,r,t,t,t,t,t,t],[t,r,r,t,t,t,r,r,r,t,t,t,t,t,t,t,t,t,t,t,r,u,r,t,t,t,t,t,t],[n,r,r,t,t,t,r,r,r,n,n,n,n,n,n,n,t,t,n,n,r,u,r,n,n,n,n,n,n],[n,r,r,t,t,t,r,r,r,n,n,n,n,n,n,n,t,t,n,n,r,u,r,n,n,n,n,n,n],[n,r,r,t,t,t,r,r,r,n,n,t,n,n,n,n,t,t,n,n,r,u,r,n,n,n,n,n,n],[n,r,r,t,t,t,r,r,r,n,n,t,t,t,n,n,t,t,n,n,r,u,r,n,n,n,n,n,n],[t,r,r,t,t,t,r,r,r,n,n,t,t,t,t,n,t,t,n,n,r,u,r,t,t,t,t,t,n],[t,r,r,t,t,t,r,r,r,n,n,t,t,t,n,n,t,t,n,n,r,u,r,n,n,n,n,n,n],[t,r,r,t,t,t,r,r,r,t,t,t,t,t,n,t,t,t,n,n,r,u,r,n,n,n,n,n,n],[t,r,r,t,t,t,r,r,r,n,n,t,t,t,n,t,t,t,n,n,r,u,r,n,n,n,n,n,n],[t,r,r,t,t,t,r,r,r,n,n,t,t,t,n,t,t,t,n,n,r,u,r,n,n,n,n,n,n],[n,r,r,t,t,t,r,r,r,n,t,n,n,n,n,t,t,t,n,n,r,u,r,n,n,n,n,n,n],[n,r,r,t,t,t,r,r,r,n,n,n,n,n,n,t,t,t,n,n,r,u,r,n,n,n,n,n,n],[n,r,r,t,n,t,r,r,r,n,n,t,n,n,n,n,t,t,n,n,r,u,r,n,n,n,n,n,n],[n,r,r,t,n,t,r,r,r,n,n,n,n,n,n,n,t,t,n,n,r,u,r,n,n,n,n,n,n],[t,r,r,t,t,t,r,r,r,t,t,t,t,t,t,t,t,t,t,t,r,u,r,t,t,t,t,t,t],[n,r,r,t,t,t,r,r,r,n,n,n,n,n,n,n,t,t,n,r,r,u,r,n,n,n,n,n,n],[n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,r,n,n,n,n,n,n,n,n],[t,r,r,t,t,t,r,r,r,n,n,t,t,t,n,t,t,t,n,n,r,u,r,n,n,n,n,n,n],[t,r,r,t,t,t,r,r,r,t,t,t,t,t,t,t,t,t,t,t,r,u,r,t,t,t,t,t,t],[n,r,r,t,t,t,r,r,r,n,t,n,n,n,n,t,t,t,n,n,r,u,r,n,n,n,t,t,n],[n,r,r,t,t,t,r,r,r,n,t,n,n,n,n,t,t,t,n,n,r,u,r,n,n,n,n,t,n],[n,r,r,t,t,t,r,r,r,n,t,n,n,n,n,t,t,t,n,n,r,u,r,t,t,t,t,n,n],[n,r,r,t,t,t,r,r,r,n,t,n,n,n,n,t,t,t,n,n,r,u,r,n,n,n,t,t,n],[n,r,r,t,t,t,r,r,r,n,t,n,n,n,n,t,t,t,n,n,r,u,r,n,n,n,n,t,n],[n,r,r,t,t,t,r,r,r,n,n,n,n,n,n,n,t,t,n,n,r,u,r,n,n,n,n,n,t]]}).call(this)},{}],175:[function(n,t,i){'use strict';var f=typeof Uint8Array!='undefined'&&typeof Uint16Array!='undefined'&&typeof Int32Array!='undefined',r,u;i.assign=function(n){for(var r=Array.prototype.slice.call(arguments,1),t,i;r.length;)if(t=r.shift(),t){if(typeof t!='object')throw new TypeError(t+'must be non-object');for(i in t)t.hasOwnProperty(i)&&(n[i]=t[i])}return n};i.shrinkBuf=function(n,t){return n.length===t?n:n.subarray?n.subarray(0,t):(n.length=t,n)};r={arraySet:function(n,t,i,r,u){if(t.subarray&&n.subarray){n.set(t.subarray(i,i+r),u);return}for(var f=0;f<r;f++)n[u+f]=t[i+f]},flattenChunks:function(n){var t,i,r,u,f,e;for(r=0,t=0,i=n.length;t<i;t++)r+=n[t].length;for(e=new Uint8Array(r),u=0,t=0,i=n.length;t<i;t++)f=n[t],e.set(f,u),u+=f.length;return e}};u={arraySet:function(n,t,i,r,u){for(var f=0;f<r;f++)n[u+f]=t[i+f]},flattenChunks:function(n){return[].concat.apply([],n)}};i.setTyped=function(n){n?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,r)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,u))};i.setTyped(f)},{}],176:[function(n,t){'use strict';function i(n,t,i,r){for(var u=n&65535|0,f=n>>>16&65535|0,e=0;i!==0;){e=i>2e3?2e3:i;i-=e;do u=u+t[r++]|0,f=f+u|0;while(--e);u%=65521;f%=65521}return u|f<<16|0}t.localExports=i},{}],177:[function(n,t){'use strict';t.localExports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],178:[function(n,t){'use strict';function i(){for(var i,n,r=[],t=0;t<256;t++){for(n=t,i=0;i<8;i++)n=n&1?3988292384^n>>>1:n>>>1;r[t]=n}return r}function u(n,t,i,u){var e=r,o=u+i,f;for(n^=-1,f=u;f<o;f++)n=n>>>8^e[(n^t[f])&255];return n^-1}var r=i();t.localExports=u},{}],179:[function(n,t,i){'use strict';function w(n,t){return n.msg=fi[t],t}function ni(n){return(n<<1)-(n>4?9:0)}function b(n){for(var t=n.length;--t>=0;)n[t]=0}function k(n){var i=n.state,t=i.pending;(t>n.avail_out&&(t=n.avail_out),t!==0)&&(o.arraySet(n.output,i.pending_buf,i.pending_out,t,n.next_out),n.next_out+=t,i.pending_out+=t,n.total_out+=t,n.avail_out-=t,i.pending-=t,i.pending===0&&(i.pending_out=0))}function e(n,t){s._tr_flush_block(n,n.block_start>=0?n.block_start:-1,n.strstart-n.block_start,t);n.block_start=n.strstart;k(n.strm)}function u(n,t){n.pending_buf[n.pending++]=t}function ot(n,t){n.pending_buf[n.pending++]=t>>>8&255;n.pending_buf[n.pending++]=t&255}function rr(n,t,i,r){var u=n.avail_in;return(u>r&&(u=r),u===0)?0:(n.avail_in-=u,o.arraySet(t,n.input,n.next_in,u,i),n.state.wrap===1?n.adler=kt(n.adler,t,u,i):n.state.wrap===2&&(n.adler=v(n.adler,t,u,i)),n.next_in+=u,n.total_in+=u,u)}function ti(n,t){var h=n.max_chain_length,r=n.strstart,u,e,f=n.prev_length,o=n.nice_match,v=n.strstart>n.w_size-c?n.strstart-(n.w_size-c):0,i=n.window,y=n.w_mask,w=n.prev,s=n.strstart+p,l=i[r+f-1],a=i[r+f];n.prev_length>=n.good_match&&(h>>=2);o>n.lookahead&&(o=n.lookahead);do if(u=t,i[u+f]===a&&i[u+f-1]===l&&i[u]===i[r]&&i[++u]===i[r+1]){r+=2;u++;do;while(i[++r]===i[++u]&&i[++r]===i[++u]&&i[++r]===i[++u]&&i[++r]===i[++u]&&i[++r]===i[++u]&&i[++r]===i[++u]&&i[++r]===i[++u]&&i[++r]===i[++u]&&r<s);if(e=p-(s-r),r=s-p,e>f){if(n.match_start=t,f=e,e>=o)break;l=i[r+f-1];a=i[r+f]}}while((t=w[t&y])>v&&--h!=0);return f<=n.lookahead?f:n.lookahead}function tt(n){var t=n.w_size,f,i,e,s,u;do{if(s=n.window_size-n.lookahead-n.strstart,n.strstart>=t+(t-c)){o.arraySet(n.window,n.window,t,t,0);n.match_start-=t;n.strstart-=t;n.block_start-=t;i=n.hash_size;f=i;do e=n.head[--f],n.head[f]=e>=t?e-t:0;while(--i);i=t;f=i;do e=n.prev[--f],n.prev[f]=e>=t?e-t:0;while(--i);s+=t}if(n.strm.avail_in===0)break;if(i=rr(n.strm,n.window,n.strstart+n.lookahead,s),n.lookahead+=i,n.lookahead+n.insert>=r)for(u=n.strstart-n.insert,n.ins_h=n.window[u],n.ins_h=(n.ins_h<<n.hash_shift^n.window[u+1])&n.hash_mask;n.insert;)if(n.ins_h=(n.ins_h<<n.hash_shift^n.window[u+r-1])&n.hash_mask,n.prev[u&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=u,u++,n.insert--,n.lookahead+n.insert<r)break}while(n.lookahead<c&&n.strm.avail_in!==0)}function ur(n,t){var r=65535,i;for(r>n.pending_buf_size-5&&(r=n.pending_buf_size-5);;){if(n.lookahead<=1){if(tt(n),n.lookahead===0&&t===d)return f;if(n.lookahead===0)break}if((n.strstart+=n.lookahead,n.lookahead=0,i=n.block_start+r,(n.strstart===0||n.strstart>=i)&&(n.lookahead=n.strstart-i,n.strstart=i,e(n,!1),n.strm.avail_out===0))||n.strstart-n.block_start>=n.w_size-c&&(e(n,!1),n.strm.avail_out===0))return f}return(n.insert=0,t===y)?(e(n,!0),n.strm.avail_out===0)?nt:it:(n.strstart>n.block_start&&(e(n,!1),n.strm.avail_out===0),f)}function bt(n,t){for(var i,u;;){if(n.lookahead<c){if(tt(n),n.lookahead<c&&t===d)return f;if(n.lookahead===0)break}if(i=0,n.lookahead>=r&&(n.ins_h=(n.ins_h<<n.hash_shift^n.window[n.strstart+r-1])&n.hash_mask,i=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),i!==0&&n.strstart-i<=n.w_size-c&&(n.match_length=ti(n,i)),n.match_length>=r)if(u=s._tr_tally(n,n.strstart-n.match_start,n.match_length-r),n.lookahead-=n.match_length,n.match_length<=n.max_lazy_match&&n.lookahead>=r){n.match_length--;do n.strstart++,n.ins_h=(n.ins_h<<n.hash_shift^n.window[n.strstart+r-1])&n.hash_mask,i=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart;while(--n.match_length!=0);n.strstart++}else n.strstart+=n.match_length,n.match_length=0,n.ins_h=n.window[n.strstart],n.ins_h=(n.ins_h<<n.hash_shift^n.window[n.strstart+1])&n.hash_mask;else u=s._tr_tally(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++;if(u&&(e(n,!1),n.strm.avail_out===0))return f}return(n.insert=n.strstart<r-1?n.strstart:r-1,t===y)?(e(n,!0),n.strm.avail_out===0)?nt:it:n.last_lit&&(e(n,!1),n.strm.avail_out===0)?f:et}function rt(n,t){for(var i,u,o;;){if(n.lookahead<c){if(tt(n),n.lookahead<c&&t===d)return f;if(n.lookahead===0)break}if(i=0,n.lookahead>=r&&(n.ins_h=(n.ins_h<<n.hash_shift^n.window[n.strstart+r-1])&n.hash_mask,i=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),n.prev_length=n.match_length,n.prev_match=n.match_start,n.match_length=r-1,i!==0&&n.prev_length<n.max_lazy_match&&n.strstart-i<=n.w_size-c&&(n.match_length=ti(n,i),n.match_length<=5&&(n.strategy===ci||n.match_length===r&&n.strstart-n.match_start>4096)&&(n.match_length=r-1)),n.prev_length>=r&&n.match_length<=n.prev_length){o=n.strstart+n.lookahead-r;u=s._tr_tally(n,n.strstart-1-n.prev_match,n.prev_length-r);n.lookahead-=n.prev_length-1;n.prev_length-=2;do++n.strstart<=o&&(n.ins_h=(n.ins_h<<n.hash_shift^n.window[n.strstart+r-1])&n.hash_mask,i=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart);while(--n.prev_length!=0);if(n.match_available=0,n.match_length=r-1,n.strstart++,u&&(e(n,!1),n.strm.avail_out===0))return f}else if(n.match_available){if(u=s._tr_tally(n,0,n.window[n.strstart-1]),u&&e(n,!1),n.strstart++,n.lookahead--,n.strm.avail_out===0)return f}else n.match_available=1,n.strstart++,n.lookahead--}return(n.match_available&&(u=s._tr_tally(n,0,n.window[n.strstart-1]),n.match_available=0),n.insert=n.strstart<r-1?n.strstart:r-1,t===y)?(e(n,!0),n.strm.avail_out===0)?nt:it:n.last_lit&&(e(n,!1),n.strm.avail_out===0)?f:et}function fr(n,t){for(var h,u,i,c,o=n.window;;){if(n.lookahead<=p){if(tt(n),n.lookahead<=p&&t===d)return f;if(n.lookahead===0)break}if(n.match_length=0,n.lookahead>=r&&n.strstart>0&&(i=n.strstart-1,u=o[i],u===o[++i]&&u===o[++i]&&u===o[++i])){c=n.strstart+p;do;while(u===o[++i]&&u===o[++i]&&u===o[++i]&&u===o[++i]&&u===o[++i]&&u===o[++i]&&u===o[++i]&&u===o[++i]&&i<c);n.match_length=p-(c-i);n.match_length>n.lookahead&&(n.match_length=n.lookahead)}if(n.match_length>=r?(h=s._tr_tally(n,1,n.match_length-r),n.lookahead-=n.match_length,n.strstart+=n.match_length,n.match_length=0):(h=s._tr_tally(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++),h&&(e(n,!1),n.strm.avail_out===0))return f}return(n.insert=0,t===y)?(e(n,!0),n.strm.avail_out===0)?nt:it:n.last_lit&&(e(n,!1),n.strm.avail_out===0)?f:et}function er(n,t){for(var i;;){if(n.lookahead===0&&(tt(n),n.lookahead===0)){if(t===d)return f;break}if(n.match_length=0,i=s._tr_tally(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++,i&&(e(n,!1),n.strm.avail_out===0))return f}return(n.insert=0,t===y)?(e(n,!0),n.strm.avail_out===0)?nt:it:n.last_lit&&(e(n,!1),n.strm.avail_out===0)?f:et}function a(n,t,i,r,u){this.good_length=n;this.max_lazy=t;this.nice_length=i;this.max_chain=r;this.func=u}function or(n){n.window_size=2*n.w_size;b(n.head);n.max_lazy_match=ut[n.level].max_lazy;n.good_match=ut[n.level].good_length;n.nice_match=ut[n.level].nice_length;n.max_chain_length=ut[n.level].max_chain;n.strstart=0;n.block_start=0;n.lookahead=0;n.insert=0;n.match_length=n.prev_length=r-1;n.match_available=0;n.ins_h=0}function sr(){this.strm=null;this.status=0;this.pending_buf=null;this.pending_buf_size=0;this.pending_out=0;this.pending=0;this.wrap=0;this.gzhead=null;this.gzindex=0;this.method=ht;this.last_flush=-1;this.w_size=0;this.w_bits=0;this.w_mask=0;this.window=null;this.window_size=0;this.prev=null;this.head=null;this.ins_h=0;this.hash_size=0;this.hash_bits=0;this.hash_mask=0;this.hash_shift=0;this.block_start=0;this.match_length=0;this.prev_match=0;this.match_available=0;this.strstart=0;this.match_start=0;this.lookahead=0;this.prev_length=0;this.max_chain_length=0;this.max_lazy_match=0;this.level=0;this.strategy=0;this.good_match=0;this.nice_match=0;this.dyn_ltree=new o.Buf16(gi*2);this.dyn_dtree=new o.Buf16((2*ki+1)*2);this.bl_tree=new o.Buf16((2*di+1)*2);b(this.dyn_ltree);b(this.dyn_dtree);b(this.bl_tree);this.l_desc=null;this.d_desc=null;this.bl_desc=null;this.bl_count=new o.Buf16(nr+1);this.heap=new o.Buf16(2*pt+1);b(this.heap);this.heap_len=0;this.heap_max=0;this.depth=new o.Buf16(2*pt+1);b(this.depth);this.l_buf=0;this.lit_bufsize=0;this.last_lit=0;this.d_buf=0;this.opt_len=0;this.static_len=0;this.matches=0;this.insert=0;this.bi_buf=0;this.bi_valid=0}function ii(n){var t;return!n||!n.state?w(n,h):(n.total_in=n.total_out=0,n.data_type=yi,t=n.state,t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?ct:g,n.adler=t.wrap===2?0:1,t.last_flush=d,s._tr_init(t),l)}function ri(n){var t=ii(n);return t===l&&or(n.state),t}function hr(n,t){return!n||!n.state?h:n.state.wrap!==2?h:(n.state.gzhead=t,l)}function ui(n,t,i,u,f,e){var c,s;return n?(c=1,t===hi&&(t=6),u<0?(c=0,u=-u):u>15&&(c=2,u-=16),f<1||f>pi||i!==ht||u<8||u>15||t<0||t>9||e<0||e>ai)?w(n,h):(u===8&&(u=9),s=new sr,n.state=s,s.strm=n,s.wrap=c,s.gzhead=null,s.w_bits=u,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=f+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+r-1)/r),s.window=new o.Buf8(s.w_size*2),s.head=new o.Buf16(s.hash_size),s.prev=new o.Buf16(s.w_size),s.lit_bufsize=1<<f+6,s.pending_buf_size=s.lit_bufsize*4,s.pending_buf=new o.Buf8(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=t,s.strategy=e,s.method=i,ri(n)):h}function cr(n,t){return ui(n,t,ht,wi,bi,vi)}function lr(n,t){var p,i,r,e,o,a,c;if(!n||!n.state||t>dt||t<0)return n?w(n,h):h;if(i=n.state,!n.output||!n.input&&n.avail_in!==0||i.status===ft&&t!==y)return w(n,n.avail_out===0?yt:h);if(i.strm=n,p=i.last_flush,i.last_flush=t,i.status===ct&&(i.wrap===2?(n.adler=0,u(i,31),u(i,139),u(i,8),i.gzhead?(u(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),u(i,i.gzhead.time&255),u(i,i.gzhead.time>>8&255),u(i,i.gzhead.time>>16&255),u(i,i.gzhead.time>>24&255),u(i,i.level===9?2:i.strategy>=st||i.level<2?4:0),u(i,i.gzhead.os&255),i.gzhead.extra&&i.gzhead.extra.length&&(u(i,i.gzhead.extra.length&255),u(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(n.adler=v(n.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=wt):(u(i,0),u(i,0),u(i,0),u(i,0),u(i,0),u(i,i.level===9?2:i.strategy>=st||i.level<2?4:0),u(i,ir),i.status=g)):(o=ht+(i.w_bits-8<<4)<<8,a=-1,a=i.strategy>=st||i.level<2?0:i.level<6?1:i.level===6?2:3,o|=a<<6,i.strstart!==0&&(o|=tr),o+=31-o%31,i.status=g,ot(i,o),i.strstart!==0&&(ot(i,n.adler>>>16),ot(i,n.adler&65535)),n.adler=1)),i.status===wt)if(i.gzhead.extra){for(r=i.pending;i.gzindex<(i.gzhead.extra.length&65535);){if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>r&&(n.adler=v(n.adler,i.pending_buf,i.pending-r,r)),k(n),r=i.pending,i.pending===i.pending_buf_size))break;u(i,i.gzhead.extra[i.gzindex]&255);i.gzindex++}i.gzhead.hcrc&&i.pending>r&&(n.adler=v(n.adler,i.pending_buf,i.pending-r,r));i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=lt)}else i.status=lt;if(i.status===lt)if(i.gzhead.name){r=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>r&&(n.adler=v(n.adler,i.pending_buf,i.pending-r,r)),k(n),r=i.pending,i.pending===i.pending_buf_size)){e=1;break}e=i.gzindex<i.gzhead.name.length?i.gzhead.name.charCodeAt(i.gzindex++)&255:0;u(i,e)}while(e!==0);i.gzhead.hcrc&&i.pending>r&&(n.adler=v(n.adler,i.pending_buf,i.pending-r,r));e===0&&(i.gzindex=0,i.status=at)}else i.status=at;if(i.status===at)if(i.gzhead.comment){r=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>r&&(n.adler=v(n.adler,i.pending_buf,i.pending-r,r)),k(n),r=i.pending,i.pending===i.pending_buf_size)){e=1;break}e=i.gzindex<i.gzhead.comment.length?i.gzhead.comment.charCodeAt(i.gzindex++)&255:0;u(i,e)}while(e!==0);i.gzhead.hcrc&&i.pending>r&&(n.adler=v(n.adler,i.pending_buf,i.pending-r,r));e===0&&(i.status=vt)}else i.status=vt;if(i.status===vt&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&k(n),i.pending+2<=i.pending_buf_size&&(u(i,n.adler&255),u(i,n.adler>>8&255),n.adler=0,i.status=g)):i.status=g),i.pending!==0){if(k(n),n.avail_out===0)return i.last_flush=-1,l}else if(n.avail_in===0&&ni(t)<=ni(p)&&t!==y)return w(n,yt);if(i.status===ft&&n.avail_in!==0)return w(n,yt);if(n.avail_in!==0||i.lookahead!==0||t!==d&&i.status!==ft){if(c=i.strategy===st?er(i,t):i.strategy===li?fr(i,t):ut[i.level].func(i,t),(c===nt||c===it)&&(i.status=ft),c===f||c===nt)return n.avail_out===0&&(i.last_flush=-1),l;if(c===et&&(t===ei?s._tr_align(i):t!==dt&&(s._tr_stored_block(i,0,0,!1),t===oi&&(b(i.head),i.lookahead===0&&(i.strstart=0,i.block_start=0,i.insert=0))),k(n),n.avail_out===0))return i.last_flush=-1,l}return t!==y?l:i.wrap<=0?gt:(i.wrap===2?(u(i,n.adler&255),u(i,n.adler>>8&255),u(i,n.adler>>16&255),u(i,n.adler>>24&255),u(i,n.total_in&255),u(i,n.total_in>>8&255),u(i,n.total_in>>16&255),u(i,n.total_in>>24&255)):(ot(i,n.adler>>>16),ot(i,n.adler&65535)),k(n),i.wrap>0&&(i.wrap=-i.wrap),i.pending!==0?l:gt)}function ar(n){var t;return!n||!n.state?h:(t=n.state.status,t!==ct&&t!==wt&&t!==lt&&t!==at&&t!==vt&&t!==g&&t!==ft)?w(n,h):(n.state=null,t===g?w(n,si):l)}function vr(n,t){var e=t.length,i,u,c,f,a,v,y,s;if(!n||!n.state||(i=n.state,f=i.wrap,f===2||f===1&&i.status!==ct||i.lookahead))return h;for(f===1&&(n.adler=kt(n.adler,t,e,0)),i.wrap=0,e>=i.w_size&&(f===0&&(b(i.head),i.strstart=0,i.block_start=0,i.insert=0),s=new o.Buf8(i.w_size),o.arraySet(s,t,e-i.w_size,i.w_size,0),t=s,e=i.w_size),a=n.avail_in,v=n.next_in,y=n.input,n.avail_in=e,n.next_in=0,n.input=t,tt(i);i.lookahead>=r;){u=i.strstart;c=i.lookahead-(r-1);do i.ins_h=(i.ins_h<<i.hash_shift^i.window[u+r-1])&i.hash_mask,i.prev[u&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=u,u++;while(--c);i.strstart=u;i.lookahead=r-1;tt(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=r-1,i.match_available=0,n.next_in=v,n.input=y,n.avail_in=a,i.wrap=f,l}var o=n('../utils/common'),s=n('./trees'),kt=n('./adler32'),v=n('./crc32'),fi=n('./messages'),d=0,ei=1,oi=3,y=4,dt=5,l=0,gt=1,h=-2,si=-3,yt=-5,hi=-1,ci=1,st=2,li=3,ai=4,vi=0,yi=2,ht=8,pi=9,wi=15,bi=8,pt=286,ki=30,di=19,gi=2*pt+1,nr=15,r=3,p=258,c=p+r+1,tr=32,ct=42,wt=69,lt=73,at=91,vt=103,g=113,ft=666,f=1,et=2,nt=3,it=4,ir=3,ut;ut=[new a(0,0,0,0,ur),new a(4,4,8,4,bt),new a(4,5,16,8,bt),new a(4,6,32,32,bt),new a(4,4,16,16,rt),new a(8,16,32,32,rt),new a(8,16,128,128,rt),new a(8,32,128,256,rt),new a(32,128,258,1024,rt),new a(32,258,258,4096,rt)];i.deflateInit=cr;i.deflateInit2=ui;i.deflateReset=ri;i.deflateResetKeep=ii;i.deflateSetHeader=hr;i.deflate=lr;i.deflateEnd=ar;i.deflateSetDictionary=vr;i.deflateInfo='pako deflate (from Nodeca project)'},{"../utils/common":175,"./adler32":176,"./crc32":178,"./messages":183,"./trees":184}],180:[function(n,t){'use strict';var i=30,r=12;t.localExports=function(n,t){var c,a,d,f,rt,g,ut,nt,ft,w,k,l,e,tt,it,et,ot,v,u,h,y,s,p,b,o;c=n.state;a=n.next_in;b=n.input;d=a+(n.avail_in-5);f=n.next_out;o=n.output;rt=f-(t-n.avail_out);g=f+(n.avail_out-257);ut=c.dmax;nt=c.wsize;ft=c.whave;w=c.wnext;k=c.window;l=c.hold;e=c.bits;tt=c.lencode;it=c.distcode;et=(1<<c.lenbits)-1;ot=(1<<c.distbits)-1;n:do{e<15&&(l+=b[a++]<<e,e+=8,l+=b[a++]<<e,e+=8);v=tt[l&et];t:for(;;){if(u=v>>>24,l>>>=u,e-=u,u=v>>>16&255,u===0)o[f++]=v&65535;else if(u&16){h=v&65535;u&=15;u&&(e<u&&(l+=b[a++]<<e,e+=8),h+=l&(1<<u)-1,l>>>=u,e-=u);e<15&&(l+=b[a++]<<e,e+=8,l+=b[a++]<<e,e+=8);v=it[l&ot];i:for(;;){if(u=v>>>24,l>>>=u,e-=u,u=v>>>16&255,u&16){if(y=v&65535,u&=15,e<u&&(l+=b[a++]<<e,e+=8,e<u&&(l+=b[a++]<<e,e+=8)),y+=l&(1<<u)-1,y>ut){n.msg='invalid distance too far back';c.mode=i;break n}if(l>>>=u,e-=u,u=f-rt,y>u){if(u=y-u,u>ft&&c.sane){n.msg='invalid distance too far back';c.mode=i;break n}if(s=0,p=k,w===0){if(s+=nt-u,u<h){h-=u;do o[f++]=k[s++];while(--u);s=f-y;p=o}}else if(w<u){if(s+=nt+w-u,u-=w,u<h){h-=u;do o[f++]=k[s++];while(--u);if(s=0,w<h){u=w;h-=u;do o[f++]=k[s++];while(--u);s=f-y;p=o}}}else if(s+=w-u,u<h){h-=u;do o[f++]=k[s++];while(--u);s=f-y;p=o}while(h>2)o[f++]=p[s++],o[f++]=p[s++],o[f++]=p[s++],h-=3;h&&(o[f++]=p[s++],h>1&&(o[f++]=p[s++]))}else{s=f-y;do o[f++]=o[s++],o[f++]=o[s++],o[f++]=o[s++],h-=3;while(h>2);h&&(o[f++]=o[s++],h>1&&(o[f++]=o[s++]))}}else if((u&64)==0){v=it[(v&65535)+(l&(1<<u)-1)];continue i}else{n.msg='invalid distance code';c.mode=i;break n}break}}else if((u&64)==0){v=tt[(v&65535)+(l&(1<<u)-1)];continue t}else if(u&32){c.mode=r;break n}else{n.msg='invalid literal/length code';c.mode=i;break n}break}}while(a<d&&f<g);h=e>>3;a-=h;e-=h<<3;l&=(1<<e)-1;n.next_in=a;n.next_out=f;n.avail_in=a<d?5+(d-a):5-(a-d);n.avail_out=f<g?257+(g-f):257-(f-g);c.hold=l;c.bits=e;return}},{}],181:[function(n,t,i){'use strict';function oi(n){return(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24)}function rr(){this.mode=0;this.last=!1;this.wrap=0;this.havedict=!1;this.flags=0;this.dmax=0;this.check=0;this.total=0;this.head=null;this.wbits=0;this.wsize=0;this.whave=0;this.wnext=0;this.window=null;this.hold=0;this.bits=0;this.length=0;this.offset=0;this.extra=0;this.lencode=null;this.distcode=null;this.lenbits=0;this.distbits=0;this.ncode=0;this.nlen=0;this.ndist=0;this.have=0;this.next=null;this.lens=new u.Buf16(320);this.work=new u.Buf16(288);this.lendyn=null;this.distdyn=null;this.sane=0;this.back=0;this.was=0}function si(n){var t;return!n||!n.state?f:(t=n.state,n.total_in=n.total_out=t.total=0,n.msg='',t.wrap&&(n.adler=t.wrap&1),t.mode=et,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new u.Buf32(nr),t.distcode=t.distdyn=new u.Buf32(tr),t.sane=1,t.back=-1,s)}function hi(n){var t;return!n||!n.state?f:(t=n.state,t.wsize=0,t.whave=0,t.wnext=0,si(n))}function ci(n,t){var r,i;return!n||!n.state?f:(i=n.state,t<0?(r=0,t=-t):(r=(t>>4)+1,t<48&&(t&=15)),t&&(t<8||t>15))?f:(i.window!==null&&i.wbits!==t&&(i.window=null),i.wrap=r,i.wbits=t,hi(n))}function li(n,t){var i,r;return n?(r=new rr,n.state=r,r.window=null,i=ci(n,t),i!==s&&(n.state=null),i):f}function ur(n){return li(n,ir)}function fr(n){if(ai){var t;for(g=new u.Buf32(512),nt=new u.Buf32(32),t=0;t<144;)n.lens[t++]=8;while(t<256)n.lens[t++]=9;while(t<280)n.lens[t++]=7;while(t<288)n.lens[t++]=8;for(h(tt,n.lens,0,288,g,0,n.work,{bits:9}),t=0;t<32;)n.lens[t++]=5;h(it,n.lens,0,32,nt,0,n.work,{bits:5});ai=!1}n.lencode=g;n.lenbits=9;n.distcode=nt;n.distbits=5}function vi(n,t,i,r){var e,f=n.state;return f.window===null&&(f.wsize=1<<f.wbits,f.wnext=0,f.whave=0,f.window=new u.Buf8(f.wsize)),r>=f.wsize?(u.arraySet(f.window,t,i-f.wsize,f.wsize,0),f.wnext=0,f.whave=f.wsize):(e=f.wsize-f.wnext,e>r&&(e=r),u.arraySet(f.window,t,i-r,e,f.wnext),r-=e,r?(u.arraySet(f.window,t,i-r,r,0),f.wnext=r,f.whave=f.wsize):(f.wnext+=e,f.wnext===f.wsize&&(f.wnext=0),f.whave<f.wsize&&(f.whave+=e))),0}function er(n,t){var i,li,lr,ci,hr,si,rr,nt,g,yr,nr,hi,pr,kr,tr=0,ai,er,sr,or,wr,br,ir,cr,ur=new u.Buf8(4),vr,ar,dr=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!n||!n.state||!n.output||!n.input&&n.avail_in!==0)return f;i=n.state;i.mode===o&&(i.mode=w);hr=n.next_out;lr=n.output;rr=n.avail_out;ci=n.next_in;li=n.input;si=n.avail_in;nt=i.hold;g=i.bits;yr=si;nr=rr;cr=s;n:for(;;)switch(i.mode){case et:if(i.wrap===0){i.mode=w;break}while(g<16){if(si===0)break n;si--;nt+=li[ci++]<<g;g+=8}if(i.wrap&2&&nt===35615){i.check=0;ur[0]=nt&255;ur[1]=nt>>>8&255;i.check=e(i.check,ur,2,0);nt=0;g=0;i.mode=ot;break}if(i.flags=0,i.head&&(i.head.done=!1),!(i.wrap&1)||(((nt&255)<<8)+(nt>>8))%31){n.msg='incorrect header check';i.mode=r;break}if((nt&15)!==ft){n.msg='unknown compression method';i.mode=r;break}if(nt>>>=4,g-=4,ir=(nt&15)+8,i.wbits===0)i.wbits=ir;else if(ir>i.wbits){n.msg='invalid window size';i.mode=r;break}i.dmax=1<<ir;n.adler=i.check=1;i.mode=nt&512?pt:o;nt=0;g=0;break;case ot:while(g<16){if(si===0)break n;si--;nt+=li[ci++]<<g;g+=8}if(i.flags=nt,(i.flags&255)!==ft){n.msg='unknown compression method';i.mode=r;break}if(i.flags&57344){n.msg='unknown header flags set';i.mode=r;break}i.head&&(i.head.text=nt>>8&1);i.flags&512&&(ur[0]=nt&255,ur[1]=nt>>>8&255,i.check=e(i.check,ur,2,0));nt=0;g=0;i.mode=st;case st:while(g<32){if(si===0)break n;si--;nt+=li[ci++]<<g;g+=8}i.head&&(i.head.time=nt);i.flags&512&&(ur[0]=nt&255,ur[1]=nt>>>8&255,ur[2]=nt>>>16&255,ur[3]=nt>>>24&255,i.check=e(i.check,ur,4,0));nt=0;g=0;i.mode=ht;case ht:while(g<16){if(si===0)break n;si--;nt+=li[ci++]<<g;g+=8}i.head&&(i.head.xflags=nt&255,i.head.os=nt>>8);i.flags&512&&(ur[0]=nt&255,ur[1]=nt>>>8&255,i.check=e(i.check,ur,2,0));nt=0;g=0;i.mode=ct;case ct:if(i.flags&1024){while(g<16){if(si===0)break n;si--;nt+=li[ci++]<<g;g+=8}i.length=nt;i.head&&(i.head.extra_len=nt);i.flags&512&&(ur[0]=nt&255,ur[1]=nt>>>8&255,i.check=e(i.check,ur,2,0));nt=0;g=0}else i.head&&(i.head.extra=null);i.mode=lt;case lt:if(i.flags&1024&&(hi=i.length,hi>si&&(hi=si),hi&&(i.head&&(ir=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Array(i.head.extra_len)),u.arraySet(i.head.extra,li,ci,hi,ir)),i.flags&512&&(i.check=e(i.check,li,hi,ci)),si-=hi,ci+=hi,i.length-=hi),i.length))break n;i.length=0;i.mode=at;case at:if(i.flags&2048){if(si===0)break n;hi=0;do ir=li[ci+hi++],i.head&&ir&&i.length<65536&&(i.head.name+=String.fromCharCode(ir));while(ir&&hi<si);if(i.flags&512&&(i.check=e(i.check,li,hi,ci)),si-=hi,ci+=hi,ir)break n}else i.head&&(i.head.name=null);i.length=0;i.mode=vt;case vt:if(i.flags&4096){if(si===0)break n;hi=0;do ir=li[ci+hi++],i.head&&ir&&i.length<65536&&(i.head.comment+=String.fromCharCode(ir));while(ir&&hi<si);if(i.flags&512&&(i.check=e(i.check,li,hi,ci)),si-=hi,ci+=hi,ir)break n}else i.head&&(i.head.comment=null);i.mode=yt;case yt:if(i.flags&512){while(g<16){if(si===0)break n;si--;nt+=li[ci++]<<g;g+=8}if(nt!==(i.check&65535)){n.msg='header crc mismatch';i.mode=r;break}nt=0;g=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0);n.adler=i.check=0;i.mode=o;break;case pt:while(g<32){if(si===0)break n;si--;nt+=li[ci++]<<g;g+=8}n.adler=i.check=oi(nt);nt=0;g=0;i.mode=l;case l:if(i.havedict===0)return n.next_out=hr,n.avail_out=rr,n.next_in=ci,n.avail_in=si,i.hold=nt,i.bits=g,ki;n.adler=i.check=1;i.mode=o;case o:if(t===wi||t===c)break n;case w:if(i.last){nt>>>=g&7;g-=g&7;i.mode=k;break}while(g<3){if(si===0)break n;si--;nt+=li[ci++]<<g;g+=8}i.last=nt&1;nt>>>=1;g-=1;switch(nt&3){case 0:i.mode=wt;break;case 1:if(fr(i),i.mode=a,t===c){nt>>>=2;g-=2;break n}break;case 2:i.mode=kt;break;case 3:n.msg='invalid block type';i.mode=r}nt>>>=2;g-=2;break;case wt:for(nt>>>=g&7,g-=g&7;g<32;){if(si===0)break n;si--;nt+=li[ci++]<<g;g+=8}if((nt&65535)!=(nt>>>16^65535)){n.msg='invalid stored block lengths';i.mode=r;break}if(i.length=nt&65535,nt=0,g=0,i.mode=b,t===c)break n;case b:i.mode=bt;case bt:if(hi=i.length,hi){if(hi>si&&(hi=si),hi>rr&&(hi=rr),hi===0)break n;u.arraySet(lr,li,ci,hi,hr);si-=hi;ci+=hi;rr-=hi;hr+=hi;i.length-=hi;break}i.mode=o;break;case kt:while(g<14){if(si===0)break n;si--;nt+=li[ci++]<<g;g+=8}if(i.nlen=(nt&31)+257,nt>>>=5,g-=5,i.ndist=(nt&31)+1,nt>>>=5,g-=5,i.ncode=(nt&15)+4,nt>>>=4,g-=4,i.nlen>286||i.ndist>30){n.msg='too many length or distance symbols';i.mode=r;break}i.have=0;i.mode=dt;case dt:while(i.have<i.ncode){while(g<3){if(si===0)break n;si--;nt+=li[ci++]<<g;g+=8}i.lens[dr[i.have++]]=nt&7;nt>>>=3;g-=3}while(i.have<19)i.lens[dr[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,vr={bits:i.lenbits},cr=h(pi,i.lens,0,19,i.lencode,0,i.work,vr),i.lenbits=vr.bits,cr){n.msg='invalid code lengths set';i.mode=r;break}i.have=0;i.mode=gt;case gt:while(i.have<i.nlen+i.ndist){for(;;){if(tr=i.lencode[nt&(1<<i.lenbits)-1],ai=tr>>>24,er=tr>>>16&255,sr=tr&65535,ai<=g)break;if(si===0)break n;si--;nt+=li[ci++]<<g;g+=8}if(sr<16)nt>>>=ai,g-=ai,i.lens[i.have++]=sr;else{if(sr===16){for(ar=ai+2;g<ar;){if(si===0)break n;si--;nt+=li[ci++]<<g;g+=8}if(nt>>>=ai,g-=ai,i.have===0){n.msg='invalid bit length repeat';i.mode=r;break}ir=i.lens[i.have-1];hi=3+(nt&3);nt>>>=2;g-=2}else if(sr===17){for(ar=ai+3;g<ar;){if(si===0)break n;si--;nt+=li[ci++]<<g;g+=8}nt>>>=ai;g-=ai;ir=0;hi=3+(nt&7);nt>>>=3;g-=3}else{for(ar=ai+7;g<ar;){if(si===0)break n;si--;nt+=li[ci++]<<g;g+=8}nt>>>=ai;g-=ai;ir=0;hi=11+(nt&127);nt>>>=7;g-=7}if(i.have+hi>i.nlen+i.ndist){n.msg='invalid bit length repeat';i.mode=r;break}while(hi--)i.lens[i.have++]=ir}}if(i.mode===r)break;if(i.lens[256]===0){n.msg='invalid code -- missing end-of-block';i.mode=r;break}if(i.lenbits=9,vr={bits:i.lenbits},cr=h(tt,i.lens,0,i.nlen,i.lencode,0,i.work,vr),i.lenbits=vr.bits,cr){n.msg='invalid literal/lengths set';i.mode=r;break}if(i.distbits=6,i.distcode=i.distdyn,vr={bits:i.distbits},cr=h(it,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,vr),i.distbits=vr.bits,cr){n.msg='invalid distances set';i.mode=r;break}if(i.mode=a,t===c)break n;case a:i.mode=v;case v:if(si>=6&&rr>=258){n.next_out=hr;n.avail_out=rr;n.next_in=ci;n.avail_in=si;i.hold=nt;i.bits=g;yi(n,nr);hr=n.next_out;lr=n.output;rr=n.avail_out;ci=n.next_in;li=n.input;si=n.avail_in;nt=i.hold;g=i.bits;i.mode===o&&(i.back=-1);break}for(i.back=0;;){if(tr=i.lencode[nt&(1<<i.lenbits)-1],ai=tr>>>24,er=tr>>>16&255,sr=tr&65535,ai<=g)break;if(si===0)break n;si--;nt+=li[ci++]<<g;g+=8}if(er&&(er&240)==0){for(or=ai,wr=er,br=sr;;){if(tr=i.lencode[br+((nt&(1<<or+wr)-1)>>or)],ai=tr>>>24,er=tr>>>16&255,sr=tr&65535,or+ai<=g)break;if(si===0)break n;si--;nt+=li[ci++]<<g;g+=8}nt>>>=or;g-=or;i.back+=or}if(nt>>>=ai,g-=ai,i.back+=ai,i.length=sr,er===0){i.mode=ui;break}if(er&32){i.back=-1;i.mode=o;break}if(er&64){n.msg='invalid literal/length code';i.mode=r;break}i.extra=er&15;i.mode=ni;case ni:if(i.extra){for(ar=i.extra;g<ar;){if(si===0)break n;si--;nt+=li[ci++]<<g;g+=8}i.length+=nt&(1<<i.extra)-1;nt>>>=i.extra;g-=i.extra;i.back+=i.extra}i.was=i.length;i.mode=ti;case ti:for(;;){if(tr=i.distcode[nt&(1<<i.distbits)-1],ai=tr>>>24,er=tr>>>16&255,sr=tr&65535,ai<=g)break;if(si===0)break n;si--;nt+=li[ci++]<<g;g+=8}if((er&240)==0){for(or=ai,wr=er,br=sr;;){if(tr=i.distcode[br+((nt&(1<<or+wr)-1)>>or)],ai=tr>>>24,er=tr>>>16&255,sr=tr&65535,or+ai<=g)break;if(si===0)break n;si--;nt+=li[ci++]<<g;g+=8}nt>>>=or;g-=or;i.back+=or}if(nt>>>=ai,g-=ai,i.back+=ai,er&64){n.msg='invalid distance code';i.mode=r;break}i.offset=sr;i.extra=er&15;i.mode=ii;case ii:if(i.extra){for(ar=i.extra;g<ar;){if(si===0)break n;si--;nt+=li[ci++]<<g;g+=8}i.offset+=nt&(1<<i.extra)-1;nt>>>=i.extra;g-=i.extra;i.back+=i.extra}if(i.offset>i.dmax){n.msg='invalid distance too far back';i.mode=r;break}i.mode=ri;case ri:if(rr===0)break n;if(hi=nr-rr,i.offset>hi){if(hi=i.offset-hi,hi>i.whave&&i.sane){n.msg='invalid distance too far back';i.mode=r;break}hi>i.wnext?(hi-=i.wnext,pr=i.wsize-hi):pr=i.wnext-hi;hi>i.length&&(hi=i.length);kr=i.window}else kr=lr,pr=hr-i.offset,hi=i.length;hi>rr&&(hi=rr);rr-=hi;i.length-=hi;do lr[hr++]=kr[pr++];while(--hi);i.length===0&&(i.mode=v);break;case ui:if(rr===0)break n;lr[hr++]=i.length;rr--;i.mode=v;break;case k:if(i.wrap){while(g<32){if(si===0)break n;si--;nt|=li[ci++]<<g;g+=8}if(nr-=rr,n.total_out+=nr,i.total+=nr,nr&&(n.adler=i.check=i.flags?e(i.check,lr,nr,hr-nr):y(i.check,lr,nr,hr-nr)),nr=rr,(i.flags?nt:oi(nt))!==i.check){n.msg='incorrect data check';i.mode=r;break}nt=0;g=0}i.mode=fi;case fi:if(i.wrap&&i.flags){while(g<32){if(si===0)break n;si--;nt+=li[ci++]<<g;g+=8}if(nt!==(i.total&4294967295)){n.msg='incorrect length check';i.mode=r;break}nt=0;g=0}i.mode=ei;case ei:cr=bi;break n;case r:cr=ut;break n;case d:return p;case gi:default:return f}return(n.next_out=hr,n.avail_out=rr,n.next_in=ci,n.avail_in=si,i.hold=nt,i.bits=g,(i.wsize||nr!==n.avail_out&&i.mode<r&&(i.mode<k||t!==rt))&&vi(n,n.output,n.next_out,nr-n.avail_out))?(i.mode=d,p):(yr-=n.avail_in,nr-=n.avail_out,n.total_in+=yr,n.total_out+=nr,i.total+=nr,i.wrap&&nr&&(n.adler=i.check=i.flags?e(i.check,lr,nr,n.next_out-nr):y(i.check,lr,nr,n.next_out-nr)),n.data_type=i.bits+(i.last?64:0)+(i.mode===o?128:0)+(i.mode===a||i.mode===b?256:0),(yr===0&&nr===0||t===rt)&&cr===s&&(cr=di),cr)}function or(n){if(!n||!n.state)return f;var t=n.state;return t.window&&(t.window=null),n.state=null,s}function sr(n,t){var i;return!n||!n.state?f:(i=n.state,(i.wrap&2)==0)?f:(i.head=t,t.done=!1,s)}function hr(n,t){var u=t.length,i,r,e;return!n||!n.state?f:(i=n.state,i.wrap!==0&&i.mode!==l)?f:i.mode===l&&(r=1,r=y(r,t,u,0),r!==i.check)?ut:(e=vi(n,t,u,u),e)?(i.mode=d,p):(i.havedict=1,s)}var u=n('../utils/common'),y=n('./adler32'),e=n('./crc32'),yi=n('./inffast'),h=n('./inftrees'),pi=0,tt=1,it=2,rt=4,wi=5,c=6,s=0,bi=1,ki=2,f=-2,ut=-3,p=-4,di=-5,ft=8,et=1,ot=2,st=3,ht=4,ct=5,lt=6,at=7,vt=8,yt=9,pt=10,l=11,o=12,w=13,wt=14,b=15,bt=16,kt=17,dt=18,gt=19,a=20,v=21,ni=22,ti=23,ii=24,ri=25,ui=26,k=27,fi=28,ei=29,r=30,d=31,gi=32,nr=852,tr=592,ir=15,ai=!0,g,nt;i.inflateReset=hi;i.inflateReset2=ci;i.inflateResetKeep=si;i.inflateInit=ur;i.inflateInit2=li;i.inflate=er;i.inflateEnd=or;i.inflateGetHeader=sr;i.inflateSetDictionary=hr;i.inflateInfo='pako inflate (from Nodeca project)'},{"../utils/common":175,"./adler32":176,"./crc32":178,"./inffast":180,"./inftrees":182}],182:[function(n,t){'use strict';var u=n('../utils/common'),i=15,f=852,e=592,o=0,r=1,s=2,h=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],c=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],a=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.localExports=function(n,t,v,y,p,w,b,k){for(var ri=k.bits,d=0,g=0,ut=0,nt=0,tt=0,ft=0,it=0,et=0,ht=0,rt=0,ot,ct,vt,dt,lt,yt=null,gt=0,at,st=new u.Buf16(i+1),pt=new u.Buf16(i+1),wt=null,ni=0,ti,bt,kt,ii,d=0;d<=i;d++)st[d]=0;for(g=0;g<y;g++)st[t[v+g]]++;for(tt=ri,nt=i;nt>=1;nt--)if(st[nt]!==0)break;if(tt>nt&&(tt=nt),nt===0)return p[w++]=20971520,p[w++]=20971520,k.bits=1,0;for(ut=1;ut<nt;ut++)if(st[ut]!==0)break;for(tt<ut&&(tt=ut),et=1,d=1;d<=i;d++)if(et<<=1,et-=st[d],et<0)return-1;if(et>0&&(n===o||nt!==1))return-1;for(pt[1]=0,d=1;d<i;d++)pt[d+1]=pt[d]+st[d];for(g=0;g<y;g++)t[v+g]!==0&&(b[pt[t[v+g]]++]=g);if(n===o?(yt=wt=b,at=19):n===r?(yt=h,gt-=257,wt=c,ni-=257,at=256):(yt=l,wt=a,at=-1),rt=0,g=0,d=ut,lt=w,ft=tt,it=0,vt=-1,ht=1<<tt,dt=ht-1,n===r&&ht>f||n===s&&ht>e)return 1;for(ii=0;;){ii++;ti=d-it;b[g]<at?(bt=0,kt=b[g]):b[g]>at?(bt=wt[ni+b[g]],kt=yt[gt+b[g]]):(bt=96,kt=0);ot=1<<d-it;ct=1<<ft;ut=ct;do ct-=ot,p[lt+(rt>>it)+ct]=ti<<24|bt<<16|kt|0;while(ct!==0);for(ot=1<<d-1;rt&ot;)ot>>=1;if(ot!==0?(rt&=ot-1,rt+=ot):rt=0,g++,--st[d]==0){if(d===nt)break;d=t[v+b[g]]}if(d>tt&&(rt&dt)!==vt){for(it===0&&(it=tt),lt+=ut,ft=d-it,et=1<<ft;ft+it<nt;){if(et-=st[ft+it],et<=0)break;ft++;et<<=1}if(ht+=1<<ft,n===r&&ht>f||n===s&&ht>e)return 1;vt=rt&dt;p[vt]=tt<<24|ft<<16|lt-w|0}}return rt!==0&&(p[lt+rt]=d-it<<24|4194304),k.bits=tt,0}},{"../utils/common":175}],183:[function(n,t){'use strict';t.localExports={2:'need dictionary',1:'stream end',0:'','-1':'file error','-2':'stream error','-3':'data error','-4':'insufficient memory','-5':'buffer error','-6':'incompatible version'}},{}],184:[function(n,t,i){'use strict';function o(n){for(var t=n.length;--t>=0;)n[t]=0}function it(n,t,i,r,u){this.static_tree=n;this.extra_bits=t;this.extra_base=i;this.elems=r;this.max_length=u;this.has_stree=n&&n.length}function rt(n,t){this.dyn_tree=n;this.max_code=0;this.stat_desc=t}function kt(n){return n<256?c[n]:c[256+(n>>>7)]}function p(n,t){n.pending_buf[n.pending++]=t&255;n.pending_buf[n.pending++]=t>>>8&255}function r(n,t,i){n.bi_valid>g-i?(n.bi_buf|=t<<n.bi_valid&65535,p(n,n.bi_buf),n.bi_buf=t>>g-n.bi_valid,n.bi_valid+=i-g):(n.bi_buf|=t<<n.bi_valid&65535,n.bi_valid+=i)}function u(n,t,i){r(n,i[t*2],i[t*2+1])}function dt(n,t){var i=0;do i|=n&1,n>>>=1,i<<=1;while(--t>0);return i>>>1}function yi(n){n.bi_valid===16?(p(n,n.bi_buf),n.bi_buf=0,n.bi_valid=0):n.bi_valid>=8&&(n.pending_buf[n.pending++]=n.bi_buf&255,n.bi_buf>>=8,n.bi_valid-=8)}function pi(n,t){for(var u=t.dyn_tree,a=t.max_code,y=t.stat_desc.static_tree,p=t.stat_desc.has_stree,w=t.stat_desc.extra_bits,v=t.stat_desc.extra_base,o=t.stat_desc.max_length,s,r,f,h,l,c=0,i=0;i<=e;i++)n.bl_count[i]=0;for(u[n.heap[n.heap_max]*2+1]=0,s=n.heap_max+1;s<ct;s++)(r=n.heap[s],i=u[u[r*2+1]*2+1]+1,i>o&&(i=o,c++),u[r*2+1]=i,r>a)||(n.bl_count[i]++,h=0,r>=v&&(h=w[r-v]),l=u[r*2],n.opt_len+=l*(i+h),p&&(n.static_len+=l*(y[r*2+1]+h)));if(c!==0){do{for(i=o-1;n.bl_count[i]===0;)i--;n.bl_count[i]--;n.bl_count[i+1]+=2;n.bl_count[o]--;c-=2}while(c>0);for(i=o;i!==0;i--)for(r=n.bl_count[i];r!==0;)(f=n.heap[--s],f>a)||(u[f*2+1]!==i&&(n.opt_len+=(i-u[f*2+1])*u[f*2],u[f*2+1]=i),r--)}}function gt(n,t,i){for(var o=new Array(e+1),s=0,u,f,r=1;r<=e;r++)o[r]=s=s+i[r-1]<<1;for(u=0;u<=t;u++)(f=n[u*2+1],f!==0)&&(n[u*2]=dt(o[f]++,f))}function wi(){for(var n,u,i,r=new Array(e+1),o=0,t=0;t<k-1;t++)for(b[t]=o,n=0;n<1<<tt[t];n++)l[o++]=t;for(l[o-1]=t,i=0,t=0;t<16;t++)for(y[t]=i,n=0;n<1<<w[t];n++)c[i++]=t;for(i>>=7;t<s;t++)for(y[t]=i<<7,n=0;n<1<<w[t]-7;n++)c[256+i++]=t;for(u=0;u<=e;u++)r[u]=0;for(n=0;n<=143;)f[n*2+1]=8,n++,r[8]++;while(n<=255)f[n*2+1]=9,n++,r[9]++;while(n<=279)f[n*2+1]=7,n++,r[7]++;while(n<=287)f[n*2+1]=8,n++,r[8]++;for(gt(f,v+1,r),n=0;n<s;n++)h[n*2+1]=5,h[n*2]=dt(n,5);pt=new it(f,tt,a+1,v,e);wt=new it(h,w,0,s,e);bt=new it(new Array(0),vi,0,d,ai)}function ni(n){for(var t=0;t<v;t++)n.dyn_ltree[t*2]=0;for(t=0;t<s;t++)n.dyn_dtree[t*2]=0;for(t=0;t<d;t++)n.bl_tree[t*2]=0;n.dyn_ltree[nt*2]=1;n.opt_len=n.static_len=0;n.last_lit=n.matches=0}function ti(n){n.bi_valid>8?p(n,n.bi_buf):n.bi_valid>0&&(n.pending_buf[n.pending++]=n.bi_buf);n.bi_buf=0;n.bi_valid=0}function bi(n,t,i,r){ti(n);r&&(p(n,i),p(n,~i));oi.arraySet(n.pending_buf,n.window,t,i,n.pending);n.pending+=i}function ii(n,t,i,r){var u=t*2,f=i*2;return n[u]<n[f]||n[u]===n[f]&&r[t]<=r[i]}function ut(n,t,i){for(var u=n.heap[i],r=i<<1;r<=n.heap_len;){if(r<n.heap_len&&ii(t,n.heap[r+1],n.heap[r],n.depth)&&r++,ii(t,u,n.heap[r],n.depth))break;n.heap[i]=n.heap[r];i=r;r<<=1}n.heap[i]=u}function ri(n,t,i){var e,s,h=0,f,o;if(n.last_lit!==0)do e=n.pending_buf[n.d_buf+h*2]<<8|n.pending_buf[n.d_buf+h*2+1],s=n.pending_buf[n.l_buf+h],h++,e===0?u(n,s,t):(f=l[s],u(n,f+a+1,t),o=tt[f],o!==0&&(s-=b[f],r(n,s,o)),e--,f=kt(e),u(n,f,i),o=w[f],o!==0&&(e-=y[f],r(n,e,o)));while(h<n.last_lit);u(n,nt,t)}function ft(n,t){var r=t.dyn_tree,s=t.stat_desc.static_tree,h=t.stat_desc.has_stree,o=t.stat_desc.elems,i,f,e=-1,u;for(n.heap_len=0,n.heap_max=ct,i=0;i<o;i++)r[i*2]!==0?(n.heap[++n.heap_len]=e=i,n.depth[i]=0):r[i*2+1]=0;while(n.heap_len<2)u=n.heap[++n.heap_len]=e<2?++e:0,r[u*2]=1,n.depth[u]=0,n.opt_len--,h&&(n.static_len-=s[u*2+1]);for(t.max_code=e,i=n.heap_len>>1;i>=1;i--)ut(n,r,i);u=o;do i=n.heap[1],n.heap[1]=n.heap[n.heap_len--],ut(n,r,1),f=n.heap[1],n.heap[--n.heap_max]=i,n.heap[--n.heap_max]=f,r[u*2]=r[i*2]+r[f*2],n.depth[u]=(n.depth[i]>=n.depth[f]?n.depth[i]:n.depth[f])+1,r[i*2+1]=r[f*2+1]=u,n.heap[1]=u++,ut(n,r,1);while(n.heap_len>=2);n.heap[--n.heap_max]=n.heap[1];pi(n,t);gt(r,e,n.bl_count)}function ui(n,t,i){var s,h=-1,r,u=t[1],f=0,e=7,o=4;for(u===0&&(e=138,o=3),t[(i+1)*2+1]=65535,s=0;s<=i;s++){if(r=u,u=t[(s+1)*2+1],++f<e&&r===u)continue;else f<o?n.bl_tree[r*2]+=f:r!==0?(r!==h&&n.bl_tree[r*2]++,n.bl_tree[lt*2]++):f<=10?n.bl_tree[at*2]++:n.bl_tree[vt*2]++;f=0;h=r;u===0?(e=138,o=3):r===u?(e=6,o=3):(e=7,o=4)}}function fi(n,t,i){var c,l=-1,e,o=t[1],f=0,s=7,h=4;for(o===0&&(s=138,h=3),c=0;c<=i;c++){if(e=o,o=t[(c+1)*2+1],++f<s&&e===o)continue;else if(f<h){do u(n,e,n.bl_tree);while(--f!=0)}else e!==0?(e!==l&&(u(n,e,n.bl_tree),f--),u(n,lt,n.bl_tree),r(n,f-3,2)):f<=10?(u(n,at,n.bl_tree),r(n,f-3,3)):(u(n,vt,n.bl_tree),r(n,f-11,7));f=0;l=e;o===0?(s=138,h=3):e===o?(s=6,h=3):(s=7,h=4)}}function ki(n){var t;for(ui(n,n.dyn_ltree,n.l_desc.max_code),ui(n,n.dyn_dtree,n.d_desc.max_code),ft(n,n.bl_desc),t=d-1;t>=3;t--)if(n.bl_tree[yt[t]*2+1]!==0)break;return n.opt_len+=3*(t+1)+5+5+4,t}function di(n,t,i,u){var f;for(r(n,t-257,5),r(n,i-1,5),r(n,u-4,4),f=0;f<u;f++)r(n,n.bl_tree[yt[f]*2+1],3);fi(n,n.dyn_ltree,t-1);fi(n,n.dyn_dtree,i-1)}function gi(n){for(var i=4093624447,t=0;t<=31;t++,i>>>=1)if(i&1&&n.dyn_ltree[t*2]!==0)return ot;if(n.dyn_ltree[18]!==0||n.dyn_ltree[20]!==0||n.dyn_ltree[26]!==0)return st;for(t=32;t<a;t++)if(n.dyn_ltree[t*2]!==0)return st;return ot}function nr(n){et||(wi(),et=!0);n.l_desc=new rt(n.dyn_ltree,pt);n.d_desc=new rt(n.dyn_dtree,wt);n.bl_desc=new rt(n.bl_tree,bt);n.bi_buf=0;n.bi_valid=0;ni(n)}function ei(n,t,i,u){r(n,(ci<<1)+(u?1:0),3);bi(n,t,i,!0)}function tr(n){r(n,ht<<1,3);u(n,nt,f);yi(n)}function ir(n,t,i,u){var e,o,s=0;n.level>0?(n.strm.data_type===hi&&(n.strm.data_type=gi(n)),ft(n,n.l_desc),ft(n,n.d_desc),s=ki(n),e=n.opt_len+3+7>>>3,o=n.static_len+3+7>>>3,o<=e&&(e=o)):e=o=i+5;i+4<=e&&t!==-1?ei(n,t,i,u):n.strategy===si||o===e?(r(n,(ht<<1)+(u?1:0),3),ri(n,f,h)):(r(n,(li<<1)+(u?1:0),3),di(n,n.l_desc.max_code+1,n.d_desc.max_code+1,s+1),ri(n,n.dyn_ltree,n.dyn_dtree));ni(n);u&&ti(n)}function rr(n,t,i){return n.pending_buf[n.d_buf+n.last_lit*2]=t>>>8&255,n.pending_buf[n.d_buf+n.last_lit*2+1]=t&255,n.pending_buf[n.l_buf+n.last_lit]=i&255,n.last_lit++,t===0?n.dyn_ltree[i*2]++:(n.matches++,t--,n.dyn_ltree[(l[i]+a+1)*2]++,n.dyn_dtree[kt(t)*2]++),n.last_lit===n.lit_bufsize-1}var oi=n('../utils/common'),si=4,ot=0,st=1,hi=2,ci=0,ht=1,li=2,k=29,a=256,v=a+1+k,s=30,d=19,ct=2*v+1,e=15,g=16,ai=7,nt=256,lt=16,at=17,vt=18,tt=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],w=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],vi=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],yt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],f=new Array((v+2)*2),h,c,l,b,y,pt,wt,bt,et;o(f);h=new Array(s*2);o(h);c=new Array(512);o(c);l=new Array(256);o(l);b=new Array(k);o(b);y=new Array(s);o(y);et=!1;i._tr_init=nr;i._tr_stored_block=ei;i._tr_flush_block=ir;i._tr_tally=rr;i._tr_align=tr},{"../utils/common":175}],185:[function(n,t){'use strict';function i(){this.input=null;this.next_in=0;this.avail_in=0;this.total_in=0;this.output=null;this.next_out=0;this.avail_out=0;this.total_out=0;this.msg='';this.state=null;this.data_type=2;this.adler=0}t.localExports=i},{}],186:[function(n,t){(function(i){(function(){var f,r,u;r=n('fs');u=n('zlib');t.localExports=f=function(){function n(n){var t,h,r,o,c,l,u,e,s,f,a;for(this.data=n,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.text={};;){t=this.readUInt32();l=function(){var n,t;for(t=[],r=n=0;n<4;r=++n)t.push(String.fromCharCode(this.data[this.pos++]));return t}.call(this).join('');switch(l){case'IHDR':this.width=this.readUInt32();this.height=this.readUInt32();this.bits=this.data[this.pos++];this.colorType=this.data[this.pos++];this.compressionMethod=this.data[this.pos++];this.filterMethod=this.data[this.pos++];this.interlaceMethod=this.data[this.pos++];break;case'PLTE':this.palette=this.read(t);break;case'IDAT':for(r=s=0;s<t;r=s+=1)this.imgData.push(this.data[this.pos++]);break;case'tRNS':this.transparency={};switch(this.colorType){case 3:if(this.transparency.indexed=this.read(t),u=255-this.transparency.indexed.length,u>0)for(r=f=0;0<=u?f<u:f>u;r=0<=u?++f:--f)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(t)[0];break;case 2:this.transparency.rgb=this.read(t)}break;case'tEXt':e=this.read(t);o=e.indexOf(0);c=String.fromCharCode.apply(String,e.slice(0,o));this.text[c]=String.fromCharCode.apply(String,e.slice(o+1));break;case'IEND':this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this);this.hasAlphaChannel=(a=this.colorType)===4||a===6;h=this.colors+(this.hasAlphaChannel?1:0);this.pixelBitlength=this.bits*h;this.colorSpace=function(){switch(this.colors){case 1:return'DeviceGray';case 3:return'DeviceRGB'}}.call(this);this.imgData=new i(this.imgData);return;default:this.pos+=t}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file");}}return n.decode=function(t,i){return r.readFile(t,function(t,r){var u;return u=new n(r),u.decode(function(n){return i(n)})})},n.load=function(t){var i;return i=r.readFileSync(t),new n(i)},n.prototype.read=function(n){for(var t,i=[],r=t=0;0<=n?t<n:t>n;r=0<=n?++t:--t)i.push(this.data[this.pos++]);return i},n.prototype.readUInt32=function(){var n,t,i,r;return n=this.data[this.pos++]<<24,t=this.data[this.pos++]<<16,i=this.data[this.pos++]<<8,r=this.data[this.pos++],n|t|i|r},n.prototype.readUInt16=function(){var n,t;return n=this.data[this.pos++]<<8,t=this.data[this.pos++],n|t},n.prototype.decodePixels=function(n){var t=this;return u.inflate(this.imgData,function(r,u){var v,h,y,f,p,ft,b,k,et,d,g,e,o,c,l,s,a,w,nt,tt,it,rt,ut;if(r)throw r;for(e=t.pixelBitlength/8,s=e*t.width,o=new i(s*t.height),ft=u.length,l=0,c=0,h=0;c<ft;){switch(u[c++]){case 0:for(f=nt=0;nt<s;f=nt+=1)o[h++]=u[c++];break;case 1:for(f=tt=0;tt<s;f=tt+=1)v=u[c++],p=f<e?0:o[h-e],o[h++]=(v+p)%256;break;case 2:for(f=it=0;it<s;f=it+=1)v=u[c++],y=(f-f%e)/e,a=l&&o[(l-1)*s+y*e+f%e],o[h++]=(a+v)%256;break;case 3:for(f=rt=0;rt<s;f=rt+=1)v=u[c++],y=(f-f%e)/e,p=f<e?0:o[h-e],a=l&&o[(l-1)*s+y*e+f%e],o[h++]=(v+Math.floor((p+a)/2))%256;break;case 4:for(f=ut=0;ut<s;f=ut+=1)v=u[c++],y=(f-f%e)/e,p=f<e?0:o[h-e],l===0?a=w=0:(a=o[(l-1)*s+y*e+f%e],w=y&&o[(l-1)*s+(y-1)*e+f%e]),b=p+a-w,k=Math.abs(b-p),d=Math.abs(b-a),g=Math.abs(b-w),et=k<=d&&k<=g?p:d<=g?a:w,o[h++]=(v+et)%256;break;default:throw new Error("Invalid filter algorithm: "+u[c-1]);}l++}return n(o)})},n.prototype.decodePalette=function(){var o,r,c,n,u,t,f,e,s,h;for(n=this.palette,f=this.transparency.indexed||[],t=new i(f.length+n.length),u=0,c=n.length,o=0,r=e=0,s=n.length;e<s;r=e+=3)t[u++]=n[r],t[u++]=n[r+1],t[u++]=n[r+2],t[u++]=(h=f[o++])!=null?h:255;return t},n.prototype.copyToImageData=function(n,t){var s,c,r,i,f,e,u,l,o,h,a;if(c=this.colors,o=null,s=this.hasAlphaChannel,this.palette.length&&(o=(a=this._decodedPalette)!=null?a:this._decodedPalette=this.decodePalette(),c=4,s=!0),r=(n!=null?n.data:void 0)||n,l=r.length,f=o||t,i=e=0,c===1)while(i<l)u=o?t[i/4]*4:e,h=f[u++],r[i++]=h,r[i++]=h,r[i++]=h,r[i++]=s?f[u++]:255,e=u;else while(i<l)u=o?t[i/4]*4:e,r[i++]=f[u++],r[i++]=f[u++],r[i++]=f[u++],r[i++]=s?f[u++]:255,e=u},n.prototype.decode=function(n){var t,r=this;return t=new i(this.width*this.height*4),this.decodePixels(function(i){return r.copyToImageData(t,i),n(t)})},n}()}).call(this)}).call(this,n("buffer").Buffer)},{buffer:60,fs:59,zlib:58}],187:[function(n,t){(function(n){'use strict';function i(t,i,r,u){if(typeof t!='function')throw new TypeError('"callback" argument must be a function');var o=arguments.length,f,e;switch(o){case 0:case 1:return n.nextTick(t);case 2:return n.nextTick(function(){t.call(null,i)});case 3:return n.nextTick(function(){t.call(null,i,r)});case 4:return n.nextTick(function(){t.call(null,i,r,u)});default:for(f=new Array(o-1),e=0;e<f.length;)f[e++]=arguments[e];return n.nextTick(function(){t.apply(null,f)})}}t.localExports=n.version&&n.version.indexOf('v0.')!==0&&(n.version.indexOf('v1.')!==0||n.version.indexOf('v1.8.')===0)?n.nextTick:i}).call(this,n('_process'))},{_process:188}],188:[function(n,t){function c(n){if(e===setTimeout)return setTimeout(n,0);try{return e(n,0)}catch(t){try{return e.call(null,n,0)}catch(t){return e.call(this,n,0)}}}function v(n){if(o===clearTimeout)return clearTimeout(n);try{return o(n)}catch(t){try{return o.call(null,n)}catch(t){return o.call(this,n)}}}function y(){s&&u&&(s=!1,u.length?r=u.concat(r):h=-1,r.length&&l())}function l(){var t,n;if(!s){for(t=c(y),s=!0,n=r.length;n;){for(u=r,r=[];++h<n;)u&&u[h].run();h=-1;n=r.length}u=null;s=!1;v(t)}}function a(n,t){this.fun=n;this.array=t}function f(){}var i=t.localExports={},e,o;(function(){try{e=setTimeout}catch(n){e=function(){throw new Error('setTimeout is not defined');}}try{o=clearTimeout}catch(n){o=function(){throw new Error('clearTimeout is not defined');}}})();var r=[],s=!1,u,h=-1;i.nextTick=function(n){var i=new Array(arguments.length-1),t;if(arguments.length>1)for(t=1;t<arguments.length;t++)i[t-1]=arguments[t];r.push(new a(n,i));r.length!==1||s||c(l)};a.prototype.run=function(){this.fun.apply(null,this.array)};i.title='browser';i.browser=!0;i.env={};i.argv=[];i.version='';i.versions={};i.on=f;i.addListener=f;i.once=f;i.off=f;i.removeListener=f;i.removeAllListeners=f;i.emit=f;i.binding=function(){throw new Error('process.binding is not supported');};i.cwd=function(){return'/'};i.chdir=function(){throw new Error('process.chdir is not supported');};i.umask=function(){return 0}},{}],189:[function(n,t){t.localExports=n("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":190}],190:[function(n,t){'use strict';function i(n){if(!(this instanceof i))return new i(n);o.call(this,n);r.call(this,n);n&&n.readable===!1&&(this.readable=!1);n&&n.writable===!1&&(this.writable=!1);this.allowHalfOpen=!0;n&&n.allowHalfOpen===!1&&(this.allowHalfOpen=!1);this.once('end',l)}function l(){this.allowHalfOpen||this._writableState.ended||h(a,this)}function a(n){n.end()}var c=Object.keys||function(n){var t=[];for(var i in n)t.push(i);return t},h,e,o,r,s,u,f;for(t.localExports=i,h=n('process-nextick-args'),e=n('core-util-is'),e.inherits=n('inherits'),o=n('./_stream_readable'),r=n('./_stream_writable'),e.inherits(i,o),s=c(r.prototype),u=0;u<s.length;u++)f=s[u],i.prototype[f]||(i.prototype[f]=r.prototype[f])},{"./_stream_readable":192,"./_stream_writable":194,"core-util-is":160,inherits:167,"process-nextick-args":187}],191:[function(n,t){'use strict';function i(n){if(!(this instanceof i))return new i(n);r.call(this,n)}t.localExports=i;var r=n('./_stream_transform'),u=n('core-util-is');u.inherits=n('inherits');u.inherits(i,r);i.prototype._transform=function(n,t,i){i(null,n)}},{"./_stream_transform":193,"core-util-is":160,inherits:167}],192:[function(n,t){(function(i){'use strict';function b(t,i){h=h||n('./_stream_duplex');t=t||{};this.objectMode=!!t.objectMode;i instanceof h&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var r=t.highWaterMark,u=this.objectMode?16:16384;this.highWaterMark=r||r===0?r:u;this.highWaterMark=~~this.highWaterMark;this.buffer=[];this.length=0;this.pipes=null;this.pipesCount=0;this.flowing=null;this.ended=!1;this.endEmitted=!1;this.reading=!1;this.sync=!0;this.needReadable=!1;this.emittedReadable=!1;this.readableListening=!1;this.resumeScheduled=!1;this.defaultEncoding=t.defaultEncoding||'utf8';this.ranOut=!1;this.awaitDrain=0;this.readingMore=!1;this.decoder=null;this.encoding=null;t.encoding&&(o||(o=n('string_decoder/').StringDecoder),this.decoder=new o(t.encoding),this.encoding=t.encoding)}function u(t){if(h=h||n('./_stream_duplex'),!(this instanceof u))return new u(t);this._readableState=new b(t,this);this.readable=!0;t&&typeof t.read=='function'&&(this._read=t.read);e.call(this)}function k(n,t,i,r,u){var e=ft(t,i),f,o;return e?n.emit('error',e):i===null?(t.reading=!1,et(n,t)):t.objectMode||i&&i.length>0?t.ended&&!u?(f=new Error('stream.push() after EOF'),n.emit('error',f)):t.endEmitted&&u?(f=new Error('stream.unshift() after end event'),n.emit('error',f)):(!t.decoder||u||r||(i=t.decoder.write(i),o=!t.objectMode&&i.length===0),u||(t.reading=!1),o||(t.flowing&&t.length===0&&!t.sync?(n.emit('data',i),n.read(0)):(t.length+=t.objectMode?1:i.length,u?t.buffer.unshift(i):t.buffer.push(i),t.needReadable&&l(n))),ot(n,t)):u||(t.reading=!1),rt(t)}function rt(n){return!n.ended&&(n.needReadable||n.length<n.highWaterMark||n.length===0)}function ut(n){return n>=y?n=y:(n--,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n++),n}function d(n,t){return t.length===0&&t.ended?0:t.objectMode?n===0?0:1:n===null||isNaN(n)?t.flowing&&t.buffer.length?t.buffer[0].length:t.length:n<=0?0:(n>t.highWaterMark&&(t.highWaterMark=ut(n)),n>t.length)?t.ended?t.length:(t.needReadable=!0,0):n}function ft(n,t){var i=null;return s.isBuffer(t)||typeof t=='string'||t===null||t===undefined||n.objectMode||(i=new TypeError('Invalid non-string/buffer chunk')),i}function et(n,t){if(!t.ended){if(t.decoder){var i=t.decoder.end();i&&i.length&&(t.buffer.push(i),t.length+=t.objectMode?1:i.length)}t.ended=!0;l(n)}}function l(n){var t=n._readableState;t.needReadable=!1;t.emittedReadable||(r('emitReadable',t.flowing),t.emittedReadable=!0,t.sync?f(g,n):g(n))}function g(n){r('emit readable');n.emit('readable');p(n)}function ot(n,t){t.readingMore||(t.readingMore=!0,f(st,n,t))}function st(n,t){for(var i=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark;)if(r('maybeReadMore read 0'),n.read(0),i===t.length)break;else i=t.length;t.readingMore=!1}function ht(n){return function(){var t=n._readableState;r('pipeOnDrain',t.awaitDrain);t.awaitDrain&&t.awaitDrain--;t.awaitDrain===0&&a(n,'data')&&(t.flowing=!0,p(n))}}function ct(n){r('readable nexttick read 0');n.read(0)}function lt(n,t){t.resumeScheduled||(t.resumeScheduled=!0,f(at,n,t))}function at(n,t){t.reading||(r('resume read 0'),n.read(0));t.resumeScheduled=!1;n.emit('resume');p(n);t.flowing&&!t.reading&&n.read(0)}function p(n){var t=n._readableState,i;if(r('flow',t.flowing),t.flowing)do i=n.read();while(null!==i&&t.flowing)}function nt(n,t){var i=t.buffer,o=t.length,h=!!t.decoder,a=!!t.objectMode,r,e,c,l,u,f;if(i.length===0)return null;if(o===0)r=null;else if(a)r=i.shift();else if(!n||n>=o)r=h?i.join(''):i.length===1?i[0]:s.concat(i,o),i.length=0;else if(n<i[0].length)u=i[0],r=u.slice(0,n),i[0]=u.slice(n);else if(n===i[0].length)r=i.shift();else for(r=h?'':new s(n),e=0,c=0,l=i.length;c<l&&e<n;c++)u=i[0],f=Math.min(n-e,u.length),h?r+=u.slice(0,f):u.copy(r,e,0,f),f<u.length?i[0]=u.slice(f):i.shift(),e+=f;return r}function w(n){var t=n._readableState;if(t.length>0)throw new Error('endReadable called on non-empty stream');t.endEmitted||(t.ended=!0,f(vt,t,n))}function vt(n,t){n.endEmitted||n.length!==0||(n.endEmitted=!0,t.readable=!1,t.emit('end'))}function yt(n,t){for(var i=0,r=n.length;i<r;i++)t(n[i],i)}function pt(n,t){for(var i=0,r=n.length;i<r;i++)if(n[i]===t)return i;return-1}var it,a,e,s,v,c,r,o,h,y;t.localExports=u;var f=n('process-nextick-args'),tt=n('isarray'),s=n('buffer').Buffer;u.ReadableState=b;it=n('events');a=function(n,t){return n.listeners(t).length},function(){try{e=n("stream")}catch(t){}finally{e||(e=n('events').EventEmitter)}}();s=n('buffer').Buffer;v=n('core-util-is');v.inherits=n('inherits');c=n('util');r=undefined;r=c&&c.debuglog?c.debuglog('stream'):function(){};v.inherits(u,e);u.prototype.push=function(n,t){var i=this._readableState;return i.objectMode||typeof n!='string'||(t=t||i.defaultEncoding,t!==i.encoding&&(n=new s(n,t),t='')),k(this,i,n,t,!1)};u.prototype.unshift=function(n){var t=this._readableState;return k(this,t,n,'',!0)};u.prototype.isPaused=function(){return this._readableState.flowing===!1};u.prototype.setEncoding=function(t){return o||(o=n('string_decoder/').StringDecoder),this._readableState.decoder=new o(t),this._readableState.encoding=t,this};y=8388608;u.prototype.read=function(n){var t,f,i,u;return(r('read',n),t=this._readableState,f=n,(typeof n!='number'||n>0)&&(t.emittedReadable=!1),n===0&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))?(r('read: emitReadable',t.length,t.ended),t.length===0&&t.ended?w(this):l(this),null):(n=d(n,t),n===0&&t.ended)?(t.length===0&&w(this),null):(i=t.needReadable,r('need readable',i),(t.length===0||t.length-n<t.highWaterMark)&&(i=!0,r('length less than watermark',i)),(t.ended||t.reading)&&(i=!1,r('reading or ended',i)),i&&(r('do read'),t.reading=!0,t.sync=!0,t.length===0&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1),i&&!t.reading&&(n=d(f,t)),u=n>0?nt(n,t):null,u===null&&(t.needReadable=!0,n=0),t.length-=n,t.length!==0||t.ended||(t.needReadable=!0),f!==n&&t.ended&&t.length===0&&w(this),u!==null&&this.emit('data',u),u)};u.prototype._read=function(){this.emit('error',new Error('not implemented'))};u.prototype.pipe=function(n,t){function b(n){r('onunpipe');n===u&&l()}function k(){r('onend');n.end()}function l(){r('cleanup');n.removeListener('close',v);n.removeListener('finish',y);n.removeListener('drain',s);n.removeListener('error',o);n.removeListener('unpipe',b);u.removeListener('end',k);u.removeListener('end',l);u.removeListener('data',d);c=!0;e.awaitDrain&&(!n._writableState||n._writableState.needDrain)&&s()}function d(t){r('ondata');var i=n.write(t);!1===i&&(e.pipesCount!==1||e.pipes[0]!==n||u.listenerCount('data')!==1||c||(r('false write response, pause',u._readableState.awaitDrain),u._readableState.awaitDrain++),u.pause())}function o(t){r('onerror',t);p();n.removeListener('error',o);a(n,'error')===0&&n.emit('error',t)}function v(){n.removeListener('finish',y);p()}function y(){r('onfinish');n.removeListener('close',v);p()}function p(){r('unpipe');u.unpipe(n)}var u=this,e=this._readableState,w,h,s,c;switch(e.pipesCount){case 0:e.pipes=n;break;case 1:e.pipes=[e.pipes,n];break;default:e.pipes.push(n)}if(e.pipesCount+=1,r('pipe count=%d opts=%j',e.pipesCount,t),w=(!t||t.end!==!1)&&n!==i.stdout&&n!==i.stderr,h=w?k:l,e.endEmitted)f(h);else u.once('end',h);n.on('unpipe',b);s=ht(u);n.on('drain',s);c=!1;u.on('data',d);if(n._events&&n._events.error)tt(n._events.error)?n._events.error.unshift(o):n._events.error=[o,n._events.error];else n.on('error',o);n.once('close',v);n.once('finish',y);return n.emit('pipe',u),e.flowing||(r('pipe resume'),u.resume()),n};u.prototype.unpipe=function(n){var t=this._readableState,u,f,i,r;if(t.pipesCount===0)return this;if(t.pipesCount===1)return n&&n!==t.pipes?this:(n||(n=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,n&&n.emit('unpipe',this),this);if(!n){for(u=t.pipes,f=t.pipesCount,t.pipes=null,t.pipesCount=0,t.flowing=!1,i=0;i<f;i++)u[i].emit('unpipe',this);return this}return(r=pt(t.pipes,n),r===-1)?this:(t.pipes.splice(r,1),t.pipesCount-=1,t.pipesCount===1&&(t.pipes=t.pipes[0]),n.emit('unpipe',this),this)};u.prototype.on=function(n,t){var r=e.prototype.on.call(this,n,t),i;return n==='data'&&!1!==this._readableState.flowing&&this.resume(),n!=='readable'||this._readableState.endEmitted||(i=this._readableState,i.readableListening||(i.readableListening=!0,i.emittedReadable=!1,i.needReadable=!0,i.reading?i.length&&l(this,i):f(ct,this))),r};u.prototype.addListener=u.prototype.on;u.prototype.resume=function(){var n=this._readableState;return n.flowing||(r('resume'),n.flowing=!0,lt(this,n)),this};u.prototype.pause=function(){return r('call pause flowing=%j',this._readableState.flowing),!1!==this._readableState.flowing&&(r('pause'),this._readableState.flowing=!1,this.emit('pause')),this};u.prototype.wrap=function(n){var t=this._readableState,f=!1,i=this,u,e;n.on('end',function(){if(r('wrapped end'),t.decoder&&!t.ended){var n=t.decoder.end();n&&n.length&&i.push(n)}i.push(null)});n.on('data',function(u){if((r('wrapped data'),t.decoder&&(u=t.decoder.write(u)),!t.objectMode||u!==null&&u!==undefined)&&(t.objectMode||u&&u.length)){var e=i.push(u);e||(f=!0,n.pause())}});for(u in n)this[u]===undefined&&typeof n[u]=='function'&&(this[u]=function(t){return function(){return n[t].apply(n,arguments)}}(u));return e=['error','close','destroy','pause','resume'],yt(e,function(t){n.on(t,i.emit.bind(i,t))}),i._read=function(t){r('wrapped _read',t);f&&(f=!1,n.resume())},i};u._fromList=nt}).call(this,n('_process'))},{"./_stream_duplex":190,_process:188,buffer:60,"core-util-is":160,events:164,inherits:167,isarray:169,"process-nextick-args":187,"string_decoder/":217,util:56}],193:[function(n,t){'use strict';function e(n){this.afterTransform=function(t,i){return o(n,t,i)};this.needTransform=!1;this.transforming=!1;this.writecb=null;this.writechunk=null;this.writeencoding=null}function o(n,t,i){var u=n._transformState,f,r;if(u.transforming=!1,f=u.writecb,!f)return n.emit('error',new Error('no writecb in Transform class'));u.writechunk=null;u.writecb=null;i!==null&&i!==undefined&&n.push(i);f(t);r=n._readableState;r.reading=!1;(r.needReadable||r.length<r.highWaterMark)&&n._read(r.highWaterMark)}function i(n){if(!(this instanceof i))return new i(n);r.call(this,n);this._transformState=new e(this);var t=this;this._readableState.needReadable=!0;this._readableState.sync=!1;n&&(typeof n.transform=='function'&&(this._transform=n.transform),typeof n.flush=='function'&&(this._flush=n.flush));this.once('prefinish',function(){typeof this._flush=='function'?this._flush(function(n){f(t,n)}):f(t)})}function f(n,t){if(t)return n.emit('error',t);var i=n._writableState,r=n._transformState;if(i.length)throw new Error('calling transform done when ws.length != 0');if(r.transforming)throw new Error('calling transform done when still transforming');return n.push(null)}t.localExports=i;var r=n('./_stream_duplex'),u=n('core-util-is');u.inherits=n('inherits');u.inherits(i,r);i.prototype.push=function(n,t){return this._transformState.needTransform=!1,r.prototype.push.call(this,n,t)};i.prototype._transform=function(){throw new Error('not implemented');};i.prototype._write=function(n,t,i){var r=this._transformState,u;r.writecb=i;r.writechunk=n;r.writeencoding=t;r.transforming||(u=this._readableState,(r.needTransform||u.needReadable||u.length<u.highWaterMark)&&this._read(u.highWaterMark))};i.prototype._read=function(){var n=this._transformState;n.writechunk!==null&&n.writecb&&!n.transforming?(n.transforming=!0,this._transform(n.writechunk,n.writeencoding,n.afterTransform)):n.needTransform=!0}},{"./_stream_duplex":190,"core-util-is":160,inherits:167}],194:[function(n,t){(function(i){'use strict';function d(){}function g(n,t,i){this.chunk=n;this.encoding=t;this.callback=i;this.next=null}function s(t,i){var r,f,e;u=u||n('./_stream_duplex');t=t||{};this.objectMode=!!t.objectMode;i instanceof u&&(this.objectMode=this.objectMode||!!t.writableObjectMode);r=t.highWaterMark;f=this.objectMode?16:16384;this.highWaterMark=r||r===0?r:f;this.highWaterMark=~~this.highWaterMark;this.needDrain=!1;this.ending=!1;this.ended=!1;this.finished=!1;e=t.decodeStrings===!1;this.decodeStrings=!e;this.defaultEncoding=t.defaultEncoding||'utf8';this.length=0;this.writing=!1;this.corked=0;this.sync=!0;this.bufferProcessing=!1;this.onwrite=function(n){et(i,n)};this.writecb=null;this.writelen=0;this.bufferedRequest=null;this.lastBufferedRequest=null;this.pendingcb=0;this.prefinished=!1;this.errorEmitted=!1;this.bufferedRequestCount=0;this.corkedRequestsFree=new b(this);this.corkedRequestsFree.next=new b(this)}function r(t){if(u=u||n('./_stream_duplex'),!(this instanceof r)&&!(this instanceof u))return new r(t);this._writableState=new s(t,this);this.writable=!0;t&&(typeof t.write=='function'&&(this._write=t.write),typeof t.writev=='function'&&(this._writev=t.writev));o.call(this)}function nt(n,t){var i=new Error('write after end');n.emit('error',i);f(t,i)}function tt(n,t,i,r){var o=!0,u;return e.isBuffer(i)||typeof i=='string'||i===null||i===undefined||t.objectMode||(u=new TypeError('Invalid non-string/buffer chunk'),n.emit('error',u),f(r,u),o=!1),o}function it(n,t,i){return n.objectMode||n.decodeStrings===!1||typeof t!='string'||(t=new e(t,i)),t}function rt(n,t,i,r,u){var f,o,s;return i=it(t,i,r),e.isBuffer(i)&&(r='buffer'),f=t.objectMode?1:i.length,t.length+=f,o=t.length<t.highWaterMark,o||(t.needDrain=!0),t.writing||t.corked?(s=t.lastBufferedRequest,t.lastBufferedRequest=new g(i,r,u),s?s.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1):c(n,t,!1,f,i,r,u),o}function c(n,t,i,r,u,f,e){t.writelen=r;t.writecb=e;t.writing=!0;t.sync=!0;i?n._writev(u,t.onwrite):n._write(u,f,t.onwrite);t.sync=!1}function ut(n,t,i,r,u){--t.pendingcb;i?f(u,r):u(r);n._writableState.errorEmitted=!0;n.emit('error',r)}function ft(n){n.writing=!1;n.writecb=null;n.length-=n.writelen;n.writelen=0}function et(n,t){var i=n._writableState,f=i.sync,u=i.writecb,r;ft(i);t?ut(n,i,f,t,u):(r=y(i),r||i.corked||i.bufferProcessing||!i.bufferedRequest||v(n,i),f?k(a,n,i,r,u):a(n,i,r,u))}function a(n,t,i,r){i||ot(n,t);t.pendingcb--;r();w(n,t)}function ot(n,t){t.length===0&&t.needDrain&&(t.needDrain=!1,n.emit('drain'))}function v(n,t){var i,u;if(t.bufferProcessing=!0,i=t.bufferedRequest,n._writev&&i&&i.next){var o=t.bufferedRequestCount,f=new Array(o),r=t.corkedRequestsFree;for(r.entry=i,u=0;i;)f[u]=i,i=i.next,u+=1;c(n,t,!0,t.length,f,'',r.finish);t.pendingcb++;t.lastBufferedRequest=null;t.corkedRequestsFree=r.next;r.next=null}else{while(i){var e=i.chunk,s=i.encoding,h=i.callback,l=t.objectMode?1:e.length;if(c(n,t,!1,l,e,s,h),i=i.next,t.writing)break}i===null&&(t.lastBufferedRequest=null)}t.bufferedRequestCount=0;t.bufferedRequest=i;t.bufferProcessing=!1}function y(n){return n.ending&&n.length===0&&n.bufferedRequest===null&&!n.finished&&!n.writing}function p(n,t){t.prefinished||(t.prefinished=!0,n.emit('prefinish'))}function w(n,t){var i=y(t);return i&&(t.pendingcb===0?(p(n,t),t.finished=!0,n.emit('finish')):p(n,t)),i}function st(n,t,i){if(t.ending=!0,w(n,t),i)if(t.finished)f(i);else n.once('finish',i);t.ended=!0;n.writable=!1}function b(n){var t=this;this.next=null;this.entry=null;this.finish=function(i){var r=t.entry,u;for(t.entry=null;r;)u=r.callback,n.pendingcb--,u(i),r=r.next;n.corkedRequestsFree?n.corkedRequestsFree.next=t:n.corkedRequestsFree=t}}var h,l,o,e,u;t.localExports=r;var f=n('process-nextick-args'),k=!i.browser&&['v0.10','v0.9.'].indexOf(i.version.slice(0,5))>-1?setImmediate:f,e=n('buffer').Buffer;r.WritableState=s;h=n('core-util-is');h.inherits=n('inherits');l={deprecate:n('util-deprecate')},function(){try{o=n("stream")}catch(t){}finally{o||(o=n('events').EventEmitter)}}();e=n('buffer').Buffer;h.inherits(r,o);s.prototype.getBuffer=function(){for(var n=this.bufferedRequest,t=[];n;)t.push(n),n=n.next;return t},function(){try{Object.defineProperty(s.prototype,'buffer',{get:l.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch(n){}}();r.prototype.pipe=function(){this.emit('error',new Error('Cannot pipe. Not readable.'))};r.prototype.write=function(n,t,i){var r=this._writableState,u=!1;return typeof t=='function'&&(i=t,t=null),e.isBuffer(n)?t='buffer':t||(t=r.defaultEncoding),typeof i!='function'&&(i=d),r.ended?nt(this,i):tt(this,r,n,i)&&(r.pendingcb++,u=rt(this,r,n,t,i)),u};r.prototype.cork=function(){var n=this._writableState;n.corked++};r.prototype.uncork=function(){var n=this._writableState;n.corked&&(n.corked--,n.writing||n.corked||n.finished||n.bufferProcessing||!n.bufferedRequest||v(this,n))};r.prototype.setDefaultEncoding=function(n){if(typeof n=='string'&&(n=n.toLowerCase()),!(['hex','utf8','utf-8','ascii','binary','base64','ucs2','ucs-2','utf16le','utf-16le','raw'].indexOf((n+'').toLowerCase())>-1))throw new TypeError('Unknown encoding: '+n);this._writableState.defaultEncoding=n};r.prototype._write=function(n,t,i){i(new Error('not implemented'))};r.prototype._writev=null;r.prototype.end=function(n,t,i){var r=this._writableState;typeof n=='function'?(i=n,n=null,t=null):typeof t=='function'&&(i=t,t=null);n!==null&&n!==undefined&&this.write(n,t);r.corked&&(r.corked=1,this.uncork());r.ending||r.finished||st(this,r,i)}}).call(this,n('_process'))},{"./_stream_duplex":190,_process:188,buffer:60,"core-util-is":160,events:164,inherits:167,"process-nextick-args":187,"util-deprecate":222}],195:[function(n,t){t.localExports=n("./lib/_stream_passthrough.js")},{"./lib/_stream_passthrough.js":191}],196:[function(n,t,i){var r=function(){try{return n("stream")}catch(t){}}();i=t.localExports=n('./lib/_stream_readable.js');i.Stream=r||i;i.Readable=i;i.Writable=n('./lib/_stream_writable.js');i.Duplex=n('./lib/_stream_duplex.js');i.Transform=n('./lib/_stream_transform.js');i.PassThrough=n('./lib/_stream_passthrough.js')},{"./lib/_stream_duplex.js":190,"./lib/_stream_passthrough.js":191,"./lib/_stream_readable.js":192,"./lib/_stream_transform.js":193,"./lib/_stream_writable.js":194}],197:[function(n,t){t.localExports=n("./lib/_stream_transform.js")},{"./lib/_stream_transform.js":193}],198:[function(n,t){t.localExports=n("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":194}],199:[function(n,t,i){(function(){var t,r,u,f;i.EncodeStream=n('./src/EncodeStream');i.DecodeStream=n('./src/DecodeStream');i.Array=n('./src/Array');i.LazyArray=n('./src/LazyArray');i.Bitfield=n('./src/Bitfield');i.Boolean=n('./src/Boolean');i.Buffer=n('./src/Buffer');i.Enum=n('./src/Enum');i.Optional=n('./src/Optional');i.Reserved=n('./src/Reserved');i.String=n('./src/String');i.Struct=n('./src/Struct');i.VersionedStruct=n('./src/VersionedStruct');u=n('./src/Number');for(t in u)r=u[t],i[t]=r;f=n('./src/Pointer');for(t in f)r=f[t],i[t]=r}).call(this)},{"./src/Array":200,"./src/Bitfield":201,"./src/Boolean":202,"./src/Buffer":203,"./src/DecodeStream":204,"./src/EncodeStream":205,"./src/Enum":206,"./src/LazyArray":207,"./src/Number":208,"./src/Optional":209,"./src/Pointer":210,"./src/Reserved":211,"./src/String":212,"./src/Struct":213,"./src/VersionedStruct":214}],200:[function(n,t){(function(){var u,i,r;i=n('./Number').Number;r=n('./utils');u=function(){function n(n,t,i){this.type=n;this.length=t;this.lengthType=i!=null?i:'count'}return n.prototype.decode=function(n,t){var e,s,u,h,f,c,o;if(h=n.pos,f=[],e=t,this.length!=null&&(u=r.resolveLength(this.length,n,t)),this.length instanceof i&&(Object.defineProperties(f,{parent:{value:t},_startOffset:{value:h},_currentOffset:{value:0,writable:!0},_length:{value:u}}),e=f),u==null||this.lengthType==='bytes')for(c=u!=null?n.pos+u:(t!=null?t._length:void 0)?t._startOffset+t._length:n.length;n.pos<c;)f.push(this.type.decode(n,e));else for(s=o=0;o<u;s=o+=1)f.push(this.type.decode(n,e));return f},n.prototype.size=function(n,t){var e,u,f,o;if(!n)return this.type.size(null,t)*r.resolveLength(this.length,null,t);for(u=0,this.length instanceof i&&(u+=this.length.size(),t={parent:t}),f=0,o=n.length;f<o;f++)e=n[f],u+=this.type.size(e,t);return u},n.prototype.encode=function(n,t,r){var u,e,s,o,f,h;for(u=r,this.length instanceof i&&(u={pointers:[],startOffset:n.pos,parent:r},u.pointerOffset=n.pos+this.size(t,u),this.length.encode(n,t.length)),f=0,h=t.length;f<h;f++)s=t[f],this.type.encode(n,s,u);if(this.length instanceof i)for(e=0;e<u.pointers.length;)o=u.pointers[e++],o.type.encode(n,o.val)},n}();t.localExports=u}).call(this)},{"./Number":208,"./utils":215}],201:[function(n,t){(function(){var n;n=function(){function n(n,t){this.type=n;this.flags=t!=null?t:[]}return n.prototype.decode=function(n){var i,t,r,e,u,o,f;for(e=this.type.decode(n),r={},f=this.flags,t=u=0,o=f.length;u<o;t=++u)i=f[t],i!=null&&(r[i]=!!(e&1<<t));return r},n.prototype.size=function(){return this.type.size()},n.prototype.encode=function(n,t){var r,i,u,f,o,e;for(u=0,e=this.flags,i=f=0,o=e.length;f<o;i=++f)r=e[i],r!=null&&t[r]&&(u|=1<<i);return this.type.encode(n,u)},n}();t.localExports=n}).call(this)},{}],202:[function(n,t){(function(){var n;n=function(){function n(n){this.type=n}return n.prototype.decode=function(n,t){return!!this.type.decode(n,t)},n.prototype.size=function(n,t){return this.type.size(n,t)},n.prototype.encode=function(n,t,i){return this.type.encode(n,+t,i)},n}();t.localExports=n}).call(this)},{}],203:[function(n,t){(function(){var r,u,i;i=n('./utils');u=n('./Number').Number;r=function(){function n(n){this.length=n}return n.prototype.decode=function(n,t){var r;return r=i.resolveLength(this.length,n,t),n.readBuffer(r)},n.prototype.size=function(n,t){return n?n.length:i.resolveLength(this.length,null,t)},n.prototype.encode=function(n,t){return this.length instanceof u&&this.length.encode(n,t.length),n.writeBuffer(t)},n}();t.localExports=r}).call(this)},{"./Number":208,"./utils":215}],204:[function(n,t){(function(n){(function(){var r,i;try{i=function(){throw new Error('Cannot find module \'iconv-lite\' from \'/Users/devongovett/projects/PDFKit/node_modules/restructure/src\'');}()}catch(u){}r=function(){function t(n){this.buffer=n;this.pos=0;this.length=this.buffer.length}var r;t.TYPES={UInt8:1,UInt16:2,UInt24:3,UInt32:4,Int8:1,Int16:2,Int24:3,Int32:4,Float:4,Double:8};for(r in n.prototype)r.slice(0,4)==='read'&&function(n){var i;return i=t.TYPES[n.replace(/read|[BL]E/g,'')],t.prototype[n]=function(){var t;return t=this.buffer[n](this.pos),this.pos+=i,t}}(r);return t.prototype.readString=function(t,r){var u,o,f,e,s;r==null&&(r='ascii');switch(r){case'utf16le':case'ucs2':case'utf8':case'ascii':return this.buffer.toString(r,this.pos,this.pos+=t);case'utf16be':for(u=new n(this.readBuffer(t)),f=e=0,s=u.length-1;e<s;f=e+=2)o=u[f],u[f]=u[f+1],u[f+1]=o;return u.toString('utf16le');default:return(u=this.readBuffer(t),i)?i.decode(u,r):u}},t.prototype.readBuffer=function(n){return this.buffer.slice(this.pos,this.pos+=n)},t.prototype.readUInt24BE=function(){return(this.readUInt16BE()<<8)+this.readUInt8()},t.prototype.readUInt24LE=function(){return this.readUInt16LE()+(this.readUInt8()<<16)},t.prototype.readInt24BE=function(){return(this.readInt16BE()<<8)+this.readUInt8()},t.prototype.readInt24LE=function(){return this.readUInt16LE()+(this.readInt8()<<16)},t}();t.localExports=r}).call(this)}).call(this,n("buffer").Buffer)},{buffer:60}],205:[function(n,t){(function(i){(function(){var u,f,r,e,o={}.hasOwnProperty,s=function(n,t){function r(){this.constructor=n}for(var i in t)o.call(t,i)&&(n[i]=t[i]);return r.prototype=t.prototype,n.prototype=new r,n.__super__=t.prototype,n};e=n('stream');u=n('./DecodeStream');try{r=function(){throw new Error('Cannot find module \'iconv-lite\' from \'/Users/devongovett/projects/PDFKit/node_modules/restructure/src\'');}()}catch(h){}f=function(n){function t(){t.__super__.constructor.apply(this,arguments);this.pos=0}var f;s(t,n);for(f in i.prototype)f.slice(0,5)==='write'&&function(n){var r;return r=u.TYPES[n.replace(/write|[BL]E/g,'')],t.prototype[n]=function(t){var u;return u=new i(+r),u[n](t,0),this.writeBuffer(u)}}(f);return t.prototype._read=function(){},t.prototype.writeBuffer=function(n){return this.push(n),this.pos+=n.length},t.prototype.writeString=function(n,t){var u,o,f,e,s;t==null&&(t='ascii');switch(t){case'utf16le':case'ucs2':case'utf8':case'ascii':return this.writeBuffer(new i(n,t));case'utf16be':for(u=new i(n,'utf16le'),f=e=0,s=u.length-1;e<s;f=e+=2)o=u[f],u[f]=u[f+1],u[f+1]=o;return this.writeBuffer(u);default:if(r)return this.writeBuffer(r.encode(n,t));throw new Error('Install iconv-lite to enable additional string encodings.');}},t.prototype.writeUInt24BE=function(n){var t;return t=new i(3),t[0]=n>>>16&255,t[1]=n>>>8&255,t[2]=n&255,this.writeBuffer(t)},t.prototype.writeUInt24LE=function(n){var t;return t=new i(3),t[0]=n&255,t[1]=n>>>8&255,t[2]=n>>>16&255,this.writeBuffer(t)},t.prototype.writeInt24BE=function(n){return n>=0?this.writeUInt24BE(n):this.writeUInt24BE(n+16777215+1)},t.prototype.writeInt24LE=function(n){return n>=0?this.writeUInt24LE(n):this.writeUInt24LE(n+16777215+1)},t.prototype.fill=function(n,t){var r;return r=new i(t),r.fill(n),this.writeBuffer(r)},t.prototype.end=function(){return this.push(null)},t}(e.Readable);t.localExports=f}).call(this)}).call(this,n("buffer").Buffer)},{"./DecodeStream":204,buffer:60,stream:216}],206:[function(n,t){(function(){var n;n=function(){function n(n,t){this.type=n;this.options=t!=null?t:[]}return n.prototype.decode=function(n){var t;return t=this.type.decode(n),this.options[t]||t},n.prototype.size=function(){return this.type.size()},n.prototype.encode=function(n,t){var i;if(i=this.options.indexOf(t),i===-1)throw new Error('Unknown option in enum: '+t);return this.type.encode(n,i)},n}();t.localExports=n}).call(this)},{}],207:[function(n,t){(function(){var r,i,u,f,e,o,s={}.hasOwnProperty,h=function(n,t){function r(){this.constructor=n}for(var i in t)s.call(t,i)&&(n[i]=t[i]);return r.prototype=t.prototype,n.prototype=new r,n.__super__=t.prototype,n};r=n('./Array');f=n('./Number').Number;o=n('./utils');e=n('util').inspect;u=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return h(t,n),t.prototype.decode=function(n,t){var r,u,e;return u=n.pos,r=o.resolveLength(this.length,n,t),this.length instanceof f&&(t={parent:t,_startOffset:u,_currentOffset:0,_length:r}),e=new i(this.type,r,n,t),n.pos+=r*this.type.size(null,t),e},t.prototype.size=function(n,r){return n instanceof i&&(n=n.toArray()),t.__super__.size.call(this,n,r)},t.prototype.encode=function(n,r,u){return r instanceof i&&(r=r.toArray()),t.__super__.encode.call(this,n,r,u)},t}(r);i=function(){function n(n,t,i,r){this.type=n;this.length=t;this.stream=i;this.ctx=r;this.base=this.stream.pos;this.items=[]}return n.prototype.get=function(n){var t;if(!(n<0)&&!(n>=this.length))return this.items[n]==null&&(t=this.stream.pos,this.stream.pos=this.base+this.type.size(null,this.ctx)*n,this.items[n]=this.type.decode(this.stream,this.ctx),this.stream.pos=t),this.items[n]},n.prototype.toArray=function(){var n,t,r,i;for(i=[],n=t=0,r=this.length;t<r;n=t+=1)i.push(this.get(n));return i},n.prototype.inspect=function(){return e(this.toArray())},n}();t.localExports=u}).call(this)},{"./Array":200,"./Number":208,"./utils":215,util:224}],208:[function(n,t,i){(function(){var u,r,t,f={}.hasOwnProperty,e=function(n,t){function r(){this.constructor=n}for(var i in t)f.call(t,i)&&(n[i]=t[i]);return r.prototype=t.prototype,n.prototype=new r,n.__super__=t.prototype,n};u=n('./DecodeStream');t=function(){function n(n,t){this.type=n;this.endian=t!=null?t:'BE';this.fn=this.type;this.type[this.type.length-1]!=='8'&&(this.fn+=this.endian)}return n.prototype.size=function(){return u.TYPES[this.type]},n.prototype.decode=function(n){return n['read'+this.fn]()},n.prototype.encode=function(n,t){return n['write'+this.fn](t)},n}();i.Number=t;i.uint8=new t('UInt8');i.uint16be=i.uint16=new t('UInt16','BE');i.uint16le=new t('UInt16','LE');i.uint24be=i.uint24=new t('UInt24','BE');i.uint24le=new t('UInt24','LE');i.uint32be=i.uint32=new t('UInt32','BE');i.uint32le=new t('UInt32','LE');i.int8=new t('Int8');i.int16be=i.int16=new t('Int16','BE');i.int16le=new t('Int16','LE');i.int24be=i.int24=new t('Int24','BE');i.int24le=new t('Int24','LE');i.int32be=i.int32=new t('Int32','BE');i.int32le=new t('Int32','LE');i.floatbe=i.float=new t('Float','BE');i.floatle=new t('Float','LE');i.doublebe=i.double=new t('Double','BE');i.doublele=new t('Double','LE');r=function(n){function t(n,i,r){r==null&&(r=n>>1);t.__super__.constructor.call(this,'Int'+n,i);this._point=1<<r}return e(t,n),t.prototype.decode=function(n){return t.__super__.decode.call(this,n)/this._point},t.prototype.encode=function(n,i){return t.__super__.encode.call(this,n,i*this._point|0)},t}(t);i.Fixed=r;i.fixed16be=i.fixed16=new r(16,'BE');i.fixed16le=new r(16,'LE');i.fixed32be=i.fixed32=new r(32,'BE');i.fixed32le=new r(32,'LE')}).call(this)},{"./DecodeStream":204}],209:[function(n,t){(function(){var n;n=function(){function n(n,t){this.type=n;this.condition=t!=null?t:!0}return n.prototype.decode=function(n,t){var i;return i=this.condition,typeof i=='function'&&(i=i.call(t,t)),i?this.type.decode(n,t):void 0},n.prototype.size=function(n,t){var i;return i=this.condition,typeof i=='function'&&(i=i.call(t,t)),i?this.type.size(n,t):0},n.prototype.encode=function(n,t,i){var r;return r=this.condition,typeof r=='function'&&(r=r.call(i,i)),r?this.type.encode(n,t,i):void 0},n}();t.localExports=n}).call(this)},{}],210:[function(n,t,i){(function(){var r,t,u;u=n('./utils');r=function(){function n(n,t,i){var r,u,f,e;this.offsetType=n;this.type=t;this.options=i!=null?i:{};this.type==='void'&&(this.type=null);(r=this.options).type==null&&(r.type='local');(u=this.options).allowNull==null&&(u.allowNull=!0);(f=this.options).nullValue==null&&(f.nullValue=0);(e=this.options).lazy==null&&(e.lazy=!1);this.options.relativeTo&&(this.relativeToGetter=new Function('ctx','return ctx.'+this.options.relativeTo))}return n.prototype.decode=function(n,t){var i,f,e,o,s,r;return(e=this.offsetType.decode(n),e===this.options.nullValue&&this.options.allowNull)?null:(s=function(){switch(this.options.type){case'local':return t._startOffset;case'immediate':return n.pos-this.offsetType.size();case'parent':return t.parent._startOffset;default:for(i=t;i.parent;)i=i.parent;return i._startOffset||0}}.call(this),this.options.relativeTo&&(s+=this.relativeToGetter(t)),o=e+s,this.type!=null?(r=null,f=function(i){return function(){var u;return r!=null?r:(u=n.pos,n.pos=o,r=i.type.decode(n,t),n.pos=u,r)}}(this),this.options.lazy)?new u.PropertyDescriptor({get:f}):f():o)},n.prototype.size=function(n,i){var u,r;u=i;switch(this.options.type){case'local':case'immediate':break;case'parent':i=i.parent;break;default:while(i.parent)i=i.parent}if(r=this.type,r==null){if(!(n instanceof t))throw new Error('Must be a VoidPointer');r=n.type;n=n.value}return n&&i&&(i.pointerSize+=r.size(n,u)),this.offsetType.size()},n.prototype.encode=function(n,i,r){var f,u,e;if(f=r,i==null){this.offsetType.encode(n,this.options.nullValue);return}switch(this.options.type){case'local':u=r.startOffset;break;case'immediate':u=n.pos+this.offsetType.size(i,f);break;case'parent':r=r.parent;u=r.startOffset;break;default:for(u=0;r.parent;)r=r.parent}if(this.options.relativeTo&&(u+=this.relativeToGetter(f.val)),this.offsetType.encode(n,r.pointerOffset-u),e=this.type,e==null){if(!(i instanceof t))throw new Error('Must be a VoidPointer');e=i.type;i=i.value}return r.pointers.push({type:e,val:i,parent:f}),r.pointerOffset+=e.size(i,f)},n}();t=function(){function n(n,t){this.type=n;this.value=t}return n}();i.Pointer=r;i.VoidPointer=t}).call(this)},{"./utils":215}],211:[function(n,t){(function(){var i,r;r=n('./utils');i=function(){function n(n,t){this.type=n;this.count=t!=null?t:1}return n.prototype.decode=function(n,t){return n.pos+=this.size(null,t),void 0},n.prototype.size=function(n,t){var i;return i=r.resolveLength(this.count,null,t),this.type.size()*i},n.prototype.encode=function(n,t,i){return n.fill(0,this.size(t,i))},n}();t.localExports=i}).call(this)},{"./utils":215}],212:[function(n,t){(function(i){(function(){var r,f,u;r=n('./Number').Number;u=n('./utils');f=function(){function n(n,t){this.length=n;this.encoding=t!=null?t:'ascii'}return n.prototype.decode=function(n,t){var e,i,f,r,o;return f=function(){if(this.length!=null)return u.resolveLength(this.length,n,t);for(e=n.buffer,f=n.length,r=n.pos;r<f&&e[r]!==0;)++r;return r-n.pos}.call(this),i=this.encoding,typeof i=='function'&&(i=i.call(t,t)||'ascii'),o=n.readString(f,i),this.length==null&&n.pos<n.length&&n.pos++,o},n.prototype.size=function(n,t){var f,e;return n?(f=this.encoding,typeof f=='function'&&(f=f.call(t!=null?t.val:void 0,t!=null?t.val:void 0)||'ascii'),f==='utf16be'&&(f='utf16le'),e=i.byteLength(n,f),this.length instanceof r&&(e+=this.length.size()),this.length==null&&e++,e):u.resolveLength(this.length,null,t)},n.prototype.encode=function(n,t,u){var f;return f=this.encoding,typeof f=='function'&&(f=f.call(u!=null?u.val:void 0,u!=null?u.val:void 0)||'ascii'),this.length instanceof r&&this.length.encode(n,i.byteLength(t,f)),n.writeString(t,f),this.length==null?n.writeUInt8(0):void 0},n}();t.localExports=f}).call(this)}).call(this,n("buffer").Buffer)},{"./Number":208,"./utils":215,buffer:60}],213:[function(n,t){(function(){var i,r;r=n('./utils');i=function(){function n(n){this.fields=n!=null?n:{}}return n.prototype.decode=function(n,t,i){var r,u;return i==null&&(i=0),r=this._setup(n,t,i),this._parseFields(n,r,this.fields),(u=this.process)!=null&&u.call(r,n),r},n.prototype._setup=function(n,t,i){var r;return r={},Object.defineProperties(r,{parent:{value:t},_startOffset:{value:n.pos},_currentOffset:{value:0,writable:!0},_length:{value:i}}),r},n.prototype._parseFields=function(n,t,i){var f,e,u;for(f in i)e=i[f],u=typeof e=='function'?e.call(t,t):e.decode(n,t),u!==void 0&&(u instanceof r.PropertyDescriptor?Object.defineProperty(t,f,u):t[f]=u),t._currentOffset=n.pos-t._startOffset},n.prototype.size=function(n,t,i){var u,f,r,e,o;n==null&&(n={});i==null&&(i=!0);u={parent:t,val:n,pointerSize:0};r=0;o=this.fields;for(f in o)e=o[f],e.size!=null&&(r+=e.size(n[f],u));return i&&(r+=u.pointerSize),r},n.prototype.encode=function(n,t,i){var r,f,e,u,o,h,s;(h=this.preEncode)!=null&&h.call(t,n);r={pointers:[],startOffset:n.pos,parent:i,val:t,pointerSize:0};r.pointerOffset=n.pos+this.size(t,r,!1);s=this.fields;for(e in s)o=s[e],o.encode!=null&&o.encode(n,t[e],r);for(f=0;f<r.pointers.length;)u=r.pointers[f++],u.type.encode(n,u.val,u.parent)},n}();t.localExports=i}).call(this)},{"./utils":215}],214:[function(n,t){(function(){var i,r,u={}.hasOwnProperty,f=function(n,t){function r(){this.constructor=n}for(var i in t)u.call(t,i)&&(n[i]=t[i]);return r.prototype=t.prototype,n.prototype=new r,n.__super__=t.prototype,n};i=n('./Struct');r=function(n){function t(n,t){this.type=n;this.versions=t!=null?t:{};typeof this.type=='string'&&(this.versionGetter=new Function('parent','return parent.'+this.type),this.versionSetter=new Function('parent','version','return parent.'+this.type+' = version'))}return f(t,n),t.prototype.decode=function(n,i,r){var f,u,e;if(r==null&&(r=0),u=this._setup(n,i,r),u.version=typeof this.type=='string'?this.versionGetter(i):this.type.decode(n),this.versions.header&&this._parseFields(n,u,this.versions.header),f=this.versions[u.version],f==null)throw new Error('Unknown version '+u.version);return f instanceof t?f.decode(n,i):(this._parseFields(n,u,f),(e=this.process)!=null&&e.call(u,n),u)},t.prototype.size=function(n,t,i){var e,o,r,u,f,s;if(i==null&&(i=!0),!n)throw new Error('Not a fixed size');if(e={parent:t,val:n,pointerSize:0},u=0,typeof this.type!='string'&&(u+=this.type.size(n.version,e)),this.versions.header){s=this.versions.header;for(r in s)f=s[r],f.size!=null&&(u+=f.size(n[r],e))}if(o=this.versions[n.version],o==null)throw new Error('Unknown version '+n.version);for(r in o)f=o[r],f.size!=null&&(u+=f.size(n[r],e));return i&&(u+=e.pointerSize),u},t.prototype.encode=function(n,t,i){var r,o,s,u,e,f,c,h;if((c=this.preEncode)!=null&&c.call(t,n),r={pointers:[],startOffset:n.pos,parent:i,val:t,pointerSize:0},r.pointerOffset=n.pos+this.size(t,r,!1),typeof this.type!='string'&&this.type.encode(n,t.version),this.versions.header){h=this.versions.header;for(u in h)f=h[u],f.encode!=null&&f.encode(n,t[u],r)}o=this.versions[t.version];for(u in o)f=o[u],f.encode!=null&&f.encode(n,t[u],r);for(s=0;s<r.pointers.length;)e=r.pointers[s++],e.type.encode(n,e.val,e.parent)},t}(i);t.localExports=r}).call(this)},{"./Struct":213}],215:[function(n,t,i){(function(){var t,r;t=n('./Number').Number;i.resolveLength=function(n,i,r){var u;if(typeof n=='number'?u=n:typeof n=='function'?u=n.call(r,r):r&&typeof n=='string'?u=r[n]:i&&n instanceof t&&(u=n.decode(i)),isNaN(u))throw new Error('Not a fixed size');return u};r=function(){function n(n){var t,i;n==null&&(n={});this.enumerable=!0;this.configurable=!0;for(t in n)i=n[t],this[t]=i}return n}();i.PropertyDescriptor=r}).call(this)},{"./Number":208}],216:[function(n,t){function i(){r.call(this)}t.localExports=i;var r=n('events').EventEmitter,u=n('inherits');u(i,r);i.Readable=n('readable-stream/readable.js');i.Writable=n('readable-stream/writable.js');i.Duplex=n('readable-stream/duplex.js');i.Transform=n('readable-stream/transform.js');i.PassThrough=n('readable-stream/passthrough.js');i.Stream=i;i.prototype.pipe=function(n,t){function o(t){n.writable&&!1===n.write(t)&&i.pause&&i.pause()}function s(){i.readable&&i.resume&&i.resume()}function h(){f||(f=!0,n.end())}function c(){f||(f=!0,typeof n.destroy=='function'&&n.destroy())}function e(n){if(u(),r.listenerCount(this,'error')===0)throw n;}function u(){i.removeListener('data',o);n.removeListener('drain',s);i.removeListener('end',h);i.removeListener('close',c);i.removeListener('error',e);n.removeListener('error',e);i.removeListener('end',u);i.removeListener('close',u);n.removeListener('close',u)}var i=this,f;i.on('data',o);n.on('drain',s);if(!n._isStdio&&(!t||t.end!==!1)){i.on('end',h);i.on('close',c)}f=!1;i.on('error',e);n.on('error',e);i.on('end',u);i.on('close',u);n.on('close',u);return n.emit('pipe',i),n}},{events:164,inherits:167,"readable-stream/duplex.js":189,"readable-stream/passthrough.js":195,"readable-stream/readable.js":196,"readable-stream/transform.js":197,"readable-stream/writable.js":198}],217:[function(n,t,i){function e(n){if(n&&!f(n))throw new Error('Unknown encoding: '+n);}function o(n){return n.toString(this.encoding)}function s(n){this.charReceived=n.length%2;this.charLength=this.charReceived?2:0}function h(n){this.charReceived=n.length%3;this.charLength=this.charReceived?3:0}var u=n('buffer').Buffer,f=u.isEncoding||function(n){switch(n&&n.toLowerCase()){case'hex':case'utf8':case'utf-8':case'ascii':case'binary':case'base64':case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':case'raw':return!0;default:return!1}},r=i.StringDecoder=function(n){this.encoding=(n||'utf8').toLowerCase().replace(/[-_]/,'');e(n);switch(this.encoding){case'utf8':this.surrogateSize=3;break;case'ucs2':case'utf16le':this.surrogateSize=2;this.detectIncompleteChar=s;break;case'base64':this.surrogateSize=3;this.detectIncompleteChar=h;break;default:this.write=o;return}this.charBuffer=new u(6);this.charReceived=0;this.charLength=0};r.prototype.write=function(n){for(var t='',f,i,r,u;this.charLength;){if(f=n.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:n.length,n.copy(this.charBuffer,this.charReceived,0,f),this.charReceived+=f,this.charReceived<this.charLength)return'';if(n=n.slice(f,n.length),t=this.charBuffer.slice(0,this.charLength).toString(this.encoding),r=t.charCodeAt(t.length-1),r>=55296&&r<=56319){this.charLength+=this.surrogateSize;t='';continue}if(this.charReceived=this.charLength=0,n.length===0)return t;break}return(this.detectIncompleteChar(n),i=n.length,this.charLength&&(n.copy(this.charBuffer,0,n.length-this.charReceived,i),i-=this.charReceived),t+=n.toString(this.encoding,0,i),i=t.length-1,r=t.charCodeAt(i),r>=55296&&r<=56319)?(u=this.surrogateSize,this.charLength+=u,this.charReceived+=u,this.charBuffer.copy(this.charBuffer,u,0,u),n.copy(this.charBuffer,0,0,u),t.substring(0,i)):t};r.prototype.detectIncompleteChar=function(n){for(var t=n.length>=3?3:n.length,i;t>0;t--){if(i=n[n.length-t],t==1&&i>>5==6){this.charLength=2;break}if(t<=2&&i>>4==14){this.charLength=3;break}if(t<=3&&i>>3==30){this.charLength=4;break}}this.charReceived=t};r.prototype.end=function(n){var t='';if(n&&n.length&&(t=this.write(n)),this.charReceived){var i=this.charReceived,r=this.charBuffer,u=this.encoding;t+=r.slice(0,i).toString(u)}return t}},{buffer:60}],218:[function(n,t){function u(){this.table=new Uint16Array(16);this.trans=new Uint16Array(288)}function d(n,t){this.source=n;this.sourceIndex=0;this.tag=0;this.bitcount=0;this.dest=t;this.destLen=0;this.ltree=new u;this.dtree=new u}function w(n,t,i,r){for(var f,u=0;u<i;++u)n[u]=0;for(u=0;u<30-i;++u)n[u+i]=u/i|0;for(f=r,u=0;u<30;++u)t[u]=f,f+=1<<n[u]}function nt(n,t){for(var i=0;i<7;++i)n.table[i]=0;for(n.table[7]=24,n.table[8]=152,n.table[9]=112,i=0;i<24;++i)n.trans[i]=256+i;for(i=0;i<144;++i)n.trans[24+i]=i;for(i=0;i<8;++i)n.trans[168+i]=280+i;for(i=0;i<112;++i)n.trans[176+i]=144+i;for(i=0;i<5;++i)t.table[i]=0;for(t.table[5]=32,i=0;i<32;++i)t.trans[i]=i}function s(n,t,i,r){for(var f,u=0;u<16;++u)n.table[u]=0;for(u=0;u<r;++u)n.table[t[i+u]]++;for(n.table[0]=0,f=0,u=0;u<16;++u)b[u]=f,f+=n.table[u];for(u=0;u<r;++u)t[i+u]&&(n.trans[b[t[i+u]]++]=u)}function tt(n){n.bitcount--||(n.tag=n.source[n.sourceIndex++],n.bitcount=7);var t=n.tag&1;return n.tag>>>=1,t}function r(n,t,i){if(!t)return i;while(n.bitcount<24)n.tag|=n.source[n.sourceIndex++]<<n.bitcount,n.bitcount+=8;var r=n.tag&65535>>>16-t;return n.tag>>>=t,n.bitcount-=t,r+i}function h(n,t){while(n.bitcount<24)n.tag|=n.source[n.sourceIndex++]<<n.bitcount,n.bitcount+=8;var f=0,i=0,r=0,u=n.tag;do i=2*i+(u&1),u>>>=1,++r,f+=t.table[r],i-=t.table[r];while(i>=0);return n.tag=u,n.bitcount-=r,t.trans[f+i]}function it(n,t,u){var c,l,v,e,o,f,y,a,w;for(c=r(n,5,257),l=r(n,5,1),v=r(n,4,4),e=0;e<19;++e)i[e]=0;for(e=0;e<v;++e)y=r(n,3,0),i[g[e]]=y;for(s(p,i,0,19),o=0;o<c+l;){a=h(n,p);switch(a){case 16:for(w=i[o-1],f=r(n,2,3);f;--f)i[o++]=w;break;case 17:for(f=r(n,3,3);f;--f)i[o++]=0;break;case 18:for(f=r(n,7,11);f;--f)i[o++]=0;break;default:i[o++]=a}}s(t,i,0,c);s(u,i,c,l)}function k(n,t,i){for(var u,a,c,l,s;;){if(u=h(n,t),u===256)return f;if(u<256)n.dest[n.destLen++]=u;else for(u-=257,a=r(n,e[u],o[u]),c=h(n,i),l=n.destLen-r(n,v[c],y[c]),s=l;s<l+a;++s)n.dest[n.destLen++]=n.dest[s]}}function rt(n){for(var t,i,r;n.bitcount>8;)n.sourceIndex--,n.bitcount-=8;if(t=n.source[n.sourceIndex+1],t=256*t+n.source[n.sourceIndex],i=n.source[n.sourceIndex+3],i=256*i+n.source[n.sourceIndex+2],t!==(~i&65535))return c;for(n.sourceIndex+=4,r=t;r;--r)n.dest[n.destLen++]=n.source[n.sourceIndex++];return n.bitcount=0,f}function ut(n,t){var i=new d(n,t),e,o,u;do{e=tt(i);o=r(i,2,0);switch(o){case 0:u=rt(i);break;case 1:u=k(i,l,a);break;case 2:it(i,i.ltree,i.dtree);u=k(i,i.ltree,i.dtree);break;default:u=c}if(u!==f)throw new Error('Data error');}while(!e);return i.destLen<i.dest.length?typeof i.dest.slice=='function'?i.dest.slice(0,i.destLen):i.dest.subarray(0,i.destLen):i.dest}var f=0,c=-3,l=new u,a=new u,e=new Uint8Array(30),o=new Uint16Array(30),v=new Uint8Array(30),y=new Uint16Array(30),g=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),p=new u,i=new Uint8Array(320),b=new Uint16Array(16);nt(l,a);w(e,o,4,3);w(v,y,2,1);e[28]=0;o[28]=258;t.localExports=ut},{}],219:[function(n,t){t.localExports={categories:["Cc","Zs","Po","Sc","Ps","Pe","Sm","Pd","Nd","Lu","Sk","Pc","Ll","So","Lo","Pi","Cf","No","Pf","Lt","Lm","Mn","Me","Mc","Nl","Zl","Zp","Cs","Co"],combiningClasses:["Not_Reordered","Above","Above_Right","Below","Attached_Above_Right","Attached_Below","Overlay","Iota_Subscript","Double_Below","Double_Above","Below_Right","Above_Left","CCC10","CCC11","CCC12","CCC13","CCC14","CCC15","CCC16","CCC17","CCC18","CCC19","CCC20","CCC21","CCC22","CCC23","CCC24","CCC25","CCC30","CCC31","CCC32","CCC27","CCC28","CCC29","CCC33","CCC34","CCC35","CCC36","Nukta","Virama","CCC84","CCC91","CCC103","CCC107","CCC118","CCC122","CCC129","CCC130","CCC132","Attached_Above","Below_Left","Left","Kana_Voicing","CCC26","Right"],scripts:["Common","Latin","Bopomofo","Inherited","Greek","Coptic","Cyrillic","Armenian","Hebrew","Arabic","Syriac","Thaana","Nko","Samaritan","Mandaic","Devanagari","Bengali","Gurmukhi","Gujarati","Oriya","Tamil","Telugu","Kannada","Malayalam","Sinhala","Thai","Lao","Tibetan","Myanmar","Georgian","Hangul","Ethiopic","Cherokee","Canadian_Aboriginal","Ogham","Runic","Tagalog","Hanunoo","Buhid","Tagbanwa","Khmer","Mongolian","Limbu","Tai_Le","New_Tai_Lue","Buginese","Tai_Tham","Balinese","Sundanese","Batak","Lepcha","Ol_Chiki","Braille","Glagolitic","Tifinagh","Han","Hiragana","Katakana","Yi","Lisu","Vai","Bamum","Syloti_Nagri","Phags_Pa","Saurashtra","Kayah_Li","Rejang","Javanese","Cham","Tai_Viet","Meetei_Mayek","null","Linear_B","Lycian","Carian","Old_Italic","Gothic","Old_Permic","Ugaritic","Old_Persian","Deseret","Shavian","Osmanya","Elbasan","Caucasian_Albanian","Linear_A","Cypriot","Imperial_Aramaic","Palmyrene","Nabataean","Hatran","Phoenician","Lydian","Meroitic_Hieroglyphs","Meroitic_Cursive","Kharoshthi","Old_South_Arabian","Old_North_Arabian","Manichaean","Avestan","Inscriptional_Parthian","Inscriptional_Pahlavi","Psalter_Pahlavi","Old_Turkic","Old_Hungarian","Brahmi","Kaithi","Sora_Sompeng","Chakma","Mahajani","Sharada","Khojki","Multani","Khudawadi","Grantha","Tirhuta","Siddham","Modi","Takri","Ahom","Warang_Citi","Pau_Cin_Hau","Cuneiform","Egyptian_Hieroglyphs","Anatolian_Hieroglyphs","Mro","Bassa_Vah","Pahawh_Hmong","Miao","Duployan","SignWriting","Mende_Kikakui"],eaw:["N","Na","A","W","H","F"]}},{}],220:[function(n,t,i){(function(t){var c,l,a,h,v,y,e,p,w,u,b,s,k,d,g,o,r,nt,f;g=n('unicode-trie');r=n('./data.json');f=new g(t("ABEAAAAAAAAAEKiQ5ZlpWFPX2vd73lPrafWIdQBlirUqKggKIqOkWhVxgGJFZIyCiMgQIUCAQNIjRxEZoqIiQogaBgcGAZkhEZFEQIiMAQKJECHGEEIImciwX2x7TrGnp+u9ng/vl2dfXNlJdvZa6/7t//rf91pMDqHfPNNQBgL8sjccSNRdbRc9uWHX5MnvbXfYXDWY/3CyInqFXvTkQJk/Lf3j549vpiQStB13g03WhrM3LLJscN7NU6x2ssNko8yCPlOg8t3zg2vP9u3mOyqelpehLkSEi6dXxAvXyXP/ue/lhrwz71bdPN6781lk/Pu1a7LueJwcHLCxrq2JjfkS65ywd73fimPmEV8d2npe19PWgS33ZXfjRgxDHDed1T6xK3qZs2mYoe9Fof+2P2uKQq/uVw2QP4czqqdwLsxrV+788+Ykn1sbusdp/9HvD8s6UP/Rc1jwug3rN32z8dvCe3kPCu7nc76nP3/18vWLNmpnU2tLR/Ph6QTJl8lXnA62vtqy+dHDoHM8+RuLBRHi2EjIZHcY5fP7UctXfJ1x7cb1H//JJiN40b90SOf9vkNDPqhD8YeVv7b0wzHXnjfdovuBp874nT0d4M99+25sYnSjXDH7Z0P6CB3+e6CzS1OPvDZhC72I2X3RvzVU/I+fIaXmXLxx9e7l2+lau//67UqLJcZ6douNdKy0zJrM7rkc3Hdk76EDzr8wpCXl/uN6ctalW2mExIyU7KTMtzq9Rn8e0HIeKJ5LoHhUL+ZAEvr6jyMuCpnUz/Eetm/4nPLQ4Zuvd3y5Za3Noo2rLf++zQAW98WBT9SFOEIE0SgB0ch8A6LBB9HY+KeC+0jjGJBGEJBGKpDGCSCNQiANBoDGtfcgGquB2rgKpLERSKMcSGM/iEbpYxAN9x4QDeDM18yxIS+2zvfMhWOZyk74D5v5yXL5nzal/gvbVvrWvfoLEJnLQDI/Asnkg8gw+kFkgB4SBdRJHVAnu4E6IYNosL8D0UA+BNGwmpOKBWw3cuCUHBASFRjSSmBIj4AhAW0RCbTFapAtTv/1v7ie5jlSnYCs+rWrPaf//ucRU4KUVts/6Uo5wXb+fUgqL+5V8nUcgTFI7qS/Q3A9qkrFGxWMWLyAr9qviTL0U9oSr+EIOgNkMpuLYPdUlwqZCoZsQsBXIjWS3VJxVOie6ai051aMv8Sjil9IK9VnbxNxQuJztHTA5a3YshCCpnAWeOhsvwbSTAaHGcZ3UOAI1OTbYEO14q7xYgRqlM7wtpLfpWPJE0VNjIZZsaVsKXkik1hqc2ba0kV19qycUByudLLXjJCZaGUYW1BIQZa0yE19mhkSfSYjaq2CIVk9f14xf142f14yf148f/58/vwZk+ENh+7SkQiUVBXsS07oaBSXKiRSy6ROykTr/EVr6K4wDIEaUgWz6hI6js5f5Eotaa8pE9fnL+6A7mrNXyTP31md0DEyU6oYlFouVpZoNDKfbfI9Gq2D8kRyFLw87beHhXvjooobscJ3/UufOAFmIPejvNijUYmwkIR/7oPLjaZaDA//9nzJGWq4If/jw6PkVg+UhLBPU0YEv6ol6SRfS9Ev3vury40lxSv5t8LcexF4y6ptI1Yy3CuXOZmUwMNtJUJpTQ6filErqmi+u1k7lcOw8y/dYd+7YHdXcnc+gydzo9n2zpBE3BR9Zq4OzjQtQsismOrCe0oDg1xchPr4lMxgRJqA1ZVCa8crqW+TFD4r/qvvqE7DsVAE9NF8Rvv3fpwAc824OX3cRBTql8lWh6z7/WyDv9jx9S8NQleEc/Qm9K0XZZk/C5ndYLTgxxCc3dyO/Sh4Hnr/J3PLHZvEiK7/eRRbcEOsUqLnE9b8JFKsnC0lNvEVYXAyUwnNW8NB4u4XMIVFCSyoZcF0YRelfZyaCqOyiRaOsZ4SPZPT7P/rJOY1gipT0u88FtuLVnM/FN6plP48cniGfvN5wscHwWAMCYkX/WPsuRvlXVj2v6csfI4pKx4umVfMLFozN6+Ynt8XrtmVX/8BcE1VKcWF+dFOxExygppRrZbTULgRHFlgBLE0r99G6Tchx9UbAcP3ApVeD4E5ZBfQcL2AhksAGq4vyHCFwKocDarKp+1AKfUhsA7tBNLQAdJ4AqRxFEgDmH5kwPSDAZVe54Da8AXSQAJp4IE03IE0gFW5DFSVTy8GleXngNr4B4iGZh2IBu4piAZ8H4gGDFiVa4Gq8ukkkG+8B2rjayCNg0AaN4E0PIE0SCAa+D4QDf8/DBa6Uyqur/qtJ5ru3wBIwoFIYoBILgKRuIKQEPNASFxAi5PpQtB0eQ+cLif/IFa4tDBeYxE7tbArTlHGtStyWgKD/hTruaGfeOM6zoh2LKbo11K3Fp4BU1rF0X63Cad65LAERHsnkHYdkPb3QNqPALRPAZ06ELgUrADStgFqzxtIIxdIAwGigQCl8VPALK4D3DJIAZpTC5DGCiAN4CqSAlxFIkBp/FQ3iIY7cDvJGKgNNyCN80AaaUAawM01BCiNnwLaEgO41agH1EYakMYmII0KIA3g5hoblMZPdYFoVAN9gwnUhgGQxn/8J+M/aGQCaXgBaYDS+ClgFpcBfUMJ1IYaSOMvIBrQPRAN3EEQDXgRiAawwsMDfcMRqA1/II1wII1/AmkcA9IAbbaeAlb/LkDfCARqowJIwwZIowFIYw+IBgW42QqsN8yAvpEJ1IYxkIYbkMZdIA0fII37IBrAegMJ9I1qoDaYQBoGQBolQBouQBqlIBrAegMG9A0toDYcgTT8gTSSQTSg4yAauAIQDWC9QQT6hhlQG5lAGsZAGpVAGgeANJ6AaADrDTbQN4RAbWgBaTgCaWQAaXiAaEAPQDSA9QYF6BtsoDaEQBpaQBqFQBqHgTSKATTWyQ2bZBsAQHYDwzUB7ieeAIULzwaFSwQmDfrCpNEB9bDUL63jWLF+RikmN9zCnHJ8kFUZR9e3WWQIOmLQmMRF69ctdrX425vvpPeGP3+3ro362aJJ/a1Wf7WpeVfb21WrOBsn2xswdBn1JLGswP7Vi+826QXfTGt8dX9gZnLfq7gvVlp/98WrPYoZRN9hbY8NfNgTTyKCQ+ImEGUKiGymIPeNfEi0TkW+dNWnVXPsutJ8VdudH8DgacQWM7/lxBZEC8LxUa6GtBZPWu0yFtSwVhCjLXxZ35UMuimMfOzbuyJrT9GGXGp2V3qgyLlBj2B9pVl+QL8lPN6OvHLkfYsWZ8OcqEfuoVr/hchD5aaKuintxu3khD8bc7JPsyIZ0McIMVa24cuTRGnWVzny6Hijuq4UGNVpllMoqpDvXzpWIX8i528WFELnqJxzLRkxusgDdrktdqKwyLF1yzh64au88OcdXjxR/A0uiwmjrHbZxHQx4mX3cMbPO0w8WNE3kObZS/oaUwa7JM3VThVjjREr0aftMyfOOMyHSJqtnumL1KGq4YRZKJJZ6Htl37eUApmaEwLPDYGlzug1465vZrpchjI77av+Xso8YDii26rHsktzrS28dYDc5n+MbPHI7jHF4jWMAUmNBjXW2N2mzNcGopD7RodnrLZkhm/brTmThyqw5Dp9k1B+CudR66fH0Zj1IztuJuwaxEZXUYLmznRE7+JxWy/OtH+AexzTxOdmykTvbtjklLLHxd79kFvP0QmKrU90UcWD1yppxaIo7VteJwI9sqJojVNy7Vtrbb235zbbNHPYW3oRDbtx20Jus4ajymNynvS/C3DO9Ige2eZVIVF6zSoak/n9FMQyYQ1l6lB+ZYNF95285gbqu5Oke3fg9erOvWk2+bWRohizqp5ca2FwLDHb+pwkzNfOFnU51nHJTFLdSv4EooDyPD7LjQM70h0QVRCbv1HRYiuoVXcnORmZhiDJ/Y4Kfdu2hO1Hkxgtrp18hcY6/YCCYJFvr1zW/prW9a5uDSzYeSg2+kTVHWeltXOcT3PNZEwZJZZmdcrNLmWOYEAv3+HgZSzYJPD9xsehoBCVYGIYDMfaOpWOFXoxBh9jv2m8GyjbsHuzRBxr3pu1RpCJtS4TiEbOxvXVMQ2rI9ckhrAde9a8y4i7JuzeT6XZyfqtL/snVGwnJibTOKkyTH63HmpCzNJcCK/1U+zXrrQ6z28WSRc7UXRgLSmbIa1WfDVHLV9HthK5NlyZge2fEFO3d9jE2PGUGYIgRLPg9Iibq0ODnbESmR66vHima1FzYf0JRdAe1JjovecaJCw1oNFU0gS75clOwWvOHUcPSGvYE3nFzcW6DmalXlUWctLw13TxyBrHwakD8KFBoT1cyZp850GRaG5IYnBn64e3VqM/0Sxqu+Xani5xcek3+zNQqNbdO8gU7WG7nmDSsEH2hFY7Ge4eNsz+guESnpqBsWIKUmVbL3d1Bu7HDFBlufie0FdxzyoMSZFdUuWlBoXASrvX63Z6p1eQuVCsqcY1+rhwWR9CT7WiOR82w8Y1yYeO+1udd8UfmGzB3kzvpvWP63p/UDvdpaeVJZ7TjtQx/c5KwLqaGnBgjnKt+lV87UZJJ43dUH561qLfKxNlYZmmyYOiprqO+liaxtNMhnKnXBpfVfjY0Nch7SmTNoE88Zt73pErkswetaoc4hwG4VvuIJL2849Nj8WehqYns1DT1JdHRo5SrRocHOnj43scdEgLSDzKQDcPk9x9Mrs7f5gbsVmrR+0cHS8oC4EKis9j4hrWtFNVGdyMhoyLrKKKXV8FHxuGZhUtGu39ZVMPLLPXco6wx7udMUZbXdNGHu7frVumo3R9CMW8f/YMpRLL7R2SETTkvnSD1HaTKyfmDOyyJmGmkWWsEE15HKPysUBRZsI0FGjRoc1Q3il7KIAfcZrgkIC9PxxQFtKQua/2lhh26yE1rPeBYdpAinpzTr0fLBMf6DC0BR5tPgj3DiIP10lK/NyYLZz2ttwOSy4uB33sTf0pUd2RNp1OXJngyUvFGrry6Lse3OyTT0KWNW2USer8J/PYzhN9Wa8rMmYybUqrY36OGWuSmW7zc1N30EiqIr6TkVfDzqqHzLx6UhTtVJsedG1GxcJxHSQknla72NrRYLRSzk6sIRF9magMprrOOdxNDb5jau6F3YUjlPcIFA37x29LKjbjDHS4GPMuO6ZvvOrdC43rqMrsfP0AdTUp/uYn8VqrT3FjlputVxuYiGJuml4Nm2B3WBdSY5My75pVOBP4NcnSQG68dZas14k3ppsDI7KFJTVQvR3bLIoyo77EjyybHH0dU8ClZH/SbE2kPic6vaczfMimpDO0kCKy7HKhqF/Xw7MwcE7t6/isqA/etE0CM2O7NKwDRIs1shCbejZsMuJGnciB/BrHAyZoQ3pZudXYTtzxB7r1rilxO/3MpP4FaU+o69TLzFlNZ14nPovKUpjze2u1OrmYmF3sMlZqeJaYI1YmzreAaWdIZoJPRcdzE4za5r94uM8ymqQtOffSd5LGS4nX0FLkZ64F/iSXnJrC4K4p4/vu3txq5E8SNGe7pmafF5eTd22p7qy5KmpfJFNFdhyI4x6gxS1pM3lq3ZZvr3Dc+LhMr/Kh47dSP7h2an5tUUd+V5s3rIo1HN0kTMCFdCmMd5PzOqZqNAwKPLhAfXZeY6sWwFlz28BjlWCWkeuN7Il005Tf6c8qrX+tEvkpM9MCTiDD6t9qUeDmJQw74/qQBm5CJI0HhzRFTnoZm/Gsa8YkxL9FxjYdNhInRB1Y9tVdxoUfDhqRWXrZPM6R2gzRwiE6TB1Ph4TyNJkxDdqs4cuRHAoe2uFgWGCDZQXuUDefHrpqdGn2zNj0seaTbhMlHY5cPAXxQWW+tTlWc+pGp2JcFpg249JZjUOtJ64koaxHENaXFwnMdvhSJO3sS6I72r74/Cx+dGvZ4JyOMHGUrbPNlk5Z4+hBT+KceWAV6OqrEolFZd4/fqvzAXYbHwEtHNuxqtqXdf4EOCvbLvrYdjZ1ffuQZy/DNi4/xd+3W8agUxua5givK3Hbu4vt6zMv7zjKJd1hd9jar8o/ZhGE3iR0GXjsENL1063LZZuRrpoHce7FOMSwTMRmiFGIfi65BNLpGLz7rlF6hPXNiYG1x9ONf7OQ8LkHEarYBk3QuLw4xoy8lp0GowUtjVD13Im93ahpWNZfvvMxvebvgXymR8iK4g/Z4X/77Hljf04N1ktw/ttlwoPGua/tNegb9LhD+RO97PfHlTgLsn5wr5ehow35UYskzh9XNUc/q0PKrrMiWe36gKtzfkIifnxfHrT0GPpHsYSqbLye5i+b3tiTbb0lxCyifC8yDHMJp4wvHzF53ymAG+JF1XRIdSSounHlAvWcjJYeg6wl+B//4CWzz6zSvOQ+b7fFSJiAHBs96V369lwvzpiDX5AdghXyns7R3d2Ni/1rPJ74MTle7UJcTaRpcbwmvKuuq7MurL0G8m1qzUlR6NAQJnYI3BhF9bS3MzBMKTPDwqvQWhPS7O/Hu9hypoE6mXp+Ka7vV++MMseH3qEG0PqTSTdxB6ssNRtdHdqiViwYfHjWoPAtyRv9ff42/tmw6k0yb6uPf28HFGpGR8KuXpfaTLrT7Fc8v+b33NrwKtV41Nn2jmx9SNB+lAQpGyPgjLML/ECZaY/zrcBSmQ370LyyoMivIEr/GIQLuz8m6tZylCz2KPUwCpdfULvQjVB3iO6l13DlzzdAbM37bimXDq3jwhdklOt1HYf1i4wYU+uIRqTILMuhrGRP5Hq6dmXzNpstqSTr3L0aIrQ5Vycd/+H24coGeP+M5mS70j/3hwe/2ko32UvWR4nPnd0Qt9JoUWOt/3XJWs/VxZ6oA3YJI2ZGxrMnNt9UZlbAU4LxE3Yk+zmKZ+8BXHChbdyL4jRs38/TuaSSO2Sjh6zNmHNNPj95YNuHriuNA/hjRuPVpPp9qLxnbVc3Y4VLcWHdvFLRiEUmYishlb/NVVfN9OFelkyIL4emDgWtxt/6yt8rAv4ue9rB1vMe3LY/YTpd+2Tp6wn+AMWvkVmmrpxfXmQpI7oq3r3gwKha1NiR1ZKqMzyuG69ZXLsUgnfkh0IYt+5MC58AJidjWQ/pVm7x0xrWztt9dnCsnZqdKXJhnrzN0qjcO5Bug8KiC9AHemcwtvFyFCtLH1N4qmdOh7/Nl5HC6AiQMOwgrkSHQIuiwdOpX3R6bTu68wBk2nbSnyqXXdfLR76sdkTq5ndJVVjxkUdPE3JlPfJBD1yFrs6HW1/xaucvB87QmELnVe0OhFRBq7dm6/zqIB6TGWSS5R7kpFk0PkrRZeiqva6QBkJvpge3PnHUhbNS1KezRPICqhhz7MMyvjCvc5aNZz3EBj3rGxkIsfd95DEQVuSKTWDgKwKneMo5VUUMrqmsWyuwg7u6HT0x5CEXJ/JfNr2cZvMNkVZfxXKVhFbNce5eX/9ncGa/PC626nlTFvWiA57eltozKm7LWCKhK5EdqcGawG8Je3FiDrbuu3AsYa+6MFDwjBoLYabSEC8pyfCORnGQCjmoqZDjHniaGkD8PJwxj46ahNIoje62Grp/YIxw9xbJJw4lO6R2dEIky8jHPmixNkvsnBAbfOqxxhIvHb5WI1HgkuFM/JKfEYFIQWyiDK8ZgXok2WmjlDJsV9MibjBmO5eny0wpsiW/H6pzqhAHHanSC04PHilDJHjzg1Z1Uy/6py0K0OnzuUkxQWriPPpZY8HBsbDMysYQZ34JPQBVb4IjSBk+2e3SUv4mJgLd0V+M85p6TFSG9nGdnuzE9mcXWCk8ogZlL2odecqujQkVvDhkhTAUQWdWdYSbXQ0tpRVwGnkDH2JMGzCOv4R0F33pY0TunMpzVORL9hXKWkQ6Xabd0M6ukGqT9Z52T3N3WiV0HhBGyU6FabWpAl9U0SrOxz8ZPo5zN3AsU0VNVMbY61DcrbZZIaR1Yh+ZfZFXYFRtBzHTNFtWbv5khsusS7as/5JpSC/n4wYtd9Srl+ei3elKBwmllcs6igtDBNqjJQki85onsewj8OLuSTqi/xAj4Qt9jeG+ALlyVZmXpwqDKxyXtIeqh8PCutBjkduqZaja89QfOtbczreypJKG/jK9qFLNxr3VnLt1aAnFvyQ7DOPLRPQoK7RlAfrPpaFKNX8Xix12/mhJ1Vmm2qZ9Z1WC71S79QQNdWtH8Y/ckrGzSkF/7u6THBHasOj0a01CUeAltRsOHUxWPYhLOQLpa2rC0HnfNlrx3jStQAV4NaIyGi7JYh55zIZXR8aTEbzhw6Rw99uvC6+xSw3IvaYp2GK9jsPt3p4QnchupaBRHkWPoXKYkMsaKVBQvkXn7tLRz2b7jncsYoolhcri7nH49569WHRH+BElDuWERXXTR2il5xejx0yVc+vrS7kw8sGprYa3lu0yhyFMLW+wTdakU7Jnn6qeeEKTQnKRc2FC0VbZ2dOY40gj9QJDTuLIE6Vah3BvFNuDzBxM1K0MqOVVTePU/yGJcjT7i6H5dJsZ5G9eWhHrjMOKHmJfbbtDhemrT71z5RHK4tBjFyI15Ls3mVbkqfrBXE9V+qxLBH4Y3TIgpdzX7HeTawZjj9uWzJdy/gIhKdTHwl2taQjNpkbBV2ryIp5aJiv4Bf+q8Yz1vF2sQuSBx5NwhTyJulvkJfKNtyDrwVkwPJ/dvgaKtk/HwTWJcjsRjIpbBYU3aM7zam7NpskPqc6q+qcdBifmzGqQQuZcKafaggpt0ITZJ1eX90NB3ezkUiobj1sObc+lwq9CJiyM5IsJSd9cs6VGNaCx9j0re6v5KR/rZvf5Z//l+MmCT2vSGaqir/xvv/ifHs+PellpnNTT2pHIRz4fv5h6MUnHL/P15O8z4odTojLPpevnL30eV9dlUnMCM06K+2RVFX6CW0BCxGkTFt8xvD1X7NsN095Ji+Wvub0tqnr71NTAGf2RnB9NB3j9yoUrJsdHSjTGv1ZHx8NAOPxgSpca4FXr4FnrsMvFzr1IVp43Uht18ozriGSIotI3YIkU1lZpClUKh+2byij0snZM0pnl/9j4IlpFpAfKdG7VhhutbEwelTal1srzjttqrLEGhaL5VV7E+1Njog0++omzyoigzpNr0zKSmzNftkripfGN2U+69Ldm6goIC8v8Gb4wjdWxGWbaZWJtf9jINSxA9UlWNQ7GVMfpGOQYjyvKbqHeOA8ye5jPnR6pB/H99dGbujrlUF5EDPdqV+sAnfBytFnSw82wyXnd8cQqExdhyi3KED99FB7ZThiGL2hVaFIDFQr0x+O9e1OmbvhbtDneaqCcmNF4Brn/u/wyKYKnkoqYaobX2Bk/kcY2vIwYRY2IkCpiP12ZkV4o4Lq54gd93JhL7SUZiRdHNa3vhmxtjHtC7S+4xHF5b/YgpQMZrJm4lrq0bGiwMz5Hxk6bOAhX8tvFF0ooZRnJEy+nY9DrFXwH2oYvapdp1z7iuPMwnrg+UZ8wV0aTG1TZcf1qSUdZek8MSk5XKIVVR4U81g3BhKrRZ4qrXKgM9WEWvEqk+vL/XYnT5gM75x6hvKbKS+vNYYlUs39pf/FUBfW/3lXzANG3LHbNY+N0oqalpaFt9xqZz2ZkmXDOO469rc455lRBmSD86aDiLv7Eo4regh0HCbFLSDmieOFiTuQ2F6vNXtsFwR5YkbxcsNpzeKXQu/3oSynjs5/cDuUbNbuEEBUMX1omxmAKE+JQSAu/cAK611t/2zF/YqOn6MyzRhPbYlYEYXyuuCwcjnRusNshkD3mtYjocdVv7XFrdNrJtQfg37sYBRBzbZBC0RHYk06or2QJeXMn59ws24xbZ/u7LUyzzCG7hZLbi3FZMl8Q1MxOOqdyu3Necwkx6JsazjGuc6oSZ8uDeINDuxwpnjtGwm7n9msxuk2iGKYY4lLa7tmKttH+Vf5uWdn2vqkitTQmYvfS0tbEiobTOyuIT053Nr2aCz9+4Yfzq/hTBmETW6NKPhQot1ahR6pK67BWbsSkwNM7l5z1K/zFO/81P4JqI+eXP+QfbbHGrBQkFc2hhesm6rv404rPORqlP9BTj4pirpuP5yFfMkXY+OXsFPxlGqfn5qDT3C35iNwz3ljjoToTYz9RcOFpm5FjvoZWtrIyRuiVjzVi4UsTgnPQc03WuOkm+UCKFpWWaaCcTQwfGS0jkFC3bHrmxL5Qf03Hg9PK4taBidU0C5Nshb5Wgi4lPf6Dobe7jSDePDS42TLXQk+HiTlXxlNVI+Ua27QTDjpTnjuGBnHvS1ba6KAVNpgyKBWXEm2LoVVaJ+CE8sZSgY8++7H1ITtG5Fxxo+axeeLprP1dHSIMTygxPblKfXPkcji7o3sdU9YaX1TSM7x2UmIcPudXCsUu9TWpPaFN1VRgSlCllVIt2DPp7SMPhllI4b7f1qvyYDU/tvn9GRPZ4HwnWZmtm8Kf4UYJ4Zz3BS4/ZXbsgkNhH8SyKhLRQXuLIaVoOMFNX6yKT2EmepmnNmFRgU9x3snnc8gDcI39F6L1DmnHeIeTqt+fOlc4m8/5eYUW7qnpFnFdz+cPVxVdIZygGvQNEB628PTWYpaODTFwdpyaLS1S7Y5CgojGY67FLX3Q6zTo9bTHCS4sJK7Zt1HZ1zkcF0XuNTHIV/mcXOXIo2T7M3spASgRO2G+C7zSRiuDYzf4iQw+xBuWQu8O05AtGFGHfMqlk85dRzs8iNxvZxu+auQ9bZ1v3hEbnp4ougEGeykbI42K5DsDom9gN2KtyNrsqzht+FpDPKLgyEYekipsYXC0OEQaTAtPg66HQ/VyaOzwFgg9hh6jXIG2arLlhc07tMqXJZpJOlM3/TiQi+8qw9lugewandQojnm7DMm8JFpGk8PxtPjRAQqGbPHK84BlNGd2f2fU0rGWFEsH9he1SSdqdxoasCoJ3SSOLNowIAx/N//EzNSAM9+V/L3huN0G/3NGwojFwTdrTyMEt4ZwF0bjBoPgbTJHqiaaaphY7chBmlY6R3az289Fp3fkpx+T7jpCH+wi/fwEnOGvalP2NFw5ZhWAbLs4wCuA5h05B2umnuew7xExzmq0/H0gIWVXKgE7sbxvIK0Hb560Jn72/Rwdl5hKaB853zAzOR6er0D7Grb7F84eYtkhWjFcY8UUbjzm2uz+yWdtsTRjrkFpjqw+giVso/1aruiNx7tn4hHQIcUnmxENN5+tFrx/6RpJgtsbwgqLXcZcOD1r/l4kaXOa3cQbPfwQbYkT2QehHinEzLiNXNGtHJp7hCGqhPTL3l4C55cvEK2xr6OWs1OFVDxn5xc2mvVtxe5DQRWEXcz/eGmk/r3K/jIqJLDEf37p/Blh1ezEkZkksQpxGRXqrL+6ilaiS0gdrfJZMe5ckrEg3aJNa53TNVih91wdIm5JjkkrPod7f7ROP8Bn4Y74I0bO/DLdohPzLSPGCrXGS1ibT4zSs0tuXjyVd6/68k1lCmzbucJY135pA2sw6tgU1zZlwcbFqiFCKGVn/K6H+u6/lZycZ942Gntf9iN9ymphixWnXsSxTtuTTrmSVsLeQ0WtDCsvbp+P4quvYm0KE3NKw7Go+xUxkgu1PNH+8RN9PgGkuXZ4pqeN5sK4Db8v4yLLD9pK98Mp4rtm24vdxTmz53MzfDtQ3U9ineMs6U6lEza8PnujxrvcvJ8vYnhzlT2agdZX1sLpY9woHSH7mVsoHT/evSNwGy12vpJ5IVXopjI9GtiadljH61jFUK5JK2Invpas2YN8lFV1Qh+xmjCrfjo/wtvWW/JS2gLtZO5GDGpsfYdr3fo2wjBuYXXhHQEZ5OOT+Hn3rDjxWKPDbQF2wdiblvA2T3auYgc9vTS7IUkwD3JvmXd3ERRT7/G0i65sG/GGFjbiG6GW9bCbrweyi5ixtiO+69hfq3GV03aYs+o5D8qCRyoz86DwqevEdUsqEqRfOW+KWzLDnTF1+OutxZ/8jMZLccfD8c96TKw33/LFVAUQQrdm+gYvtE24c3vpuJpf2YBrvC0rZcxoJJ4sim+7khEcC8VtEyJKfUZlfr7tFtM6zwO6OsM/1gFbDj/oxhYj/l2AGKdva2cnuwlMt1qMIKp9y4Y7hRvVjeO0FOX+HqneJWxBwuptd+kq/QLaVVTWbUWPfKemn8llwvEuYwiX7vv4JQHsuRHGnFA9NVN5R6W6F9u0qUzAXzGVUZ/uPPexUK8pDVuf3r3ss8/80V+PzH3z2fPD3G4u0T4w9HCQXFaI+DQe7dR6m3LB+0BD5oV+CBqqP5cYtTaveLEAJr3dbusdub3QLtD7bMdmrQj1gd/uwm0nY10QDdH2V1w49DE6p0JO8T2imZoOLaKHEsXBjuJrsXql7NbmSEFwoVVhfVnphFLUdVX4ipl6ohOm1XyUQDnKZ7+UoHw16+Ly++kPbOKdre+iGOGfNUT2p4XiUQSbEIw+evL9mbweISHLhgXpBAac9ZabZvXxZk0tQyk9H3x2uk+UdOAD+dz3ziO++vkJ6xm9WV6+4sEBaaXE3GutXX53+CdPLZ9D50gIvy2e0ntOFpZuFE2mR069SrjjwtuYTT8at8uDGHhJ0H1RsF/ZojrK/fHu4UyPqPiueN8qcUVI2uHDM1a74fmYncR2KiJVuYuYKYizgIl3wMRZd6k+rwU8gw5eOfZ1j32HGEtH3Ul/4L21UjzFKtnHGmHGopHckUYCWhb97cwUq7MeoyRnGldmL/7suY6zcKO0vDOKgKqbUlCKwsQX+S8f1Jq0IxhRpB77z7/aVNYTZLjAJUi9NpPbKp2ftSVZaI+PFPjhegRjA7vW0gPEWUhMl61Ju9fNMFtN1JDXcVwGqiKMkO3JfJIr3M9veExkTkK2XVvhBrVx+vbbtRJUZvVHOZvm6sL0mEWUPvEPYTfTk6IXeBzcxF03O+jedXLVaVtaqIRCUPjalzINGWdRAxumJhxij+O7B9z8PGXf1HyQM7KgPn8mMeP5SEzgP0LxX/7EdKtb7B+TRf1yeyShJgzHMGivYqRnVwaFYBrMSEfH6kKRmBKmbzu/qkKgGOlTCeO80asZBvwqbtVIpcpNsPx/vnD8/3jsKncOwaT+7svn7UEZA9KToymv1Iv/8K4L9VWrmblWWkOa3Wv++pnWqxD9UE5X4RsrZsQPH/6i1RvF+ZNVxf+K49QZXabhH7P733JcwJkkQ7D/Cw==","base64"));nt=Math.log2||function(n){return Math.log(n)/Math.LN2};o=function(n){return nt(n)+1|0};c=o(r.categories.length-1);h=o(r.combiningClasses.length-1);s=o(r.scripts.length-1);e=o(r.eaw.length-1);u=10;a=h+s+e+u;y=s+e+u;d=e+u;w=u;l=(1<<c)-1;v=(1<<h)-1;k=(1<<s)-1;p=(1<<e)-1;b=(1<<u)-1;i.getCategory=function(n){var t;return t=f.get(n),r.categories[t>>a&l]};i.getCombiningClass=function(n){var t;return t=f.get(n),r.combiningClasses[t>>y&v]};i.getScript=function(n){var t;return t=f.get(n),r.scripts[t>>d&k]};i.getEastAsianWidth=function(n){var t;return t=f.get(n),r.eaw[t>>w&p]};i.getNumericValue=function(n){var u,r,t,e,i;if(i=f.get(n),t=i&b,t===0)return null;if(t<=50)return t-1;if(t<480)return e=(t>>4)-12,u=(t&15)+1,e/u;if(t<768){for(i=(t>>5)-14,r=(t&31)+2;r>0;)i*=10,r--;return i}for(i=(t>>2)-191,r=(t&3)+1;r>0;)i*=60,r--;return i};i.isAlphabetic=function(n){var t;return(t=i.getCategory(n))==='Lu'||t==='Ll'||t==='Lt'||t==='Lm'||t==='Lo'||t==='Nl'};i.isDigit=function(n){return i.getCategory(n)==='Nd'};i.isPunctuation=function(n){var t;return(t=i.getCategory(n))==='Pc'||t==='Pd'||t==='Pe'||t==='Pf'||t==='Pi'||t==='Po'||t==='Ps'};i.isLowerCase=function(n){return i.getCategory(n)==='Ll'};i.isUpperCase=function(n){return i.getCategory(n)==='Lu'};i.isTitleCase=function(n){return i.getCategory(n)==='Lt'};i.isWhiteSpace=function(n){var t;return(t=i.getCategory(n))==='Zs'||t==='Zl'||t==='Zp'};i.isBaseForm=function(n){var t;return(t=i.getCategory(n))==='Nd'||t==='No'||t==='Nl'||t==='Lu'||t==='Ll'||t==='Lt'||t==='Lm'||t==='Lo'||t==='Me'||t==='Mc'};i.isMark=function(n){var t;return(t=i.getCategory(n))==='Mn'||t==='Me'||t==='Mc'}}).call(this,n("buffer").Buffer)},{"./data.json":219,buffer:60,"unicode-trie":221}],221:[function(n,t){var r,i;i=n('tiny-inflate');r=function(){function b(n){var u,t,r;u=typeof n.readUInt32BE=='function'&&typeof n.slice=='function';u||n instanceof Uint8Array?(u?(this.highStart=n.readUInt32BE(0),this.errorValue=n.readUInt32BE(4),t=n.readUInt32BE(8),n=n.slice(12)):(r=new DataView(n.buffer),this.highStart=r.getUint32(0),this.errorValue=r.getUint32(4),t=r.getUint32(8),n=n.subarray(12)),n=i(n,new Uint8Array(t)),n=i(n,new Uint8Array(t)),this.data=new Uint32Array(n.buffer)):(this.data=n.data,this.highStart=n.highStart,this.errorValue=n.errorValue)}var e,o,r,s,h,c,l,t,a,f,v,u,y,n,p,w;return u=11,n=5,y=u-n,v=65536>>u,h=1<<y,l=h-1,t=2,e=1<<n,r=e-1,f=65536>>n,a=1024>>n,c=f+a,w=c,p=32,s=w+p,o=1<<t,b.prototype.get=function(i){var e;return i<0||i>1114111?this.errorValue:i<55296||i>56319&&i<=65535?(e=(this.data[i>>n]<<t)+(i&r),this.data[e]):i<=65535?(e=(this.data[f+(i-55296>>n)]<<t)+(i&r),this.data[e]):i<this.highStart?(e=this.data[s-v+(i>>u)],e=this.data[e+(i>>n&l)],e=(e<<t)+(i&r),this.data[e]):this.data[this.data.length-o]},b}();t.localExports=r},{"tiny-inflate":218}],222:[function(n,t){(function(n){function r(n,t){function u(){if(!r){if(i('throwDeprecation'))throw new Error(t);else i('traceDeprecation')?console.trace(t):console.warn(t);r=!0}return n.apply(this,arguments)}if(i('noDeprecation'))return n;var r=!1;return u}function i(t){try{if(!n.localStorage)return!1}catch(r){return!1}var i=n.localStorage[t];return null==i?!1:String(i).toLowerCase()==='true'}t.localExports=r}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],223:[function(n,t){t.localExports=function(n){return n&&typeof n=='object'&&typeof n.copy=='function'&&typeof n.fill=='function'&&typeof n.readUInt8=='function'}},{}],224:[function(n,t,i){(function(t,r){function f(n,t){var r={seen:[],stylize:et};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),b(t)?r.showHidden=t:t&&i._extend(r,t),u(r.showHidden)&&(r.showHidden=!1),u(r.depth)&&(r.depth=2),u(r.colors)&&(r.colors=!1),u(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=ft),s(r,n,r.depth)}function ft(n,t){var i=f.styles[t];return i?'\u001b['+f.colors[i][0]+'m'+n+'\u001b['+f.colors[i][1]+'m':n}function et(n){return n}function ot(n){var t={};return n.forEach(function(n){t[n]=!0}),t}function s(n,t,r){var e,y,u,b,d,g,tt;if(n.customInspect&&t&&v(t.inspect)&&t.inspect!==i.inspect&&!(t.constructor&&t.constructor.prototype===t))return e=t.inspect(r,n),c(e)||(e=s(n,e,r)),e;if(y=st(n,t),y)return y;if(u=Object.keys(t),b=ot(u),n.showHidden&&(u=Object.getOwnPropertyNames(t)),a(t)&&(u.indexOf('message')>=0||u.indexOf('description')>=0))return p(t);if(u.length===0){if(v(t))return d=t.name?': '+t.name:'',n.stylize('[Function'+d+']','special');if(l(t))return n.stylize(RegExp.prototype.toString.call(t),'regexp');if(k(t))return n.stylize(Date.prototype.toString.call(t),'date');if(a(t))return p(t)}var f='',o=!1,h=['{','}'];return(nt(t)&&(o=!0,h=['[',']']),v(t)&&(g=t.name?': '+t.name:'',f=' [Function'+g+']'),l(t)&&(f=' '+RegExp.prototype.toString.call(t)),k(t)&&(f=' '+Date.prototype.toUTCString.call(t)),a(t)&&(f=' '+p(t)),u.length===0&&(!o||t.length==0))?h[0]+f+h[1]:r<0?l(t)?n.stylize(RegExp.prototype.toString.call(t),'regexp'):n.stylize('[Object]','special'):(n.seen.push(t),tt=o?ht(n,t,r,b,u):u.map(function(i){return w(n,t,r,b,i,o)}),n.seen.pop(),ct(tt,f,h))}function st(n,t){if(u(t))return n.stylize('undefined','undefined');if(c(t)){var i='\''+JSON.stringify(t).replace(/^"|"$/g,'').replace(/'/g,"\\'").replace(/\\"/g,'"')+'\'';return n.stylize(i,'string')}return tt(t)?n.stylize(''+t,'number'):b(t)?n.stylize(''+t,'boolean'):h(t)?n.stylize('null','null'):void 0}function p(n){return'['+Error.prototype.toString.call(n)+']'}function ht(n,t,i,r,u){for(var f=[],e=0,o=t.length;e<o;++e)rt(t,String(e))?f.push(w(n,t,i,r,String(e),!0)):f.push('');return u.forEach(function(u){u.match(/^\d+$/)||f.push(w(n,t,i,r,u,!0))}),f}function w(n,t,i,r,f,e){var o,c,l;if(l=Object.getOwnPropertyDescriptor(t,f)||{value:t[f]},l.get?c=l.set?n.stylize('[Getter/Setter]','special'):n.stylize('[Getter]','special'):l.set&&(c=n.stylize('[Setter]','special')),rt(r,f)||(o='['+f+']'),c||(n.seen.indexOf(l.value)<0?(c=h(i)?s(n,l.value,null):s(n,l.value,i-1),c.indexOf('\n')>-1&&(c=e?c.split('\n').map(function(n){return'  '+n}).join('\n').substr(2):'\n'+c.split('\n').map(function(n){return'   '+n}).join('\n'))):c=n.stylize('[Circular]','special')),u(o)){if(e&&f.match(/^\d+$/))return c;o=JSON.stringify(''+f);o.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=n.stylize(o,'name')):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=n.stylize(o,'string'))}return o+': '+c}function ct(n,t,i){var r=0,u=n.reduce(function(n,t){return r++,t.indexOf('\n')>=0&&r++,n+t.replace(/\u001b\[\d\d?m/g,'').length+1},0);return u>60?i[0]+(t===''?'':t+'\n ')+' '+n.join(',\n  ')+' '+i[1]:i[0]+t+' '+n.join(', ')+' '+i[1]}function nt(n){return Array.isArray(n)}function b(n){return typeof n=='boolean'}function h(n){return n===null}function lt(n){return n==null}function tt(n){return typeof n=='number'}function c(n){return typeof n=='string'}function at(n){return typeof n=='symbol'}function u(n){return n===void 0}function l(n){return e(n)&&d(n)==='[object RegExp]'}function e(n){return typeof n=='object'&&n!==null}function k(n){return e(n)&&d(n)==='[object Date]'}function a(n){return e(n)&&(d(n)==='[object Error]'||n instanceof Error)}function v(n){return typeof n=='function'}function vt(n){return n===null||typeof n=='boolean'||typeof n=='number'||typeof n=='string'||typeof n=='symbol'||typeof n=='undefined'}function d(n){return Object.prototype.toString.call(n)}function g(n){return n<10?'0'+n.toString(10):n.toString(10)}function yt(){var n=new Date,t=[g(n.getHours()),g(n.getMinutes()),g(n.getSeconds())].join(':');return[n.getDate(),it[n.getMonth()],t].join(' ')}function rt(n,t){return Object.prototype.hasOwnProperty.call(n,t)}var ut=/%[sdj%]/g,o,y,it;i.format=function(n){var u,t,r;if(!c(n)){for(u=[],t=0;t<arguments.length;t++)u.push(f(arguments[t]));return u.join(' ')}var t=1,i=arguments,o=i.length,s=String(n).replace(ut,function(n){if(n==='%%')return'%';if(t>=o)return n;switch(n){case'%s':return String(i[t++]);case'%d':return Number(i[t++]);case'%j':try{return JSON.stringify(i[t++])}catch(r){return'[Circular]'}default:return n}});for(r=i[t];t<o;r=i[++t])s+=h(r)||!e(r)?' '+r:' '+f(r);return s};i.deprecate=function(n,f){function o(){if(!e){if(t.throwDeprecation)throw new Error(f);else t.traceDeprecation?console.trace(f):console.error(f);e=!0}return n.apply(this,arguments)}if(u(r.process))return function(){return i.deprecate(n,f).apply(this,arguments)};if(t.noDeprecation===!0)return n;var e=!1;return o};o={};i.debuglog=function(n){if(u(y)&&(y=t.env.NODE_DEBUG||''),n=n.toUpperCase(),!o[n])if(new RegExp('\\b'+n+'\\b','i').test(y)){var r=t.pid;o[n]=function(){var t=i.format.apply(i,arguments);console.error('%s %d: %s',n,r,t)}}else o[n]=function(){};return o[n]};i.inspect=f;f.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};f.styles={special:'cyan',number:'yellow',boolean:'yellow',undefined:'grey','null':'bold',string:'green',date:'magenta',regexp:'red'};i.isArray=nt;i.isBoolean=b;i.isNull=h;i.isNullOrUndefined=lt;i.isNumber=tt;i.isString=c;i.isSymbol=at;i.isUndefined=u;i.isRegExp=l;i.isObject=e;i.isDate=k;i.isError=a;i.isFunction=v;i.isPrimitive=vt;i.isBuffer=n('./support/isBuffer');it=['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];i.log=function(){console.log('%s - %s',yt(),i.format.apply(i,arguments))};i.inherits=n('inherits');i._extend=function(n,t){if(!t||!e(t))return n;for(var i=Object.keys(t),r=i.length;r--;)n[i[r]]=t[i[r]];return n}}).call(this,n('_process'),typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"./support/isBuffer":223,_process:188,inherits:167}]},{},[2])(2)})})(t=n.pdf||(n.pdf={}))})(wijmo||(wijmo={})),function(n){var t;(function(n){'use strict';var t,i,r,u,f,e,o,s,h;(function(n){n[n.Butt=0]="Butt";n[n.Round=1]="Round";n[n.Square=2]="Square"})(n.PdfLineCapStyle||(n.PdfLineCapStyle={}));t=n.PdfLineCapStyle,function(n){n[n.Miter=0]="Miter";n[n.Round=1]="Round";n[n.Bevel=2]="Bevel"}(n.PdfLineJoinStyle||(n.PdfLineJoinStyle={}));i=n.PdfLineJoinStyle,function(n){n[n.NonZero=0]="NonZero";n[n.EvenOdd=1]="EvenOdd"}(n.PdfFillRule||(n.PdfFillRule={}));r=n.PdfFillRule,function(n){n[n.Portrait=0]="Portrait";n[n.Landscape=1]="Landscape"}(n.PdfPageOrientation||(n.PdfPageOrientation={}));u=n.PdfPageOrientation,function(n){n[n.Left=0]="Left";n[n.Center=1]="Center";n[n.Right=2]="Right"}(n.PdfImageHorizontalAlign||(n.PdfImageHorizontalAlign={}));f=n.PdfImageHorizontalAlign,function(n){n[n.Top=0]="Top";n[n.Center=1]="Center";n[n.Bottom=2]="Bottom"}(n.PdfImageVerticalAlign||(n.PdfImageVerticalAlign={}));e=n.PdfImageVerticalAlign,function(n){n[n.Left=0]="Left";n[n.Center=1]="Center";n[n.Right=2]="Right";n[n.Justify=3]="Justify"}(n.PdfTextHorizontalAlign||(n.PdfTextHorizontalAlign={}));o=n.PdfTextHorizontalAlign,function(n){n[n.Top=0]="Top";n[n.Alphabetic=1]="Alphabetic"}(n._PdfTextBaseline||(n._PdfTextBaseline={}));s=n._PdfTextBaseline,function(n){n[n.A0=0]="A0";n[n.A1=1]="A1";n[n.A2=2]="A2";n[n.A3=3]="A3";n[n.A4=4]="A4";n[n.A5=5]="A5";n[n.A6=6]="A6";n[n.A7=7]="A7";n[n.A8=8]="A8";n[n.A9=9]="A9";n[n.A10=10]="A10";n[n.B0=11]="B0";n[n.B1=12]="B1";n[n.B2=13]="B2";n[n.B3=14]="B3";n[n.B4=15]="B4";n[n.B5=16]="B5";n[n.B6=17]="B6";n[n.B7=18]="B7";n[n.B8=19]="B8";n[n.B9=20]="B9";n[n.B10=21]="B10";n[n.C0=22]="C0";n[n.C1=23]="C1";n[n.C2=24]="C2";n[n.C3=25]="C3";n[n.C4=26]="C4";n[n.C5=27]="C5";n[n.C6=28]="C6";n[n.C7=29]="C7";n[n.C8=30]="C8";n[n.C9=31]="C9";n[n.C10=32]="C10";n[n.RA0=33]="RA0";n[n.RA1=34]="RA1";n[n.RA2=35]="RA2";n[n.RA3=36]="RA3";n[n.RA4=37]="RA4";n[n.SRA0=38]="SRA0";n[n.SRA1=39]="SRA1";n[n.SRA2=40]="SRA2";n[n.SRA3=41]="SRA3";n[n.SRA4=42]="SRA4";n[n.Executive=43]="Executive";n[n.Folio=44]="Folio";n[n.Legal=45]="Legal";n[n.Letter=46]="Letter";n[n.Tabloid=47]="Tabloid"}(n.PdfPageSize||(n.PdfPageSize={}));h=n.PdfPageSize})(t=n.pdf||(n.pdf={}))}(wijmo||(wijmo={})),function(n){var t;(function(n){'use strict';n._Errors={InvalidArg:function(n){return'Invalid argument: "'+n+'".'},InvalidFormat:function(n){return'"'+n+'" is not in the correct format.'},ValueCannotBeEmpty:function(n){return'Value cannot be empty: "'+n+'".'},PathStarted:'This method can not be used until the current path is finished.',BufferPagesMustBeEnabled:'The bufferPages property must be enabled to render headers and footers.',AbstractMethod:'This is an abstract method, it should not be called.',FontNameMustBeSet:'The font name must be set.',FontSourceMustBeStringArrayBuffer:'The font source must be of type string or ArrayBuffer.',FontSourceMustBeString:'The font source must be of type string.',FontSourceMustBeArrayBuffer:'The font source must be of type ArrayBuffer.',EmptyUrl:'URL can not be empty.',UndefinedMimeType:'MIME-type must be set.',InvalidImageDataUri:'Invalid Data URI. It should be base64 encoded string that represents JPG or PNG image.',InvalidImageFormat:'Invalid image format. Only JPG and PNG formats are supported.'}})(t=n.pdf||(n.pdf={}))}(wijmo||(wijmo={})),function(n){var t;(function(t){'use strict';function f(n,t){var i,u,f,e,r;n&&n instanceof Blob&&t&&(navigator.msSaveBlob?navigator.msSaveBlob(n,t):(i=document.createElement('a'),u=function(n){var t=document.createEvent('MouseEvents');t.initMouseEvent('click',!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null);n.dispatchEvent(t)},"download"in i?(f=window.URL||window.webkitURL||window,e=f.createObjectURL(n),i.href=e,i.download=t,u(i),i=null,window.setTimeout(function(){f.revokeObjectURL(e)},3e4)):(r=new FileReader,r.onloadend=function(){i.download=t;i.href=r.result;u(i);i=null},r.readAsDataURL(n))))}function e(t){return n.asNumber(t)/.75}function u(t){return n.asNumber(t)*.75}function o(i,r){r===void 0&&(r=!0);var u;return u=i?i instanceof n.Color?r?n.Color.fromRgba(i.r,i.g,i.b,i.a):i:n.Color.fromString(i):n.Color.fromRgba(0,0,0),n.assert(u instanceof n.Color,t._Errors.InvalidArg('colorOrString')),u}function s(i,r){return r===void 0&&(r=!0),(n.isString(i)||i instanceof n.Color)&&(i=new t.PdfPen(i)),n.assert(i==null&&r||i instanceof t.PdfPen,t._Errors.InvalidArg('penOrColor')),i}function h(i,r){return r===void 0&&(r=!0),(n.isString(i)||i instanceof n.Color)&&(i=new t.PdfSolidBrush(i)),n.assert(i==null&&r||i instanceof t.PdfBrush,t._Errors.InvalidArg('brushOrColor')),i}function c(i,r){return r===void 0&&(r=!0),n.assert(i==null&&r||i instanceof t.PdfFont,t._Errors.InvalidArg('font')),i}function l(i,f,e){var s,o;if(f===void 0&&(f=!0),e===void 0&&(e=0),s=!i&&i!==0,n.assert(!s||f,t._Errors.ValueCannotBeEmpty('value')),s)return e;if(n.isNumber(i)){if(i===i)return i}else if(n.isString(i)){if(r[i])return r[i];if(o=parseFloat(i),o===o){if(i.match(/(px)$/i))return u(o);if(i==o||i.match(/(pt)$/i))return o}}n.assert(!1,t._Errors.InvalidFormat(i))}function a(n,t){var r={},i=0;return n=n.replace(/&&/g,function(n,t){return r[t-i*2+i]=!0,i++,'&'}),n.replace(/&\[(\S+?)\]/g,function(n,i,u){var f=t[i];return f&&!r[u]?f:n})}function i(t,r){var u,f,o,e;if(n.isObject(t)&&n.isObject(r)){for(u in t)if((!u||u[0]!=='_')&&(f=t[u],o=f&&n.isFunction(f.equals)?f.equals(r[u]):i(f,r[u]),!o))return!1;return!0}if(n.isArray(t)&&n.isArray(r)){if(t.length!==r.length)return!1;for(e=0;e<t.length;e++)if(!i(t[e],r[e]))return!1;return!0}return t===r}function v(n){var i={},t;if(n)for(t in n)i[t]=n[t];return i}function y(n){return n?n.charAt(0).toUpperCase()+n.slice(1).toLowerCase():n}t._IE='ActiveXObject'in window;var r={'xx-small':7,'x-small':7.5,small:10,medium:12,large:13.5,'x-large':18,'xx-large':24};t.saveBlob=f;t.ptToPx=e;t.pxToPt=u;t._asColor=o;t._asPdfPen=s;t._asPdfBrush=h;t._asPdfFont=c;t._asPt=l;t._formatMacros=a;t._compare=i;t._shallowCopy=v;t._toTitleCase=y})(t=n.pdf||(n.pdf={}))}(wijmo||(wijmo={})),function(n){var t;(function(t){'use strict';var i=function(){function t(n,t,i){n===void 0&&(n=null);t===void 0&&(t=n);i===void 0&&(i=0);this.dash=n;this.gap=t;this.phase=i}return Object.defineProperty(t.prototype,"dash",{get:function(){return this._dash},set:function(t){this._dash=n.asNumber(t,!0,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gap",{get:function(){return this._gap},set:function(t){this._gap=n.asNumber(t,!0,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"phase",{get:function(){return this._phase},set:function(t){this._phase=n.asNumber(t,!1,!0)},enumerable:!0,configurable:!0}),t.prototype.clone=function(){return new t(this._dash,this._gap,this._phase)},t.prototype.equals=function(n){return n instanceof t&&this._dash===n.dash&&this._gap===n.gap&&this._phase===n.phase},t}();t.PdfDashPattern=i})(t=n.pdf||(n.pdf={}))}(wijmo||(wijmo={})),function(n){var t;(function(n){'use strict';var t=function(){function t(){}return t.prototype.clone=function(){throw n._Errors.AbstractMethod;},t.prototype.equals=function(){throw n._Errors.AbstractMethod;},t.prototype._getBrushObject=function(){throw n._Errors.AbstractMethod;},t}();n.PdfBrush=t})(t=n.pdf||(n.pdf={}))}(wijmo||(wijmo={})),function(n){var t;(function(t){'use strict';var i=function(){function i(t,i,r){this.offset=t||0;this.color=i||n.Color.fromRgba(0,0,0);this.opacity=r==null?1:r}return Object.defineProperty(i.prototype,"offset",{get:function(){return this._offset},set:function(t){this._offset=n.clamp(n.asNumber(t,!1,!0),0,1)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"color",{get:function(){return this._color},set:function(n){this._color=t._asColor(n)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"opacity",{get:function(){return this._opacity},set:function(t){this._opacity=n.clamp(n.asNumber(t,!1,!0),0,1)},enumerable:!0,configurable:!0}),i.prototype.clone=function(){return new i(this.offset,this.color,this.opacity)},i.prototype.equals=function(n){return n instanceof i&&this._offset===n._offset&&this._color.equals(n._color)&&this._opacity===n._opacity},i}();t.PdfGradientStop=i})(t=n.pdf||(n.pdf={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var i=function(i){function r(n,t){i.call(this);this.stops=n||[];this.opacity=t==null?1:t}return __extends(r,i),Object.defineProperty(r.prototype,"opacity",{get:function(){return this._opacity},set:function(t){this._opacity=n.clamp(n.asNumber(t,!1,!0),0,1)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"stops",{get:function(){return this._stops},set:function(i){n.assert(n.isArray(i),t._Errors.InvalidArg('value'));this._stops=this._cloneStopsArray(i)},enumerable:!0,configurable:!0}),r.prototype.equals=function(n){return n instanceof r&&this._opacity===n.opacity&&t._compare(this._stops,n._stops)},r.prototype._cloneStopsArray=function(i){for(var f,u=[],r=0;r<i.length;r++)f=i[r],n.assert(f instanceof t.PdfGradientStop,t._Errors.InvalidArg('stops['+r+']')),u.push(i[r].clone());return u},r}(t.PdfBrush);t.PdfGradientBrush=i})(t=n.pdf||(n.pdf={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var i=function(t){function i(n,i,r,u,f,e){t.call(this,f,e);this.x1=n;this.y1=i;this.x2=r;this.y2=u}return __extends(i,t),Object.defineProperty(i.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=n.asNumber(t,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=n.asNumber(t,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=n.asNumber(t,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=n.asNumber(t,!1,!0)},enumerable:!0,configurable:!0}),i.prototype.clone=function(){return new i(this._x1,this._y1,this._x2,this._y2,this.stops,this.opacity)},i.prototype.equals=function(n){return n instanceof i&&this._x1===n._x1&&this._y1===n._y1&&this._x2===n._x2&&this._y2===n._y2&&t.prototype.equals.call(this,n)},i.prototype._getBrushObject=function(n){for(var t,r=n._pdfdoc._document.linearGradient(this._x1+n._offset.x,this._y1+n._offset.y,this._x2+n._offset.x,this._y2+n._offset.y),u=this.stops,i=0;i<u.length;i++)t=u[i],t&&r.stop(t.offset,[t.color.r,t.color.g,t.color.b],t.color.a);return r},i}(t.PdfGradientBrush);t.PdfLinearGradientBrush=i})(t=n.pdf||(n.pdf={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var i=function(t){function i(n,i,r,u,f,e,o,s){t.call(this,o,s);this.x1=n;this.y1=i;this.r1=r;this.x2=u;this.y2=f;this.r2=e}return __extends(i,t),Object.defineProperty(i.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=n.asNumber(t,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=n.asNumber(t,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"r1",{get:function(){return this._r1},set:function(t){this._r1=n.asNumber(t,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=n.asNumber(t,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=n.asNumber(t,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"r2",{get:function(){return this._r2},set:function(t){this._r2=n.asNumber(t,!1,!0)},enumerable:!0,configurable:!0}),i.prototype.clone=function(){return new i(this._x1,this._y1,this._r1,this._x2,this._y2,this._r2,this.stops,this.opacity)},i.prototype.equals=function(n){return n instanceof i&&this._x1===n._x1&&this._y1===n._y1&&this._r1===n._r1&&this._x2===n._x2&&this._y2===n._y2&&this._r2===n._r2&&t.prototype.equals.call(this,n)},i.prototype._getBrushObject=function(n){for(var t,r=n._pdfdoc._document.radialGradient(this._x1+n._offset.x,this._y2+n._offset.y,this._r1,this._x2+n._offset.x,this._y2+n._offset.y,this._r2),u=this.stops,i=0;i<u.length;i++)t=u[i],t&&r.stop(t.offset,[t.color.r,t.color.g,t.color.b],t.color.a);return r},i}(t.PdfGradientBrush);t.PdfRadialGradientBrush=i})(t=n.pdf||(n.pdf={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var i=function(i){function r(t){i.call(this);this.color=t||n.Color.fromRgba(0,0,0)}return __extends(r,i),Object.defineProperty(r.prototype,"color",{get:function(){return this._color},set:function(n){this._color=t._asColor(n)},enumerable:!0,configurable:!0}),r.prototype.clone=function(){return new r(this._color)},r.prototype.equals=function(n){return n instanceof r&&this._color.equals(n._color)},r.prototype._getBrushObject=function(){return this._color},r}(t.PdfBrush);t.PdfSolidBrush=i})(t=n.pdf||(n.pdf={}))}(wijmo||(wijmo={})),function(n){var t;(function(t){'use strict';var i=function(){function i(i,r,u,f,e,o){if(i==null&&(i=n.Color.fromRgba(0,0,0)),r==null&&(r=1),u==null&&(u=new t.PdfDashPattern(null,null,0)),f==null&&(f=t.PdfLineCapStyle.Butt),e==null&&(e=t.PdfLineJoinStyle.Miter),o==null&&(o=10),!n.isObject(i)||i instanceof n.Color||i instanceof t.PdfBrush)i instanceof t.PdfBrush?this.brush=i:this.color=i,this.width=r,this.cap=f,this.join=e,this.miterLimit=o,this.dashPattern=u;else{var s=i;this.color=s.color;this.brush=s.brush;this.width=s.width!=null?s.width:r;this.cap=s.cap!=null?s.cap:f;this.join=s.join!=null?s.join:e;this.miterLimit=s.miterLimit!=null?s.miterLimit:o;this.dashPattern=s.dashPattern||u}this._color=this._color||n.Color.fromRgba(0,0,0)}return Object.defineProperty(i.prototype,"color",{get:function(){return this._color},set:function(n){this._color=t._asColor(n)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"brush",{get:function(){return this._brush},set:function(n){n=t._asPdfBrush(n,!0);this._brush=n?n.clone():null},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"width",{get:function(){return this._width},set:function(t){this._width=n.asNumber(t,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"cap",{get:function(){return this._cap},set:function(i){this._cap=n.asEnum(i,t.PdfLineCapStyle)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"join",{get:function(){return this._join},set:function(i){this._join=n.asEnum(i,t.PdfLineJoinStyle)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(t){this._miterLimit=n.asNumber(t,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"dashPattern",{get:function(){return this._dashPattern},set:function(i){n.assert(i instanceof t.PdfDashPattern,t._Errors.InvalidArg('value'));this._dashPattern=i.clone()},enumerable:!0,configurable:!0}),i.prototype.clone=function(){var n=new i(this._color,this._width,this._dashPattern,this._cap,this._join,this._miterLimit);return n.brush=this._brush,n},i.prototype.equals=function(n){return n instanceof i&&this._color.equals(n._color)&&(this._brush?this._brush.equals(n._brush):this._brush===n._brush)&&this._width===n._width&&this._cap===n._cap&&this._join===n._join&&this._miterLimit===n._miterLimit&&this._dashPattern.equals(n._dashPattern)},i}();t.PdfPen=i})(t=n.pdf||(n.pdf={}))}(wijmo||(wijmo={})),function(n){var t;(function(t){'use strict';var i=function(){function i(n,t,i,r){n===void 0&&(n='times');t===void 0&&(t=10);i===void 0&&(i='normal');r===void 0&&(r='normal');this.family=n;this.size=t;this.style=i;this.weight=r}return Object.defineProperty(i.prototype,"family",{get:function(){return this._family},set:function(t){this._family=n.asString(t,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"size",{get:function(){return this._size},set:function(t){this._size=n.asNumber(t,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"style",{get:function(){return this._style},set:function(r){r=n.asString(r,!1);r&&n.assert(!!i._KNOWN_STYLES[(r||'').toLowerCase()],t._Errors.InvalidArg('value'));this._style=r},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"weight",{get:function(){return this._weight},set:function(r){r=n.asString(r,!1);r&&n.assert(!!i._KNOWN_WEIGHTS[(r||'').toLowerCase()],t._Errors.InvalidArg('value'));this._weight=r},enumerable:!0,configurable:!0}),i.prototype.clone=function(){return new i(this.family,this.size,this.style,this.weight)},i.prototype.equals=function(n){return n instanceof i&&this._family===n._family&&this._size===n._size&&this._style===n._style&&this._weight===n._weight},i._DEF_NATIVE_NAME='Times-Roman',i._DEF_FAMILY_NAME='times',i._KNOWN_WEIGHTS={normal:1,bold:1,'100':1,'200':1,'300':1,'400':1,'500':1,'600':1,'700':1,'800':1,'900':1},i._KNOWN_STYLES={normal:1,italic:1,oblique:1},i._DEF_PDFKIT_FONT=new i('helvetica',12),i._DEF_FONT=new i,i}();t.PdfFont=i})(t=n.pdf||(n.pdf={}))}(wijmo||(wijmo={})),function(n){var t;(function(t){'use strict';var i=function(){function n(n){var t,i;if(this._values=[],this._keys={},n)for(t=0;t<n.length;t++)i=n[t],this._keys[i.key]=t,this._values.push({key:i.key,value:i.value})}return n.prototype.hasKey=function(n){var t=this._keys[n];return t!==undefined?this._values[t].value:null},n.prototype.add=function(n,t){return this.hasKey(n)?null:(this._keys[n]=this._values.length,this._values.push({key:n,value:t}),t)},n.prototype.each=function(n){var t,i;if(n)for(t=0;t<this._values.length;t++)if(i=this._values[t],n(i.key,i.value)===!1)break},n.prototype.eachReverse=function(n){var t,i;if(n)for(t=this._values.length-1;t>=0;t--)if(i=this._values[t],n(i.key,i.value)===!1)break},n}(),r=function(){function r(n){var t=this;this._fonts=new i([{key:'zapfdingbats',value:{attributes:{fantasy:!0},normal:{400:'ZapfDingbats'}}},{key:'symbol',value:{attributes:{serif:!0},normal:{400:'Symbol'}}},{key:'courier',value:{attributes:{serif:!0,monospace:!0},normal:{400:'Courier',700:'Courier-Bold'},oblique:{400:'Courier-Oblique',700:'Courier-BoldOblique'}}},{key:'helvetica',value:{attributes:{sansSerif:!0},normal:{400:'Helvetica',700:'Helvetica-Bold'},oblique:{400:'Helvetica-Oblique',700:'Helvetica-BoldOblique'}}},{key:'times',value:{attributes:{serif:!0},normal:{400:'Times-Roman',700:'Times-Bold'},italic:{400:'Times-Italic',700:'Times-BoldItalic'}}}]);this._weightNameToNum={normal:400,bold:700};this._findFontCache={};this._internalFontNames={};this._doc=n;this._fonts.each(function(n,i){var r=function(n){for(var i in n)t._internalFontNames[n[i]]=1};r(i.normal)||r(i.italic)||r(i.oblique)})}return r.prototype.registerFont=function(i){var r,u,f,e;return n.assert(!!i,t._Errors.ValueCannotBeEmpty('font')),n.asString(i.name),n.assert(i.source instanceof ArrayBuffer,t._Errors.FontSourceMustBeArrayBuffer),i=t._shallowCopy(i),r=this._normalizeFontSelector(i.name,i.style,i.weight),u=this._fonts.hasKey(r.name),u||(u=this._fonts.add(r.name,{attributes:i})),f=u[r.style],f||(f=u[r.style]={}),e=this._makeInternalName(r),f[r.weight]||(this._doc.registerFont(e,i.source,i.family),this._findFontCache={},f[r.weight]=e,this._internalFontNames[e]=1),e},r.prototype.findFont=function(n,i,r){var u=this._normalizeFontSelector(n,i,r),f=this._makeInternalName(u),e,o,s;if(this._findFontCache[f])return this._findFontCache[f];for(u.name+=','+t.PdfFont._DEF_FAMILY_NAME,e=0,o=u.name.split(',');e<o.length;e++)if(s=this._findFont(o[e].replace(/["']/g,'').trim(),u.style,u.weight),s)return this._findFontCache[f]=s;return this._findFontCache[f]=this._internalFontNames[n]?n:t.PdfFont._DEF_NATIVE_NAME},r.prototype._normalizeFontSelector=function(n,i,r){return{name:(n||'').toLowerCase(),style:(i||t.PdfFont._DEF_FONT.style).toLowerCase(),weight:parseInt(this._weightNameToNum[r]||r)||parseInt(this._weightNameToNum[t.PdfFont._DEF_FONT.weight])}},r.prototype._findFont=function(n,t,i){var e=this,r=[],u,f;switch(t){case'italic':r=['italic','oblique','normal'];break;case'oblique':r=['oblique','italic','normal'];break;default:r=['normal','oblique','italic']}switch(n){case'cursive':case'fantasy':case'monospace':case'serif':case'sans-serif':this._fonts.eachReverse(function(t,f){var s=n==='sans-serif'?'sansSerif':n,o;if(f.attributes[s])for(o=0;o<r.length;o++)if(u=e._findFontWeightFallback(t,r[o],i),u)return!1});break;default:if(this._fonts.hasKey(n))for(f=0;f<r.length&&!u;f++)u=this._findFontWeightFallback(n,r[f],i)}return u},r.prototype._findFontWeightFallback=function(n,t,i,r){var h=this._fonts.hasKey(n),u,c,o,s,f,e;if(h&&h[t]){if(u=h[t],u[i])return u[i];if(!r){r=[];for(c in u)r.push(parseFloat(c));r.sort(function(n,t){return n-t})}if(i>500){for(o=0,f=0;f<r.length;f++){if(e=r[f],e>i)return u[e];o=e}if(o)return u[o]}else if(i<400){for(s=0,f=r.length-1;f>=0;f--){if(e=r[f],e<i)return u[e];s=e}if(s)return u[s]}else return i==400?u[500]?u[500]:this._findFontWeightFallback(n,t,300,r):u[400]?u[400]:this._findFontWeightFallback(n,t,300,r)}return null},r.prototype._makeInternalName=function(n){return n.name+'-'+n.style+'-'+n.weight},r}();t._PdfFontRegistrar=r})(t=n.pdf||(n.pdf={}))}(wijmo||(wijmo={})),function(n){var t;(function(t){'use strict';var i=function(){function i(){this._ctxProps={xo:0,yo:0,lineGap:0}}return Object.defineProperty(i.prototype,"x",{get:function(){this._switchCtx();var n=this._pdfdoc._document.x-this._offset.x;return this._saveCtx(),n},set:function(t){t=n.asNumber(t);this._switchCtx();this._pdfdoc._document.x=t+this._offset.x;this._saveCtx()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"y",{get:function(){this._switchCtx();var n=this._pdfdoc._document.y-this._offset.y;return this._saveCtx(),n},set:function(t){t=n.asNumber(t);this._switchCtx();this._pdfdoc._document.y=t+this._offset.y;this._saveCtx()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"lineGap",{get:function(){return this._ctxProps.lineGap},set:function(t){this._ctxProps.lineGap=t=n.asNumber(t,!1,!0);this._pdfdoc&&this._pdfdoc._document&&(this._switchCtx(),this._pdfdoc._document.lineGap(t),this._saveCtx())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){var n=this._pdfdoc._document.page;return Math.max(0,n.height-n.margins.top-n.margins.bottom)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"width",{get:function(){var n=this._pdfdoc._document.page;return Math.max(n.width-n.margins.left-n.margins.right)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"paths",{get:function(){return this._graphics},enumerable:!0,configurable:!0}),i.prototype.drawText=function(i,r,u,f){var c,l;if(this._assertPathStarted(),i=n.asString(i)){f=f||{};var o=this._pdfdoc,s=o._document,e,h=f.stroke&&f.fill?2:f.stroke?1:0;(f.strike||f.underline)&&!f.stroke&&(h=2);this._switchCtx();try{this._drawingText=!0;h&1||o._toggleBrush(t._asPdfBrush(f.brush));h&3&&o._togglePen(t._asPdfPen(f.pen));o._toggleFont(t._asPdfFont(f.font));c=this._textOptionsToNative(f);l=f._baseline===t._PdfTextBaseline.Alphabetic?s.currentFontAscender():0;r==null?(s.y-=l,e=s.textAndMeasure(i,null,null,c)):e=s.textAndMeasure(i,n.asNumber(r)+this._offset.x,n.asNumber(u)+this._offset.y-l,c)}finally{this._drawingText=!1;this._saveCtx()}return{charCount:e.charCount||0,size:new n.Size(e.width||0,e.height||0)}}},i.prototype.drawImage=function(i,r,u,f){var h,e,o,s;if(this._assertPathStarted(),!(i=n.asString(i)))return this;h=t._PdfImageHelper.getDataUri(i);this._switchCtx();try{if(e={},f){switch(n.asEnum(f.align,t.PdfImageHorizontalAlign,!0)){case t.PdfImageHorizontalAlign.Center:e.align='center';break;case t.PdfImageHorizontalAlign.Right:e.align='right';break;default:e.align='left'}switch(n.asEnum(f.vAlign,t.PdfImageVerticalAlign,!0)){case t.PdfImageVerticalAlign.Center:e.valign='center';break;case t.PdfImageVerticalAlign.Bottom:e.valign='bottom';break;default:e.valign='top'}o=n.asNumber(f.width,!0,!0);s=n.asNumber(f.height,!0,!0);o&&s&&n.asBoolean(f.stretchProportionally,!0)?e.fit=[o,s]:(e.width=o,e.height=s)}r==null?this._pdfdoc._document.image(h,e):this._pdfdoc._document.image(h,n.asNumber(r)+this._offset.x,n.asNumber(u)+this._offset.y,e)}finally{this._saveCtx()}return this},i.prototype.drawSvg=function(i,r,u,f){var a,p,y,w;if((f=f||{},this._assertPathStarted(),!(i=n.asString(i)))||(i.indexOf('data:image/svg')>=0?a=atob(i.substring(i.indexOf(',')+1)):(a=n.pdf._XhrHelper.text(i,function(n){return p=n.statusText}),n.assert(p==null,p)),!a))return this;var c=new t._SvgRenderer(a,this,n.asFunction(f.urlResolver)),b=u==null,r=r!=null?r:this.x,u=u!=null?u:this.y,k=this.y,d=this.x,o,e,l=n.asNumber(f.width,!0,!0),s=n.asNumber(f.height,!0,!0),v=c.root.width.hasVal?c.root.width.val:undefined,h=c.root.height.hasVal?c.root.height.val:undefined;if((l||s)&&v&&h)if(o=l/v,e=s/h,l&&s){if(f.stretchProportionally){if(y=Math.min(o,e),o===y)switch(n.asEnum(f.vAlign,t.PdfImageVerticalAlign,!0)){case t.PdfImageVerticalAlign.Center:u+=s/2-h*o/2;break;case t.PdfImageVerticalAlign.Bottom:u+=s-h*o}if(e===y)switch(n.asEnum(f.align,t.PdfImageHorizontalAlign,!0)){case t.PdfImageHorizontalAlign.Center:r+=l/2-v*e/2;break;case t.PdfImageHorizontalAlign.Right:r+=l-v*e}o=e=y}}else f.width?e=o:o=e;o=o||1;e=e||1;this._switchCtx();this._pdfdoc.saveState();try{this.translate(r,u);this.scale(o,e);c.render()}finally{this._pdfdoc.restoreState();this._saveCtx()}return this.x=d,this.y=k,b&&(w=s!=null?s:h!=null?h*e:undefined,this.y+=w||0),this},i.prototype.lineHeight=function(n){var i=this._pdfdoc,r;return i._toggleFont(t._asPdfFont(n)),this._switchCtx(),r=i._document.currentLineHeight(),this._saveCtx(),r},i.prototype.measureText=function(i,r,u){var f={},e;if(i=n.asString(i)){e=this._pdfdoc;e._toggleFont(t._asPdfFont(r));this._switchCtx();try{f=e._document.textAndMeasure(i,null,null,this._textOptionsToNative(u),!0)}finally{this._saveCtx()}}return{charCount:f.charCount||0,size:new n.Size(f.width||0,f.height||0)}},i.prototype.moveDown=function(i,r){if(i===void 0&&(i=1),i=n.asNumber(i,!1,!0)){var u=this._pdfdoc;u._toggleFont(t._asPdfFont(r));this._switchCtx();try{u._document.moveDown(i)}finally{this._saveCtx()}}return this},i.prototype.moveUp=function(i,r){if(i===void 0&&(i=1),i=n.asNumber(i,!1,!0)){var u=this._pdfdoc;u._toggleFont(t._asPdfFont(r));this._switchCtx();try{u._document.moveUp(i)}finally{this._saveCtx()}}return this},i.prototype.scale=function(t,i,r){i===void 0&&(i=t);this._assertPathStarted();r=r||new n.Point(0,0);var u=n.asNumber(r.x)+this._offset.x,f=n.asNumber(r.y)+this._offset.y;return t=n.asNumber(t,!1,!0),i=n.asNumber(i,!1,!0),this._pdfdoc._document.scale(t,i,{origin:[u,f]}),this},i.prototype.translate=function(t,i){return this._assertPathStarted(),t=n.asNumber(t),i=n.asNumber(i),this._pdfdoc._document.translate(t,i),this},i.prototype.transform=function(t,i,r,u,f,e){this._assertPathStarted();t=n.asNumber(t);i=n.asNumber(i);r=n.asNumber(r);u=n.asNumber(u);f=n.asNumber(f);e=n.asNumber(e);var o=this._offset.x,s=this._offset.y;return this._pdfdoc._document.transform(t,i,r,u,f-t*o+o-r*s,e-i*o-u*s+s),this},i.prototype.rotate=function(t,i){this._assertPathStarted();i=i||new n.Point(0,0);var r=n.asNumber(i.x)+this._offset.x,u=n.asNumber(i.y)+this._offset.y;return t=n.asNumber(t),this._pdfdoc._document.rotate(t,{origin:[r,u]}),this},i.prototype._assertPathStarted=function(){n.assert(!this.paths._hasPathBuffer(),t._Errors.PathStarted)},i.prototype._initialize=function(i,r,u){this._pdfdoc=i;this._offset=new n.Point(r,u);this._ctxProps={xo:r,yo:u,lineGap:this._ctxProps.lineGap};this._graphics=new t.PdfPaths(this._pdfdoc,this._offset)},i.prototype._isDrawingText=function(){return this._drawingText},i.prototype._renderBooleanCell=function(i,r){var s;this._assertPathStarted();var a=this._pdfdoc,v=new t.PdfFont(r.fontFamily,t._asPt(r.fontSize,!0,undefined),r.fontStyle,r.fontWeight),f=this._renderCell(r),e=f.contentX,o=f.contentY,u=this.measureText('A',v,{width:Infinity}).size.height;switch(r.verticalAlign){case'middle':o=o+f.contentHeight/2-u/2;break;case'bottom':o=o+f.contentHeight-u}switch(r.textAlign){case'justify':case'center':e=e+f.contentWidth/2-u/2;break;case'right':e=e+f.contentWidth-u}if(s=.5,this.paths.rect(e,o,u,u).fillAndStroke(n.Color.fromRgba(255,255,255),new t.PdfPen(undefined,s)),n.changeType(i,n.DataType.Boolean,'')===!0){var l=u/20,h=u-s-l*2,c=u/8;a.saveState();this.translate(e+s/2+l,o+s/2+l).paths.moveTo(c/2,h*.6).lineTo(h-h*.6,h-c).lineTo(h-c/2,c/2).stroke(new t.PdfPen(undefined,c));a.restoreState()}return this},i.prototype._renderTextCell=function(n,i){var f,u;if(this._assertPathStarted(),f=this._renderCell(i),n){var e=new t.PdfFont(i.fontFamily,t._asPt(i.fontSize,!0,undefined),i.fontStyle,i.fontWeight),r={brush:i.color,font:e,height:f.contentHeight,width:f.contentWidth,align:this._textAlignToPdf(i.textAlign)},s=f.contentX,o=f.contentY;if(r.height>0&&r.width>0){switch(i.verticalAlign){case'bottom':u=this.measureText(n,e,r);u.size.height<r.height&&(o+=r.height-u.size.height,r.height=u.size.height);break;case'middle':u=this.measureText(n,e,r);u.size.height<r.height&&(o+=r.height/2-u.size.height/2,r.height=u.size.height)}this.drawText(n,s,o,r)}}return this},i.prototype._switchCtx=function(){this._pdfdoc._switchTextFlowCtx(this._ctxProps)},i.prototype._saveCtx=function(){this._ctxProps=this._pdfdoc._getTextFlowCtxState()},i.prototype._textOptionsToNative=function(i){i=i||{};var r=t._shallowCopy(i);return i.align!=null&&(r.align=(t.PdfTextHorizontalAlign[n.asEnum(i.align,t.PdfTextHorizontalAlign)]||'').toLowerCase()),r},i.prototype._decompositeStyle=function(n){if(n){var t;(t=n.borderColor)&&(n.borderLeftColor||(n.borderLeftColor=t),n.borderRightColor||(n.borderRightColor=t),n.borderTopColor||(n.borderTopColor=t),n.borderBottomColor||(n.borderBottomColor=t));(t=n.borderWidth)&&(n.borderLeftWidth||(n.borderLeftWidth=t),n.borderRightWidth||(n.borderRightWidth=t),n.borderTopWidth||(n.borderTopWidth=t),n.borderBottomWidth||(n.borderBottomWidth=t));(t=n.borderStyle)&&(n.borderLeftStyle||(n.borderLeftStyle=t),n.borderRightStyle||(n.borderRightStyle=t),n.borderTopStyle||(n.borderTopStyle=t),n.borderBottomStyle||(n.borderBottomStyle=t));(t=n.padding)&&(n.paddingLeft||(n.paddingLeft=t),n.paddingRight||(n.paddingRight=t),n.paddingTop||(n.paddingTop=t),n.paddingBottom||(n.paddingBottom=t))}},i.prototype._parseBorder=function(n){var i={left:{width:0},top:{width:0},bottom:{width:0},right:{width:0}};return n.borderLeftStyle!=='none'&&(i.left={width:t._asPt(n.borderLeftWidth),style:n.borderLeftStyle,color:n.borderLeftColor}),n.borderTopStyle!=='none'&&(i.top={width:t._asPt(n.borderTopWidth),style:n.borderTopStyle,color:n.borderTopColor}),n.borderBottomStyle!=='none'&&(i.bottom={width:t._asPt(n.borderBottomWidth),style:n.borderBottomStyle,color:n.borderBottomColor}),n.borderRightStyle!=='none'&&(i.right={width:t._asPt(n.borderRightWidth),style:n.borderRightStyle,color:n.borderRightColor}),i},i.prototype._parsePadding=function(n){return{left:t._asPt(n.paddingLeft),top:t._asPt(n.paddingTop),bottom:t._asPt(n.paddingBottom),right:t._asPt(n.paddingRight)}},i.prototype._textAlignToPdf=function(n){switch(n){case'center':return t.PdfTextHorizontalAlign.Center;case'right':return t.PdfTextHorizontalAlign.Right;case'justify':return t.PdfTextHorizontalAlign.Justify}return t.PdfTextHorizontalAlign.Left},i.prototype._renderCell=function(n){var y,b;this._decompositeStyle(n);var u=t._asPt(n.left),f=t._asPt(n.top),l=this._parseBorder(n),i=l.left.width,r=l.top.width,h=l.bottom.width,c=l.right.width,e=this._parsePadding(n),a=t._asPt(n.height),v=t._asPt(n.width),o=0,s=0,p=0,w=0;if(n.boxSizing==='content-box'||n.boxSizing===undefined)o=e.top+a+e.bottom,s=e.left+v+e.right,p=a,w=v;else if(n.boxSizing==='border-box')t._IE?(o=e.top+e.bottom+a,s=e.left+e.right+v):(o=a-r-h,s=v-i-c),p=o-e.top-e.bottom,w=s-e.left-e.right;else if(n.boxSizing==='no-box')o=a-r-h,s=v-i-c,p=o-e.top-e.bottom,w=s-e.left-e.right;else throw'Invalid value: '+n.boxSizing;return(i||c||h||r)&&(i&&r&&h&&c&&i===c&&i===h&&i===r&&n.borderLeftColor===n.borderRightColor&&n.borderLeftColor===n.borderBottomColor&&n.borderLeftColor===n.borderTopColor?(y=i,b=y/2,this.paths.rect(u+b,f+b,s+y,o+y).stroke(new t.PdfPen(l.left.color,y))):(i&&this.paths.polygon([[u,f],[u+i,f+r],[u+i,f+r+o],[u,f+r+o+h]]).fill(l.left.color),r&&this.paths.polygon([[u,f],[u+i,f+r],[u+i+s,f+r],[u+i+s+c,f]]).fill(l.top.color),c&&this.paths.polygon([[u+i+s+c,f],[u+i+s,f+r],[u+i+s,f+r+o],[u+i+s+c,f+r+o+h]]).fill(l.right.color),h&&this.paths.polygon([[u,f+r+o+h],[u+i,f+r+o],[u+i+s,f+r+o],[u+i+s+c,f+r+o+h]]).fill(l.bottom.color))),n.backgroundColor&&s>0&&o>0&&this.paths.rect(u+i,f+r,s,o).fill(n.backgroundColor),{contentX:u+i+e.left,contentY:f+r+e.top,contentHeight:p,contentWidth:w}},i}();t.PdfPageArea=i})(t=n.pdf||(n.pdf={}))}(wijmo||(wijmo={})),function(n){var t;(function(t){'use strict';var i=function(){function i(n,i,r){this.text=n||'';this.font=i||new t.PdfFont;this.brush=r||new t.PdfSolidBrush}return Object.defineProperty(i.prototype,"font",{get:function(){return this._font},set:function(n){n=t._asPdfFont(n,!0);this._font=n?n.clone():n},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"text",{get:function(){return this._text},set:function(t){this._text=n.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"brush",{get:function(){return this._brush},set:function(n){n=t._asPdfBrush(n);this._brush=n?n.clone():n},enumerable:!0,configurable:!0}),i.prototype.clone=function(){return new i(this.text,this.font,this.brush)},i.prototype.equals=function(n){return n instanceof i&&this._text===n.text&&(this._brush?this._brush.equals(n._brush):this._brush===n._brush)&&(this._font?this._font.equals(n._font):this._font===n._font)},i}();t.PdfRunningTitleDeclarativeContent=i})(t=n.pdf||(n.pdf={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var i=function(i){function r(r){i.call(this);this._height=24;this._declarative=new t.PdfRunningTitleDeclarativeContent;this._heightChanged=new n.Event;n.copy(this,r)}return __extends(r,i),Object.defineProperty(r.prototype,"declarative",{get:function(){return this._declarative},set:function(i){i!=null&&(n.assert(i instanceof t.PdfRunningTitleDeclarativeContent,t._Errors.InvalidArg('value')),i=i.clone());this._declarative=i},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this._height},set:function(t){t!==this._height&&(this._height=n.asNumber(t,!1,!0),this._heightChanged.raise(this,n.EventArgs.empty))},enumerable:!0,configurable:!0}),r.prototype.drawText=function(n,t,r,u){return u=u||{},u.height=Infinity,i.prototype.drawText.call(this,n,t,r,u)},r}(t.PdfPageArea);t.PdfRunningTitle=i})(t=n.pdf||(n.pdf={}))}(wijmo||(wijmo={})),function(n){var t;(function(t){'use strict';var i=function(){function i(){}return i.getDataUri=function(r){var f,e,o,u,s;if(n.assert(!!(r=n.asString(r)),t._Errors.EmptyUrl),i.DATAURI_CACHE[r])return i.DATAURI_CACHE[r];if(f='',r.indexOf('data:')===0)n.assert(!!r.match(/^data:(image\/png|image\/jpg);base64,/),t._Errors.InvalidImageDataUri),f=r;else{o=t._XhrHelper.arrayBuffer(r,function(n){return e=n.statusText});n.assert(e==null,e);try{if(u=new Uint16Array(o,0,2),u[0]===55551||u[0]===20617&&u[1]===18254)s=i._toBase64(o),f='data:'+(u[0]===55551?'image/jpg':'image/png')+';base64,'+s;else throw'';}catch(h){n.assert(!1,t._Errors.InvalidImageFormat)}}return i.DATAURI_CACHE[r]=f},i._toBase64=function(n){for(var i='',r=new Uint8Array(n),t=0;t<r.byteLength;t++)i+=String.fromCharCode(r[t]);return window.btoa(i)},i.DATAURI_CACHE={},i}();t._PdfImageHelper=i})(t=n.pdf||(n.pdf={}))}(wijmo||(wijmo={})),function(n){var t;(function(t){'use strict';var i=function(){function i(n,t){this._pathBuffer=[];this._doc=n;this._offset=t}return i.prototype.moveTo=function(t,i){return this._pathBuffer.push({func:this._doc._document.moveTo,params:[n.asNumber(t)+this._offset.x,n.asNumber(i)+this._offset.y]}),this},i.prototype.lineTo=function(t,i){return this._pathBuffer.push({func:this._doc._document.lineTo,params:[n.asNumber(t)+this._offset.x,n.asNumber(i)+this._offset.y]}),this},i.prototype.quadraticCurveTo=function(t,i,r,u){return this._pathBuffer.push({func:this._doc._document.quadraticCurveTo,params:[n.asNumber(t)+this._offset.x,n.asNumber(i)+this._offset.y,n.asNumber(r)+this._offset.x,n.asNumber(u)+this._offset.y]}),this},i.prototype.bezierCurveTo=function(t,i,r,u,f,e){return this._pathBuffer.push({func:this._doc._document.bezierCurveTo,params:[n.asNumber(t)+this._offset.x,n.asNumber(i)+this._offset.y,n.asNumber(r)+this._offset.x,n.asNumber(u)+this._offset.y,n.asNumber(f)+this._offset.x,n.asNumber(e)+this._offset.y]}),this},i.prototype.svgPath=function(i){if(i){var r=t._PdfSvgPathHelper.offset(n.asString(i),this._offset);this._pathBuffer.push({func:this._doc._document.path,params:[n.asString(r)]})}return this},i.prototype.closePath=function(){return this._writePathBuffer(),this._doc._document.closePath(),this},i.prototype.rect=function(t,i,r,u){return this._pathBuffer.push({func:this._doc._document.rect,params:[n.asNumber(t)+this._offset.x,n.asNumber(i)+this._offset.y,n.asNumber(r,!1,!0),n.asNumber(u,!1,!0)]}),this},i.prototype.roundedRect=function(t,i,r,u,f){return f===void 0&&(f=0),this._pathBuffer.push({func:this._doc._document.roundedRect,params:[n.asNumber(t)+this._offset.x,n.asNumber(i)+this._offset.y,n.asNumber(r,!1,!0),n.asNumber(u,!1,!0),n.asNumber(f,!1,!0)]}),this},i.prototype.ellipse=function(t,i,r,u){return u===void 0&&(u=r),this._pathBuffer.push({func:this._doc._document.ellipse,params:[n.asNumber(t)+this._offset.x,n.asNumber(i)+this._offset.y,n.asNumber(r,!1,!0),n.asNumber(u,!1,!0)]}),this},i.prototype.circle=function(t,i,r){return this._pathBuffer.push({func:this._doc._document.circle,params:[n.asNumber(t)+this._offset.x,n.asNumber(i)+this._offset.y,n.asNumber(r,!1,!0)]}),this},i.prototype.polygon=function(n){var i,t;if(n)for(i=0;i<n.length;i++)t=n[i],t[0]=t[0]+this._offset.x,t[1]=t[1]+this._offset.y;return this._pathBuffer.push({func:this._doc._document.polygon,params:n}),this},i.prototype.clip=function(n){return n===void 0&&(n=t.PdfFillRule.NonZero),this._writePathBuffer(),this._doc._document.clip(n===t.PdfFillRule.EvenOdd?'even-odd':'non-zero'),this},i.prototype.fill=function(n,i){return this._doc._toggleBrush(t._asPdfBrush(n)),this._writePathBuffer(),this._doc._document.fill(i===t.PdfFillRule.EvenOdd?'even-odd':'non-zero'),this},i.prototype.fillAndStroke=function(n,i,r){return this._doc._toggleBrush(t._asPdfBrush(n)),this._doc._togglePen(t._asPdfPen(i)),this._writePathBuffer(),this._doc._document.fillAndStroke(r===t.PdfFillRule.EvenOdd?'even-odd':'non-zero'),this},i.prototype.stroke=function(n){return this._doc._togglePen(t._asPdfPen(n)),this._writePathBuffer(),this._doc._document.stroke(),this},i.prototype._hasPathBuffer=function(){return this._pathBuffer.length>0},i.prototype._writePathBuffer=function(){for(var t,i=this._doc._document,n=0;n<this._pathBuffer.length;n++)t=this._pathBuffer[n],t.func.apply(i,t.params);this._pathBuffer=[]},i}();t.PdfPaths=i})(t=n.pdf||(n.pdf={}))}(wijmo||(wijmo={})),function(n){var t;(function(t){'use strict';var i=function(){function t(){}return t.offset=function(n,t){var i=this;return this._processPath(n,function(n,r,u,f){return i._updateOffset(n,t,r,u,f)})},t.scale=function(n,t){return this._processPath(n,function(n,i,r,u){if(i==='a'||i==='A'){var f=u%7;if(f>=2&&f<=4)return n}return n*t})},t._processPath=function(t,i){for(var s,h=this._getTokenizer(t),f='',e='',u=-1,o=-1,r;r=h();)r.length===1&&/[a-zA-Z]/.test(r)?(o++,f=r,u=-1):(u++,s=i(parseFloat(r),f,o,u),r=n.toFixed(s,7,!1)+''),e+=r+' ';return e},t._getTokenizer=function(n){var i=n.length,t=0;return function(){if(t>=i)return'';while(t<i&&(/\s/.test(n[t])||n[t]==','))t++;for(var r=t;t<i&&/[0-9\.\-eE\+]/.test(n[t]);)t++;return t!=r?n.substr(r,t-r):n.substr(t++,1)}},t._updateOffset=function(n,t,i,r,u){var f=0;switch(i){case'm':r===0&&(u===0?f=-1:u===1&&(f=1));break;case'L':case'M':case'C':case'S':case'Q':case'T':f=u%2==0?-1:1;break;case'A':u%7==5?f=-1:u%7==6&&(f=1);break;case'H':f=-1;break;case'V':f=1}return f?f===-1?n+t.x:n+t.y:n},t}();t._PdfSvgPathHelper=i})(t=n.pdf||(n.pdf={}))}(wijmo||(wijmo={})),function(n){var t;(function(n){'use strict';var t=!!(new XMLHttpRequest).overrideMimeType,i=function(){function n(){}return n.arrayBufferAsync=function(n,t,i){this._getData(n,{method:'GET',responseType:'arraybuffer',async:!0},t,i)},n.arrayBuffer=function(n,i){var r,u={method:'GET',async:!1};return t?(u.overrideMimeType='text/plain; charset=x-user-defined',this._getData(n,u,function(n,t){var u,i,f;for(r=new ArrayBuffer(t.length),u=new Uint8Array(r),i=0,f=t.length;i<f;i++)u[i]=t.charCodeAt(i)&255},i)):(u.responseType='arraybuffer',this._getData(n,u,function(n,t){r=t},i)),r},n.text=function(n,t){var i="";return this._getData(n,{method:'GET',async:!1},function(n,t){return i=t},t),i},n._getData=function(n,t,i,r){var u=new XMLHttpRequest,f;if(t=t||{},u.open(t.method,n,t.async,t.user,t.password),u.addEventListener('load',function(){if(u.readyState===4){var n=u.status;n>=200&&n<300||n===304?i&&i(u,u.response):r&&r(u)}}),t.headers)for(f in t.headers)u.setRequestHeader(f,t.headers[f]);t.responseType&&(u.responseType=t.responseType);t.overrideMimeType&&u.overrideMimeType&&u.overrideMimeType(t.overrideMimeType);u.send(t.data)},n}();n._XhrHelper=i})(t=n.pdf||(n.pdf={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var i=function(n){function t(t){n.call(this);this._blob=t}return __extends(t,n),Object.defineProperty(t.prototype,"blob",{get:function(){return this._blob},enumerable:!0,configurable:!0}),t}(n.EventArgs);t.PdfDocumentEndedEventArgs=i})(t=n.pdf||(n.pdf={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var i=function(i){function r(r){var u=this;i.call(this);this._docInitialized=!1;this._compress=!0;this._bufferPages=!0;this._chunks=[];this._pageIndex=-1;this._graphicsStack=[];this._currentGS={};this.info={author:undefined,creationDate:undefined,keywords:undefined,modDate:undefined,subject:undefined,title:undefined};this.pageSettings={layout:t.PdfPageOrientation.Portrait,size:t.PdfPageSize.Letter,margins:{top:72,left:72,bottom:72,right:72},_copy:function(n,t){if(n==='size')return this.size=t,!0}};this.ended=new n.Event;this.pageAdded=new n.Event;this._runtimeProperties=['pageIndex','x','y'];n.copy(this,r);var f=function(n){u._doc=n;u._fontReg=new t._PdfFontRegistrar(u._doc)},e=function(){u.setPen(u._currentGS[u._pageIndex].pen);u.setBrush(u._currentGS[u._pageIndex].brush);u._curFont=t.PdfFont._DEF_PDFKIT_FONT;u.setFont(new t.PdfFont)},o=!1,s={compress:this._compress,bufferPages:this._bufferPages,pageAdding:this._ehOnPageAdding=function(n,t){u._docInitialized||(o=!0,f(n));u._onPageAdding(n,t)},pageAdded:this._ehOnPageAdded=function(n){var i=u._isDrawingText()?u._currentGS[u._pageIndex].brush:new t.PdfSolidBrush;u._currentGS[++u._pageIndex]={pen:new t.PdfPen,brush:i};u._docInitialized||e();u._onPageAdded(n)}};this._doc=new PDFDocument(s);o||(f(this._doc),e());this._doc.on('data',this._ehOnDocData=function(n){u._onDocData(n)}).on('ending',this._ehOnDocEnding=function(){u._onDocEnding()}).on('end',this._ehOnDocEnded=function(){u._onDocEnded()});this._docInitialized=!0}return __extends(r,i),Object.defineProperty(r.prototype,"compress",{get:function(){return this._compress},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"bufferPages",{get:function(){return this._bufferPages},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"header",{get:function(){var n=this;return this._header||(this._header=new t.PdfRunningTitle({_heightChanged:function(){n._docInitialized&&n._resetAreasOffset(n._doc)}})),this._header},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"footer",{get:function(){var n=this;return this._footer||(this._footer=new t.PdfRunningTitle({_heightChanged:function(){n._docInitialized&&n._resetAreasOffset(n._doc)}})),this._footer},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"pageIndex",{get:function(){return this._pageIndex},set:function(t){t=n.asNumber(t,!1,!0);this._pageIndex!==t&&(this._doc.switchToPage(t),this._pageIndex=t)},enumerable:!0,configurable:!0}),r.prototype.onEnded=function(n){this.ended&&this.ended.raise(this,n)},r.prototype.onPageAdded=function(n){this.pageAdded&&this.pageAdded.raise(this,n)},r.prototype.dispose=function(){this._doc&&(this._doc.removeEventListener('data',this._ehOnDocData).removeEventListener('ending',this._ehOnDocEnding).removeEventListener('end',this._ehOnDocEnded).removeEventListener('pageAdding',this._ehOnPageAdding).removeEventListener('pageAdded',this._ehOnPageAdded),this._doc=null,this._chunks=null)},Object.defineProperty(r.prototype,"currentPageSettings",{get:function(){var i=this._doc.page;return{layout:i.layout==='landscape'?t.PdfPageOrientation.Landscape:t.PdfPageOrientation.Portrait,size:n.isArray(i.size)?new n.Size(i.size[0],i.size[1]):t.PdfPageSize[i.size.match(/\d+/)?i.size:t._toTitleCase(i.size)],margins:{left:i.margins.left,right:i.margins.right,top:i.margins.top-this.header.height,bottom:i.margins.bottom-this.footer.height}}},enumerable:!0,configurable:!0}),r.prototype.addPage=function(n){var t=this._pageSettingsToNative(n||this.pageSettings);return this._doc.addPage(t),this},r.prototype.bufferedPageRange=function(){return this._doc.bufferedPageRange()},r.prototype.end=function(){this._doc.end()},r.prototype.setBrush=function(n){return this._assertAreasPathStarted(),this._setCurBrush(this._defBrush=t._asPdfBrush(n,!1).clone()),this},r.prototype.setPen=function(n){return this._assertAreasPathStarted(),this._setCurPen(this._defPen=t._asPdfPen(n,!1).clone()),this},r.prototype.setFont=function(n){return this._setCurFont(this._defFont=t._asPdfFont(n,!1).clone()),this},r.prototype.registerFont=function(i){var r,u,f;return n.assert(!!i,t._Errors.ValueCannotBeEmpty('font')),n.isString(i.source)?(r=t._XhrHelper.arrayBuffer(i.source,function(n){return u=n.statusText}),n.assert(u==null,u)):i.source instanceof ArrayBuffer?r=i.source:n.assert(!1,t._Errors.FontSourceMustBeStringArrayBuffer),i=t._shallowCopy(i),i.source=r,f=this._fontReg.registerFont(i),this},r.prototype.registerFontAsync=function(i,r){var u=this;n.assert(typeof i.source=='string',t._Errors.FontSourceMustBeString);n.asFunction(r,!1);t._XhrHelper.arrayBufferAsync(i.source,function(n,f){var e=t._shallowCopy(i),o;e.source=f;o=u._fontReg.registerFont(e);r(i)})},r.prototype.saveState=function(){return this._assertAreasPathStarted(),this._graphicsStack.push(this._currentGS[this._pageIndex].pen.clone(),this._defPen.clone(),this._currentGS[this._pageIndex].brush.clone(),this._defBrush.clone()),this._pdfdoc._document.save(),this},r.prototype.restoreState=function(){return this._assertAreasPathStarted(),this._graphicsStack.length&&(this._defBrush=this._graphicsStack.pop(),this._currentGS[this._pageIndex].brush=this._graphicsStack.pop(),this._defPen=this._graphicsStack.pop(),this._currentGS[this._pageIndex].pen=this._graphicsStack.pop()),this._pdfdoc._document.restore(),this},r.prototype._copy=function(t,i){return t==='compress'?(this._compress=n.asBoolean(i),!0):t==='bufferPages'?(this._bufferPages=n.asBoolean(i),!0):this._runtimeProperties.indexOf(t)>=0?!0:!1},Object.defineProperty(r.prototype,"_document",{get:function(){return this._doc},enumerable:!0,configurable:!0}),r.prototype._switchTextFlowCtx=function(n){this._doc.x=n.xo;this._doc.y=n.yo;this._doc.lineGap(n.lineGap)},r.prototype._getTextFlowCtxState=function(){return{xo:this._doc.x,yo:this._doc.y,lineGap:this._doc.currentLineGap()}},r.prototype._toggleBrush=function(n){n?this._setCurBrush(n):this._setCurBrush(this._defBrush)},r.prototype._togglePen=function(n){n?this._setCurPen(n):this._setCurPen(this._defPen)},r.prototype._toggleFont=function(n){n?this._setCurFont(n):this._setCurFont(this._defFont)},r.prototype._onDocData=function(n){this._chunks.push(n)},r.prototype._onDocEnding=function(){if(this._processHeadersFooters(),this.info){var n;(n=this.info.author)&&(this._doc.info.Author=n);(n=this.info.creationDate)&&(this._doc.info.CreationDate=n);(n=this.info.keywords)&&(this._doc.info.Keywords=n);(n=this.info.modDate)&&(this._doc.info.ModDate=n);(n=this.info.subject)&&(this._doc.info.Subject=n);(n=this.info.title)&&(this._doc.info.Title=n)}},r.prototype._onDocEnded=function(){var n,r,u,i,f;if(t._IE&&this._chunks.length&&!this._chunks[0].buffer)for(n=0;n<this._chunks.length;n++){for(r=this._chunks[n],u=new Uint8Array(r.length),i=0;i<r.length;i++)u[i]=r[i];this._chunks[n]=u.buffer}f=new Blob(this._chunks,{type:'application/pdf'});this._chunks=[];this.onEnded(new t.PdfDocumentEndedEventArgs(f))},r.prototype._onPageAdding=function(n,t){if(this.pageSettings){var i=this._pageSettingsToNative(this.pageSettings);t.layout=n.options.layout=i.layout;t.margins=n.options.margins=i.margins;t.size=n.options.size=i.size}},r.prototype._onPageAdded=function(i){i.page.originalMargins=t._shallowCopy(i.page.margins);this._resetAreasOffset(i);this.onPageAdded(n.EventArgs.empty)},r.prototype._assertAreasPathStarted=function(){this._docInitialized&&(this._assertPathStarted(),this.header._assertPathStarted(),this.footer._assertPathStarted())},r.prototype._pageSettingsToNative=function(i){var f={},e,u,r;return i&&(e=n.asEnum(i.layout,t.PdfPageOrientation,!0),e!=null&&(f.layout=(t.PdfPageOrientation[e]||'').toLowerCase()),u=i.margins,u&&(f.margins={left:n.asNumber(u.left,!1,!0),right:n.asNumber(u.right,!1,!0),top:n.asNumber(u.top,!1,!0),bottom:n.asNumber(u.bottom,!1,!0)}),r=i.size,r&&(r instanceof n.Size?f.size=[n.asNumber(r.width,!1,!0),n.asNumber(r.height,!1,!0)]:(r=n.asEnum(r,t.PdfPageSize),f.size=(t.PdfPageSize[r]||'').toUpperCase()))),f},r.prototype._processHeadersFooters=function(){var e=this.header,o=this.footer,u,r,i,f;if(e.height>0||o.height>0)for(u=this._doc,n.assert(u.options.bufferPages,t._Errors.BufferPagesMustBeEnabled),r=u.bufferedPageRange(),i=r.start;i<r.count;i++)f={Page:i+1,Pages:r.count},this.pageIndex=i,this._renderHeaderFooter(e,f,!0),this._renderHeaderFooter(o,f,!1)},r.prototype._renderHeaderFooter=function(n,i,r){var f,u;n.height>0&&n.declarative&&n.declarative.text&&(f=t._formatMacros(n.declarative.text,i),u=f.split('\t'),u.length>0&&u[0]&&this._renderHeaderFooterPart(n,u[0],t.PdfTextHorizontalAlign.Left,r),u.length>1&&u[1]&&this._renderHeaderFooterPart(n,u[1],t.PdfTextHorizontalAlign.Center,r),u.length>2&&u[2]&&this._renderHeaderFooterPart(n,u[2],t.PdfTextHorizontalAlign.Right,r))},r.prototype._renderHeaderFooterPart=function(n,t,i,r){var e=this._doc,u={font:n.declarative.font,brush:n.declarative.brush,width:n.width,height:n.height,align:i},f;r?this.header.drawText(t,0,0,u):(f=this.footer.measureText(t,u.font,u),this.footer.drawText(t,0,this.footer.height-f.size.height,u))},r.prototype._setCurBrush=function(n){this._currentGS[this.pageIndex].brush.equals(n)||(this._setNativeDocBrush(n,!1),this._currentGS[this.pageIndex].brush=n.clone())},r.prototype._setCurFont=function(n){if(!this._curFont.equals(n)){var i=this._fontReg.findFont(n.family,n.style,n.weight);this._doc.font(i,n.size||t.PdfFont._DEF_FONT.size);this._curFont=n.clone()}},r.prototype._setCurPen=function(n){var i=this._doc,t=this._currentGS[this.pageIndex].pen;!n.brush||t.brush&&t.brush.equals(n.brush)?(!t.brush||n.brush)&&(t.brush||t.color.equals(n.color))||i.strokeColor([n.color.r,n.color.g,n.color.b],n.color.a):this._setNativeDocBrush(n.brush,!0);t.width!==n.width&&i.lineWidth(n.width);t.miterLimit!==n.miterLimit&&i.miterLimit(n.miterLimit);t.cap!==n.cap&&i.lineCap(n.cap);t.join!==n.join&&i.lineJoin(n.join);t.dashPattern.equals(n.dashPattern)||(n.dashPattern.dash!=null?i.dash(n.dashPattern.dash,{space:n.dashPattern.gap,phase:n.dashPattern.phase}):t.dashPattern.dash!=null&&i.undash());this._currentGS[this.pageIndex].pen=n.clone()},r.prototype._setNativeDocBrush=function(i,r){var e=this._doc,u=i._getBrushObject(this),f=1;u instanceof n.Color?(f=u.a,u=[u.r,u.g,u.b]):i instanceof t.PdfGradientBrush&&(f=i.opacity);r?e.strokeColor(u,f):e.fillColor(u,f)},r.prototype._resetAreasOffset=function(n){n.page.margins.top=n.page.originalMargins.top+this.header.height;n.y=n.page.margins.top;n.page.margins.bottom=n.page.originalMargins.bottom+this.footer.height;this._header._initialize(this,n.page.margins.left,n.page.originalMargins.top);this._initialize(this,n.page.margins.left,n.page.margins.top);this._footer._initialize(this,n.page.margins.left,n.page.height-n.page.margins.bottom)},r}(t.PdfPageArea);t.PdfDocument=i})(t=n.pdf||(n.pdf={}))}(wijmo||(wijmo={})),function(n){var t;(function(n){'use strict';function i(n){return n&&(n=n.trim().replace(/\s+/gm,' ')),n}function r(n,t){return n&&t&&!/(^[a-z][a-z0-9]*:)?\/\//i.test(n)&&(n=t(n)),n}var t,u;n._compressSpaces=i;n._resolveUrlIfRelative=r;t=function(){function n(n,t){this.selector=n;this.declarations={};this._fillDeclarations(t)}return n.prototype._fillDeclarations=function(n){var t=this;n&&n.split(';').forEach(function(n){var r,u,i,f;n&&(r=n.split(':'),r.length===2&&(u=r[0].trim().toLowerCase(),i=r[1].trim(),u&&i&&(f=/!important$/i.test(i),f&&(i=i.replace(/!important$/i,'').trim()),i&&(t.declarations[u]={value:i,important:f}))))})},n}();n._SvgCssRule=t;u=function(){function n(){}return n.matchesSelector=function(n,t){var i=!1,r;try{r=n.matches||n.msMatchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector;i=r.call(n,t)}catch(u){}return i},n.getSpecificity=function(n){var u=0,i=0,r=0,t=function(t){var i=(n.match(t)||[]).length;return i&&(n=n.replace(t,'')),i};return n=n.replace(/:not\(([^\)]*)\)/g,function(n,t){return' '+t+' '}),i+=t(/(\[[^\]]+\])/g),u+=t(/(#[^\s\+>~\.\[:]+)/g),i+=t(/(\.[^\s\+>~\.\[:]+)/g),r+=t(/(::[^\s\+>~\.\[:]+|:first-line|:first-letter|:before|:after)/gi),i+=t(/(:[\w-]+\([^\)]*\))/gi),i+=t(/(:[^\s\+>~\.\[:]+)/g),n=n.replace(/[\*\s\+>~]/g,' '),n=n.replace(/[#\.]/g,' '),r+=t(/([^\s\+>~\.\[:]+)/g),u<<16|i<<8|r},n.getComputedStyle=function(n,r){var p=this,s={},o=[],c,l,a,h,v,y,u,f,e;if(n.className)for(o=[],u=0,f=Object.keys(r);u<f.length;u++)c=f[u],this.matchesSelector(n,c)&&o.push(r[c]);for(o.sort(function(n,t){return p.getSpecificity(n.selector)-p.getSpecificity(t.selector)}),l=n.getAttribute('style'),l&&o.push(new t('_inline_',i(l))),u=0;u<o.length;u++)for(a=o[u],h=0,f=Object.keys(a.declarations);h<f.length;h++){e=f[h];v=a.declarations[e];
//!important property has a higher priority than non-!important even if the second one comes from the more specialized rule.
(s[e]==null||v.important||!s[e].important)&&(s[e]=v)}for(y={},u=0,f=Object.keys(s);u<f.length;u++)e=f[u],y[e]=s[e].value;return y},n.registerFontFace=function(n,t,i){var u=t.declarations;u['font-family']&&u.src&&u.src.value.split(',').every(function(t){var e,f,o,s;if(t.match(/format\(\s*['"]?truetype['"]?\s*\)/i)&&(e=t.match(/url\(\s*['"]?([^'"\)]+)['"]?\s*\)/i),e)){if(f=e[1].trim(),o=!1,f=r(f,i)){s={name:u['font-family'].value,source:f,weight:u['font-weight']?u['font-weight'].value.toLowerCase():'normal',style:u['font-style']?u['font-style'].value.toLowerCase():'normal'};try{n.registerFont(s);o=!0}catch(h){}}return!o}return!0})},n}();n._SvgCssHelper=u})(t=n.pdf||(n.pdf={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var i,u,r,f,o,e,s,c,h,l,b,k,d,g,a,v,nt,y,p,w,tt;(function(n){n[n.Default=1]="Default";n[n.None=2]="None";n[n.Px=3]="Px"})(t._SvgNumConversion||(t._SvgNumConversion={}));i=t._SvgNumConversion,function(n){n[n.Width=1]="Width";n[n.Height=2]="Height";n[n.Other=3]="Other"}(t._SvgLengthContext||(t._SvgLengthContext={}));u=t._SvgLengthContext,function(n){n[n.Number=1]="Number";n[n.String=2]="String"}(t._SvgAttrType||(t._SvgAttrType={}));r=t._SvgAttrType;f=function(){function f(r,f,e,o,s,h,c){o===void 0&&(o=undefined);s===void 0&&(s=i.Default);h===void 0&&(h=u.Other);c===void 0&&(c=!1);n.assert(!!r,t._Errors.ValueCannotBeEmpty('owner'));n.assert(!!f,t._Errors.ValueCannotBeEmpty('propName'));this._owner=r;this._propName=f;this._propType=e;this._defValue=o;this._inheritable=c;this._nc=s;this._pCtx=h;this._searchValue=!0}return f.parseValue=function(f,e,o,s,h){var c,a,l;if(f==null)return f;if(e&r.Number&&(typeof f=='number'?c=f:(l=f.match(/^([\+-]?[\d\.]+)(em|ex|px|pt|pc|cm|mm|in|%)?$/),l&&(c=parseFloat(l[1]),a=l[2])),c!=null&&c===c)){if(h!==i.Default&&(n.assert(!a,t._Errors.InvalidFormat(f)),h===i.None))return c;switch(a){case'mm':return c*72/25.4;case'cm':return c*72/2.54;case'in':return c*72;case'pt':return c;case'pc':return c*12;case'%':switch(s){case u.Height:c*=o.height/100;break;case u.Width:c*=o.width/100;break;case u.Other:c*=Math.sqrt(o.width*o.width+o.height*o.height)/Math.sqrt(2)/100}return c;case'px':default:return c*.75}}if(e&r.String)return f+'';n.assert(!1,t._Errors.InvalidFormat(f))},Object.defineProperty(f.prototype,"hasVal",{get:function(){return this._val!=null},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"val",{get:function(){return this._val!=null?this._val:this._parse(this._defValue)},set:function(n){this._searchValue=!1;this._value=n},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"_val",{get:function(){var n,t;if(this._searchValue){for(this._searchValue=!1,t=this._owner;t;t=t.parent)if(n=t.attr(this._propName),!(this._inheritable&&(n==null||n=='inherit')))break;this._value=n==='inherit'?undefined:this._parse(n)}return this._value},enumerable:!0,configurable:!0}),f.prototype.reset=function(){this._value=undefined;this._searchValue=!0},f.prototype._parse=function(n,t){var n=f.parseValue(n,this._propType,this._owner.viewport,this._pCtx,t||this._nc);return n},f}();t._SvgAttr=f;o=function(n){function t(t,f,e,o,s,h){e===void 0&&(e=undefined);o===void 0&&(o=i.Default);s===void 0&&(s=u.Other);n.call(this,t,f,r.Number,e,o,s,h)}return __extends(t,n),t}(f);t._SvgNumAttr=o;e=function(n){function t(t,i,u,f){n.call(this,t,i,r.String,u,undefined,undefined,f)}return __extends(t,n),t}(f);t._SvgStrAttr=e;s=function(n){function t(t,f,e,o){e===void 0&&(e=undefined);o===void 0&&(o=!0);n.call(this,t,f,r.String,e,i.None,u.Other,o)}return __extends(t,n),t.prototype._parse=function(t){return t===''||t==='null'||t==='undefined'?undefined:n.prototype._parse.call(this,t)},t}(f);t._SvgColorAttr=s;c=function(n){function t(t){n.call(this,t,'stroke-dasharray',r.Number,undefined,i.Px,u.Other,!0)}return __extends(t,n),t.prototype._parse=function(t){var i,u=(t||'').trim().split(/[\s,]+/),r;if(u.length){i=[];try{for(r=0;r<u.length;r++)u[r]&&i.push(n.prototype._parse.call(this,u[r]))}catch(f){return undefined}return i.length?i:undefined}return i},t}(f);t._SvgDashArrayAttr=c;h=function(i){function u(n,u){i.call(this,n,u,r.String,t.PdfFillRule.NonZero,undefined,undefined,!0)}return __extends(u,i),u.prototype._parse=function(i){if(n.isNumber(i))return i;var r=(i||'').match(/(nonzero|evenodd)/i);return r?r[1]==='nonzero'?t.PdfFillRule.NonZero:t.PdfFillRule.EvenOdd:undefined},u}(f);t._SvgFillRuleAttr=h;l=function(n){function t(t,i){n.call(this,t,i)}return __extends(t,n),t.prototype._parse=function(n){n=(n||'').trim();var t=n.match(/url\((.+)\)/);return t&&(n=t[1].trim()),n.replace(/["']/g,'')},t}(e);t._SvgHRefAttr=l;b=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype._parse=function(t){return(t=n.prototype._parse.call(this,t),t&&t[0]==='#')?t.substring(1):undefined},t}(l);t._SvgIdRefAttr=b;k=function(t){function u(n,u){t.call(this,n,u,r.Number,undefined,i.Px)}return __extends(u,t),u.prototype._parse=function(i){var u,f=(i||'').trim().split(/[\s,]+/),e=Math.floor(f.length/2)*2,r;if(e){u=[];try{for(r=0;r<e-1;r=r+2)u.push(new n.Point(t.prototype._parse.call(this,f[r]),t.prototype._parse.call(this,f[r+1])))}catch(o){return undefined}}return u},u}(f);t._SvgPointsArrayAttr=k;d=function(t){function u(n){t.call(this,n,'transform',r.Number,undefined,i.None)}return __extends(u,t),u.prototype.apply=function(n){var t=n.ctx.area;this.hasVal&&this.val.forEach(function(n){n(t)})},u.prototype._parse=function(r){var h=this,f=[],o=(r||'').match(/((matrix|translate|scale|rotate|skewX|skewY)\([^\)]+\))+/g),e;if(o)for(e=0;e<o.length;e++){var c=o[e],s=c.match(/(\w+)\(([^\)]+)\)/),u=[];try{s[2].trim().split(/[\s,]+/).forEach(function(n){n&&u.push(t.prototype._parse.call(h,n,i.None))})}catch(l){return undefined}if(u.length)switch(s[1]){case'matrix':f.push(function(n,t,i,r,u,f){return function(e){e.transform(n,t,i,r,u,f)}}(u[0],u[1],u[2],u[3],t.prototype._parse.call(this,u[4],i.Px),t.prototype._parse.call(this,u[5],i.Px)));break;case'translate':f.push(function(n,t){return function(i){i.translate(n,t)}}(t.prototype._parse.call(this,u[0],i.Px),t.prototype._parse.call(this,u[1]||0,i.Px)));break;case'scale':f.push(function(n,t){return function(i){i.scale(n,t)}}(u[0],u[1]));break;case'rotate':f.push(function(n,t){return function(i){i.rotate(n,t)}}(u[0],new n.Point(t.prototype._parse.call(this,u[1]||0,i.Px),t.prototype._parse.call(this,u[2]||0,i.Px))));break;case'skewX':f.push(function(n){return function(t){t.transform(1,0,n,1,0,0)}}(Math.tan(u[0]*Math.PI/180)));break;case'skewY':f.push(function(n){return function(t){t.transform(1,n,0,1,0,0)}}(Math.tan(u[0]*Math.PI/180)))}}return f.length?f:undefined},u}(f);t._SvgTransformAttr=d;g=function(n){function t(t){n.call(this,t,'text-decoration',r.String,undefined,i.None)}return __extends(t,n),t.prototype._parse=function(n){var t,r=(n||'').trim().toLowerCase().split(/[\s,]+/),i;if(r.length)for(t=[],i=0;i<r.length;i++)/line-through|overline|underline/.test(r[i])&&t.push(r[i]);return t&&t.length?t:undefined},t}(f);t._SvgTextDecorationAttr=g;a=function(n){function t(t){n.call(this,t,'viewBox',r.Number,undefined,i.Px)}return __extends(t,n),t.prototype._parse=function(t){var r,i=(t||'').trim().split(/[\s,]+/);return i.length===4&&(r={minX:n.prototype._parse.call(this,i[0]),minY:n.prototype._parse.call(this,i[1]),width:n.prototype._parse.call(this,i[2]),height:n.prototype._parse.call(this,i[3])}),r},t}(f);t._SvgViewboxAttr=a;v=function(n){function t(t){n.call(this,t,'preserveAspectRatio',r.Number,'xMidYMid meet')}return __extends(t,n),t.prototype._parse=function(n){var i,t;return typeof n=='string'?(t=n.replace(/^defer\s+/,'').trim().split(/\s+/),i={align:t[0],meet:!t[1]||t[1]==='meet'}):i=n,i},t}(f);t._SvgPreserveAspectRatioAttr=v;nt=function(){function t(n){this._owner=n;this.aspect=new v(this._owner);this.viewBox=new a(this._owner)}return t.prototype.apply=function(t){var f=t.ctx.area,u=t.viewport,i=this.viewBox.val;if(u&&i){if(i.width&&i.height){var r=this.aspect.val,e=u.width/i.width,o=u.height/i.height,s=Math.min(e,o),h=Math.max(e,o),v=i.width*(r.meet?s:h),y=i.height*(r.meet?s:h);if(r.align==='none')f.scale(e,o);else{var c=r.meet?s:h,l=0,a=0;r.align.match(/^xMid/)&&c===o?l=u.width/2-v/2:r.align.match(/^xMax/)&&c===o&&(l=u.width-v);r.align.match(/YMid$/)&&c===e?a=u.height/2-y/2:r.align.match(/YMax$/)&&c===e&&(a=u.height-y);(l||a)&&f.translate(l,a);r.meet?f.scale(s,s):f.scale(h,h);(i.minX||i.minY)&&f.translate(-i.minX,-i.minY)}}return new n.Size(i.width,i.height)}return u},t}();t._SvgScaleAttributes=nt;y=function(){function r(n){this._owner=n;this.color=new s(this._owner,'stroke','none');this.dashArray=new c(this._owner);this.dashOffset=new o(this._owner,'stroke-dashoffset',0,i.Default,u.Other,!0);this.lineCap=new e(this._owner,'stroke-linecap','butt',!0);this.lineJoin=new e(this._owner,'stroke-linejoin','miter',!0);this.miterLimit=new o(this._owner,'stroke-miterlimit',4,i.None,u.Other,!0);this.opacity=new o(this._owner,'stroke-opacity',1,i.None,u.Other,!0);this.width=new o(this._owner,'stroke-width',1,i.Default,u.Other,!0)}return r.prototype.toPen=function(){var u=new n.Color(this.color.val),i,r;this.opacity.hasVal&&(u.a=this.opacity.val);i=new t.PdfPen(u,this.width.val);this.dashArray.hasVal&&(r=this.dashArray.val,r.length&&(i.dashPattern=new t.PdfDashPattern(r[0],r.length>1?r[1]:undefined,this.dashOffset.val)));switch(this.lineCap.val){case'butt':i.cap=t.PdfLineCapStyle.Butt;break;case'round':i.cap=t.PdfLineCapStyle.Round;break;case'square':i.cap=t.PdfLineCapStyle.Square}switch(this.lineJoin.val){case'miter':i.join=t.PdfLineJoinStyle.Miter;break;case'round':i.join=t.PdfLineJoinStyle.Round;break;case'bevel':i.join=t.PdfLineJoinStyle.Bevel}return i.miterLimit=this.miterLimit.val,i},r}();t._SvgStrokeAttributes=y;p=function(){function r(n){this._owner=n;this.color=new s(this._owner,'fill','black');this.opacity=new o(this._owner,'fill-opacity',1,i.None,undefined,!0);this.rule=new h(this._owner,'fill-rule')}return r.prototype.toBrush=function(){var i=new n.Color(this.color.val);return this.opacity.hasVal&&(i.a=this.opacity.val),new t.PdfSolidBrush(i)},r}();t._SvgFillAttributes=p;w=function(){function i(n){this._owner=n;this.family=new e(this._owner,'font-family',undefined,!0);this.size=new f(this._owner,'font-size',r.Number|r.String,'medium',undefined,u.Other,!0);this.style=new e(this._owner,'font-style','normal',!0);this.weight=new e(this._owner,'font-weight','normal',!0)}return i.prototype.toFont=function(){var i=n.pdf._asPt(this.size.val);return new t.PdfFont(this.family.val,i,this.style.val,this.weight.val)},i}();t._SvgFontAttributes=w;tt=function(){function i(n){this._owner=n;this.clipRule=new h(this._owner,'clip-rule');this.fill=new p(this._owner);this.font=new w(this._owner);this.stroke=new y(this._owner)}return i.prototype.apply=function(i,r,u){var f=i.ctx.area;i.renderMode===t._SvgRenderMode.Clip||(r&&u&&this.fill.color.val!=='none'&&this.stroke.color.val!=='none'?f.paths.fillAndStroke(this.fill.toBrush(),this.stroke.toPen(),this.fill.rule.val):r&&this.fill.color.val!=='none'?f.paths.fill(this.fill.toBrush(),this.fill.rule.val):u&&this.stroke.color.val!=='none'?f.paths.stroke(this.stroke.toPen()):f.paths.stroke(n.Color.fromRgba(0,0,0,0)))},i}();t._SvgStyleAttributes=tt})(t=n.pdf||(n.pdf={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var i,f,u,e,r,a,v,y,p,s,w,b,h,k,c,d,g,o,l,nt,tt,it;(function(n){n[n.Render=0]="Render";n[n.Ignore=1]="Ignore";n[n.Clip=2]="Clip"})(t._SvgRenderMode||(t._SvgRenderMode={}));i=t._SvgRenderMode;f=function(){function n(n,t,r){r===void 0&&(r=i.Render);this._children=[];this._attributes={};this._defRenderMode=r;this._ctx=n}return Object.defineProperty(n.prototype,"children",{get:function(){return this._children},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ctx",{get:function(){return this._ctx},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){return this._parent},set:function(n){this._parent=n},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"style",{get:function(){return this._style||(this._style=new t._SvgStyleAttributes(this)),this._style},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"viewport",{get:function(){return this._viewport},set:function(n){this._viewport=n.clone()},enumerable:!0,configurable:!0}),n.prototype.attr=function(n,t){return n=n.toLowerCase(),arguments.length>1&&(this._attributes[n]=t),this._attributes[n]},n.prototype.appendNode=function(n){n&&n!==this&&n.parent!==this&&(n.remove(),this.children.push(n),n.parent=this)},n.prototype.copyAttributesFrom=function(n,t){var r,u,i;if(n){r=n._attributes;u=this._attributes;for(i in r)r.hasOwnProperty(i)&&u[i]==null&&(!t||t.indexOf(i)<0)&&(u[i]=r[i])}},n.prototype.clone=function(){var n=new(Function.prototype.bind.call(this.constructor,null,this.ctx,null));return n.copyAttributesFrom(this),this._children.forEach(function(t){n.appendNode(t.clone())}),n},n.prototype.remove=function(){var t=this.parent,n;if(t){for(n=0;n<t.children.length;n++)if(t.children[n]===this){t.children.splice(n,1);break}this.parent=null}},n.prototype.clearAttr=function(n){delete this._attributes[n.toLowerCase()]},n.prototype.render=function(n,t){this._viewport=n.clone();(this._curRenderMode=t||this._defRenderMode)!==i.Ignore&&this._render()},Object.defineProperty(n.prototype,"renderMode",{get:function(){return this._curRenderMode},enumerable:!0,configurable:!0}),n.prototype._render=function(){this._renderContent()},n.prototype._renderContent=function(){for(var n=0;n<this._children.length;n++)this._children[n].render(this.viewport,this.renderMode)},n}();t._SvgElementBase=f;u=function(n){function r(r,u,f){f===void 0&&(f=i.Render);n.call(this,r,u,f);this._clipPath=new t._SvgIdRefAttr(this,'clip-path')}return __extends(r,n),r.prototype._render=function(){var u,r=this.ctx.area,t;this._clipPath.val&&(t=this.ctx.getElement(this._clipPath.val),(u=!!(t&&t instanceof h))&&(r._pdfdoc.saveState(),t.render(this.viewport,i.Clip),r.paths.clip(this.style.clipRule.val)));n.prototype._render.call(this);u&&r._pdfdoc.restoreState()},r}(f);t._SvgClippableElementBase=u;e=function(n){function r(i,r){n.call(this,i,r);this._transform=new t._SvgTransformAttr(this)}return __extends(r,n),r.prototype._render=function(){var t=this._transform.hasVal&&this.renderMode!==i.Clip;t&&(this.ctx.area._pdfdoc.saveState(),this._transform.apply(this));n.prototype._render.call(this);t&&this.ctx.area._pdfdoc.restoreState()},r}(u);t._SvgTransformableElementBase=e;r=function(i){function r(){i.apply(this,arguments);this._fill=!0;this._stroke=!0}return __extends(r,i),r.prototype._renderContent=function(){this._draw();this.style.apply(this,this._fill,this._stroke)},r.prototype._draw=function(){n.assert(!1,t._Errors.AbstractMethod)},r}(e);t._SvgShapeElementBase=r;a=function(n){function i(){n.apply(this,arguments)}return __extends(i,n),i.prototype._draw=function(){var n=new t._SvgNumAttr(this,'r',0).val,i,r;n>0&&(i=new t._SvgNumAttr(this,'cx',0,t._SvgNumConversion.Default,t._SvgLengthContext.Width).val,r=new t._SvgNumAttr(this,'cy',0,t._SvgNumConversion.Default,t._SvgLengthContext.Height).val,this.ctx.area.paths.circle(i,r,n))},i}(r);t._SvgCircleElementImpl=a;v=function(n){function i(){n.apply(this,arguments)}return __extends(i,n),i.prototype._draw=function(){var n=new t._SvgNumAttr(this,'rx',0,t._SvgNumConversion.Default,t._SvgLengthContext.Width).val,i=new t._SvgNumAttr(this,'ry',0,t._SvgNumConversion.Default,t._SvgLengthContext.Height).val,r,u;n>0&&i>0&&(r=new t._SvgNumAttr(this,'cx',0,t._SvgNumConversion.Default,t._SvgLengthContext.Width).val,u=new t._SvgNumAttr(this,'cy',0,t._SvgNumConversion.Default,t._SvgLengthContext.Height).val,this.ctx.area.paths.ellipse(r,u,n,i))},i}(r);t._SvgEllipseElementImpl=v;y=function(n){function i(t,i){n.call(this,t,i);this._fill=!1}return __extends(i,n),i.prototype._draw=function(){var n=new t._SvgNumAttr(this,'x1',0,t._SvgNumConversion.Default,t._SvgLengthContext.Width).val,i=new t._SvgNumAttr(this,'y1',0,t._SvgNumConversion.Default,t._SvgLengthContext.Height).val,r=new t._SvgNumAttr(this,'x2',0,t._SvgNumConversion.Default,t._SvgLengthContext.Width).val,u=new t._SvgNumAttr(this,'y2',0,t._SvgNumConversion.Default,t._SvgLengthContext.Height).val;this.ctx.area.paths.moveTo(n,i).lineTo(r,u)},i}(r);t._SvgLineElementImpl=y;p=function(n){function r(i,r){n.call(this,i,r);this._d=new t._SvgStrAttr(this,'d')}return __extends(r,n),r.prototype._renderContent=function(){var r=this.ctx.area,u;this.renderMode===i.Clip?(this._d.hasVal&&(u=t._PdfSvgPathHelper.scale(this._d.val,.75),this.attr('d',u),this._d.reset()),n.prototype._renderContent.call(this)):(r._pdfdoc.saveState(),r.scale(.75),n.prototype._renderContent.call(this),r._pdfdoc.restoreState())},r.prototype._draw=function(){this._d.hasVal&&this.ctx.area.paths.svgPath(this._d.val)},r}(r);t._SvgPathElementImpl=p;s=function(n){function i(){n.apply(this,arguments)}return __extends(i,n),i.prototype._draw=function(){var u=new t._SvgPointsArrayAttr(this,'points'),i,r,n;if(u.hasVal&&(i=u.val,r=this.ctx.area,i.length>1)){for(n=0;n<i.length;n++)n==0?r.paths.moveTo(i[n].x,i[n].y):r.paths.lineTo(i[n].x,i[n].y);return!0}return!1},i}(r);t._SvgPolylineElementImpl=s;w=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype._draw=function(){return n.prototype._draw.call(this)?(this.ctx.area.paths.closePath(),!0):!1},t}(s);t._SvgPolygonElementImpl=w;b=function(n){function i(){n.apply(this,arguments)}return __extends(i,n),i.prototype._draw=function(){var u=new t._SvgNumAttr(this,'width',0,t._SvgNumConversion.Default,t._SvgLengthContext.Width).val,f=new t._SvgNumAttr(this,'height',0,t._SvgNumConversion.Default,t._SvgLengthContext.Height).val;if(u>0&&f>0){var n=new t._SvgNumAttr(this,'x',0,t._SvgNumConversion.Default,t._SvgLengthContext.Width).val,i=new t._SvgNumAttr(this,'y',0,t._SvgNumConversion.Default,t._SvgLengthContext.Height).val,e=Math.max(new t._SvgNumAttr(this,'rx',0,t._SvgNumConversion.Default,t._SvgLengthContext.Width).val,0),o=Math.max(new t._SvgNumAttr(this,'ry',0,t._SvgNumConversion.Default,t._SvgLengthContext.Height).val,0),r=this.ctx.area.paths;e||o?(e=Math.min(e||o,u/2),o=Math.min(o||e,f/2),r.moveTo(n+e,i),r.lineTo(n+u-e,i),r.quadraticCurveTo(n+u,i,n+u,i+o),r.lineTo(n+u,i+f-o),r.quadraticCurveTo(n+u,i+f,n+u-e,i+f),r.lineTo(n+e,i+f),r.quadraticCurveTo(n,i+f,n,i+f-o),r.lineTo(n,i+o),r.quadraticCurveTo(n,i,n+e,i)):r.rect(n,i,u,f)}},i}(r);t._SvgRectElementImpl=b;h=function(n){function t(t,r){n.call(this,t,r,i.Ignore)}return __extends(t,n),t}(f);t._SvgClipPathElementImpl=h;k=function(n){function t(t,r){n.call(this,t,r,i.Ignore)}return __extends(t,n),t}(u);t._SvgDefsElementImpl=k;c=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t}(e);t._SvgGElementImpl=c;d=function(i){function r(n,r){i.call(this,n,r);this._x=new t._SvgNumAttr(this,'x',0,t._SvgNumConversion.Default,t._SvgLengthContext.Width);this._y=new t._SvgNumAttr(this,'y',0,t._SvgNumConversion.Default,t._SvgLengthContext.Height);this._width=new t._SvgNumAttr(this,'width',0,t._SvgNumConversion.Default,t._SvgLengthContext.Width);this._height=new t._SvgNumAttr(this,'height',0,t._SvgNumConversion.Default,t._SvgLengthContext.Height);this._href=new t._SvgHRefAttr(this,'xlink:href');this._par=new t._SvgPreserveAspectRatioAttr(this)}return __extends(r,i),r.prototype._renderContent=function(){var r=this._width.val,u=this._height.val,i;if(r>0&&u>0&&this._href.hasVal&&(i=t._resolveUrlIfRelative(this._href.val,this.ctx.urlResolver),i)){this.ctx.area._pdfdoc.saveState();(this._x.val||this._y.val)&&this.ctx.area.translate(this._x.val,this._y.val);this.viewport=new n.Size(r,u);try{this._href.val.match(/\.svg$/i)?this._renderSvgImage(i):this._renderRasterImage(i)}catch(f){}this.ctx.area._pdfdoc.restoreState()}},r.prototype._renderSvgImage=function(i){var u,o=n.pdf._XhrHelper.text(i,function(n){return u=n.statusText}),f,r,e;n.assert(u==null,u);f=new t._SvgRenderer(o,this.ctx.area);r=f.root;this.attr('viewBox',r.attr('viewBox'));r.clearAttr('viewBox');r.clearAttr('x');r.clearAttr('y');r.clearAttr('width');r.clearAttr('height');r.clearAttr('preserveAspectRatio');r.clearAttr('clip');r.clearAttr('overflow');this.ctx.area.paths.rect(0,0,this.viewport.width,this.viewport.height).clip();e=new t._SvgScaleAttributes(this);f.render(e.apply(this))},r.prototype._renderRasterImage=function(n){var u=t._PdfImageHelper.getDataUri(n),r=this._par.val,i={width:this.viewport.width,height:this.viewport.height,align:t.PdfImageHorizontalAlign.Left,vAlign:t.PdfImageVerticalAlign.Top};r.align==='none'?i.stretchProportionally=!1:(i.stretchProportionally=!0,r.align.match(/^xMid/)?i.align=t.PdfImageHorizontalAlign.Center:r.align.match(/^xMax/)&&(i.align=t.PdfImageHorizontalAlign.Right),r.align.match(/YMid$/)?i.vAlign=t.PdfImageVerticalAlign.Center:r.align.match(/YMax$/)&&(i.vAlign=t.PdfImageVerticalAlign.Bottom));this.ctx.area.drawImage(u,0,0,i)},r}(e);t._SvgImageElementImpl=d;g=function(n){function r(r,u){var l=this,e,o,f,s,h,c;if(n.call(this,r,u,i.Ignore),u&&(!u.type||u.type==='text/css')){for(e='',f=0;f<u.childNodes.length;f++)e+=u.childNodes[f].textContent;if(e=t._compressSpaces(e),e=e.replace(/\/\*([^*]|\*+[^*/])*\*+\//gm,''),o=e.match(/[^{}]*{[^}]*}/g),o)for(f=0;f<o.length;f++)s=o[f].match(/([^{}]*){([^}]*)}/),s&&(h=s[1].trim().split(','),c=s[2].trim(),h.length&&c&&h.forEach(function(n){(n=n.trim())&&l.ctx.registerCssRule(new t._SvgCssRule(n,c))}))}}return __extends(r,n),r}(f);t._SvgStyleElementImpl=g;o=function(i){function r(n,r){i.call(this,n,r);this._x=new t._SvgNumAttr(this,'x',0,t._SvgNumConversion.Default,t._SvgLengthContext.Width);this._y=new t._SvgNumAttr(this,'y',0,t._SvgNumConversion.Default,t._SvgLengthContext.Height);this._width=new t._SvgNumAttr(this,'width','100%',t._SvgNumConversion.Default,t._SvgLengthContext.Width);this._height=new t._SvgNumAttr(this,'height','100%',t._SvgNumConversion.Default,t._SvgLengthContext.Height);this._scale=new t._SvgScaleAttributes(this);this._overflow=new t._SvgStrAttr(this,'overflow','hidden')}return __extends(r,i),Object.defineProperty(r.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),r.prototype._render=function(){var t=this.ctx.area;t._pdfdoc.saveState();var r=this._width.val,u=this._height.val,f=this._x.val,e=this._y.val;this.parent&&(f||e)&&t.translate(f,e);this.viewport=new n.Size(r,u);this._overflow.val!=='visible'&&t.paths.rect(0,0,r,u).clip();this.viewport=this._scale.apply(this);this.viewport.width>0&&this.viewport.height>0&&i.prototype._render.call(this);t._pdfdoc.restoreState()},r}(u);t._SvgSvgElementImpl=o;l=function(n){function t(t,r){n.call(this,t,r,i.Ignore)}return __extends(t,n),t}(u);t._SvgSymbolElementImpl=l;nt=function(i){function r(n,r){i.call(this,n,r);this._xlink=new t._SvgIdRefAttr(this,'xlink:href')}return __extends(r,i),r.prototype._render=function(){var t,r,i,e,u,f;if(this._xlink.hasVal&&(t=this.ctx.getElement(this._xlink.val))){if(i=new c(this.ctx,null),i.parent=this.parent,i.copyAttributesFrom(this,['x','y','width','height','xlink:href']),(this.attr('x')!=null||this.attr('y')!=null)&&(e=n.format('translate({x},{y})',{x:this.attr('x')||0,y:this.attr('y')||0}),i.attr('transform',(r=i.attr('transform'))?r+' '+e:e)),t instanceof l){for(u=new o(this.ctx,null),u.copyAttributesFrom(t),f=0;f<t.children.length;f++)u.appendNode(t.children[f].clone());i.appendNode(u);u.attr('width',this.attr('width')||'100%');u.attr('height',this.attr('height')||'100%')}else t=t.clone(),i.appendNode(t),t instanceof o&&((r=this.attr('width'))!=null&&t.attr('width',r),(r=this.attr('height'))!=null&&t.attr('height',r));i.render(this.viewport,this.renderMode)}},r}(f);t._SvgUseElementImpl=nt;tt=function(n){function r(i,r){n.call(this,i,r);this._x=new t._SvgNumAttr(this,'x',0,t._SvgNumConversion.Default,t._SvgLengthContext.Width);this._y=new t._SvgNumAttr(this,'y',0,t._SvgNumConversion.Default,t._SvgLengthContext.Height);this._dx=new t._SvgNumAttr(this,'dx',0,t._SvgNumConversion.Default,t._SvgLengthContext.Width);this._dy=new t._SvgNumAttr(this,'dy',0,t._SvgNumConversion.Default,t._SvgLengthContext.Height);this._textDecoration=new t._SvgTextDecorationAttr(this)}return __extends(r,n),r.prototype._render=function(){this.renderMode===i.Render&&n.prototype._render.call(this)},r.prototype._renderContent=function(){var i=this,t;this._prepareNodes();var n=this._x.val+this._dx.val,r=this._y.val+this._dy.val,u=function(t,f){var e,o;if(t._x.hasVal&&(n=t._x.val),t._y.hasVal&&(r=t._y.val),n+=t._dx.val,r+=t._dy.val,t._text)t._cx=n,t._cy=r,t._setDecorators(f),t.render(i.viewport,i.renderMode),n+=i.ctx.area.measureText(t._text,t.style.font.toFont(),{width:Infinity,height:Infinity}).size.width;else for(e=0;e<t.children.length;e++)o=f.slice(),o.push({decoration:t._textDecoration,style:t.style}),u(t.children[e],o)};for(t=0;t<this.children.length;t++)u(this.children[t],[{decoration:this._textDecoration,style:this.style}])},r.prototype._prepareNodes=function(){var r=function(n){for(var i,t=0;t<n.children.length;t++)i=n.children[t],!i._text&&r(i)&&i.remove();return n.children.length===0},t=[],u=function(n){for(var r,i=0;i<n.children.length;i++)r=n.children[i],r._text?t.push(r):u(r)},n,i;for(r(this),u(this),n=0;n<t.length;n++)i=t.length,t[n]._text===' '&&(n===0||n===i-1||n<i-1&&t[n+1]._text===' ')&&(t[n].remove(),t.splice(n,1),n--)},r}(e);t._SvgTextElementImpl=tt;it=function(i){function r(r,u,f){i.call(this,r,u);this._textDecoration=new t._SvgTextDecorationAttr(this);this._text=n.asString(f);this._x=new t._SvgNumAttr(this,'x',0,t._SvgNumConversion.Default,t._SvgLengthContext.Width);this._y=new t._SvgNumAttr(this,'y',0,t._SvgNumConversion.Default,t._SvgLengthContext.Height);this._dx=new t._SvgNumAttr(this,'dx',0,t._SvgNumConversion.Default,t._SvgLengthContext.Width);this._dy=new t._SvgNumAttr(this,'dy',0,t._SvgNumConversion.Default,t._SvgLengthContext.Height);this._textDecoration=new t._SvgTextDecorationAttr(this)}return __extends(r,i),r.prototype.clone=function(){var n=i.prototype.clone.call(this);return n._text=this._text,n},r.prototype._setDecorators=function(n){this._decorators=n},r.prototype._renderContent=function(){if(this._text){var n={font:this.style.font.toFont(),width:Infinity,height:Infinity,lineBreak:!1,fill:this.style.fill.color.val!=='none',stroke:this.style.stroke.color.val!=='none',_baseline:t._PdfTextBaseline.Alphabetic};this._decorate();(n.fill||n.stroke)&&(n.fill&&(n.brush=this.style.fill.toBrush()),n.stroke&&(n.pen=this.style.stroke.toPen()),this.ctx.area.drawText(this._text,this._cx,this._cy,n))}},r.prototype._decorate=function(){var t=this.ctx.area,e=!1,i,h,u,f,n;for(this._decorators.push({decoration:this._textDecoration,style:this.style}),i=0;i<this._decorators.length&&!e;i++)e=this._decorators[i].decoration.val!=null;if(e){t._pdfdoc.saveState();for(var r=t._pdfdoc._document,o=t.measureText(this._text,this.style.font.toFont(),{width:Infinity,height:Infinity}).size,s=Math.max(r.currentFontSize()/20,.1),c=r.currentFontAscender(),l=this._cx;h=this._decorators.shift();)if(u=h.decoration.val,u){for(f=0;f<u.length;f++){n=this._cy-c;switch(u[f]){case'line-through':n=n+o.height/2-s/2;break;case'overline':n=n-(r.currentFontBBox().ury-r.currentFontAscender());break;case'underline':n=n+o.height-s*1.5}t.paths.rect(l,n,o.width,s)}h.style.apply(this,!0,!0)}t._pdfdoc.restoreState()}},r}(u);t._SvgTspanElementImpl=it})(t=n.pdf||(n.pdf={}))}(wijmo||(wijmo={})),function(n){var t;(function(t){'use strict;';var i=function(){function i(i,r,u){var e=this,f;this._elementsById={};this._registeredCssRules={};n.assert(r!=null,t._Errors.ValueCannotBeEmpty('svgString'));this._doc=r._pdfdoc;f=this._parse(i);f&&(this._svg=new t._SvgSvgElementImpl({area:r,urlResolver:u,getElement:this._getElementById.bind(this),registerCssRule:function(n){e._registerCssRule(n,u)}},null),this._copyAttributes(f,this._svg),this._buildTree(f,this._svg),this._svg.viewport=new n.Size(r.width,r.height))}return Object.defineProperty(i.prototype,"root",{get:function(){return this._svg},enumerable:!0,configurable:!0}),i.prototype.render=function(n){this._svg&&this._svg.render(n||this._svg.viewport)},i.prototype._parse=function(n){if(n){var t=new DOMParser;return t.async=!1,t.parseFromString(n,'text/xml').querySelector('svg')}},i.prototype._buildTree=function(i,r,u){for(var f,s,h,o,c,l,e=0;i.childNodes&&e<i.childNodes.length;e++)f=i.childNodes.item(e),s=f.nodeName,f.nodeType===1?(h=this._getClassName(s),n.pdf[h]&&(o=new n.pdf[h](r.ctx,f),this._copyAttributes(f,o),r.appendNode(o),f.id&&(this._elementsById[f.id]=o),this._buildTree(f,o,s==='text'||u&&s==='tspan'))):f.nodeType===3&&u&&(c=f.textContent.trim(),c&&(e!=0&&i.childNodes[e-1].nodeType===1&&f.textContent.match(/^\s/)&&r.appendNode(new t._SvgTspanElementImpl(r.ctx,null,' ')),l=t._compressSpaces(f.textContent),r.appendNode(new t._SvgTspanElementImpl(r.ctx,null,l))),(!c||f.textContent.match(/\s$/))&&r.appendNode(new t._SvgTspanElementImpl(r.ctx,null,' ')))},i.prototype._getClassName=function(n){return'_Svg'+n.charAt(0).toUpperCase()+n.substring(1)+'ElementImpl'},i.prototype._copyAttributes=function(n,i){for(var u,f,e,o,r=0;r<n.attributes.length;r++)u=n.attributes.item(r),i.attr(u.name,u.value);for(f=t._SvgCssHelper.getComputedStyle(n,this._registeredCssRules),r=0,e=Object.keys(f);r<e.length;r++)o=e[r],i.attr(o,f[o])},i.prototype._getElementById=function(n){return n=(n||'').replace('#',''),this._elementsById[n]},i.prototype._registerCssRule=function(n,i){n.selector[0]!=='@'?this._registeredCssRules[n.selector]=n:n.selector==='@font-face'&&t._SvgCssHelper.registerFontFace(this._doc,n,i)},i}();t._SvgRenderer=i})(t=n.pdf||(n.pdf={}))}(wijmo||(wijmo={}))
/*
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    */
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},wijmo;(function(n){var t;(function(t){var i;(function(i){'use strict';function u(t,i,r){var f,o,e;if(r===void 0&&(r=!1),i&&t)for(f in i)o=i[f],e=t[f],n.isObject(o)?((e===undefined||!n.isObject(e)&&r)&&(t[f]=e={}),n.isObject(e)&&u(t[f],o,r)):(e===undefined||r&&o!==undefined)&&(t[f]=o);return t}var r,o,h;(function(n){n[n.ActualSize=0]="ActualSize";n[n.PageWidth=1]="PageWidth";n[n.SinglePage=2]="SinglePage"})(i.ScaleMode||(i.ScaleMode={}));r=i.ScaleMode,function(n){n[n.All=0]="All";n[n.Selection=1]="Selection"}(i.ExportMode||(i.ExportMode={}));o=i.ExportMode;h=function(){function i(){}return i.draw=function(t,i,f,e,o){n.assert(!!t,'The flex argument cannot be null.');n.assert(!!i,'The doc argument cannot be null.');var s=u({},o);u(s,this.DefaultDrawSettings);s.scaleMode=f==null?r.ActualSize:e==null?r.PageWidth:r.SinglePage;try{s.recalculateStarWidths&&t.columns._updateStarSizes(n.pdf.ptToPx(i.width));this._draw(t,i,null,f,e,s)}finally{s.recalculateStarWidths&&t.invalidate(!0)}},i.drawToPosition=function(t,i,f,e,o,s){n.assert(!!t,'The flex argument cannot be null.');n.assert(!!i,'The doc argument cannot be null.');n.assert(!!f,'The point argument cannot be null.');var h=u({},s);u(h,this.DefaultDrawSettings);h.scaleMode=e==null?r.ActualSize:o==null?r.PageWidth:r.SinglePage;try{h.recalculateStarWidths&&t.columns._updateStarSizes(n.pdf.ptToPx(i.width));this._draw(t,i,f,e,o,h)}finally{h.recalculateStarWidths&&t.invalidate(!0)}},i.export=function(t,i,r){var e,f;n.assert(!!t,'The flex argument cannot be null.');n.assert(!!i,'The fileName argument cannot be empty.');r=u({},r);u(r,this.DefaultExportSettings);e=r.documentOptions.ended;r.documentOptions.ended=function(t,r){e&&e.apply(f,[t,r])===!1||n.pdf.saveBlob(r.blob,i)};f=new n.pdf.PdfDocument(r.documentOptions);try{r.recalculateStarWidths&&t.columns._updateStarSizes(n.pdf.ptToPx(f.width));this._draw(t,f,null,null,null,r);f.end()}finally{r.recalculateStarWidths&&t.invalidate(!0)}},i._draw=function(t,i,r,u,e,o){var d=r!=null,h=new n.Size(i.width,i.height),s,k;r||(r=new n.Point(0,i.y));n.isArray(o.embeddedFonts)&&o.embeddedFonts.forEach(function(n){i.registerFont(n)});var b=f.getSelection(t,o.exportMode),a=this._getGridRenderer(t,b,!1,this.BorderWidth,null,!0),c=new n.Rect(r.x||0,r.y||0,u||h.width,e||h.height),l=this._getScaleFactor(a,o.scaleMode,c),v=this._getPages(a,b,c,o,d,l);for(s=0;s<v.length;s++){s>0&&i.addPage();var y=v[s],p=y.pageCol===0?c.left:0,w=y.pageRow===0?c.top:0;i.saveState();i.paths.rect(0,0,h.width,h.height).clip();i.scale(l,l,new n.Point(p,w));i.translate(p,w);k=this._getGridRenderer(t,y.range,o.repeatMergedValuesAcrossPages,this.BorderWidth,o.styles,s===v.length-1);k.render(i);i.restoreState();i.x=p;i.y=w+a.renderSize.height*l}},i._getScaleFactor=function(n,t,i){var f=1,e,u;return t===r.ActualSize?f:(e=n.renderSize,t===r.SinglePage?(u=Math.min(i.width/e.width,i.height/e.height),u<1&&(f=u)):(u=i.width/e.width,u<1&&(f=u)),f)},i._getPages=function(t,i,u,f,e,o){var ht=this,h=[],l=[],w=n.pdf.pxToPt,b=t.flex,nt=t.showColumnHeader,tt=t.showRowHeader,k=nt?w(b.columnHeaders.height):0,d=tt?w(b.rowHeaders.width):0,yt=f.scaleMode===r.ActualSize||f.scaleMode===r.PageWidth,pt=f.scaleMode===r.ActualSize,wt=(u.width-u.left)*(1/o),bt=(u.height-u.top)*(1/o),kt=u.width*(1/o),dt=u.height*(1/o),v=k,y=d,ct=e&&f.scaleMode==r.ActualSize,it,rt,ut,ft,g,et,s,a,st,vt;if(yt&&(it=0,i.forEach(b.cells,function(n,t,i,r){var f=h.length?dt:bt,u;c.isRenderableRow(n)&&(u=w(n.renderHeight),it++,v+=u,(nt||it>1)&&(v-=ht.BorderWidth),v>f&&(k+u>f||ct?(h.push(r),v=k):(h.push(r-1),v=k+u),nt&&(v-=ht.BorderWidth)))})),rt=i.length()-1,h.length&&h[h.length-1]===rt||h.push(rt),pt)for(ut=0,s=i.leftCol;s<=i.rightCol;s++)ft=b.columns[s],ft.isVisible&&(g=w(ft.renderWidth),et=l.length?kt:wt,ut++,y+=g,(tt||ut>1)&&(y-=this.BorderWidth),y>et&&(d+g>et||ct?(l.push(s),y=d):(l.push(s-1),y=d+g),tt&&(y-=this.BorderWidth)));l.length&&l[l.length-1]===i.rightCol||l.push(i.rightCol);var lt=[],ot=!1,at=1,gt=e&&f.maxPages>0?1:f.maxPages;for(s=0;s<h.length&&!ot;s++)for(a=0;a<l.length&&!ot;a++,at++)(ot=at>gt)||(st=s==0?0:h[s-1]+1,vt=a==0?i.leftCol:l[a-1]+1,lt.push(new p(i.subrange(st,h[s]-st+1,vt,l[a]),a,s)));return lt},i._getGridRenderer=function(n,i,r,u,f,e){var o=t.multirow&&n instanceof t.multirow.MultiRow&&a||t.sheet&&n instanceof t.sheet.FlexSheet&&l||s;return new o(n,i,r,u,f,e)},i.BorderWidth=1,i.DefaultDrawSettings={maxPages:Number.MAX_VALUE,exportMode:o.All,repeatMergedValuesAcrossPages:!0,recalculateStarWidths:!0,styles:{cellStyle:{font:new n.pdf.PdfFont,padding:1.5,verticalAlign:'middle'},headerCellStyle:{font:{weight:'bold'}}}},i.DefaultExportSettings=u({scaleMode:r.PageWidth,documentOptions:{compress:!1,pageSettings:{margins:{left:36,right:36,top:18,bottom:18}}}},i.DefaultDrawSettings),i}();i.FlexGridPdfConverter=h;var s=function(){function i(n,i,r,u,o,s){this._flex=n;this._borderWidth=u;this._lastPage=s;this._topLeft=new e(this,n.topLeftCells,this.showRowHeader&&this.showColumnHeader?new f(n,[new t.CellRange(0,0,n.topLeftCells.rows.length-1,n.topLeftCells.columns.length-1)]):new f(n,[]),r,u,o);this._rowHeader=new e(this,n.rowHeaders,this.showRowHeader?i.clone(0,n.rowHeaders.columns.length-1):new f(n,[]),r,u,o);this._columnHeader=new e(this,n.columnHeaders,this.showColumnHeader?new f(n,[new t.CellRange(0,i.leftCol,n.columnHeaders.rows.length-1,i.rightCol)]):new f(n,[]),r,u,o);this._cells=new e(this,n.cells,i,r,u,o);this._bottomLeft=new e(this,n.bottomLeftCells,this.showRowHeader&&this.showColumnFooter?new f(n,[new t.CellRange(0,0,n.bottomLeftCells.rows.length-1,n.bottomLeftCells.columns.length-1)]):new f(n,[]),r,u,o);this._columnFooter=new e(this,n.columnFooters,this.showColumnFooter?new f(n,[new t.CellRange(0,i.leftCol,n.columnFooters.rows.length-1,i.rightCol)]):new f(n,[]),r,u,o)}return i.prototype.render=function(n){var i=Math.max(0,this._rowHeader.renderSize.width-this._borderWidth),t=Math.max(0,this._columnHeader.renderSize.height-this._borderWidth);this._topLeft.render(n,0,0);this._rowHeader.render(n,0,t);this._columnHeader.render(n,i,0);this._cells.render(n,i,t);t=Math.max(0,t+this._cells.renderSize.height-this._borderWidth);this._bottomLeft.render(n,0,t);this._columnFooter.render(n,i,t)},Object.defineProperty(i.prototype,"flex",{get:function(){return this._flex},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"renderSize",{get:function(){var t=this._columnHeader.renderSize.height+this._cells.renderSize.height+this._columnFooter.renderSize.height,i=this._rowHeader.renderSize.width+this._cells.renderSize.width;return this._columnHeader.visibleRows>0&&(t-=this._borderWidth),this._columnFooter.visibleRows>0&&(t-=this._borderWidth),this._rowHeader.visibleColumns>0&&(i-=this._borderWidth),new n.Size(i,t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"showColumnHeader",{get:function(){return!!(this._flex.headersVisibility&t.HeadersVisibility.Column)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"showRowHeader",{get:function(){return!!(this._flex.headersVisibility&t.HeadersVisibility.Row)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"showColumnFooter",{get:function(){return this._lastPage&&this._flex.columnFooters.rows.length>0},enumerable:!0,configurable:!0}),i.prototype.getCellValue=function(n,t,i){return n.getCellData(i,t,!0)},i.prototype.getColumn=function(n,t){return n.columns[t]},i.prototype.isAlternatingRow=function(n){return n.index%2!=0},i.prototype.isMergeableCell=function(n,i){return i.allowMerging||n.allowMerging||i instanceof t.GroupRow},i}(),l=function(n){function i(t,i,r,u,f,e){n.call(this,t,i,r,u,f,e)}return __extends(i,n),i.prototype.getCellValue=function(i,r,u){return i.cellType===t.CellType.Cell?i.rows[u]instanceof t.sheet.HeaderRow?this.flex.columnHeaders.getCellData(u,r,!0):this.flex.getCellValue(u,r,!0):n.prototype.getCellValue.call(this,i,r,u)},Object.defineProperty(i.prototype,"showColumnHeader",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"showRowHeader",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"showColumnFooter",{get:function(){return!1},enumerable:!0,configurable:!0}),i}(s),a=function(n){function i(t,i,r,u,f,e){n.call(this,t,i,r,u,f,e)}return __extends(i,n),i.prototype.getColumn=function(n,t,i){return this.flex.getBindingColumn(n,i,t)},i.prototype.isAlternatingRow=function(i){return i instanceof t.multirow._MultiRow?i.dataIndex%2!=0:n.prototype.isAlternatingRow.call(this,i)},i.prototype.isMergeableCell=function(){return!0},i}(s),c=function(){function i(n,t){this._panel=n;this._range=t.clone()}return i.isRenderableRow=function(n){return n.isVisible&&!(n instanceof t._NewRowTemplate)},Object.defineProperty(i.prototype,"visibleRows",{get:function(){var n=this;return this._visibleRows==null&&(this._visibleRows=0,this._range.forEach(this._panel,function(t){n.isRenderableRow(t)&&n._visibleRows++})),this._visibleRows},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"visibleColumns",{get:function(){if(this._visibleColumns==null&&(this._visibleColumns=0,this._range.isValid))for(var n=this._range.leftCol;n<=this._range.rightCol;n++)this._panel.columns[n].isVisible&&this._visibleColumns++;return this._visibleColumns},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"size",{get:function(){if(this._size==null){var t=this._range.getRenderSize(this._panel);this._size=new n.Size(n.pdf.pxToPt(t.width),n.pdf.pxToPt(t.height))}return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"range",{get:function(){return this._range},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"panel",{get:function(){return this._panel},enumerable:!0,configurable:!0}),i.prototype.isRenderableRow=function(n){return i.isRenderableRow(n)},i}(),e=function(i){function r(n,t,r,u,f,e){i.call(this,t,r);this._gr=n;this._repeatMergedValues=u;this._borderWidth=f;this._styles=e}return __extends(r,i),Object.defineProperty(r.prototype,"gr",{get:function(){return this._gr},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"renderSize",{get:function(){return this._renderSize==null&&(this._renderSize=this.size.clone(),this.visibleColumns>1&&(this._renderSize.width-=this._borderWidth*(this.visibleColumns-1)),this.visibleRows>1&&(this._renderSize.height-=this._borderWidth*(this.visibleRows-1))),this._renderSize},enumerable:!0,configurable:!0}),r.prototype.getRangeWidth=function(t,i){for(var e,r=0,u=0,o=this.panel,f=t;f<=i;f++)e=o.columns[f],e.isVisible&&(u++,r+=e.renderWidth);return r=n.pdf.pxToPt(r),u>1&&(r-=this._borderWidth*(u-1)),r},r.prototype.getRangeHeight=function(t,i){for(var e,r=0,u=0,o=this.panel,f=t;f<=i;f++)e=o.rows[f],this.isRenderableRow(e)&&(u++,r+=e.renderHeight);return r=n.pdf.pxToPt(r),u>1&&(r=r-this._borderWidth*(u-1)),r},r.prototype.render=function(n,t,i){var r=this,u=this.range,o=this.panel,s=new v(this._gr.flex),f,e;if(u.isValid){for(f={},e=u.leftCol;e<=u.rightCol;e++)f[e]=i;u.forEach(o,function(i,e,h){var k,c,y,l,b;if(r.isRenderableRow(i))for(k=t,c=u.leftCol;c<=u.rightCol;c++){var d=r.gr.getColumn(o,c,h),p=undefined,a=undefined,v=undefined,w=undefined;if(d.isVisible){if(y=r._getCellValue(c,h),r.gr.isMergeableCell(d,i)&&(l=s.getMergedRange(o,h,c)))if(l.topRow!==l.bottomRow)l.firstVisibleRow===h||h===e.topRow?p={value:r._repeatMergedValues?y:l.firstVisibleRow===h?y:'',height:a=r.getRangeHeight(h,Math.min(l.bottomRow,e.bottomRow)),width:v=r.getRangeWidth(c,c)}:v=r.getRangeWidth(c,c);else for(p={value:r._repeatMergedValues?y:c===l.leftCol?y:'',height:a=r.getRangeHeight(h,h),width:v=r.getRangeWidth(Math.max(u.leftCol,l.leftCol),Math.min(u.rightCol,l.rightCol))},w=Math.min(u.rightCol,l.rightCol),b=c+1;b<=w;b++)f[b]+=a-r._borderWidth;else p={value:y,height:a=r.getRangeHeight(h,h),width:v=r.getRangeWidth(c,c)};p&&r._renderCell(n,p,i,d,h,c,k,f[c]);a&&(f[c]+=a-r._borderWidth);v&&(k+=v-r._borderWidth);w&&(c=w)}}})}},r.prototype._getCellValue=function(n,i){var u=this.panel,f=this.gr.getCellValue(u,n,i),r,e,o;return f||f===0||u.cellType!==t.CellType.Cell||(r=u.rows[i],r instanceof t.GroupRow&&r.dataItem&&r.dataItem.groupDescription&&n===u.columns.firstVisibleIndex&&(e=r.dataItem.groupDescription.propertyName,o=u.columns.getColumn(e),o&&o.header&&(e=o.header),f=e+': '+r.dataItem.name+' ('+r.dataItem.items.length+' items)')),f},r.prototype._isGroupRow=function(n){return n instanceof t.GroupRow&&n.hasChildren},r.prototype._renderCell=function(i,r,f,e,o,s,h,c){var a=u({},this._styles.cellStyle),p=this.panel,l,v,y;switch(p.cellType){case t.CellType.Cell:this._isGroupRow(f)?u(a,this._styles.groupCellStyle,!0):this.gr.isAlternatingRow(f)&&u(a,this._styles.altCellStyle,!0);break;case t.CellType.ColumnHeader:case t.CellType.RowHeader:case t.CellType.TopLeft:case t.CellType.BottomLeft:u(a,this._styles.headerCellStyle,!0);break;case t.CellType.ColumnFooter:u(a,this._styles.headerCellStyle,!0);u(a,this._styles.footerCellStyle,!0)}if(l=a,a.font&&((v=a.font.family)&&(l.fontFamily=v),(v=a.font.size)&&(l.fontSize=v),(v=a.font.style)&&(l.fontStyle=v),(v=a.font.weight)&&(l.fontWeight=v),a.font=undefined),f instanceof t.GroupRow&&!e.aggregate||(l.textAlign=e.getAlignment()),l.left=h,l.top=c,l.width=r.width,l.height=r.height,l.boxSizing='no-box',l.borderWidth=this._borderWidth,l.borderStyle='solid',y=p.grid,p.cellType===t.CellType.Cell&&y.rows.maxGroupLevel>=0&&s===y.columns.firstVisibleIndex){var w=f instanceof t.GroupRow?Math.max(f.level,0):y.rows.maxGroupLevel+1,b=n.pdf._asPt(l.paddingLeft||l.padding),k=n.pdf.pxToPt(w*y.treeIndent);l.paddingLeft=b+k}e.dataType===n.DataType.Boolean&&p.cellType===t.CellType.Cell&&!this._isGroupRow(f)&&this._isBoolean(r.value)?i._renderBooleanCell(r.value,l):i._renderTextCell(r.value,l)},r.prototype._isBoolean=function(t){var i=n.isString(t)&&t.toLowerCase();return i==='true'||i==='false'||t===!0||t===!1},r}(c),v=function(){function n(n){this._columns={};this._flex=n}return n.prototype.getMergedRange=function(n,t,i){var r=this._columns[i],u;return r&&t>=r.topRow&&t<=r.bottomRow?r:(u=this._flex.getMergedRange(n,t,i,!1),this._columns[i]=u?new y(n,u):null)},n}(),y=function(n){function t(t,i){var u,f,r;for(n.call(this,i.row,i.col,i.row2,i.col2),this.firstVisibleRow=-1,u=this.topRow,f=this.bottomRow,r=u;r<f;r++)if(t.rows[r].isVisible){this.firstVisibleRow=r;break}}return __extends(t,n),t}(t.CellRange),f=function(){function i(n,t){this._flex=n;this._ranges=t||[]}return i.getSelection=function(n,r){var f=[],s,e,u,h;if(r===o.All)f.push(new t.CellRange(0,0,n.rows.length-1,n.columns.length-1));else{s=n.selection;switch(n.selectionMode){case t.SelectionMode.Cell:case t.SelectionMode.CellRange:f.push(s);break;case t.SelectionMode.Row:f.push(new t.CellRange(s.topRow,0,s.topRow,n.cells.columns.length-1));break;case t.SelectionMode.RowRange:f.push(new t.CellRange(s.topRow,0,s.bottomRow,n.cells.columns.length-1));break;case t.SelectionMode.ListBox:for(e=-1,u=0;u<n.rows.length;u++)h=n.rows[u],h.isSelected?(e<0&&(e=u),u===n.rows.length-1&&f.push(new t.CellRange(e,0,u,n.cells.columns.length-1))):(e>=0&&f.push(new t.CellRange(e,0,u-1,n.cells.columns.length-1)),e=-1)}}return new i(n,f)},i.prototype.length=function(){for(var n,i=0,t=0;t<this._ranges.length;t++)n=this._ranges[t],n.isValid&&(i+=n.bottomRow-n.topRow+1);return i},Object.defineProperty(i.prototype,"isValid",{get:function(){return this._ranges.length&&this._ranges[0].isValid},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"leftCol",{get:function(){return this._ranges.length?this._ranges[0].leftCol:-1},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"rightCol",{get:function(){return this._ranges.length?this._ranges[0].rightCol:-1},enumerable:!0,configurable:!0}),i.prototype.clone=function(n,t){for(var r,f=[],u=0;u<this._ranges.length;u++)r=this._ranges[u].clone(),arguments.length>0&&(r.col=n),arguments.length>1&&(r.col2=t),f.push(r);return new i(this._flex,f)},i.prototype.getRenderSize=function(t){for(var u,i=new n.Size(0,0),r=0;r<this._ranges.length;r++)u=this._ranges[r].getRenderSize(t),i.width=Math.max(i.width,u.width),i.height+=u.height;return i},i.prototype.forEach=function(n,t){for(var i,r,f=0,u=0;u<this._ranges.length;u++)if(i=this._ranges[u],i.isValid)for(r=i.topRow;r<=i.bottomRow;r++)t(n.rows[r],i,r,f++)},i.prototype.subrange=function(n,r,u,f){var l=[],o,s,h,e;if(n>=0&&r>0)for(o=0,s=0,h=0;h<this._ranges.length&&r>0;h++,o=s+1)if(e=this._ranges[h],s=o+(e.bottomRow-e.topRow),!(n>s)){var c=n>o?e.topRow+(n-o):e.topRow,a=Math.min(e.bottomRow,c+r-1),v=arguments.length>2?u:e.leftCol,y=arguments.length>2?f:e.rightCol;l.push(new t.CellRange(c,v,a,y));r-=a-c+1}return new i(this._flex,l)},i}(),p=function(){function n(n,t,i){this._col=t;this._row=i;this._range=n}return Object.defineProperty(n.prototype,"range",{get:function(){return this._range},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pageCol",{get:function(){return this._col},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pageRow",{get:function(){return this._row},enumerable:!0,configurable:!0}),n}()})(i=t.pdf||(t.pdf={}))})(t=n.grid||(n.grid={}))})(wijmo||(wijmo={}))
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},c1;(function(n){var t;(function(n){var t=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t}(wijmo.grid.FlexGrid);n.FlexGrid=t})(t=n.grid||(n.grid={}))})(c1||(c1={}));
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},c1;(function(n){var t;(function(t){var i;(function(i){var u=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),Object.defineProperty(t.prototype,"_controlType",{get:function(){return r},enumerable:!0,configurable:!0}),t}(t._ControlWrapper),r;i._FlexGridWrapper=u;r=function(t){function i(){t.apply(this,arguments)}return __extends(i,t),i.prototype.refresh=function(n){n===void 0&&(n=!0);var r=this,u,i=r.collectionView;t.prototype.refresh.call(this,n);r._suspendedOpts&&i&&(!i._isRemoteMode()||r._isInitialized?r._processOpts():r._isInitialized=!0);i&&i._isDynamicalLoadingEnabled&&i._isDynamicalLoadingEnabled()&&(u=r.viewRange,i.requestItems(u.row,u.row2));i&&i._isQuerying&&!i._isQuerying()&&r._hideMaskLayer()},i.prototype.initialize=function(i){var r=this,f,e,u,s,h,o;if(i){for(r._processTemplates(i),wijmo.tryCast(i.itemsSource,wijmo.collections.CollectionView)==null&&wijmo.isArray(i.itemsSource)?i.itemsSource=new n.mvc.collections.CallbackCollectionView({sourceCollection:i.itemsSource,uniqueId:null,disableServerRead:!0}):i.itemsSource==null&&delete i.itemsSource,e=i.columns,e&&e.length&&e.forEach(function(n){u=n.dataMap;u&&(s=u.mapChanged,h=u.sortByDisplayValues,u=new wijmo.grid.DataMap(u.itemsSource,u.selectedValuePath,u.displayMemberPath),s&&u.mapChanged.addHandler(s),u.sortByDisplayValues=h===!0,n.dataMap=u)}),i&&this._filterOpts(i),i.validationAttributesMap&&(this._validationAttributesMap=i.validationAttributesMap,delete i.validationAttributesMap),t.prototype.initialize.call(this,i),r._originalColumns=[],o=0;o<r.columns.length;o++)r._originalColumns.push(r.columns[o]);r._applyTemplates();f=r.collectionView;f._isDynamicalLoadingEnabled()&&r.scrollPositionChanged.addHandler(r._scrolling,r);f.beginQuery.addHandler(r._showMaskLayer,r);f.queryData.addHandler(r._collectSortSettings,r)}},i.prototype._scrolling=function(){var n=this.viewRange;this._prepareRequest(n.row,n.row2)},i.prototype._prepareRequest=function(n,t){var r=this,i,u=r.collectionView;window.setTimeout(function(){i=r.viewRange;i.row==n&&i.row2==t?u.requestItems(n,t):r._prepareRequest(i.row,i.row2)},100)},i.prototype._processTemplates=function(n){this._processPanelTemplates(n);this._processColumnsTempaltes(n)},i.prototype._processPanelTemplates=function(n){for(var u=["rowHeadersTemplate","columnHeadersTemplate","cellsTemplate","topLeftCellsTemplate"],f=["RowHeader","ColumnHeader","Cell","TopLeft"],e=u.length,i,r,o=this,t=0;t<e;t++)r=u[t],i=n[r],typeof i!="undefined"&&delete n[r],i!=null&&o._updateTemplates(f[t],i)},i.prototype._processColumnsTempaltes=function(n){var r,t,i,u="cellTemplate",f=this;if(n.columns!=null&&(r=n.columns.length))for(t=0;t<r;t++)i=n.columns[t][u],typeof i!="undefined"&&delete n.columns[t][u],i!=null&&f._updateTemplates("Cell",i,t)},i.prototype._updateTemplates=function(n,t,i){i===void 0&&(i=-1);var u=this,r;t!=null&&(u._templates||(u._templates={}),r=u._templates[n],typeof r=="undefined"&&(r={}),r[i]=t,u._templates[n]=r)},i.prototype._applyTemplates=function(){var r=this,i=r._templates,n,t;if(i)for(n in i)t=i[n],n==="Cell"&&(t=r._updateCellsTemplate(n,t),i[n]=t),r._applyTemplate(n,t)},i.prototype._updateCellsTemplate=function(n,t){var i,r={},u,f;for(i in t)f=parseInt(i),f!=-1?(u=this.columns[f],u&&(r[n+u._hash]=t[i])):r[i]=t[i];return r},i.prototype._applyTemplate=function(t,i){var r=this;r._addListenersforEditTemplate(t,i);r.formatItem.addHandler(function(u,f){var h=f.panel.cellType,a="",s,o,e,c,l;if((s=r._isEditing(h,f.row,f.col),h!==wijmo.grid.CellType.Cell||!s)&&h===wijmo.grid.CellType[t]){if(e=r._getCellTemplate(t,f.col,i),e==null)return;c=e.templateId||e.templateContent;l=e.editTemplateId||e.editTemplateContent;o={row:f.row,column:f.col};f.cell&&f.cell.style&&f.cell.style.visibility==="hidden"&&(a="hidden");o[n.mvc.Template.UID]=r._getUnqiueIdentifier()+"_"+t+"_r"+f.row+"_c"+f.col+a;o[n.mvc.Template.DATACONTEXT]=r.rows[f.row].dataItem;!s&&c?c.applyTo(f.cell,o):s&&l&&l.applyTo(f.cell,o)}},r)},i.prototype._getCellTemplate=function(n,t,i){var u,n,r;return wijmo.grid.CellType[n]==wijmo.grid.CellType.Cell&&(u=n+this.columns[t]._hash,r=i[u]),r==null&&(r=i[-1]),r},i.prototype._addListenersforEditTemplate=function(n){var t=this;wijmo.grid.CellType[n]==wijmo.grid.CellType.Cell&&(t.beginningEdit.addHandler(t._applyCellEditTemplate,t),t.scrollPositionChanged.addHandler(t._closeEditor,t),window.addEventListener("resize",function(){!!t._activeEdt&&t._containsFocus(t._activeEdt)&&t._containsFocus(t._activeEdt.firstElementChild)&&(t._closeEditor(!0),t.focus())}))},i.prototype._getUnqiueIdentifier=function(){return this.hostElement.id||n.mvc._getUniqueId(this)},i.prototype._applyCellEditTemplate=function(t,i){var e=i.col,f=i.row,r=this,h=r._getCellTemplate("Cell",e,r._templates.Cell),c,o,s,l=t.collectionView,a,u,v;h&&(c=h.editTemplateId||h.editTemplateContent,c)&&(o={row:f,column:e},o[n.mvc.Template.UID]=r._getUnqiueIdentifier()+"_Cell_r"+f+"_c"+e,o[n.mvc.Template.DATACONTEXT]=r.rows[f].dataItem,i.cancel=!0,r._rng=i.range,u=document.createElement("div"),document.body.appendChild(u),u.addEventListener("blur",function(){setTimeout(function(){!r._activeEdt||r._containsFocus(r._activeEdt)||r._containsFocus(r._activeEdt.firstElementChild)||r._closeEditor(!0)},50)},!0),u.addEventListener("keydown",function(n){switch(n.keyCode){case wijmo.Key.Enter:r._closeEditor(!0);r.focus();break;case wijmo.Key.Escape:r._closeEditor(!1);r.focus()}}),s=t.getCellBoundingRect(f,e),wijmo.setCss(u,{position:"absolute",left:s.left-1+pageXOffset,top:s.top-1+pageYOffset,width:s.width+1,height:t.rows[f].renderHeight+1,borderRadius:"0px"}),c.applyTo(u,o),v=u.firstElementChild,r._activeEdt=u,r._editedItemIndex=f,a=l.items[f],l&&a&&setTimeout(function(){l.editItem(a)},100),v.focus())},i.prototype._containsFocus=function(n){var t=wijmo.Control.getControl(n);return t?t.containsFocus():wijmo.contains(n,document.activeElement)},i.prototype._closeEditor=function(n){var t=this,u,f=t.collectionView,i,r;if(t._activeEdt&&t._editedItemIndex!=null){if(u=t._activeEdt.parentElement,i=wijmo.Control.getControl(t._activeEdt.firstElementChild),u){r=new wijmo.grid.CellEditEndingEventArgs(t.cells,t._rng);r.cancel=!n;t.onCellEditEnding(r);r.cancel||i!=null&&(f.editItem(f.items[t._editedItemIndex]),wijmo.isUndefined(i.value)?wijmo.isUndefined(i.text)||t.setCellData(t._rng.row,t._rng.col,i.text):t.setCellData(t._rng.row,t._rng.col,i.value),f.commitEdit());i instanceof wijmo.input.DropDown&&(i.isDroppedDown=!1);u.removeChild(t._activeEdt);t.onCellEditEnded(r)}t._activeEdt=null;t._editedItemIndex=null}},i.prototype._isEditing=function(n,t,i){var r,u=this;if(u.isReadOnly)return!1;switch(n){case wijmo.grid.CellType.RowHeader:r=u._isCellEditing(t);break;case wijmo.grid.CellType.ColumnHeader:r=u._isCellEditing(-1,i);break;case wijmo.grid.CellType.Cell:r=u._isCellEditing(t,i);break;case wijmo.grid.CellType.TopLeft:r=u._isCellEditing();break;default:throw"Invalid cell type.";}return r},i.prototype._isCellEditing=function(n,t){n===void 0&&(n=-1);t===void 0&&(t=-1);var r=this,i=r.editRange;return i==null?!1:n!=-1&&t!=-1?i.contains(n,t):n!=-1?i.containsRow(n):t!=-1?i.containsColumn(t):!0},i.prototype._filterOpts=function(n){var t=this;t._suspendedOpts=null;i._SUSPENDED_OPTIONS.forEach(function(i){return t._filterOpt(i,n)})},i.prototype._filterOpt=function(n,t){var i=this;typeof t[n]!="undefined"&&(i._suspendedOpts||(i._suspendedOpts={}),i._suspendedOpts[n]=t[n],delete t[n])},i.prototype._processOpts=function(){var i,t=this,n;if(t._suspendedOpts){for(i in t._suspendedOpts){n=t._suspendedOpts[i];switch(i){case"scrollPosition":t[i]=n?new wijmo.Point(n.x,n.y):new wijmo.Point;break;case"selection":t[i]=n?new wijmo.grid.CellRange(n.row,n.col,n.row2,n.col2):new wijmo.grid.CellRange}}t._suspendedOpts=null}},i.prototype._showMaskLayer=function(){var n=this;n._maskLayer||(n._maskLayer=n._createMaskLayer());n._maskLayer.style.display=""},i.prototype._hideMaskLayer=function(){this._maskLayer&&(this._maskLayer.style.display="none")},i.prototype._createMaskLayer=function(){var r=this.cells.hostElement.parentElement.parentElement,t,i,n;if(!r)throw"the grid container doesn't exist.";return i=wijmo.getElementRect(r),t=document.createElement("div"),n=t.style,n.left="0px",n.top="0px",n.width=i.width+"px",n.height=i.height+"px",n.lineHeight=i.height+"px",n.display="none",t.innerText="loading...",r.appendChild(t),wijmo.addClass(t,"c1-grid-mask"),t},i.prototype.setClipString=function(n,i){var r=this;r.beginningEdit.addHandler(r._beginningEditCell,r);r.cellEditEnded.addHandler(r._cellEditEnded,r);t.prototype.setClipString.call(this,n,i);r.beginningEdit.removeHandler(r._beginningEditCell);r.cellEditEnded.removeHandler(r._cellEditEnded)},i.prototype._beginningEditCell=function(n,t){var i=this.collectionView,r;t.panel.cellType===wijmo.grid.CellType.Cell&&i&&(r=i.items[t.row],r&&i.editItem(r))},i.prototype._cellEditEnded=function(n,t){var i=this.collectionView;t.panel.cellType===wijmo.grid.CellType.Cell&&i&&i.commitEdit()},i.prototype.onPrepareCellForEdit=function(n){var c=this,u=this.activeEditor,e=n.panel.columns[n.col],o=e.binding,f,s,h,r,i;if(t.prototype.onPrepareCellForEdit.call(this,n),o&&!e.dataMap&&e.dataType!==wijmo.DataType.Boolean){for(s in c._validationAttributesMap)if(s.toLowerCase()==o.toLowerCase()){f=c._validationAttributesMap[s];break}if(f){for(h in f)u.setAttribute(h,f[h]);if(u.setAttribute("name",o),r=window.jQuery,r&&r.validator&&r.validator.unobtrusive&&(r(u).wrap("<form><\/form>"),r.validator.unobtrusive.parse(u.form),i=r(u.form).data("validator"),i&&i.settings)){i.settings.errorPlacement=function(n,t){var r=t.closest("div");r.removeClass(i.settings.validClass);r.addClass(i.settings.errorClass);r.attr("title",n.text())};i.settings.success=function(n,t){var u=r(t).closest("div");u.removeClass(i.settings.errorClass);u.addClass(i.settings.validClass);u.attr("title","")};r(u).on("input",function(){i.element(u)});i.element(u)}}}},i.prototype.onCellEditEnding=function(n){var i=this,r,u;return i._isInnerCheckBoxEditor=i.activeEditor&&i.activeEditor.type=="checkbox"&&wijmo.contains(i.hostElement,i.activeEditor),i._editor=i.activeEditor,r=window.jQuery,r&&i.activeEditor&&(u=r(i.activeEditor.form).data("validator"),u&&(n.cancel=!u.element(i.activeEditor))),t.prototype.onCellEditEnding.call(this,n)},i.prototype.onCellEditEnded=function(n){var i=this,r,n;if(t.prototype.onCellEditEnded.call(this,n),!i._editor||n.cancel||!i._isInnerCheckBoxEditor){i._isInnerCheckBoxEditor=!1;i._editor=null;return}if(i._editor=null,i._isInnerCheckBoxEditor=!1,r=wijmo.tryCast(i.collectionView,"IEditableCollectionView"),r&&r.currentEditItem){n=new wijmo.grid.CellRangeEventArgs(i.cells,i.selection);i.onRowEditEnding(n);r.commitEdit();i.onRowEditEnded(n)}},i.prototype.onSortingColumn=function(n){var i=this,r,u=t.prototype.onSortingColumn.call(this,n);return n.cancel||(r=i.columns[n.col],i._sortingOriginalColumnIndex=i._originalColumns.indexOf(r)),u},i.prototype._collectSortSettings=function(n,t){if(n.sortDescriptions&&n.sortDescriptions.length){var i=this._getSortSettings();i&&i.length&&(t.extraRequestData=t.extraRequestData||{},t.extraRequestData.FlexGridSort=i)}},i.prototype._getSortSettings=function(){var t=this,n,i=[],r;return t._sortingOriginalColumnIndex!=null&&(n=t._originalColumns[t._sortingOriginalColumnIndex],n&&(n.sortMemberPath==null||n.sortMemberPath==n.binding)&&n.dataMap&&n.dataMap.sortByDisplayValues&&(r={index:t._sortingOriginalColumnIndex,binding:n.binding,dataMap:{selectedValuePath:n.dataMap.selectedValuePath,displayMemberPath:n.dataMap.displayMemberPath}},i.push(r))),i},i._SUSPENDED_OPTIONS=["scrollPosition","selection"],i}(n.grid.FlexGrid);i.FlexGrid=r})(i=t.grid||(t.grid={}))})(t=n.mvc||(n.mvc={}))})(c1||(c1={}));
/*
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    */
var __extends,wijmo;(function(n){var t;(function(t){var i;(function(i){'use strict';(function(n){n[n.Code=0]="Code";n[n.Selection=1]="Selection";n[n.ExpandSingle=2]="ExpandSingle";n[n.ExpandMulti=3]="ExpandMulti"})(i.DetailVisibilityMode||(i.DetailVisibilityMode={}));var r=i.DetailVisibilityMode,u=function(){function u(t,u){var f=this;this._mode=r.ExpandSingle;this._animated=!1;this._g=t;t.mergeManager=new i.DetailMergeManager(t);t.rowHeaders.hostElement.addEventListener('click',this._hdrClick.bind(this));t.formatItem.addHandler(this._formatItem,this);t.selectionChanged.addHandler(this._selectionChanged,this);t.resizedRow.addHandler(this._resizedRow,this);t.loadingRows.addHandler(function(){f.hideDetail()});t.draggingRow.addHandler(function(n,t){f.hideDetail(t.row)});t.formatItem.addHandler(function(n,t){if(t.panel==n.cells){var r=n.rows[t.row];r instanceof i.DetailRow&&(t.cell.style.left='0')}});u&&n.copy(this,u)}return Object.defineProperty(u.prototype,"grid",{get:function(){return this._g},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"detailVisibilityMode",{get:function(){return this._mode},set:function(t){t!=this._mode&&(this._mode=n.asEnum(t,r),this.hideDetail(),this._g.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"maxHeight",{get:function(){return this._maxHeight},set:function(t){this._maxHeight=n.asNumber(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"isAnimated",{get:function(){return this._animated},set:function(t){t!=this._animated&&(this._animated=n.asBoolean(t))},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"createDetailCell",{get:function(){return this._createDetailCellFn},set:function(t){this._createDetailCellFn=n.asFunction(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"disposeDetailCell",{get:function(){return this._disposeDetailCellFn},set:function(t){this._disposeDetailCellFn=n.asFunction(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"rowHasDetail",{get:function(){return this._rowHasDetailFn},set:function(t){this._rowHasDetailFn=n.asFunction(t,!0)},enumerable:!0,configurable:!0}),u.prototype.isDetailVisible=function(n){var t=this._g.rows;return(n=this._toIndex(n),t[n]instanceof i.DetailRow)?!0:n<t.length-1&&t[n+1]instanceof i.DetailRow?!0:!1},u.prototype.isDetailAvailable=function(n){var t=this._g.rows;return n=this._toIndex(n),this._hasDetail(n)},u.prototype.hideDetail=function(t){var r=this._g.rows,u,f;if(t==null){for(u=0;u<r.length;u++)r[u]instanceof i.DetailRow&&this.hideDetail(u);return}t=this._toIndex(t);!(r[t]instanceof i.DetailRow)&&t<r.length-1&&r[t+1]instanceof i.DetailRow&&t++;f=r[t];f instanceof i.DetailRow&&(this.disposeDetailCell&&this.disposeDetailCell(f),n.Control.disposeAll(f.detail),r.removeAt(t))},u.prototype.showDetail=function(t,r){var s,u,e,o,h,c,f;if(r===void 0&&(r=!1),s=this._g,u=s.rows,t=this._toIndex(t),!this.isDetailVisible(t)&&this._hasDetail(t)&&(e=new i.DetailRow(u[t]),e.detail=this._createDetailCell(u[t]),e.detail&&(this._animated?(o=e.detail.style,o.transform='translateY(-100%)',o.opacity='0',u.insert(t+1,e),n.animate(function(i){i<1?(o.transform='translateY('+(-(1-i)*100).toFixed(0)+'%)',o.opacity=(i*i).toString()):(o.transform='',o.opacity='',n.Control.invalidateAll(e.detail),s.scrollIntoView(t,-1))})):(u.insert(t+1,e),s.scrollIntoView(t,-1)))),r){for(h=s.selection,c=!1,t>0&&u[t]instanceof i.DetailRow&&t--,f=0;f<u.length-1;f++)f!=t&&u[f+1]instanceof i.DetailRow&&(this.hideDetail(f),f<t&&t--,f<h.row&&(h.row--,h.row2--,c=!0));c&&s.select(h,!1)}},u.prototype._toIndex=function(i){return i instanceof t.Row&&(i=i.index),n.asNumber(i,!1,!0)},u.prototype._hdrClick=function(n){var u,i,f;if(!n.defaultPrevented)switch(this._mode){case r.ExpandMulti:case r.ExpandSingle:u=this._g;i=u.hitTest(n);i.row>-1&&(f=u.rows[i.row],this.isDetailVisible(i.row)?this.hideDetail(i.row):(u.select(new t.CellRange(i.row,0,i.row,u.columns.length-1)),this.showDetail(i.row,this._mode==r.ExpandSingle)),n.preventDefault())}},u.prototype._selectionChanged=function(n){var t=this;this._mode==r.Selection&&(this._toSel&&clearTimeout(this._toSel),this._toSel=setTimeout(function(){n.selection.row>-1?t.showDetail(n.selection.row,!0):t.hideDetail()},300))},u.prototype._formatItem=function(t,u){var e=this._g,f=u.panel.rows[u.row],h,o,s,c;u.panel==e.cells&&f instanceof i.DetailRow&&f.detail!=null&&(n.addClass(u.cell,'wj-detail'),u.cell.textContent='',u.cell.style.textAlign='',u.cell.appendChild(f.detail),f.height==null?(n.Control.refreshAll(u.cell),h=getComputedStyle(u.cell),o=f.detail.scrollHeight+parseInt(h.paddingTop)+parseInt(h.paddingBottom),this._maxHeight>0&&o>this._maxHeight&&(o=this._maxHeight),f.height=o,f.detail.style.height||(f.detail.style.height='100%'),s=f.detail.querySelector('.wj-flexgrid'),s&&!s.style.height&&(s.style.height='100%')):setTimeout(function(){n.Control.refreshAll(f.detail)}));(this._mode==r.ExpandMulti||this._mode==r.ExpandSingle)&&u.panel==e.rowHeaders&&u.col==0&&this._hasDetail(u.row)&&(c=u.row<e.rows.length-1&&e.rows[u.row+1]instanceof i.DetailRow,u.cell.innerHTML=c?'<span class="wj-glyph-minus"></span>':'<span class="wj-glyph-plus"></span>')},u.prototype._resizedRow=function(t,r){var u=r.panel.rows[r.row];u instanceof i.DetailRow&&u.detail&&n.Control.refreshAll(u.detail)},u.prototype._hasVisibleDetail=function(n){return n instanceof i.DetailRow||n instanceof t.GroupRow||n instanceof t._NewRowTemplate?!1:!0},u.prototype._hasDetail=function(t){return n.isFunction(this._rowHasDetailFn)?this._rowHasDetailFn(this._g.rows[t]):!0},u.prototype._createDetailCell=function(n,t){return this.createDetailCell?this.createDetailCell(n,t):null},u}();i.FlexGridDetailProvider=u})(i=t.detail||(t.detail={}))})(t=n.grid||(n.grid={}))})(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(n){var t;(function(t){'use strict';var i=function(i){function r(n){i.call(this,n)}return __extends(r,i),r.prototype.getMergedRange=function(r,u,f,e){e===void 0&&(e=!0);switch(r.cellType){case n.CellType.Cell:if(r.rows[u]instanceof t.DetailRow)return new n.CellRange(u,0,u,r.columns.length-1);break;case n.CellType.RowHeader:if(r.rows[u]instanceof t.DetailRow)return new n.CellRange(u-1,f,u,f);if(u<r.rows.length-1&&r.rows[u+1]instanceof t.DetailRow)return new n.CellRange(u,f,u+1,f)}return i.prototype.getMergedRange.call(this,r,u,f,e)},r}(n.MergeManager);t.DetailMergeManager=i})(t=n.detail||(n.detail={}))})(t=n.grid||(n.grid={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(n){var t;(function(t){'use strict';var i=function(n){function t(){n.call(this);this.isReadOnly=!0}return __extends(t,n),Object.defineProperty(t.prototype,"detail",{get:function(){return this._detail},set:function(n){this._detail=n},enumerable:!0,configurable:!0}),t}(n.Row);t.DetailRow=i})(t=n.detail||(n.detail={}))})(t=n.grid||(n.grid={}))}(wijmo||(wijmo={}))
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},c1;(function(n){var t;(function(n){var t;(function(n){var t=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t}(wijmo.grid.detail.FlexGridDetailProvider);n.FlexGridDetailProvider=t})(t=n.detail||(n.detail={}))})(t=n.grid||(n.grid={}))})(c1||(c1={}));
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},c1;(function(n){var t;(function(t){var i;(function(t){var i;(function(t){var i=function(t){function i(){t.apply(this,arguments)}return __extends(i,t),i.prototype.initialize=function(t){var i=this;i.uniqueId=i.grid.hostElement.id;i.template=t.detailRowTemplateId||t.detailRowTemplateContent;t&&(!t.createDetailCell&&i.template&&(t.createDetailCell=function(t){var r,u={};return r=document.createElement("div"),i.grid.hostElement.appendChild(r),u[n.mvc.Template.UID]=i.uniqueId+"_DetailRow_"+t.index,u[n.mvc.Template.DATACONTEXT]=t.dataItem,i.template.applyTo(r,u),r.parentElement.removeChild(r),r}),delete t.detailRowTemplateId,delete t.detailRowTemplateContent,wijmo.copy(i,t))},i}(n.grid.detail.FlexGridDetailProvider);t.FlexGridDetailProvider=i})(i=t.detail||(t.detail={}))})(i=t.grid||(t.grid={}))})(t=n.mvc||(n.mvc={}))})(c1||(c1={}));
/*
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    */
var __extends,wijmo;(function(n){var t;(function(n){var t;(function(){'use strict'})(t=n.filter||(n.filter={}))})(t=n.grid||(n.grid={}))})(wijmo||(wijmo={})),function(n){var t;(function(t){var i;(function(i){'use strict';var r=function(){function i(t){this._maxValues=250;this._sortValues=!0;this._col=t;this._bnd=t.binding?new n.Binding(t.binding):null}return Object.defineProperty(i.prototype,"showValues",{get:function(){return this._values},set:function(n){this._values=n},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"filterText",{get:function(){return this._filterText},set:function(t){this._filterText=n.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"maxValues",{get:function(){return this._maxValues},set:function(t){this._maxValues=n.asNumber(t,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"uniqueValues",{get:function(){return this._uniqueValues},set:function(t){this._uniqueValues=n.asArray(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"sortValues",{get:function(){return this._sortValues},set:function(t){this._sortValues=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"dataMap",{get:function(){return this._map},set:function(i){this._map=n.asType(i,t.DataMap,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"column",{get:function(){return this._col},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isActive",{get:function(){return this._values!=null&&Object.keys(this._values).length>0},enumerable:!0,configurable:!0}),i.prototype.apply=function(t){var i=this.column;return!this._bnd||!this._values||!Object.keys(this._values).length?!0:(t=this._bnd.getValue(t),t=this.dataMap?this.dataMap.getDisplayValue(t):i.dataMap?i.dataMap.getDisplayValue(t):n.Globalize.format(t,i.format),this._values[t]!=undefined)},i.prototype.clear=function(){this.showValues=null;this.filterText=null},i.prototype.implementsInterface=function(n){return n=='IColumnFilter'},i}();i.ValueFilter=r})(i=t.filter||(t.filter={}))})(t=n.grid||(n.grid={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){var i;(function(t){'use strict';var i=function(i){function r(r,u){var f,e;i.call(this,r);this._filter=n.asType(u,t.ValueFilter,!1);f=this.getTemplate();this.applyTemplate('wj-control',f,{_divFilter:'div-filter',_cbSelectAll:'cb-select-all',_spSelectAll:'sp-select-all',_divValues:'div-values'});this._spSelectAll.textContent=n.culture.FlexGridFilter.selectAll;this._view=new n.collections.CollectionView;u.sortValues&&u.column.dataType!=n.DataType.Boolean&&(e=u.column.dataMap||u.dataMap?'text':'value',this._view.sortDescriptions.push(new n.collections.SortDescription(e,!0)));this._view.filter=this._filterValues.bind(this);this._view.collectionChanged.addHandler(this._updateSelectAllCheck,this);this._filterText='';this._cmbFilter=new n.input.ComboBox(this._divFilter,{placeholder:n.culture.FlexGridFilter.search});this._lbValues=new n.input.ListBox(this._divValues,{displayMemberPath:'text',checkedMemberPath:'show',itemsSource:this._view,itemFormatter:function(t,i){return i?i:n.culture.FlexGridFilter.null}});this._cmbFilter.textChanged.addHandler(this._filterTextChanged,this);this._cbSelectAll.addEventListener('click',this._cbSelectAllClicked.bind(this));this.updateEditor()}return __extends(r,i),Object.defineProperty(r.prototype,"filter",{get:function(){return this._filter},enumerable:!0,configurable:!0}),r.prototype.updateEditor=function(){var i=this._filter.column,r=[],h,a,c,u,o,s,v,t;if(this._filter.uniqueValues)for(h=this._filter.uniqueValues,t=0;t<h.length;t++)u=h[t],r.push({value:u,text:u.toString()});else{var l={},f=i.collectionView?i.collectionView.sourceCollection:[],e=i.collectionView;if(e&&e.sourceCollection&&e.filter){for(a=this._filter.showValues,this._filter.showValues=null,c=[],t=0;t<f.length;t++)e.filter(f[t])&&c.push(f[t]);f=c;this._filter.showValues=a}for(t=0;t<f.length;t++)u=i._binding.getValue(f[t]),o=this._filter.dataMap?this._filter.dataMap.getDisplayValue(u):i.dataMap?i.dataMap.getDisplayValue(u):n.Globalize.format(u,i.format),l[o]||(l[o]=!0,r.push({value:u,text:o}))}if(s=this._filter.showValues,s&&Object.keys(s).length!=0){for(v in s)for(t=0;t<r.length;t++)if(r[t].text==v){r[t].show=!0;break}}else for(t=0;t<r.length;t++)r[t].show=!0;this._lbValues.isContentHtml=i.isContentHtml;this._cmbFilter.text=this._filter.filterText;this._filterText=this._cmbFilter.text.toLowerCase();this._view.pageSize=this._filter.maxValues;this._view.sourceCollection=r;this._view.moveCurrentToPosition(-1)},r.prototype.clearEditor=function(){var t,n;for(this._cmbFilter.text='',this._filterText='',this._view.refresh(),t=this._view.items,n=0;n<t.length;n++)t[n].show=!1},r.prototype.updateFilter=function(){var t=null,r=this._view.items,n,i;if(this._filterText||this._cbSelectAll.indeterminate)for(t={},n=0;n<r.length;n++)i=r[n],i.show&&(t[i.text]=!0);this._filter.showValues=t;this._filter.filterText=this._filterText},r.prototype._filterTextChanged=function(){var n=this;this._toText&&clearTimeout(this._toText);this._toText=setTimeout(function(){var t=n._cmbFilter.text.toLowerCase();t!=n._filterText&&(n._filterText=t,n._view.refresh(),n._cbSelectAll.checked=!0,n._cbSelectAllClicked())},500)},r.prototype._filterValues=function(n){return this._filterText?n&&n.text?n.text.toLowerCase().indexOf(this._filterText)>-1:!1:!0},r.prototype._cbSelectAllClicked=function(){for(var i=this._cbSelectAll.checked,t=this._view.items,n=0;n<t.length;n++)t[n].show=i;this._view.refresh()},r.prototype._updateSelectAllCheck=function(){for(var n=0,t=this._view.items,i=0;i<t.length;i++)t[i].show&&n++;n==0?(this._cbSelectAll.checked=!1,this._cbSelectAll.indeterminate=!1):n==t.length?(this._cbSelectAll.checked=!0,this._cbSelectAll.indeterminate=!1):this._cbSelectAll.indeterminate=!0},r.controlTemplate='<div><div wj-part="div-filter"><\/div><div class="wj-listbox-item"><label><input wj-part="cb-select-all" type="checkbox"> <span wj-part="sp-select-all"><\/span><\/label><\/div><div wj-part="div-values" style="height:150px"><\/div><\/div>',r}(n.Control);t.ValueFilterEditor=i})(i=t.filter||(t.filter={}))})(t=n.grid||(n.grid={}))}(wijmo||(wijmo={})),function(n){var t;(function(t){var i;(function(i){'use strict';var r=function(){function r(t){this._c1=new i.FilterCondition;this._c2=new i.FilterCondition;this._and=!0;this._col=t;this._bnd=t.binding?new n.Binding(t.binding):null}return Object.defineProperty(r.prototype,"condition1",{get:function(){return this._c1},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"condition2",{get:function(){return this._c2},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"and",{get:function(){return this._and},set:function(t){this._and=n.asBoolean(t);this._bnd=this._col&&this._col.binding?new n.Binding(this._col.binding):null},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"dataMap",{get:function(){return this._map},set:function(i){this._map=n.asType(i,t.DataMap,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"column",{get:function(){return this._col},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isActive",{get:function(){return this._c1.isActive||this._c2.isActive},enumerable:!0,configurable:!0}),r.prototype.apply=function(t){var i=this._col,r=this._c1,u=this._c2,f,e;return!this._bnd||!this.isActive?!0:(t=this._bnd.getValue(t),i.dataMap?t=i.dataMap.getDisplayValue(t):n.isDate(t)?(n.isString(r.value)||n.isString(u.value))&&(t=n.Globalize.format(t,i.format)):n.isNumber(t)&&(t=n.Globalize.parseFloat(n.Globalize.format(t,i.format))),f=r.apply(t),e=u.apply(t),r.isActive&&u.isActive?this._and?f&&e:f||e:r.isActive?f:u.isActive?e:!0)},r.prototype.clear=function(){this._c1.clear();this._c2.clear();this.and=!0},r.prototype.implementsInterface=function(n){return n=='IColumnFilter'},r}();i.ConditionFilter=r})(i=t.filter||(t.filter={}))})(t=n.grid||(n.grid={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){var i;(function(t){'use strict';var i=function(i){function r(r,u){var e,f;i.call(this,r);this._filter=n.asType(u,t.ConditionFilter,!1);e=this.getTemplate();this.applyTemplate('wj-control',e,{_divHdr:'div-hdr',_divCmb1:'div-cmb1',_divVal1:'div-val1',_btnAnd:'btn-and',_btnOr:'btn-or',_spAnd:'sp-and',_spOr:'sp-or',_divCmb2:'div-cmb2',_divVal2:'div-val2'});this._divHdr.textContent=n.culture.FlexGridFilter.header;this._spAnd.textContent=n.culture.FlexGridFilter.and;this._spOr.textContent=n.culture.FlexGridFilter.or;this._cmb1=this._createOperatorCombo(this._divCmb1);this._cmb2=this._createOperatorCombo(this._divCmb2);this._val1=this._createValueInput(this._divVal1);this._val2=this._createValueInput(this._divVal2);f=this._btnAndOrChanged.bind(this);this._btnAnd.addEventListener('change',f);this._btnOr.addEventListener('change',f);this.updateEditor()}return __extends(r,i),Object.defineProperty(r.prototype,"filter",{get:function(){return this._filter},enumerable:!0,configurable:!0}),r.prototype.updateEditor=function(){var t=this._filter.condition1,i=this._filter.condition2;this._cmb1.selectedValue=t.operator;this._cmb2.selectedValue=i.operator;this._val1 instanceof n.input.ComboBox?(this._val1.text=n.changeType(t.value,n.DataType.String,null),this._val2.text=n.changeType(i.value,n.DataType.String,null)):(this._val1.value=t.value,this._val2.value=i.value);this._btnAnd.checked=this._filter.and;this._btnOr.checked=!this._filter.and},r.prototype.clearEditor=function(){this._cmb1.selectedValue=this._cmb2.selectedValue=null;this._val1.text=this._val2.text=null;this._btnAnd.checked=!0;this._btnOr.checked=!1},r.prototype.updateFilter=function(){var t=this._filter.column,i=this._filter.condition1,r=this._filter.condition2,u;i.operator=this._cmb1.selectedValue;r.operator=this._cmb2.selectedValue;this._val1 instanceof n.input.ComboBox?(u=t.dataType==n.DataType.Date?n.DataType.String:t.dataType,i.value=n.changeType(this._val1.text,u,t.format),r.value=n.changeType(this._val2.text,u,t.format)):(i.value=this._val1.value,r.value=this._val2.value);this._filter.and=this._btnAnd.checked},r.prototype._createOperatorCombo=function(t){var i=this._filter.column,u=n.culture.FlexGridFilter.stringOperators,r;return i.dataType!=n.DataType.Date||this._isTimeFormat(i.format)?i.dataType!=n.DataType.Number||i.dataMap?i.dataType!=n.DataType.Boolean||i.dataMap||(u=n.culture.FlexGridFilter.booleanOperators):u=n.culture.FlexGridFilter.numberOperators:u=n.culture.FlexGridFilter.dateOperators,r=new n.input.ComboBox(t),r.itemsSource=u,r.displayMemberPath='name',r.selectedValuePath='op',r},r.prototype._createValueInput=function(t){var i=this._filter.column,r=null;return i.dataType!=n.DataType.Date||this._isTimeFormat(i.format)?i.dataType!=n.DataType.Number||i.dataMap?(r=new n.input.ComboBox(t),r.itemsSource=this._filter.dataMap?this._filter.dataMap.getDisplayValues():i.dataMap?i.dataMap.getDisplayValues():i.dataType==n.DataType.Boolean?[!0,!1]:null):(r=new n.input.InputNumber(t),r.format=i.format):(r=new n.input.InputDate(t),r.format=i.format),r.isRequired=!1,r},r.prototype._isTimeFormat=function(t){return t?(t=n.culture.Globalize.calendar.patterns[t]||t,/[Hmst]+/.test(t)):!1},r.prototype._btnAndOrChanged=function(n){this._btnAnd.checked=n.target==this._btnAnd;this._btnOr.checked=n.target==this._btnOr},r.controlTemplate='<div><div wj-part="div-hdr"><\/div><div wj-part="div-cmb1"><\/div><br/><div wj-part="div-val1"><\/div><br/><div style="text-align:center"><label><input wj-part="btn-and" type="radio"> <span wj-part="sp-and"><\/span> <\/label>&nbsp;&nbsp;&nbsp;<label><input wj-part="btn-or" type="radio"> <span wj-part="sp-or"><\/span> <\/label><\/div><div wj-part="div-cmb2"><\/div><br/><div wj-part="div-val2"><\/div><br/><\/div>',r}(n.Control);t.ConditionFilterEditor=i})(i=t.filter||(t.filter={}))})(t=n.grid||(n.grid={}))}(wijmo||(wijmo={})),function(n){var t;(function(t){var i;(function(t){'use strict';var r=function(){function t(){this._op=null}return Object.defineProperty(t.prototype,"operator",{get:function(){return this._op},set:function(t){this._op=n.asEnum(t,i,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._val},set:function(t){this._val=t;this._strVal=n.isString(t)?t.toString().toLowerCase():null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isActive",{get:function(){switch(this._op){case null:return!1;case i.EQ:case i.NE:return!0;default:return this._val!=null||this._strVal!=null}},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this.operator=null;this.value=null},t.prototype.apply=function(t){var r=this._strVal||this._val;n.isString(t)&&(t=t.toLowerCase());switch(this._op){case null:return!0;case i.EQ:return n.isDate(t)&&n.isDate(r)?n.DateTime.sameDate(t,r):t==r;case i.NE:return t!=r;case i.GT:return t>r;case i.GE:return t>=r;case i.LT:return t<r;case i.LE:return t<=r;case i.BW:return this._strVal&&n.isString(t)?t.indexOf(this._strVal)==0:!1;case i.EW:return this._strVal&&n.isString(t)&&t.length>=this._strVal.length?t.substr(t.length-this._strVal.length)==r:!1;case i.CT:return this._strVal&&n.isString(t)?t.indexOf(this._strVal)>-1:!1;case i.NC:return this._strVal&&n.isString(t)?t.indexOf(this._strVal)<0:!1}throw'Unknown operator';},t}(),i;t.FilterCondition=r,function(n){n[n.EQ=0]="EQ";n[n.NE=1]="NE";n[n.GT=2]="GT";n[n.GE=3]="GE";n[n.LT=4]="LT";n[n.LE=5]="LE";n[n.BW=6]="BW";n[n.EW=7]="EW";n[n.CT=8]="CT";n[n.NC=9]="NC"}(t.Operator||(t.Operator={}));i=t.Operator})(i=t.filter||(t.filter={}))})(t=n.grid||(n.grid={}))}(wijmo||(wijmo={})),function(n){var t;(function(t){var i;(function(t){'use strict';var i=function(){function i(n,i){this._owner=n;this._col=i;this._valueFilter=new t.ValueFilter(i);this._conditionFilter=new t.ConditionFilter(i)}return Object.defineProperty(i.prototype,"filterType",{get:function(){return this._filterType!=null?this._filterType:this._owner.defaultFilterType},set:function(i){if(i!=this._filterType){var r=this.isActive;this.clear();this._filterType=n.asEnum(i,t.FilterType,!0);r?this._owner.apply():this._col.grid&&this._col.grid.invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"dataMap",{get:function(){return this.conditionFilter.dataMap||this.valueFilter.dataMap},set:function(n){this.conditionFilter.dataMap=n;this.valueFilter.dataMap=n},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"valueFilter",{get:function(){return this._valueFilter},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"conditionFilter",{get:function(){return this._conditionFilter},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"column",{get:function(){return this._col},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isActive",{get:function(){return this._conditionFilter.isActive||this._valueFilter.isActive},enumerable:!0,configurable:!0}),i.prototype.apply=function(n){return this._conditionFilter.apply(n)&&this._valueFilter.apply(n)},i.prototype.clear=function(){this._valueFilter.clear();this._conditionFilter.clear()},i.prototype.implementsInterface=function(n){return n=='IColumnFilter'},i}();t.ColumnFilter=i})(i=t.filter||(t.filter={}))})(t=n.grid||(n.grid={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){var i;(function(t){'use strict';n.culture.FlexGridFilter={ascending:'\u2191 Ascending',descending:'\u2193 Descending',apply:'Apply',clear:'Clear',conditions:'Filter by Condition',values:'Filter by Value',search:'Search',selectAll:'Select All',null:'(nothing)',header:'Show items where the value',and:'And',or:'Or',stringOperators:[{name:'(not set)',op:null},{name:'Equals',op:t.Operator.EQ},{name:'Does not equal',op:t.Operator.NE},{name:'Begins with',op:t.Operator.BW},{name:'Ends with',op:t.Operator.EW},{name:'Contains',op:t.Operator.CT},{name:'Does not contain',op:t.Operator.NC}],numberOperators:[{name:'(not set)',op:null},{name:'Equals',op:t.Operator.EQ},{name:'Does not equal',op:t.Operator.NE},{name:'Is Greater than',op:t.Operator.GT},{name:'Is Greater than or equal to',op:t.Operator.GE},{name:'Is Less than',op:t.Operator.LT},{name:'Is Less than or equal to',op:t.Operator.LE}],dateOperators:[{name:'(not set)',op:null},{name:'Equals',op:t.Operator.EQ},{name:'Is Before',op:t.Operator.LT},{name:'Is After',op:t.Operator.GT}],booleanOperators:[{name:'(not set)',op:null},{name:'Equals',op:t.Operator.EQ},{name:'Does not equal',op:t.Operator.NE}]};var i=function(i){function r(r,u,f){var o=this,h,c,l,s,e;f===void 0&&(f=!0);i.call(this,r);this.filterChanged=new n.Event;this.buttonClicked=new n.Event;this._filter=n.asType(u,t.ColumnFilter);h=this.getTemplate();this.applyTemplate('wj-control wj-columnfiltereditor wj-content',h,{_divSort:'div-sort',_btnAsc:'btn-asc',_btnDsc:'btn-dsc',_divType:'div-type',_aVal:'a-val',_aCnd:'a-cnd',_divEdtVal:'div-edt-val',_divEdtCnd:'div-edt-cnd',_btnApply:'btn-apply',_btnClear:'btn-clear'});this._btnAsc.textContent=n.culture.FlexGridFilter.ascending;this._btnDsc.textContent=n.culture.FlexGridFilter.descending;this._aVal.textContent=n.culture.FlexGridFilter.values;this._aCnd.textContent=n.culture.FlexGridFilter.conditions;this._btnApply.textContent=n.culture.FlexGridFilter.apply;this._btnClear.textContent=n.culture.FlexGridFilter.clear;c=this.filter.conditionFilter.isActive||(u.filterType&t.FilterType.Value)==0?t.FilterType.Condition:t.FilterType.Value;this._showFilter(c);l=this.filter.column;s=l.grid.collectionView;f&&s&&s.canSort||(this._divSort.style.display='none');this.updateEditor();e=this._btnClicked.bind(this);this._btnApply.addEventListener('click',e);this._btnClear.addEventListener('click',e);this._btnAsc.addEventListener('click',e);this._btnDsc.addEventListener('click',e);this._aVal.addEventListener('click',e);this._aCnd.addEventListener('click',e);this.hostElement.addEventListener('keydown',function(t){switch(t.keyCode){case n.Key.Enter:switch(t.target.tagName){case'A':case'BUTTON':o._btnClicked(t);break;default:o.updateFilter();o.onFilterChanged();o.onButtonClicked()}t.preventDefault();break;case n.Key.Escape:o.onButtonClicked();t.preventDefault()}})}return __extends(r,i),Object.defineProperty(r.prototype,"filter",{get:function(){return this._filter},enumerable:!0,configurable:!0}),r.prototype.updateEditor=function(){this._edtVal&&this._edtVal.updateEditor();this._edtCnd&&this._edtCnd.updateEditor()},r.prototype.updateFilter=function(){switch(this._getFilterType()){case t.FilterType.Value:this._edtVal.updateFilter();this.filter.conditionFilter.clear();break;case t.FilterType.Condition:this._edtCnd.updateFilter();this.filter.valueFilter.clear()}},r.prototype.onFilterChanged=function(n){this.filterChanged.raise(this,n)},r.prototype.onButtonClicked=function(n){this.buttonClicked.raise(this,n)},r.prototype._showFilter=function(n){n==t.FilterType.Value&&this._edtVal==null&&(this._edtVal=new t.ValueFilterEditor(this._divEdtVal,this.filter.valueFilter));n==t.FilterType.Condition&&this._edtCnd==null&&(this._edtCnd=new t.ConditionFilterEditor(this._divEdtCnd,this.filter.conditionFilter));(n&this.filter.filterType)!=0&&(n==t.FilterType.Value?(this._divEdtVal.style.display='',this._divEdtCnd.style.display='none',this._enableLink(this._aVal,!1),this._enableLink(this._aCnd,!0)):(this._divEdtVal.style.display='none',this._divEdtCnd.style.display='',this._enableLink(this._aVal,!0),this._enableLink(this._aCnd,!1)));switch(this.filter.filterType){case t.FilterType.None:case t.FilterType.Condition:case t.FilterType.Value:this._divType.style.display='none';break;default:this._divType.style.display=''}},r.prototype._enableLink=function(n,t){n.style.textDecoration=t?'':'none';n.style.fontWeight=t?'':'bold';t?n.href='':n.removeAttribute('href')},r.prototype._getFilterType=function(){return this._divEdtVal.style.display!='none'?t.FilterType.Value:t.FilterType.Condition},r.prototype._btnClicked=function(i){if(i.preventDefault(),i.stopPropagation(),!n.hasClass(i.target,'wj-state-disabled')){if(i.target==this._aVal){this._showFilter(t.FilterType.Value);this._edtVal.focus();return}if(i.target==this._aCnd){this._showFilter(t.FilterType.Condition);this._edtCnd.focus();return}if(i.target==this._btnAsc||i.target==this._btnDsc){var r=this.filter.column,f=r.sortMemberPath?r.sortMemberPath:r.binding,u=r.grid.collectionView,e=new n.collections.SortDescription(f,i.target==this._btnAsc);u.sortDescriptions.deferUpdate(function(){u.sortDescriptions.clear();u.sortDescriptions.push(e)})}i.target==this._btnApply?(this.updateFilter(),this.onFilterChanged()):i.target==this._btnClear&&this.filter.isActive&&(this.filter.clear(),this.onFilterChanged());this.updateEditor();this.onButtonClicked()}},r.controlTemplate='<div><div wj-part="div-sort"><a wj-part="btn-asc" href="" style="min-width:95px" draggable="false"><\/a>&nbsp;&nbsp;&nbsp;<a wj-part="btn-dsc" href="" style="min-width:95px" draggable="false"><\/a><\/div><div style="text-align:right;margin:10px 0px;font-size:80%"><div wj-part="div-type"><a wj-part="a-cnd" href="" draggable="false"><\/a>&nbsp;|&nbsp;<a wj-part="a-val" href="" draggable="false"><\/a><\/div><\/div><div wj-part="div-edt-val"><\/div><div wj-part="div-edt-cnd"><\/div><div style="text-align:right;margin-top:10px"><a wj-part="btn-apply" href="" draggable="false"><\/a>&nbsp;&nbsp;<a wj-part="btn-clear" href="" draggable="false"><\/a><\/div>',r}(n.Control);t.ColumnFilterEditor=i})(i=t.filter||(t.filter={}))})(t=n.grid||(n.grid={}))}(wijmo||(wijmo={})),function(n){var t;(function(t){var i;(function(i){'use strict';(function(n){n[n.None=0]="None";n[n.Condition=1]="Condition";n[n.Value=2]="Value";n[n.Both=3]="Both"})(i.FilterType||(i.FilterType={}));var r=i.FilterType,u=function(){function u(i){this._showIcons=!0;this._showSort=!0;this._defFilterType=r.Both;this.filterApplied=new n.Event;this.filterChanging=new n.Event;this.filterChanged=new n.Event;var u='Missing dependency: FlexGridFilter requires ';n.assert(n.grid!=null,u+'wijmo.grid.');n.assert(n.input!=null,u+'wijmo.input.');this._filters=[];this._g=n.asType(i,t.FlexGrid,!1);this._g.formatItem.addHandler(this._formatItem.bind(this));this._g.itemsSourceChanged.addHandler(this.clear.bind(this));this._g.hostElement.addEventListener('mousedown',this._mouseDown.bind(this),!0);this._g.invalidate()}return Object.defineProperty(u.prototype,"grid",{get:function(){return this._g},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"filterColumns",{get:function(){return this._filterColumns},set:function(t){this._filterColumns=n.asArray(t);this.clear()},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"showFilterIcons",{get:function(){return this._showIcons},set:function(t){t!=this.showFilterIcons&&(this._showIcons=n.asBoolean(t),this._g&&this._g.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"showSortButtons",{get:function(){return this._showSort},set:function(t){this._showSort=n.asBoolean(t)},enumerable:!0,configurable:!0}),u.prototype.getColumnFilter=function(r,u){var f,e;for(u===void 0&&(u=!0),n.isString(r)?r=this._g.columns.getColumn(r):n.isNumber(r)&&(r=this._g.columns[r]),r=n.asType(r,t.Column),f=0;f<this._filters.length;f++)if(this._filters[f].column==r)return this._filters[f];return u&&r.binding?(e=new i.ColumnFilter(this,r),this._filters.push(e),e):null},Object.defineProperty(u.prototype,"defaultFilterType",{get:function(){return this._defFilterType},set:function(t){t!=this.defaultFilterType&&(this._defFilterType=n.asEnum(t,r,!1),this._g.invalidate(),this.clear())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"filterDefinition",{get:function(){for(var n,t,u,i={defaultFilterType:this.defaultFilterType,filters:[]},r=0;r<this._filters.length;r++)n=this._filters[r],n&&n.column&&n.column.binding&&(n.conditionFilter.isActive?(t=n.conditionFilter,i.filters.push({binding:n.column.binding,type:'condition',condition1:{operator:t.condition1.operator,value:t.condition1.value},and:t.and,condition2:{operator:t.condition2.operator,value:t.condition2.value}})):n.valueFilter.isActive&&(u=n.valueFilter,i.filters.push({binding:n.column.binding,type:'value',filterText:u.filterText,showValues:u.showValues})));return JSON.stringify(i)},set:function(t){var e=JSON.parse(n.asString(t)),f,r,s;for(this.clear(),this.defaultFilterType=e.defaultFilterType,f=0;f<e.filters.length;f++){var i=e.filters[f],u=this._g.columns.getColumn(i.binding),o=this.getColumnFilter(u,!0);if(o)switch(i.type){case'condition':r=o.conditionFilter;r.condition1.value=u.dataType==n.DataType.Date?n.changeType(i.condition1.value,u.dataType,null):i.condition1.value;r.condition1.operator=i.condition1.operator;r.and=i.and;r.condition2.value=u.dataType==n.DataType.Date?n.changeType(i.condition2.value,u.dataType,null):i.condition2.value;r.condition2.operator=i.condition2.operator;break;case'value':s=o.valueFilter;s.filterText=i.filterText;s.showValues=i.showValues}}this.apply()},enumerable:!0,configurable:!0}),u.prototype.editColumnFilter=function(r,u){var o=this,f;this.closeEditor();r=n.isString(r)?this._g.columns.getColumn(r):n.asType(r,t.Column,!1);f=new t.CellRangeEventArgs(this._g.cells,new t.CellRange(-1,r.index));this.onFilterChanging(f);if(!f.cancel){f.cancel=!0;var e=document.createElement('div'),a=this.getColumnFilter(r),h=new i.ColumnFilterEditor(e,a,this.showSortButtons);n.addClass(e,'wj-dropdown-panel');this._g.rightToLeft&&(e.dir='rtl');h.filterChanged.addHandler(function(){f.cancel=!1;setTimeout(function(){f.cancel||o.apply()})});h.buttonClicked.addHandler(function(){o.closeEditor();o.onFilterChanged(f)});h.lostFocus.addHandler(function(){setTimeout(function(){var t=n.Control.getControl(o._divEdt);t&&!t.containsFocus()&&o.closeEditor()},10)});var l=this._g.columnHeaders,v=u?u.row:l.rows.length-1,y=u?u.col:r.index,s=l.getCellBoundingRect(v,y),c=document.elementFromPoint(s.left+s.width/2,s.top+s.height/2);c=n.closest(c,'.wj-cell');c?n.showPopup(e,c,!1,!1,!1):n.showPopup(e,s);h.focus();this._divEdt=e;this._edtCol=r}},u.prototype.closeEditor=function(){if(this._divEdt){n.hidePopup(this._divEdt,!0);var t=n.Control.getControl(this._divEdt);t&&t.dispose();this._divEdt=null;this._edtCol=null}},u.prototype.apply=function(){var t=this._g.collectionView,i;t&&(t.filter?t.refresh():t.filter=this._filter.bind(this));i=t?t.updateFilterDefinition:null;n.isFunction(i)&&i.call(t,this);this.onFilterApplied()},u.prototype.clear=function(){this._filters.length&&(this._filters=[],this.apply())},u.prototype.onFilterApplied=function(n){this.filterApplied.raise(this,n)},u.prototype.onFilterChanging=function(n){this.filterChanging.raise(this,n)},u.prototype.onFilterChanged=function(n){this.filterChanged.raise(this,n)},u.prototype._filter=function(n){for(var t=0;t<this._filters.length;t++)if(!this._filters[t].apply(n))return!1;return!0},u.prototype._formatItem=function(i,f){var e,o,a;if(f.panel.cellType==t.CellType.ColumnHeader){var s=this._g,c=s.getMergedRange(f.panel,f.row,f.col)||new t.CellRange(f.row,f.col),l=s.columns[c.col],h=s._getBindingColumn(f.panel,f.row,l);(c.row2==f.panel.rows.length-1||l!=h)&&(e=this.getColumnFilter(h,this.defaultFilterType!=r.None),this._filterColumns&&this._filterColumns.indexOf(h.binding)<0&&(e=null),e&&e.filterType!=r.None?(this._showIcons&&(u._filterGlyph||(u._filterGlyph=n.createElement('<div class="'+u._WJC_FILTER+'"><span class="wj-glyph-filter"></span></div>')),o=f.cell.querySelector('div')||f.cell,a=o.querySelector('.wj-glyph-filter'),a||o.insertBefore(u._filterGlyph.cloneNode(!0),o.firstChild)),n.toggleClass(f.cell,'wj-filter-on',e.isActive),n.toggleClass(f.cell,'wj-filter-off',!e.isActive)):(n.removeClass(f.cell,'wj-filter-on'),n.removeClass(f.cell,'wj-filter-off')))}},u.prototype._mouseDown=function(t){var o=this,r,i,e,f;t.defaultPrevented||t.button!=0||n.closest(t.target,'.'+u._WJC_FILTER)&&(r=this._g,i=r.hitTest(t),i.panel==r.columnHeaders&&(e=r.columns[i.col],f=r._getBindingColumn(i.panel,i.row,e),this._divEdt&&this._edtCol==f?this.closeEditor():setTimeout(function(){o.editColumnFilter(f,i)},this._divEdt?100:0),t.stopPropagation(),t.preventDefault()))},u._WJC_FILTER='wj-elem-filter',u}();i.FlexGridFilter=u})(i=t.filter||(t.filter={}))})(t=n.grid||(n.grid={}))}(wijmo||(wijmo={}))
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},c1;(function(n){var t;(function(n){var t;(function(n){var t=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t}(wijmo.grid.filter.FlexGridFilter);n.FlexGridFilter=t})(t=n.filter||(n.filter={}))})(t=n.grid||(n.grid={}))})(c1||(c1={}));
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},c1;(function(n){var t;(function(t){var i;(function(t){var i;(function(t){var i="__trueTypeShowValues",u=function(n,t){return n[i]=t},f=function(n){return n[i]},r="__columnData",e=function(n,t){return n[r]=t},o=function(n){return n[r]||[]},s=function(t){function i(i){t.call(this,i);var r=this;r._flexGrid=wijmo.asType(i,n.mvc.grid.FlexGrid,!1);r._collectionView=wijmo.asType(r._flexGrid.collectionView,n.mvc.collections.RemoteCollectionView,!1);r._collectionView.queryData.addHandler(r._collectFilters,r)}return __extends(i,t),i.prototype.initialize=function(n){var r=this,t,u,i;if(n&&(t=n.columnFilters,delete n.columnFilters,wijmo.copy(r,n),t))for(u=t.length,i=0;i<u;i++)r._createColumnFilter(t[i])},i.prototype._createColumnFilter=function(n){var t=this,i=t.getColumnFilter(t._getColumn(n.column),!0);return i.filterType=n.filterType,t._updateValueFilter(i.valueFilter,n.valueFilter),i},i.prototype._updateValueFilter=function(n,t){t&&wijmo.copy(n,t)},i.prototype._shouldGetAllColumnData=function(n){var t=this,r=t._collectionView,i=t.getColumnFilter(n),u=i.filterType;return u&wijmo.grid.filter.FilterType.Value&&!r._isDisableServerRead()&&!i.valueFilter.uniqueValues},i.prototype.editColumnFilter=function(n){var f=this,r,i,c,v=[],o,s,p=f._collectionView,l,h,y,a;if((t.prototype.editColumnFilter.call(this,n),r=document.body.getElementsByClassName("wj-columnfiltereditor")[0],r)&&(c=wijmo.Control.getControl(".wj-columnfiltereditor [wj-part='div-edt-val'] [wj-part='div-values']"),c)){if(i=c.itemsSource,h=function(){u(s,i.items)},a=function(n){n===undefined&&(n=[],i.sourceCollection&&i.sourceCollection.forEach(function(t){return n.push(t.value)}));e(s,n)},s=f.getColumnFilter(n),l=wijmo.Control.getControl(".wj-columnfiltereditor [wj-part='div-edt-val'] [wj-part='div-filter']"),l&&l.textChanged.addHandler(function(){setTimeout(h,500)}),!f._shouldGetAllColumnData(n)){h();a();return}y=r.style.left;r.style.left="-9999px";o=s.valueFilter.showValues;p.getColumnData(n.binding,!0,function(t){t.columnData.forEach(function(t){var u=n.dataMap?n.dataMap.getDisplayValue(t):wijmo.Globalize.format(t,n.format),i,r;if(i={value:t,text:u},o&&Object.keys(o).length!==0)for(r in o)i.text===r&&(i.show=!0);else i.show=!0;v.push(i)});a(t.columnData);i.sourceCollection=v;h();i.moveCurrentToPosition(-1);r.style.left=y;f._flexGrid._hideMaskLayer()})}},i.prototype._getColumn=function(n){for(var u=this,r=u._flexGrid.columns,f=r.length,i,n=n.toLowerCase(),t=0;t<f;t++)if(i=r[t],i.name&&i.name.toLowerCase()===n)return i;for(t=0;t<r.length;t++)if(i=r[t],i.binding&&i.binding.toLowerCase()===n)return i},i.prototype._getServerComponentName=function(){return"FlexGridFilter"},i.prototype._collectFilters=function(n,t){t.extraRequestData==null&&(t.extraRequestData={});t.extraRequestData[this._getServerComponentName()]=this._getFilterSettings()},i.prototype._getFilterSettings=function(){for(var n=this,u=n._flexGrid.columns.length,r=[],i,t=0;t<u;t++)i=n.getColumnFilter(n._flexGrid.columns[t],!1),i&&i.isActive&&r.push(n._getColumnFilterSetting(i));return r},i.prototype._getColumnFilterSetting=function(t){var i=t.column,u=this,r={};if(i.binding)return r.column=i.binding,r.format=i.format,t.conditionFilter.isActive&&n.mvc.Utils.extend(r,{conditionFilter:{and:t.conditionFilter.and,condition1:u._getConditionSetting(t.conditionFilter.condition1,i),condition2:u._getConditionSetting(t.conditionFilter.condition2,i)}}),t.valueFilter.isActive&&n.mvc.Utils.extend(r,{valueFilter:{showValues:u._getShowValues(t)}}),r},i.prototype._getShowValues=function(n){var t=[],i,u=f(n),r;if(u)for(i=0;i<u.length;i++)r=u[i],r&&r.show&&t.push(r.value);return t.length||(t=o(n)),t},i.prototype._getConditionSetting=function(n,t){var i=n.value;return t.dataType===wijmo.DataType.Boolean&&(i=wijmo.changeType(i,wijmo.DataType.Boolean,null)),{operator:n.operator,value:i}},i}(n.grid.filter.FlexGridFilter);t.FlexGridFilter=s})(i=t.filter||(t.filter={}))})(i=t.grid||(t.grid={}))})(t=n.mvc||(n.mvc={}))})(c1||(c1={}));
/*
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    */
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},wijmo;(function(n){var t;(function(t){var i;(function(i){'use strict';var r=function(i){function r(r,u){var e,o,f;i.call(this,r);this._hideGroupedCols=!0;this._maxGroups=6;e='Missing dependency: GroupPanel requires ';n.assert(t!=null,e+'wijmo.grid.');o=this.getTemplate();this.applyTemplate('wj-grouppanel wj-control',o,{_divMarkers:'div-markers',_divPH:'div-ph'});f=this.hostElement;this.addEventListener(f,'dragstart',this._dragStart.bind(this));this.addEventListener(f,'dragover',this._dragOver.bind(this));this.addEventListener(f,'drop',this._drop.bind(this));this.addEventListener(f,'dragend',this._dragEnd.bind(this));this.addEventListener(f,'click',this._click.bind(this));this.initialize(u)}return __extends(r,i),Object.defineProperty(r.prototype,"hideGroupedColumns",{get:function(){return this._hideGroupedCols},set:function(t){t!=this._hideGroupedCols&&(this._hideGroupedCols=n.asBoolean(t))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"maxGroups",{get:function(){return this._maxGroups},set:function(t){t!=this._maxGroups&&(this._maxGroups=n.asNumber(t))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"placeholder",{get:function(){return this._divPH.textContent},set:function(n){this._divPH.textContent=n},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"grid",{get:function(){return this._g},set:function(i){i=n.asType(i,t.FlexGrid,!0);i!=this._g&&(this._g&&(this._g.draggingColumn.removeHandler(this._draggingColumn),this._g.sortedColumn.removeHandler(this.invalidate),this._g.itemsSourceChanged.removeHandler(this._itemsSourceChanged),this._g.columns.collectionChanged.removeHandler(this._itemsSourceChanged)),this._g=i,this._g&&(this._g.draggingColumn.addHandler(this._draggingColumn,this),this._g.sortedColumn.addHandler(this.invalidate,this),this._g.itemsSourceChanged.addHandler(this._itemsSourceChanged,this),this._g.columns.collectionChanged.addHandler(this._itemsSourceChanged,this)),this._itemsSourceChanged(this._g,null))},enumerable:!0,configurable:!0}),r.prototype.refresh=function(){var e,r,o,u,t,f,s;if(i.prototype.refresh.call(this),this._divMarkers.innerHTML='',this._dragMarker=this._dragCol=null,this._gds){for(e=this._g.sortRowIndex?this._g.sortRowIndex:this._g.columnHeaders.rows.length-1,r=0;r<this._gds.length;r++)o=this._gds[r],u=this._g.columns.getColumn(o.propertyName),u&&(t=document.createElement('div'),this._g.cellFactory.updateCell(this._g.columnHeaders,e,u.index,t),t.setAttribute('class','wj-cell wj-header wj-groupmarker'),n.setCss(t,{position:'static',display:'inline-block',verticalAlign:'top',left:'',top:'',right:'',height:'auto',width:'auto'}),f=t.querySelector('.wj-elem-filter'),f&&t.removeChild(f),s=n.createElement('<span wj-remove="" style="font-weight:normal;cursor:pointer;pointer;padding:12px;padding-right:3px">&times;</span>',t),this._divMarkers.appendChild(t));this._divMarkers.children.length>0?(this._divPH.style.display='none',this._divMarkers.style.display=''):(this._divPH.style.display='',this._divMarkers.style.display='none')}},r.prototype._addGroup=function(t,i){for(var f=this._getIndex(i),u=this._gds,r=0;r<u.length;r++)if(u[r].propertyName==t.binding){u.removeAt(r);r<f&&f--;break}for(r=this.maxGroups-1;r<u.length;r++)this._removeGroup(r,u),r<f&&f--;u.deferUpdate(function(){var i=new n.collections.PropertyGroupDescription(t.binding);u.insert(f,i)});t&&this.hideGroupedColumns&&(t.visible=!1);this.invalidate()},r.prototype._moveGroup=function(n,t){var r=this._gds,u=this._getElementIndex(this._dragMarker),i=this._getIndex(t);i>u&&i--;i>=this._gds.length&&(i=this._gds.length);u!=i&&r.deferUpdate(function(){var n=r[u];r.removeAt(u);r.insert(i,n)})},r.prototype._removeGroup=function(n,t){t===void 0&&(t=this._gds);var r=t[n].propertyName,i=this._g.columns.getColumn(r);t.removeAt(n);i&&(i.visible=!0)},r.prototype._getIndex=function(n){for(var r,i=this._divMarkers.children,t=0;t<i.length;t++)if(r=i[t].getBoundingClientRect(),n.clientX<r.left+r.width/2)return t;return i.length},r.prototype._getElementIndex=function(n){var i,t;if(n.parentElement)for(i=n.parentElement.children,t=0;t<i.length;t++)if(i[t]==n)return t;return-1},r.prototype._draggingColumn=function(n,t){var i=this._g.columns[t.col];this._dragCol=i.binding?i:null},r.prototype._itemsSourceChanged=function(){this._gds&&this._gds.collectionChanged.removeHandler(this._groupsChanged);this._gds=null;this._g.collectionView&&(this._gds=this._g.collectionView.groupDescriptions,this._gds.collectionChanged.addHandler(this._groupsChanged,this));this.invalidate()},r.prototype._groupsChanged=function(){this.invalidate()},r.prototype._dragStart=function(n){n.dataTransfer.effectAllowed='move';n.dataTransfer.setData('text','');this._dragMarker=n.target;this._dragCol=null},r.prototype._dragOver=function(n){var t=this._dragCol||this._dragMarker;t&&(n.dataTransfer.dropEffect='move',n.preventDefault())},r.prototype._drop=function(n){this._dragMarker?this._moveGroup(this._dragMarker,n):this._dragCol&&this._addGroup(this._dragCol,n)},r.prototype._dragEnd=function(){this._dragMarker=this._dragCol=null},r.prototype._click=function(t){for(var o=document.elementFromPoint(t.clientX,t.clientY),c=o.getAttribute('wj-remove')!=null,i=o,f,e,u,h;i.parentElement&&!n.hasClass(i,'wj-cell');)i=i.parentElement;if(n.hasClass(i,'wj-cell')){var s=this._getElementIndex(i),l=this._g.collectionView,r=l.sortDescriptions;if(c)this._removeGroup(s);else if(t.ctrlKey)r.clear(),this.invalidate();else{for(f=this._gds[s],e=!0,u=0;u<r.length;u++)if(r[u].property==f.propertyName){e=!r[u].ascending;break}h=new n.collections.SortDescription(f.propertyName,e);r.splice(0,r.length,h);this.invalidate()}}},r.controlTemplate='<div style="cursor:default;overflow:hidden;height:100%;width:100%;min-height:1em"><div wj-part="div-ph"><\/div><div wj-part="div-markers"><\/div><\/div>',r}(n.Control);i.GroupPanel=r})(i=t.grouppanel||(t.grouppanel={}))})(t=n.grid||(n.grid={}))})(wijmo||(wijmo={}))
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},c1;(function(n){var t;(function(n){var t;(function(n){var t=function(n){function t(t,i){n.call(this,t);this.grid=i}return __extends(t,n),t.prototype.initialize=function(n){n&&(n.selector&&delete n.selector,wijmo.copy(this,n))},t}(wijmo.grid.grouppanel.GroupPanel);n.GroupPanel=t})(t=n.grouppanel||(n.grouppanel={}))})(t=n.grid||(n.grid={}))})(c1||(c1={}));
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},c1;(function(n){var t;(function(t){var i;(function(t){var i;(function(t){var i=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t}(n.grid.grouppanel.GroupPanel);t.GroupPanel=i})(i=t.grouppanel||(t.grouppanel={}))})(i=t.grid||(t.grid={}))})(t=n.mvc||(n.mvc={}))})(c1||(c1={}));
/*
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    */
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},wijmo;(function(n){var t;(function(t){'use strict';(function(n){n[n.None=0]="None";n[n.Value=1]="Value";n[n.MinMax=2]="MinMax";n[n.All=3]="All"})(t.ShowText||(t.ShowText={}));var i=t.ShowText,r=function(r){function u(f,e){var o=this,s;r.call(this,f,null,!0);this._ranges=new n.collections.ObservableArray;this._rngElements=[];this._format='n0';this._showRanges=!0;this._shadow=!0;this._animated=!0;this._readOnly=!0;this._step=1;this._showText=i.None;this._showTicks=!1;this._thickness=.8;this._initialized=!1;this.valueChanged=new n.Event;this._getPercent=function(n){var t=this.max>this.min?(n-this.min)/(this.max-this.min):0;return Math.max(0,Math.min(1,t))};u._ctr++;s=this.getTemplate();this.applyTemplate('wj-control wj-gauge',s,{_dSvg:'dsvg',_svg:'svg',_filter:'filter',_gFace:'gface',_gRanges:'granges',_gPointer:'gpointer',_gCover:'gcover',_pFace:'pface',_pPointer:'ppointer',_cValue:'cvalue',_tValue:'value',_tMin:'min',_tMax:'max',_pTicks:'pticks'});this._filterID='wj-gauge-filter-'+u._ctr.toString(36);this._filter.setAttribute('id',this._filterID);this.face=new t.Range;this.pointer=new t.Range;this._ranges.collectionChanged.addHandler(function(){for(var u,r=o._ranges,i=0;i<r.length;i++)if(u=n.tryCast(r[i],t.Range),!u)throw'ranges array must contain Range objects.';o._rangesDirty=!0;o.invalidate()});this.addEventListener(this.hostElement,'keydown',this._keydown.bind(this));this.addEventListener(this.hostElement,'click',function(n){n.button==0&&(o.focus(),o._applyMouseValue(n))});this.addEventListener(this.hostElement,'mousedown',function(n){n.button==0&&(o.focus(),o._applyMouseValue(n))});this.addEventListener(this.hostElement,'mousemove',function(n){n.buttons==1&&o._applyMouseValue(n,!0)});'ontouchstart'in window&&(this.addEventListener(this.hostElement,'touchstart',function(n){o.focus();n.defaultPrevented||o.isReadOnly||!o._applyMouseValue(n,!0)||n.preventDefault()}),this.addEventListener(this.hostElement,'touchmove',function(n){n.defaultPrevented||o.isReadOnly||!o._applyMouseValue(n,!0)||n.preventDefault()}));this.addEventListener(this.hostElement,'wheel',function(t){if(!t.defaultPrevented&&!o.isReadOnly&&o.containsFocus()&&o.value!=null&&o.hitTest(t)){var i=n.clamp(-t.deltaY,-1,1);o.value=n.clamp(o.value+(o.step||1)*i,o.min,o.max);t.preventDefault()}});this.initialize(e);this.invalidate()}return __extends(u,r),Object.defineProperty(u.prototype,"value",{get:function(){return this._pointer.max},set:function(t){t!=this._pointer.max&&(this._pointer.max=n.asNumber(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"min",{get:function(){return this._face.min},set:function(t){this._face.min=n.asNumber(t)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"max",{get:function(){return this._face.max},set:function(t){this._face.max=n.asNumber(t)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"origin",{get:function(){return this._origin},set:function(t){t!=this._origin&&(this._origin=n.asNumber(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(t){this._readOnly=n.asBoolean(t);this._setAttribute(this._svg,'cursor',this._readOnly?null:'pointer');n.toggleClass(this.hostElement,'wj-state-readonly',this.isReadOnly)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"step",{get:function(){return this._step},set:function(t){this._step=n.asNumber(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"format",{get:function(){return this._format},set:function(t){t!=this._format&&(this._format=n.asString(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"getText",{get:function(){return this._getText},set:function(t){t!=this._getText&&(this._getText=n.asFunction(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"thickness",{get:function(){return this._thickness},set:function(t){t!=this._thickness&&(this._thickness=n.clamp(n.asNumber(t,!1),0,1),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"face",{get:function(){return this._face},set:function(i){i!=this._face&&(this._face&&this._face.propertyChanged.removeHandler(this._rangeChanged),this._face=n.asType(i,t.Range),this._face&&this._face.propertyChanged.addHandler(this._rangeChanged,this),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"pointer",{get:function(){return this._pointer},set:function(i){if(i!=this._pointer){var r=null;this._pointer&&(r=this.value,this._pointer.propertyChanged.removeHandler(this._rangeChanged));this._pointer=n.asType(i,t.Range);this._pointer&&(r&&(this.value=r),this._pointer.propertyChanged.addHandler(this._rangeChanged,this));this.invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"showText",{get:function(){return this._showText},set:function(t){t!=this._showText&&(this._showText=n.asEnum(t,i),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"showTicks",{get:function(){return this._showTicks},set:function(t){t!=this._showTicks&&(this._showTicks=n.asBoolean(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"thumbSize",{get:function(){return this._thumbSize},set:function(t){t!=this._thumbSize&&(this._thumbSize=n.asNumber(t,!0,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"showRanges",{get:function(){return this._showRanges},set:function(t){t!=this._showRanges&&(this._showRanges=n.asBoolean(t),this._animColor=null,this._rangesDirty=!0,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"hasShadow",{get:function(){return this._shadow},set:function(t){t!=this._shadow&&(this._shadow=n.asBoolean(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"isAnimated",{get:function(){return this._animated},set:function(t){t!=this._animated&&(this._animated=n.asBoolean(t))},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"ranges",{get:function(){return this._ranges},enumerable:!0,configurable:!0}),u.prototype.onValueChanged=function(n){this.valueChanged.raise(this,n)},u.prototype.refresh=function(n){var u,o,f,e,t;if(n===void 0&&(n=!0),r.prototype.refresh.call(this,n),this._rangesDirty){for(this._rangesDirty=!1,u=this._gRanges,t=0;t<this._rngElements.length;t++)o=this._rngElements[t],o.rng.propertyChanged.removeHandler(this._rangeChanged);while(u.lastChild)u.removeChild(u.lastChild);if(this._rngElements=[],this._showRanges)for(t=0;t<this.ranges.length;t++)f=this.ranges[t],f.propertyChanged.addHandler(this._rangeChanged,this),this._rngElements.push({rng:f,el:this._createElement('path',u)})}for(this._showElement(this._tValue,(this.showText&i.Value)!=0),this._showElement(this._tMin,(this.showText&i.MinMax)!=0),this._showElement(this._tMax,(this.showText&i.MinMax)!=0),this._showElement(this._cValue,(this.showText&i.Value)!=0||this._thumbSize>0),this._updateText(),e=this._getFilterUrl(),this._setAttribute(this._pFace,'filter',e),this._setAttribute(this._pPointer,'filter',e),this._updateRange(this._face),this._updateRange(this._pointer),this._updateTicks(),t=0;t<this.ranges.length;t++)this._updateRange(this.ranges[t]);this._initialized=!0},u.prototype.hitTest=function(t,i){n.isNumber(t)&&n.isNumber(i)?t=new n.Point(t,i):t instanceof n.Point||(t=n.mouseToPage(t));t=n.asType(t,n.Point);var r=n.Rect.fromBoundingRect(this._dSvg.getBoundingClientRect());return t.x-=r.left+pageXOffset,t.y-=r.top+pageYOffset,this._getValueFromPoint(t)},u._getBBox=function(n){try{return n.getBBox()}catch(t){return{x:0,y:0,width:0,height:0}}},u.prototype._getFilterUrl=function(){return this.hasShadow?'url(#'+this._filterID+')':null},u.prototype._getRangeElement=function(n){var t,i;if(n==this._face)return this._pFace;if(n==this._pointer)return this._pPointer;for(t=0;t<this._rngElements.length;t++)if(i=this._rngElements[t],i.rng==n)return i.el;return null},u.prototype._rangeChanged=function(t,i){var r=this;if(t==this._pointer&&i.propertyName=='max'&&(this.onValueChanged(),this._updateText()),t==this._face){this.invalidate();return}if(t==this._pointer&&i.propertyName=='max'&&(this._animInterval&&clearInterval(this._animInterval),this.isAnimated&&!this.isUpdating&&this._initialized)){var u=this._getPointerColor(i.oldValue),f=this._getPointerColor(i.newValue),e=u?new n.Color(u):null,o=f?new n.Color(f):null;this._animInterval=n.animate(function(u){r._animColor=e&&o?n.Color.interpolate(e,o,u).toString():null;r._updateRange(t,i.oldValue+u*(i.newValue-i.oldValue));u>=1&&(r._animColor=null,r._animInterval=null,r._updateRange(t),r._updateText())});return}this._updateRange(t)},u.prototype._createElement=function(n,t,i){var r=document.createElementNS(u._SVGNS,n);return i&&r.setAttribute('class',i),t.appendChild(r),r},u.prototype._centerText=function(t,i,r){var f,e;if(t.getAttribute('display')!='none'){f=n.Globalize.format(i,this.format);n.isFunction(this.getText)&&(e=t==this._tValue?'value':t==this._tMin?'min':t==this._tMax?'max':null,n.assert(e!=null,'unknown element'),f=this.getText(this,e,i,f));t.textContent=f;var o=n.Rect.fromBoundingRect(u._getBBox(t)),s=r.x-o.width/2,h=r.y+o.height/4;t.setAttribute('x',this._fix(s));t.setAttribute('y',this._fix(h))}},u.prototype._copy=function(i,r){var f,u,e;if(i=='ranges'){for(f=n.asArray(r),u=0;u<f.length;u++)e=new t.Range,n.copy(e,f[u]),this.ranges.push(e);return!0}return i=='pointer'?(n.copy(this.pointer,r),!0):!1},u.prototype._showElement=function(n,t){this._setAttribute(n,'display',t?'':'none')},u.prototype._setAttribute=function(n,t,i){i?n.setAttribute(t,i):n.removeAttribute(t)},u.prototype._updateRange=function(n,t){var i,r;t===void 0&&(t=n.max);n==this._pointer&&(n.min=this.origin!=null?this.origin:this.min<0&&this.max>0?0:this.min);i=this._getRangeElement(n);i&&(this._updateRangeElement(i,n,t),r=n.color,n==this._pointer&&(r=this._animColor?this._animColor:this._getPointerColor(n.max)),this._setAttribute(i,'style',r?'fill:'+r:null))},u.prototype._getPointerColor=function(n){var t,r,i;if(!this._showRanges){for(r=0;r<this._ranges.length;r++)i=this._ranges[r],n>=i.min&&n<=i.max&&(t==null||t.max-t.min>i.max-i.min)&&(t=i);if(t)return t.color}return this._pointer.color},u.prototype._keydown=function(t){if(!this._readOnly&&this._step){var r=this._getKey(t.keyCode),i=!0;switch(r){case n.Key.Left:case n.Key.Down:this.value=n.clamp(this.value-this.step,this.min,this.max);break;case n.Key.Right:case n.Key.Up:this.value=n.clamp(this.value+this.step,this.min,this.max);break;case n.Key.Home:this.value=this.min;break;case n.Key.End:this.value=this.max;break;default:i=!1}i&&t.preventDefault()}},u.prototype._getKey=function(n){return n},u.prototype._applyMouseValue=function(t,i){var r,u;return!this.isReadOnly&&this.containsFocus()&&(r=this.hitTest(t),r!=null)?(u=this._animated,i&&(this._animated=!1),this._step!=null&&(r=Math.round(r/this._step)*this._step),this.value=n.clamp(r,this.min,this.max),this._animated=u,!0):!1},u.prototype._updateRangeElement=function(){n.assert(!1,'Gauge is an abstract class.')},u.prototype._updateText=function(){n.assert(!1,'Gauge is an abstract class.')},u.prototype._updateTicks=function(){n.assert(!1,'Gauge is an abstract class.')},u.prototype._getValueFromPoint=function(){return null},u.prototype._fix=function(t){return n.isNumber(t)?parseFloat(t.toFixed(4)).toString():this._fix(t.x)+' '+this._fix(t.y)},u._SVGNS='http://www.w3.org/2000/svg',u._ctr=0,u.controlTemplate='<div wj-part="dsvg" style="width:100%;height:100%"><svg wj-part="svg" width="100%" height="100%" style="overflow:visible"><defs><filter wj-part="filter"><feOffset dx="3" dy="3"><\/feOffset><feGaussianBlur result="offset-blur" stdDeviation="5"><\/feGaussianBlur><feComposite operator="out" in="SourceGraphic" in2="offset-blur" result="inverse"><\/feComposite><feFlood flood-color="black" flood-opacity="0.2" result="color"><\/feFlood><feComposite operator="in" in="color" in2="inverse" result="shadow"><\/feComposite><feComposite operator="over" in="shadow" in2="SourceGraphic"><\/feComposite><\/filter><\/defs><g wj-part="gface" class="wj-face" style="cursor:inherit"><path wj-part="pface"/><\/g><g wj-part="granges" style="cursor:inherit"/><g wj-part="gpointer" class="wj-pointer" style="cursor:inherit"><path wj-part="ppointer"/><\/g><g wj-part="gcover" style="cursor:inherit"><path wj-part="pticks" class="wj-ticks"/><circle wj-part="cvalue" class="wj-pointer wj-thumb"/><text wj-part="value" class="wj-value"/><text wj-part="min" class="wj-min"/><text wj-part="max" class="wj-max"/><\/g><\/svg><\/div>',u}(n.Control);t.Gauge=r})(t=n.gauge||(n.gauge={}))})(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';(function(n){n[n.Right=0]="Right";n[n.Left=1]="Left";n[n.Up=2]="Up";n[n.Down=3]="Down"})(t.GaugeDirection||(t.GaugeDirection={}));var i=t.GaugeDirection,r=function(r){function u(t,u){r.call(this,t,null);this._direction=i.Right;n.addClass(this.hostElement,'wj-lineargauge');this.initialize(u)}return __extends(u,r),Object.defineProperty(u.prototype,"direction",{get:function(){return this._direction},set:function(t){t!=this._direction&&(this._direction=n.asEnum(t,i),this.invalidate())},enumerable:!0,configurable:!0}),u.prototype._updateRangeElement=function(r,u,f){var e=this._getRangeRect(u,f),o,l,s,h;if(this._updateSegment(r,e),o=u==this._pointer&&(this.showText&t.ShowText.Value)!=0,l=o||u==this._pointer&&this.thumbSize>0,o||l){s=e.left+e.width/2;h=e.top+e.height/2;switch(this._getDirection()){case i.Right:s=e.right;break;case i.Left:s=e.left;break;case i.Up:h=e.top;break;case i.Down:h=e.bottom}}if(o&&this._centerText(this._tValue,f,new n.Point(s,h)),o||l){e=n.Rect.fromBoundingRect(t.Gauge._getBBox(this._tValue));var a=this._animColor?this._animColor:this._getPointerColor(u.max),v=this.thumbSize!=null?this.thumbSize/2:Math.max(e.width,e.height)*.8,c=this._cValue;this._setAttribute(c,'cx',this._fix(s));this._setAttribute(c,'cy',this._fix(h));this._setAttribute(c,'style',a?'fill:'+a:null);this._setAttribute(c,'r',this._fix(v))}},u.prototype._updateText=function(){var n=this._getRangeRect(this._face);switch(this._getDirection()){case i.Right:this._setText(this._tMin,this.min,n,'left');this._setText(this._tMax,this.max,n,'right');break;case i.Left:this._setText(this._tMin,this.min,n,'right');this._setText(this._tMax,this.max,n,'left');break;case i.Up:this._setText(this._tMin,this.min,n,'bottom');this._setText(this._tMax,this.max,n,'top');break;case i.Down:this._setText(this._tMin,this.min,n,'top');this._setText(this._tMax,this.max,n,'bottom')}},u.prototype._updateTicks=function(){var f='',n,t,r,u;if(this.showTicks&&this.step)for(n=this._getRangeRect(this._face),t=this.min+this.step;t<this.max;t+=this.step)switch(this._getDirection()){case i.Right:r=this._fix(n.left+n.width*this._getPercent(t));f+='M '+r+' '+this._fix(n.top)+' L '+r+' '+this._fix(n.bottom)+' ';break;case i.Left:r=this._fix(n.right-n.width*this._getPercent(t));f+='M '+r+' '+n.top.toFixed(2)+' L '+r+' '+n.bottom.toFixed(2)+' ';break;case i.Up:u=(n.bottom-n.height*this._getPercent(t)).toFixed(2);f+='M '+this._fix(n.left)+' '+u+' L '+this._fix(n.right)+' '+u+' ';break;case i.Down:u=(n.top+n.height*this._getPercent(t)).toFixed(2);f+='M '+n.left.toFixed(2)+' '+u+' L '+n.right.toFixed(2)+' '+u+' '}this._pTicks.setAttribute('d',f)},u.prototype._updateSegment=function(t,i){var r={p1:this._fix(new n.Point(i.left,i.top)),p2:this._fix(new n.Point(i.right,i.top)),p3:this._fix(new n.Point(i.right,i.bottom)),p4:this._fix(new n.Point(i.left,i.bottom))},u=n.format('M {p1} L {p2} L {p3} L {p4} Z',r);t.setAttribute('d',u)},u.prototype._setText=function(i,r,u,f){if(i.getAttribute('display')!='none'){i.textContent=n.Globalize.format(r,this.format);var o=n.Rect.fromBoundingRect(t.Gauge._getBBox(i)),e=new n.Point(u.left+u.width/2-o.width/2,u.top+u.height/2+o.height/2);switch(f){case'top':e.y=u.top-4;break;case'left':e.x=u.left-4-o.width;break;case'right':e.x=u.right+4;break;case'bottom':e.y=u.bottom+4+o.height}i.setAttribute('x',this._fix(e.x));i.setAttribute('y',this._fix(e.y))}},u.prototype._getRangeRect=function(r,u){var f,s;u===void 0&&(u=r.max);f=new n.Rect(0,0,this.hostElement.clientWidth,this.hostElement.clientHeight);s=this.thumbSize?Math.ceil(this.thumbSize/2):0;this.showText!=t.ShowText.None&&(s=Math.max(s,3*parseInt(getComputedStyle(this.hostElement).fontSize)));switch(this._getDirection()){case i.Right:case i.Left:f=f.inflate(-s,-f.height*(1-this.thickness*r.thickness)/2);break;case i.Up:case i.Down:f=f.inflate(-f.width*(1-this.thickness*r.thickness)/2,-s)}var h=r==this._face,e=h?0:this._getPercent(r.min),o=h?1:this._getPercent(u);switch(this._getDirection()){case i.Right:f.left+=f.width*e;f.width*=o-e;break;case i.Left:f.left=f.right-f.width*o;f.width=f.width*(o-e);break;case i.Down:f.top+=f.height*e;f.height*=o-e;break;case i.Up:f.top=f.bottom-f.height*o;f.height=f.height*(o-e)}return f},u.prototype._getValueFromPoint=function(n){var t=this._getRangeRect(this._face),r=0;switch(this._getDirection()){case i.Right:r=t.width>0?(n.x-t.left)/t.width:0;break;case i.Left:r=t.width>0?(t.right-n.x)/t.width:0;break;case i.Up:r=t.height>0?(t.bottom-n.y)/t.height:0;break;case i.Down:r=t.height>0?(n.y-t.top)/t.height:0}return this.min+r*(this.max-this.min)},u.prototype._getDirection=function(){var n=this._direction;if(this.rightToLeft)switch(n){case i.Left:n=i.Right;break;case i.Right:n=i.Left}return n},u.prototype._getKey=function(t){switch(this._getDirection()){case i.Left:switch(t){case n.Key.Left:t=n.Key.Right;break;case n.Key.Right:t=n.Key.Left}break;case i.Down:switch(t){case n.Key.Up:t=n.Key.Down;break;case n.Key.Down:t=n.Key.Up}}return t},u}(t.Gauge);t.LinearGauge=r})(t=n.gauge||(n.gauge={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var i=function(i){function r(r,u){i.call(this,r,null);this._startAngle=0;this._sweepAngle=180;this._autoScale=!0;n.addClass(this.hostElement,'wj-radialgauge');this._thickness=.4;this.showText=t.ShowText.All;this.initialize(u)}return __extends(r,i),Object.defineProperty(r.prototype,"startAngle",{get:function(){return this._startAngle},set:function(t){t!=this._startAngle&&(this._startAngle=n.clamp(n.asNumber(t,!1),-360,360),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"sweepAngle",{get:function(){return this._sweepAngle},set:function(t){t!=this._sweepAngle&&(this._sweepAngle=n.clamp(n.asNumber(t,!1),-360,360),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"autoScale",{get:function(){return this._autoScale},set:function(t){t!=this._autoScale&&(this._autoScale=n.asBoolean(t),this.invalidate())},enumerable:!0,configurable:!0}),r.prototype.refresh=function(r){var u,e,f;r===void 0&&(r=!0);this._setAttribute(this._svg,'viewBox',null);this._rcSvg=n.Rect.fromBoundingRect(this._dSvg.getBoundingClientRect());i.prototype.refresh.call(this,r);this._ctmInv=null;this._ptSvg=null;this._autoScale&&(this._setAttribute(this._svg,'viewBox',''),u=n.Rect.fromBoundingRect(t.Gauge._getBBox(this._pFace)),(this.showText&t.ShowText.Value)!=0&&(u=n.Rect.union(u,n.Rect.fromBoundingRect(t.Gauge._getBBox(this._tValue)))),(this.showText&t.ShowText.MinMax)!=0&&(u=n.Rect.union(u,n.Rect.fromBoundingRect(t.Gauge._getBBox(this._tMin))),u=n.Rect.union(u,n.Rect.fromBoundingRect(t.Gauge._getBBox(this._tMax)))),e=[this._fix(u.left),this._fix(u.top),this._fix(u.width),this._fix(u.height)].join(' '),this._setAttribute(this._svg,'viewBox',e),f=this._pFace.getCTM(),this._ctmInv=f?f.inverse():null,this._ptSvg=this._svg.createSVGPoint())},r.prototype._updateRangeElement=function(t,i,r){if(this._rcSvg){var u=this._rcSvg,s=new n.Point(u.width/2,u.height/2),h=Math.min(u.width,u.height)/2,c=h*this.thickness,l=c*i.thickness,e=h-(c-l)/2,a=e-l,v=this.startAngle+180,o=this.sweepAngle,y=i==this._face,p=y?0:this._getPercent(i.min),k=y?1:this._getPercent(r),d=v+o*p,g=o*(k-p);if(this._updateSegment(t,s,e,a,d,g),i==this._pointer&&this.thumbSize>0){var w=this._animColor?this._animColor:this._getPointerColor(i.max),b=this._getPoint(s,v+o*this._getPercent(r),(e+a)/2),f=this._cValue;this._setAttribute(f,'cx',this._fix(b.x));this._setAttribute(f,'cy',this._fix(b.y));this._setAttribute(f,'style',w?'fill:'+w:null);this._setAttribute(f,'r',this._fix(this.thumbSize/2))}}},r.prototype._updateText=function(){var f,e;if(this._rcSvg){var i=this._rcSvg,r=new n.Point(i.width/2,i.height/2),u=Math.min(i.width,i.height)/2,o=Math.max(0,u*(1-this.thickness)),s=this.startAngle+180,h=this.sweepAngle;this._showElement(this._cValue,this.thumbSize>0);f=(this.showText&t.ShowText.MinMax)!=0&&Math.abs(h)<=300;this._showElement(this._tMin,f);this._showElement(this._tMax,f);this._centerText(this._tValue,this.value,r);e=10*(this.sweepAngle<0?-1:1);this._centerText(this._tMin,this.min,this._getPoint(r,s-e,(u+o)/2));this._centerText(this._tMax,this.max,this._getPoint(r,s+h+e,(u+o)/2))}},r.prototype._updateTicks=function(){var r='',i;if(this.showTicks&&this.step){var t=this._rcSvg,u=new n.Point(t.width/2,t.height/2),f=Math.min(t.width,t.height)/2,e=f*this.thickness,o=e*this._face.thickness,s=f-(e-o)/2,c=s-o;for(i=this.min+this.step;i<this.max;i+=this.step){var h=this.startAngle+180+this.sweepAngle*this._getPercent(i),l=this._fix(this._getPoint(u,h,c)),a=this._fix(this._getPoint(u,h,s));r+='M '+l+' L '+a+' '}}this._pTicks.setAttribute('d',r)},r.prototype._updateSegment=function(t,i,r,u,f,e){e=Math.min(Math.max(e,-359.99),359.99);var o=this._getPoint(i,f,u),s=this._getPoint(i,f,r),h=this._getPoint(i,f+e,r),c=this._getPoint(i,f+e,u),l={large:Math.abs(e)>180?1:0,cw:e>0?1:0,ccw:e>0?0:1,or:this._fix(r),ir:this._fix(u),p1:this._fix(o),p2:this._fix(s),p3:this._fix(h),p4:this._fix(c)},a=n.format("M {p1} L {p2} A {or} {or} 0 {large} {cw} {p3} L {p4} A {ir} {ir} 0 {large} {ccw} {p1} Z",l);t.setAttribute('d',a)},r.prototype._getPoint=function(t,i,r){return i=i*Math.PI/180,new n.Point(t.x+r*Math.cos(i),t.y+r*Math.sin(i))},r.prototype._getValueFromPoint=function(t){var a;if(this.autoScale&&this._ctmInv&&(this._ptSvg.x=t.x,this._ptSvg.y=t.y,this._ptSvg=this._ptSvg.matrixTransform(this._ctmInv),t.x=this._ptSvg.x,t.y=this._ptSvg.y),!this._rcSvg)return null;var u=this._rcSvg,h=new n.Point(u.width/2,u.height/2),e=Math.min(u.width,u.height)/2,c=e*(1-this.thickness),o=t.x-h.x,s=t.y-h.y,l=s*s+o*o;if(l>e*e+16||l<c*c-16)return null;var i=(Math.PI-Math.atan2(-s,o))*180/Math.PI,r=this.startAngle,f=this.sweepAngle;if(f>0){while(i<r)i+=360;while(i>r+f)i-=360}else{while(i<r+f)i+=360;while(i>r)i-=360}return a=Math.abs(i-r)/Math.abs(f),this.min+a*(this.max-this.min)},r}(t.Gauge);t.RadialGauge=i})(t=n.gauge||(n.gauge={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var i=function(i){function r(r,u){i.call(this,r,null);n.addClass(this.hostElement,'wj-bulletgraph');this._pointer.thickness=.35;this._rngTarget=new t.Range('target');this._rngTarget.thickness=.8;this._rngTarget.color='black';this._rngGood=new t.Range('good');this._rngGood.color='rgba(0,0,0,.15)';this._rngBad=new t.Range('bad');this._rngBad.color='rgba(0,0,0,.3)';this.ranges.push(this._rngBad);this.ranges.push(this._rngGood);this.ranges.push(this._rngTarget);this.initialize(u)}return __extends(r,i),Object.defineProperty(r.prototype,"target",{get:function(){return this._rngTarget.max},set:function(n){this._rngTarget.max=n},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"good",{get:function(){return this._rngGood.max},set:function(n){this._rngGood.max=n},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"bad",{get:function(){return this._rngBad.max},set:function(n){this._rngBad.max=n},enumerable:!0,configurable:!0}),r.prototype._getRangeRect=function(n,r){r===void 0&&(r=n.max);var u=i.prototype._getRangeRect.call(this,n,r);if(n==this._rngTarget)switch(this.direction){case t.GaugeDirection.Right:u.left=u.right-1;u.width=3;break;case t.GaugeDirection.Left:u.width=3;break;case t.GaugeDirection.Up:u.height=3;break;case t.GaugeDirection.Down:u.top=u.bottom-1;u.height=3}return u},r}(t.LinearGauge);t.BulletGraph=i})(t=n.gauge||(n.gauge={}))}(wijmo||(wijmo={})),function(n){var t;(function(t){'use strict';var i=function(){function t(t){this._min=0;this._max=100;this._thickness=1;this.propertyChanged=new n.Event;this._name=t}return Object.defineProperty(t.prototype,"min",{get:function(){return this._min},set:function(t){this._setProp('_min',n.asNumber(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this._max},set:function(t){this._setProp('_max',n.asNumber(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return this._color},set:function(t){this._setProp('_color',n.asString(t))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"thickness",{get:function(){return this._thickness},set:function(t){this._setProp('_thickness',n.clamp(n.asNumber(t),0,1))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},set:function(t){this._setProp('_name',n.asString(t))},enumerable:!0,configurable:!0}),t.prototype.onPropertyChanged=function(n){this.propertyChanged.raise(this,n)},t.prototype._setProp=function(t,i){var r=this[t],u;if(i!=r){this[t]=i;u=new n.PropertyChangedEventArgs(t.substr(1),r,i);this.onPropertyChanged(u)}},t._ctr=0,t}();t.Range=i})(t=n.gauge||(n.gauge={}))}(wijmo||(wijmo={}))
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},c1;(function(n){var t;(function(n){var r=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t}(wijmo.gauge.BulletGraph),t,i;n.BulletGraph=r;t=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t}(wijmo.gauge.LinearGauge);n.LinearGauge=t;i=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t}(wijmo.gauge.RadialGauge);n.RadialGauge=i})(t=n.gauge||(n.gauge={}))})(c1||(c1={}));
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},c1;(function(n){var t;(function(t){var i;(function(i){var s=function(t){function i(){t.apply(this,arguments);this._rangesProps=[]}return __extends(i,t),i.prototype._beforeInitializeControl=function(t){var f=this,r,s,i="propertyChanged",e=t.pointer,o=t.face,u=t.ranges;for(e&&(n._addEvent(f.control.pointer[i],e[i]),delete e[i]),o&&(n._addEvent(f.control.face[i],o[i]),delete o[i]),s=u?u.length:0,r=0;r<s;r++)u&&(f._rangesProps.push(u[r][i]),delete u[r][i])},i.prototype._afterInitializeControl=function(){for(var i=this,r=i._rangesProps,u=r.length,t=0;t<u;t++)n._addEvent(i.control.ranges[t]["propertyChanged"],r[t])},i}(n.mvc._Initializer),r,u,f,h,e,c,o;i._Initializer=s;r=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),Object.defineProperty(t.prototype,"_initializerType",{get:function(){return s},enumerable:!0,configurable:!0}),t}(t._ControlWrapper);i._GaugeWrapper=r;u=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),Object.defineProperty(t.prototype,"_controlType",{get:function(){return f},enumerable:!0,configurable:!0}),t}(r);i._LinearGaugeWrapper=u;f=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t}(n.gauge.LinearGauge);i.LinearGauge=f;h=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),Object.defineProperty(t.prototype,"_controlType",{get:function(){return e},enumerable:!0,configurable:!0}),t}(u);i._BulletGraphWrapper=h;e=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t}(n.gauge.BulletGraph);i.BulletGraph=e;c=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),Object.defineProperty(t.prototype,"_controlType",{get:function(){return o},enumerable:!0,configurable:!0}),t}(r);i._RadialGaugeWrapper=c;o=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t}(n.gauge.RadialGauge);i.RadialGauge=o})(i=t.gauge||(t.gauge={}))})(t=n.mvc||(n.mvc={}))})(c1||(c1={}));
/*
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    */
var wijmo;(function(n){n.culture={Globalize:{name:'en',displayName:'English',numberFormat:{'.':'.',',':',',percent:{pattern:['-n %','n %']},currency:{decimals:2,symbol:'$',pattern:['($n)','$n']}},calendar:{'/':'/',':':':',firstDay:0,days:['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],daysAbbr:['Sun','Mon','Tue','Wed','Thu','Fri','Sat'],months:['January','February','March','April','May','June','July','August','September','October','November','December'],monthsAbbr:['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'],am:['AM','A'],pm:['PM','P'],eras:['A.D.'],patterns:{d:'M/d/yyyy',D:'dddd, MMMM d, yyyy',f:'dddd, MMMM d, yyyy h:mm tt',F:'dddd, MMMM d, yyyy h:mm:ss tt',t:'h:mm tt',T:'h:mm:ss tt',m:'MMMM d',M:'MMMM d',y:'MMMM yyyy',Y:'MMMM yyyy',g:'M/d/yyyy h:mm tt',G:'M/d/yyyy h:mm:ss tt',s:'yyyy"-"MM"-"dd"T"HH":"mm":"ss'},fiscalYearOffsets:[-3,-3]}},MultiSelect:{itemsSelected:'{count:n0} items selected'},FlexGrid:{groupHeaderFormat:'{name}: <b>{value}</b> ({count:n0} items)'},FlexGridFilter:{ascending:'\u2191 Ascending',descending:'\u2193 Descending',apply:'Apply',clear:'Clear',conditions:'Filter by Condition',values:'Filter by Value',search:'Search',selectAll:'Select All',null:'(nothing)',header:'Show items where the value',and:'And',or:'Or',stringOperators:[{name:'(not set)',op:null},{name:'Equals',op:0},{name:'Does not equal',op:1},{name:'Begins with',op:6},{name:'Ends with',op:7},{name:'Contains',op:8},{name:'Does not contain',op:9}],numberOperators:[{name:'(not set)',op:null},{name:'Equals',op:0},{name:'Does not equal',op:1},{name:'Is greater than',op:2},{name:'Is greater than or equal to',op:3},{name:'Is less than',op:4},{name:'Is less than or equal to',op:5}],dateOperators:[{name:'(not set)',op:null},{name:'Equals',op:0},{name:'Is Before',op:4},{name:'Is After',op:3}],booleanOperators:[{name:'(not set)',op:null},{name:'Equals',op:0},{name:'Does not equal',op:1}]},olap:{PivotFieldEditor:{dialogHeader:'Field settings:',header:'Header:',summary:'Summary:',showAs:'Show As:',weighBy:'Weigh by:',sort:'Sort:',filter:'Filter:',format:'Format:',sample:'Sample:',edit:'Edit…',clear:'Clear',ok:'OK',cancel:'Cancel',none:'(none)',sorts:{asc:'Ascending',desc:'Descending'},aggs:{sum:'Sum',cnt:'Count',avg:'Average',max:'Max',min:'Min',rng:'Range',std:'StdDev',var:'Var',stdp:'StdDevPop',varp:'VarPop'},calcs:{noCalc:'No Calculation',dRow:'Difference from previous row',dRowPct:'% Difference from previous row',dCol:'Difference from previous column',dColPct:'% Difference from previous column',dPctGrand:'% of grand total',dPctRow:'% of row total',dPctCol:'% of column total',dRunTot:'Running total',dRunTotPct:'% running total'},formats:{n0:'Integer (n0)',n2:'Float (n2)',c:'Currency (c)',p0:'Percentage (p0)',p2:'Percentage (p2)',n2c:'Thousands (n2,)',n2cc:'Millions (n2,,)',n2ccc:'Billions (n2,,,)',d:'Date (d)',MMMMddyyyy:'Month Day Year (MMMM dd, yyyy)',dMyy:'Day Month Year (d/M/yy)',ddMyy:'Day Month Year (dd/M/yy)',dMyyyy:'Day Month Year (dd/M/yyyy)',MMMyyyy:'Month Year (MMM yyyy)',MMMMyyyy:'Month Year (MMMM yyyy)',yyyyQq:'Year Quarter (yyyy "Q"q)',FYEEEEQU:'Fiscal Year Quarter ("FY"EEEE "Q"U)'}},PivotEngine:{grandTotal:'Grand Total',subTotal:'Subtotal'},PivotPanel:{fields:'Choose fields to add to report:',drag:'Drag fields between areas below:',filters:'Filters',cols:'Columns',rows:'Rows',vals:'Values',defer:'Defer Updates',update:'Update'},_ListContextMenu:{up:'Move Up',down:'Move Down',first:'Move to Beginning',last:'Move to End',filter:'Move to Report Filter',rows:'Move to Row Labels',cols:'Move to Column Labels',vals:'Move to Values',remove:'Remove Field',edit:'Field Settings…',detail:'Show Detail…'},PivotChart:{by:'by',and:'and'},DetailDialog:{header:'Detail View:',ok:'OK',items:'{cnt:n0} items',item:'{cnt} item',row:'Row',col:'Column'}},Viewer:{cancel:'Cancel',ok:'OK',bottom:'Bottom:',top:'Top:',right:'Right:',left:'Left:',margins:'Margins (inches)',orientation:'Orientation:',paperKind:'Paper Kind:',pageSetup:'Page Setup',landscape:'Landscape',portrait:'Portrait',pageNumber:'Page Number',zoomFactor:'Zoom Factor',paginated:'Print Layout',print:'Print',search:'Search',matchCase:'Match case',wholeWord:'Match whole word only',searchResults:'Search Results',previousPage:'Previous Page',nextPage:'Next Page',firstPage:'First Page',lastPage:'Last Page',backwardHistory:'Backward',forwardHistory:'Forward',pageCount:'Page Count',selectTool:'Select Tool',moveTool:'Move Tool',continuousMode:'Continuous Page View',singleMode:'Single Page View',wholePage:'Fit Whole Page',pageWidth:'Fit Page Width',zoomOut:'Zoom Out',zoomIn:'Zoom In',exports:'Export',fullScreen:'Full Screen',exitFullScreen:'Exit Full Screen',thumbnails:'Page Thumbnails',outlines:'Document Map',loading:'Loading…',pdfExportName:'Adobe PDF',docxExportName:'Open XML Word',xlsxExportName:'Open XML Excel',docExportName:'Microsoft Word',xlsExportName:'Microsoft Excel',mhtmlExportName:'Web archive (MHTML)',htmlExportName:'HTML document',rtfExportName:'RTF document',metafileExportName:'Compressed metafiles',csvExportName:'CSV',tiffExportName:'Tiff images',bmpExportName:'BMP images',emfExportName:'Enhanced metafile',gifExportName:'GIF images',jpgExportName:'JPEG images',jpegExportName:'JPEG images',pngExportName:'PNG images',abstractMethodException:'It is an abstract method, please implement it.',cannotRenderPageNoViewPage:'Cannot render page without document source and view page.',cannotRenderPageNoDoc:'Cannot render page without document source and view page.',exportOptionTitle:'Export options',documentRestrictionsGroup:'Document restrictions',passwordSecurityGroup:'Password security',outputRangeGroup:'Output range',documentInfoGroup:'Document info',generalGroup:'General',docInfoTitle:'Title',docInfoAuthor:'Author',docInfoManager:'Manager',docInfoOperator:'Operator',docInfoCompany:'Company',docInfoSubject:'Subject',docInfoComment:'Comment',docInfoCreator:'Creator',docInfoProducer:'Producer',docInfoCreationTime:'Creation time',docInfoRevisionTime:'Revision time',docInfoKeywords:'Keywords',embedFonts:'Embed TrueType fonts',pdfACompatible:'PDF/A compatible (level 2B)',useCompression:'Use compression',useOutlines:'Generate outlines',allowCopyContent:'Allow content copying or extraction',allowEditAnnotations:'Allow annotations editing',allowEditContent:'Allow content editing',allowPrint:'Allow printing',ownerPassword:'Permissions (owner) password:',userPassword:'Document open (user) password:',encryptionType:'Encryption level:',paged:'Paged',showNavigator:'Show Navigator',singleFile:'Single File',tolerance:'Tolerance when detecting text bounds (points):',pictureLayer:'Use separate picture layer',metafileType:'Metafile Type:',monochrome:'Monochrome',resolution:'Resolution:',outputRange:'Page range:',outputRangeInverted:'Inverted',parameters:'Parameters',requiringParameters:'Please input parameters.',nullParameterError:'Value cannot be null.',invalidParameterError:'Invalid input.',parameterNoneItemsSelected:'(none)',parameterAllItemsSelected:'(all)',parameterSelectAllItemText:'(Select All)',selectParameterValue:'(select value)',apply:'Apply',errorOccured:'An error has occured.'}}})(wijmo||(wijmo={}))
